(function(){function dk(){this.wN={};this.br={}}dk.rT=[];dk.kd=function(p){var a=dk.rT;if(a.length!=0){var R=new $(V.E.Jz);
for(var Q=0;Q<a.length;Q++)a[Q].Y(R)}window.requestAnimationFrame(dk.kd)};window.requestAnimationFrame(dk.kd);
dk.prototype.kI=function(p){var a=this.wN[p];if(a==null)return!1;return a.length>0};dk.prototype.addEventListener=function(p,a){this.h(p,a,null)};
dk.prototype.h=function(p,a,R){if(this.wN[p]==null){this.wN[p]=[];this.br[p]=[]}this.wN[p].push(a);this.br[p].push(R);
if(p==V.E.Jz){var Q=dk.rT;if(Q.indexOf(this)==-1)Q.push(this)}};dk.prototype.removeEventListener=function(p,a){var R=this.wN[p];
if(R==null)return;var Q=R.indexOf(a);if(Q<0)return;var t=this.br[p];R.splice(Q,1);t.splice(Q,1);if(p==V.E.Jz&&R.length==0){var N=dk.rT;
N.splice(N.indexOf(this),1)}};dk.prototype.Y=function(p){p.currentTarget=this;if(p.target==null)p.target=this;
var a=this.wN[p.type];if(a==null)return;var R=this.br[p.type];for(var Q=0;Q<a.length;Q++){if(R[Q]==null)a[Q](p);
else a[Q].call(R[Q],p)}};function gn(){dk.call(this);this.nZ={};this.QM={};this.S$C=0;this.S$E={};this.SMu=0;
gn.LI=this}gn.prototype=new dk;gn.SOn=function(p,a){var R=0,Q=gn.jP;while(R<Q.length){if((a>>>R&1)==1)break;
R++}if(a==0||Q[R][1]==""){if((a&15)!=0&&gn.kf(p,[33,126])>.7)R=0;else if(a==0)R=0;else{R=0}}return Q[R][1]};
gn.ra=120;gn.jG=20;gn.cols=16;gn.qD=function(p){var a=p.name.postScriptName;if(a==null)return null;return a.replace(/ /g,"-")};
gn.ke=function(p){var a=p.name,R=a.typoFamilyName?a.typoFamilyName:a.fontFamily,Q=a.typoSubfamilyName?a.typoSubfamilyName:a.fontSubfamily,t=gn.SdW,N=R.toLowerCase();
for(var K=0;K<t.length;K++){if(t[K]=="roman")continue;if(N.endsWith(" "+t[K])||N.endsWith("-"+t[K])){var T=R.length-t[K].length,d=R.slice(T);
R=R.slice(0,T-1);if(d!=""){if(Q=="Regular"||Q==R+" Regular")Q=d;else Q=d+" "+Q}break}}var y="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var K=0;K<y.length;K++)if(R.startsWith(y[K])){var d=R.slice(y[K].length);R=y[K];if(d.startsWith(" ")||d.startsWith("-"))d=d.slice(1);
if(d!=""){if(Q=="Regular")Q=d;else Q=d+" "+Q}break}var E={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},k=E[gn.qD(p)];
if(k)Q=k;return[R,Q]};gn.prototype.oW=function(p,a){if(this.nZ[p])return this.nZ[p];if(this.QM[p])return null;
var R=null,Q=this.vF();if(Q[p]!=null)R=Q[p][5];if(R==null){var t=gn.SZZ[p];if(t==null){var N="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),K=p.toLowerCase(),T=0;
if(K.indexOf("sans")!=-1)T=0;else if(K.indexOf("serif")!=-1)T=4;var d=K.indexOf("bold")!=-1||K.indexOf("-black")!=-1,y=K.indexOf("italic")!=-1||K.indexOf("oblique")!=-1||K.endsWith("-it");
if(d&&y)T+=3;else if(y)T+=2;else if(d)T+=1;t=N[T]}if(a!=null&&a>128)t=this.kH(a,t);if(this.S$E[p]==null){this.S$E[p]=1;
var E=Date.now()-this.S$C>2e3?2e3:0;this.S$C=Date.now();alert(p+" \u27A1 "+t,E)}return this.oW(t,a)}this.QM[p]="a";
var k=new $(V.E.v,!0);k.data={K:V.H.Pa,L_:{url:"rsrc/fonts/"+R}};this.Y(k)};gn.prototype.kH=function(p,a,R){var Q=this.nZ[a];
if(Q&&Typr.U.codeToGlyph(Q,p)!=0)return a;var t=this.vF(),N=gn.Svt(p),K=N[0];if(t[a]&&(t[a][3]&K)==0){if(R)for(var T=0;
T<R.length;T++){var d=R[T].Name,y=t[d];if(y&&(y[3]&K)!=0)return d}var d=gn.jP[N[1]][4];if(t[d])return d}return a};
gn.Svt=function(p){var a=gn.jP,R=[0];for(var Q=0;Q<a.length;Q++){var t=a[Q][2];for(var N=0;N<t.length;
N+=2)if(t[N]<=p&&p<=t[N+1]){R[0]+=1<<Q;R.push(Q)}}if(R.length==1)R.push(0);return R};gn.prototype.SvE=function(p,a){if(a!=!0){var R=Date.now()-this.SMu>2e3?2e3:0;
this.SMu=Date.now();alert(gL.get([22,6,0])+" "+p.name.fullName+" "+gL.get([23,0])+".",R)}var Q=gn.qD(p),t=this.vF(),N=t[Q],K=gn.Svb(p);
if(N==null){var T=document.createElement("canvas"),d=T.getContext("2d");T.width=gn.ra;T.height=gn.jG;
var y=gn.jG*1.2/p.head.unitsPerEm;d.translate(4,gn.jG*.9);d.scale(y,-y);d.fillStyle="#000000";var E=Typr.U.shape(p,gn.SOn(p,K[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(p,E),d);d.fill();K.SXR=T.toDataURL();this.kL(K)}delete this.QM[Q];
this.nZ[Q]=p};gn.SlV=function(){var p=gn.jP,a=[];for(var R=0;R<p.length;R++)a.push(p[R][0]);return a};
gn.jP=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
gn.Svb=function(p,a,R){var Q=p.name,y=0;if(gn.qD(p)==null){console.log(p);throw"No postScriptName!"}var t=gn.jP,N=[];
for(var K=0;K<t.length;K++){var T=t[K][2],d=t[K][3];N[K]=gn.kf(p,T)>d?1:0}for(var K=0;K<N.length;K++)y+=N[K]<<K;
var E=gn.ke(p);return[E[0],E[1],gn.qD(p),y,R,a]};gn.kf=function(p,a){var R=0,Q=0;for(var t=0;t<a.length;
t+=2){for(var N=a[t];N<=a[t+1];N++){var K=Typr.U.codeToGlyph(p,N);if(K==0)Q++;else R++}}return R/(R+Q)};
gn.Sl_=function(p,a){if(p[2]<a[2])return-1;if(p[2]>a[2])return 1;return 0};gn.Slc=function(p,a){if(p[5]=="fs/"+p[2]+".otf")p[5]="";
else if(p[5]=="gf/"+p[2]+".otf")p[5]="a";if(p[2]==(p[0]+"-"+p[1]).replace(/\s/g,"")){p[2]=""}else if(p[2]==p[0].replace(/\s/g,"")){p[2]="a"}if(a){if(p[0]==a[0])p[0]="";
if(p[1]==a[1])p[1]="";if(p[3]==a[3])p[3]="";if(p[4]==a[4])p[4]=""}return p.join(",")};gn.SJP=function(p,a){p=p.split(",");
if(p[0]=="")p[0]=a[0];if(p[1]=="")p[1]=a[1];if(p[3]=="")p[3]=a[3];else p[3]=parseInt(p[3]);if(p[4]=="")p[4]=a[4];
else p[4]=parseInt(p[4]);if(p[2]=="")p[2]=(p[0]+"-"+p[1]).replace(/\s/g,"");else if(p[2]=="a")p[2]=p[0].replace(/\s/g,"");
if(p[5]=="")p[5]="fs/"+p[2]+".otf";else if(p[5]=="a")p[5]="gf/"+p[2]+".otf";return p};gn.SZZ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
gn.prototype.vF=function(){if(FNTS.map==null){var p=FNTS.list,a=[];for(var R=0;R<p.length;R++){a[R]=gn.SJP(p[R],a[R-1]);
a[R].Yo=R;this.kL(a[R])}}return FNTS.map};gn.prototype.kL=function(p){var a=p[0],R=p[1],Q=p[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[p[2]]=p;if(FNTS.mapFS==null)FNTS.mapFS={};var t=FNTS.mapFS[a+"---"+R];FNTS.mapFS[a+"---"+R]=p;
if(FNTS.mapSub==null)FNTS.mapSub={};var N=FNTS.mapSub[a];if(N==null)N=FNTS.mapSub[a]=[];var K=N.indexOf(R);
if(K==-1)N.push(R);else N[K]=R};gn.SZI=function(p,a){return gn.oT(p)-gn.oT(a)};gn.oT=function(p){p=p.toLowerCase();
var a=gn.SZj(p)+(gn.SKN(p)<<1);if(p.indexOf("cond")==-1)a+=1<<25;return a};gn.SZj=function(p){return p.indexOf("italic")!=-1||p.indexOf("oblique")!=-1?1:0};
gn.SdW="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
gn.Sda=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
gn.SKN=function(p){var a=gn.Sda,R=-1,Q=-1;for(var t=0;t<a.length;t++){var N=a[t];if(N instanceof Array)for(var K=0;
K<N.length;K++){var T=N[K];if(p.indexOf(T)!=-1&&(R==-1||Q<T.length)){R=t;Q=T.length}}else if(p.indexOf(N)!=-1&&(R==-1||Q<N.length)){R=t;
Q=N.length}}if(R==-1)R=8;return R};gn.kB=function(p,a){var R=1e9,Q=null,t=gn.oT(a);for(var N=0;N<p.length;
N++){var K=Math.abs(gn.oT(p[N])-t);if(K<R){R=K;Q=p[N]}}return Q};gn.prototype.rQ=function(p,a){this.vF();
return FNTS.mapFS[p+"---"+a]};gn.prototype.kq=function(p){this.vF();return FNTS.mapSub[p]};gn.prototype.SKR=function(){this.vF();
return FNTS.mapSub};var gU={$P:0,qu:null,SC:null,kM:null,kh:null,rD:null,kx:!0,ko:0,rE:!1},KI=0;gU.XB=function(){return gU.wR()!=null&&gU.wR()[V.uJ("!&|'&50")]*200>Date.now()/5};
gU.aG=function(){return gU.SKi()!=null};gU.wR=function(){return gU.rD};gU.rM=function(p){window.addEventListener("message",gU.SKh,!1);
setInterval(gU.kW,5e3);if(gU.aG()){gU.qu=p;gU.oE()}else setTimeout(p,1)};gU.kW=function(){if(gU.aG()&&gU.rE){gU.kT(gU.lN());
gU.rE=!1}};gU.ru=function(p){gU.qu=p;var a="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
gU.kM=window.open(a,"_blank")};gU.SK$=function(){localStorage.removeItem(gU.$P+"_uid");localStorage.removeItem(gU.$P+"_provider");
localStorage.removeItem(gU.$P+"_token");gU.rD=null};gU.SKh=function(p){if(p.data instanceof ArrayBuffer||p.data instanceof Object)return;
if(p.data.charAt(0)!="{")return;var a=JSON.parse(p.data);if(a.prms==null)return;var R=a.prms.split(",");
if(R[0]=="papi_logged_in"){localStorage[gU.$P+"_uid"]=R[1];gU.oa(R[2]);localStorage[gU.$P+"_provider"]=R[3];
gU.kM.close();gU.oE()}if(R[0]=="payment_complete"){gU.kh.close();gU.oE()}};gU.SKi=function(){var p=localStorage[gU.$P+"_token"];
if(p!=null&&Date.now()*.001+10<parseInt(p.split("-")[0]))return p;return null};gU.oa=function(p){var a=localStorage[gU.$P+"_token"];
if(a!=null&&parseInt(p.split("-")[0])<parseInt(a.split("-")[0]))return;localStorage[gU.$P+"_token"]=p;
clearTimeout(gU.ko);gU.ko=setTimeout(gU.SKj,Math.min(1e9,parseInt(p.split("-")[0])*1e3-Date.now()-20*1e3))};
gU.SKj=function(){var p=new XMLHttpRequest;p.open("POST","https://www.photopea.com/papi/record_new.php",!0);
p.onload=gU.SCC;var a=gU.rk()+"&read=2";p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.send(a)};gU.oE=function(){var p=new XMLHttpRequest;p.open("POST","https://www.photopea.com/papi/record_new.php",!0);
p.onload=gU.SCK;var a=gU.rk()+"&read=1";p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.send(a)};gU.kT=function(p){var a=new XMLHttpRequest;a.open("POST","https://www.photopea.com/papi/record_new.php",!0);
a.onload=gU.Sge;var R=gU.rk()+"&read=0&score=0&spublic="+gU.kx+"&record="+encodeURIComponent(JSON.stringify(p));
a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(R)};gU.SCK=function(p){var a=JSON.parse(p.target.response);
if(a.error){}else{gU.rD=a.user;var R=gU.lN(),Q=a.record;if(a.record){gU.kx=a.spublic;gU.ka(Q)}else if(R)gU.kT(R)}gU.oa(a.token);
if(gU.qu){gU.qu();gU.qu=null}if(gU.SC){gU.SC();gU.SC=null}};gU.SCC=function(p){var a=JSON.parse(p.target.response);
gU.oa(a.token)};gU.Sge=function(p){var a=JSON.parse(p.target.response);gU.oa(a.token);if(gU.SC)gU.oE()};
gU.rk=function(){return"app="+gU.$P+"&uid="+localStorage[gU.$P+"_uid"]+"&token="+localStorage[gU.$P+"_token"]};
gU.$s=function(){return gU.lN()};gU.lS=function(p,a){gU.ka(p);gU.rE=!0;if(a){gU.SC=a;gU.kW()}};gU.lN=function(){var p=localStorage[gU.$P+"_stateLocal"],a;
if(p==null)return null;try{a=JSON.parse(p)}catch(dW){return null}return a};gU.ka=function(p){var a=JSON.stringify(p);
localStorage[gU.$P+"_stateLocal"]=a};gU.order=function(p,a,R){gU.qu=R;var Q="https://www.photopea.com/papi/order.php?ptype="+a+"&param="+p+"&uid="+localStorage[gU.$P+"_uid"]+"&token="+localStorage[gU.$P+"_token"];
gU.kh=window.open(Q,"_blank")};var gL={};gL.om=0;gL.lI={};gL.kQ=function(p){var a=LNG.tables,R=a[p];
if(typeof R=="string"){R=a[p]=gL.EO(R)}return R};gL.EO=function(p){var a=[],R=0,Q=0,t=[],N=p.length;
while(Q!=N){var K=p[Q];if(K=="["){a.push(t);t=[];Q=R=Q+1}else if(K=="]"){t.push(R==Q?null:p.substring(R,Q));
var T=t;t=a.pop();t.push(T);Q=R=Q+1}else if(K==";"){if(p[Q-1]!="]")t.push(R==Q?null:p.substring(R,Q));
Q=R=Q+1}else Q++}return t};gL.get=function(p){if(typeof p=="string")return p;var a=JSON.stringify(p),N=0;
if(gL.lI[a]!=null)return gL.lI[a];var R=gL.kQ(0),Q=gL.kQ(gL.om),t=gL.kA(p,Q);if(t==null)t=gL.kA(p,R);
for(var K=0;K<p.length;K++){var T=p[K];if(typeof T!="number"){var d=gL.get(T),y=t.indexOf("VAR"+N);t=t.slice(0,y)+d+t.slice(y+4);
N++}}return t};gL.kA=function(p,a){for(var R=0;R<p.length;R++){a=a[p[R]];if(a==null)return null;else if(typeof a=="string")break}return a.split("::")[0]};
gL.Sg$=function(){var p=function(R,Q){var t=R.code,N=Q.code;if(t=="en")return-1;if(N=="en")return 1;
var K=navigator.languages,T=K.indexOf(t)!=-1,d=K.indexOf(N)!=-1;if(T&&d)return t>N?1:-1;if(T)return-1;
if(d)return 1;return t>N?1:-1},a=LNG.langs.slice(0);a.sort(p);return a};gL.SgT=function(p){gL.om=p};
gL.lH=function(p){for(var a=0;a<LNG.langs.length;a++)if(LNG.langs[a].code==p)gL.om=a};gL.kE=function(){return LNG.langs[gL.om].code};
gL.SgD=function(p){for(var a=0;a<p.length;a+=2)gL.lI[JSON.stringify(p[a])]=p[a+1]};gL.k_=function(p){var a=-1,R=LNG.langs;
for(var Q=0;Q<R.length;Q++)if(R[Q].code==p)a=Q;return a};var Nn={ww:!1};Nn.oP=function(){return V.LY[V.mb("vrt",2)]!=V.LY[V.mb("xksn",5)]};
Nn.lL=function(){var p=V.uJ,a=V.LY[p("u#z/*%1:")],R=a[p("s#{3")],Q=p("t&|{1%h2.94@I"),t=p("xy+_)%0+7@qK~<"),N=p("r$'\x7F+$f.283"),K=p("#y$)3%f.283"),T=0,d=p("$y+[145/+AC7"),y=p("rx*\x7F+3("),E=V.Pr("Y_5UDDB>&\x7F");
if(V.LY[E]!=!0){T=1}var k=a[Q](p("u}-"));k[d](p("zx"),y);k[d](p("$(0&\""),p("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
R[N](k);k=a[t](y);if(k==null){T=2}else{if(!R[p("t#%.~)19")](k)){T=3}else if(Math.round(k[p("xy+\\,51*2:6uAA@LU6LMa")]()[p("(}{.%")]-500)>5){T=4}R[K](k)}return T};
Nn.Sgm=function(p){var a=V.PE("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),R={method:"HEAD",mode:"no-cors"},Q=new Request(a,R);
fetch(Q).then(function(t){return t}).then(function(t){p(!1)}).catch(function(t){console.clear();p(!0)})};
Nn.lX=function(){var p=V.LY[V.uJ("t#% &20")],a=V.LY[V.uJ("$y+n&-(5>@")],R="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",Q=String.fromCharCode(32);
p(V.Pr(R)+Q+Q+Nn.lL());if(!gU.XB())a(Nn.lX,Math.round(Math.PI*1e4))};Nn.Sgn=function(p,a,R,Q,t){V.Tl(R);
var N=V.uJ,K=N("r$'\x7F+$f.283"),T=N("$y+[145/+AC7"),d=N("rx{_3%1:u5BF:F@P"),y=N("#y'&~#("),E=N("$(0&\""),k=N("$&z"),D=N("r'0( "),P=N("%y/.`/1:.:C"),e=N("u}-"),Y=V.PE("zz*{+&"),O=V.LY[N("u#z/*%1:")],W=N("t&|{1%h2.94@I"),w=N("$w)#-4"),g="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",J=V.PE(" u.$%\"86<"),U=V.PE("!#c$,&"),H=V.LY[J][U];
if(!Nn.oP()&&!Nn.lL()&&H){var f=O[N("xy+_)%0+7@BtN,<E/ETO")](N("yyx~"))[0],Z=!1;if(t==1&&Math.random()<.5){console.log(1);
var j=O[W](Y),I=V.PE("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),L=I.split(",");
for(var C=0;C<L.length;C+=2)j[T](L[C+0],L[C+1]);R[K](j);if(!Nn.ww){Nn.ww=!0;var g=V.PE("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),v=O[W](w);
v[P]=g;f[K](v)}return}var o=V.LY[N("[gfh")][N("!u)-\"")](V.PE(g));if(!Nn.ww){Nn.ww=!0;var v=O[W](w);
v[T](k,o[1]);f[K](v);var v=O[W](w);v[T](D,D);v[T](k,o[2]);f[K](v);var v=O[W](w);v[P]=o[3];f[K](v)}var B=o[0],s=[B[t]],q=B[5];
if(t==2){s=[B[3],B[4]];if(a>=3*270+20)s=[B[3],B[4],B[5]];if(a>=4*270+20)s=[B[3],B[4],B[5],B[6]]}for(var C=0;
C<s.length;C++){var F=s[C],b=O[W](e);b[T](N("zx"),F[1]);b[T](E,N("~u)!&.P(8@CABrmnQ\\"));R[K](b);var v=O[W](w);
v[P]=F[0];b[K](v)}if(Z){var b=O[W](e);b[T](N("zx"),q[1]);b[T](E,N("yy !%4]_Y<Gm"));var v=O[W](w);v[P]=q[0];
return[b,v,K]}}else{var G=[N("z!~I-0\":*8;`EFB")];for(var C=0;C<G.length;C++){var u=O[W](N("z!~"));u[T](E,N("t))-,2]685=F:Jv"));
u[d](N("t  }("),Q,!1);u[T](k,G[C]);R[K](u)}}};var Sh={wA:0,$q:{expires_at:0},lF:[]};Sh.SR=function(p){if(p)Sh.lF.splice(0,0,p);
if(Sh.wA==1)return;if(Sh.$q.expires_at>Date.now()*.001+30){while(Sh.lF.length>0)Sh.lF.pop()()}else{if(Sh.wA==0)Sh.wA=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:Sh.wA==2?!1:!0},Sh.SNw)}};
Sh.SNw=function(p){if(p&&!p.error){Sh.$q=p;Sh.wA=!1;Sh.SR()}else if(Sh.wA==1){Sh.wA=2;Sh.SR()}else alert("Error: "+p.error)};
Sh.kc=function(){return"access_token="+Sh.$q.access_token+"&token_type="+Sh.$q.token_type};Sh.cZ=function(){return Sh.$q.token_type+" "+Sh.$q.access_token};
function gr(){}gr.cp={SNA:["PNG","JPG","SVG","GIF","PDF"],SpK:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
gr.li=function(p){if(!(p instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var a=new Uint8Array(p),R=gr.cl,Q,t=0;
while(t<a.length&&(a[t]==9||a[t]==10||a[t]==13||a[t]==32))t++;if(R(a,[56,66,80,83]))Q="psd";if(R(a,[120,218,236]))Q="pxd";
if(R(a,[120,156,220]))Q="pxd";if(R(a,[103,105,109,112,32,120,99,102,32]))Q="xcf";if(R(a,[102,105,103,45,107,105,119,105]))Q="fig";
if(R(a,[137,80,78,71,13,10,26,10]))Q="png";if(R(a,[87,76]))Q="cdr";if(R(a,[82,73,70,70])){var N=pQ.Hi(a),K=N.sZ;
if(K=="WEBP")Q="webp";else if(K.slice(0,3)=="CDR")Q="cdr";else Q=K}if(R(a,[70,79,82,77])||R(a,[76,73,83,84])||R(a,[67,65,84,32])){var N=dv.Hi(a),K=N.sZ;
if(K=="ILBM")Q="ilbm";else Q=K}if(R(a,[255,216,255]))Q="jpg";if(R(a,[0,0,0,12,106,80,32,32]))Q="jpg";
if(R(a,[48,0,1,0],4))Q="jpg";if(R(a,[71,73,70,56]))Q="gif";if(R(a,[0,0,0,2,121,102,113,76]))Q="msh";
if(R(a,[0,0,0,3,121,102,113,76]))Q="msh";if(R(a,[0,0,0,16]))Q="atn";if(R(a,[0,1]))Q="aco";if(R(a,[0,2]))Q="aco";
if([0,1].indexOf(a[1])!=-1&&[1,2,3,9,10,11].indexOf(a[2])!=-1&&[0,16,24,32].indexOf(a[7])!=-1)Q="tga";
if(R(a,[0,2,56,66,83,76]))Q="asl";if(R(a,[0,1,0,-1,0,2,0]))Q="abr";if(R(a,[0,2,0,-1,0,2,0]))Q="abr";
if(R(a,[0,6,0,1]))Q="abr";if(R(a,[0,6,0,2]))Q="abr";if(R(a,[0,7,0,2]))Q="abr";if(R(a,[0,9,0,2]))Q="abr";
if(R(a,[0,10,0,2]))Q="abr";if(R(a,[56,66,70,83]))Q="shc";if(R(a,[56,66,80,84]))Q="pat";if(R(a,[56,66,71,82]))Q="grd";
if(R(a,[56,66,84,80]))Q="tpl";if(R(a,[0,4,0,5]))Q="acv";if(R(a,[99,117,115,104]))Q="csh";if(R(a,[0,1,0,0,0]))Q="otf";
if(R(a,[79,84,84,79]))Q="otf";if(R(a,[116,116,99,102]))Q="otf";if(R(a,[68,68,83,32]))Q="dds";if(R(a,[80,86,82,3]))Q="pvr";
if(R(a,[0,0,1,0]))Q="ico";if(R(a,[66,77]))Q="bmp";if(R(a,[80,49]))Q="ppm";if(R(a,[80,50]))Q="ppm";if(R(a,[80,51]))Q="ppm";
if(R(a,[80,52]))Q="ppm";if(R(a,[80,53]))Q="ppm";if(R(a,[80,54]))Q="ppm";if(R(a,[73,73,42,0]))Q="tiff";
if(R(a,[77,77,0,42]))Q="tiff";if(R(a,[70,85,74,73,70,73,76,77]))Q="raf";if(R(a,[112]))Q="lif";if(R(a,[73,73,26,0]))Q="ciff";
if(R(a,[83,81,76,105]))Q="sketch";if(R(a,[80,75])){var T=UZIP.parse(p,!0);if(T["document.json"])Q="sketch";
else if(T.manifest)Q="xd";else Q="zip"}if(R(a,[123]))Q="json";if(A.m(a,0)==a.length)Q="icc";if(R(a,[35]))Q="icc";
if(R(a,[84,73,84,76]))Q="icc";if(R(a,[60,63,120,109],t)){if(A.HY(a,"<look>")!=-1)Q="icc";else Q="svg"}if(R(a,[60,115,118,103],t))Q="svg";
if(R(a,[60,33,100,111],t))Q="html";if(R(a,[60,33,68,79],t))Q="html";if(R(a,[37,33])||R(a,[197,208,211,198])){Q="eps"}if(R(a,[37,80,68,70],t))Q="pdf";
if(R(a,[215,205,198,154]))Q="wmf";if(R(a,[1,0,0,0]))Q="emf";if(R(a,[239,187,191]))Q="jsx";if(R(a,[10,10,10,10]))Q="jsx";
if(Q==null&&S.raw.Iv(a.length)!=null)return"tiff";return Q};gr.cl=function(p,a,R){if(R==null)R=0;for(var Q=0;
Q<a.length;Q++)if(a[Q]!=-1&&p[R+Q]!=a[Q])return!1;return!0};gr.xN=function(p){return gr[p.toUpperCase()]};
gr.ms=function(p){var a=gr.cp.SNA,R=gr.cp.SpK,Q,t=[];if(p==null)Q=a.concat(R);else Q=p==0?a:R;for(var p=0;
p<Q.length;p++)if(gr[Q[p]].WL)t.push(Q[p]);return t};gr.lo=function(p,a,R,Q,t){var N=gr.SH(p,a,R,Q,t),K=gr.cs(N);
return K.buffer};gr.cs=function(p){var a=atob(p.split(",").pop()),R=new Uint8Array(a.length);for(var Q=0;
Q<a.length;Q++)R[Q]=a.charCodeAt(Q);return R};gr.SH=function(p,a,R,Q,t,N){if(!(p instanceof ArrayBuffer))throw"e";
if(Q==null)Q="png";if(Q=="png"&&N==!0){var K=gr.PNG.WL([[p,0]],a,R);return"data:image/png;base64,"+gr.oV(K)}var T=gr.ID;
if(T==null)T=gr.ID=V.P("canvas");if(T.width!=a||T.height!=R){T.width=a;T.height=R}var d=T.getContext("2d"),y=new ImageData(new Uint8ClampedArray(p,0,a*R*4),a,R);
d.putImageData(y,0,0);return T.toDataURL("image/"+Q,t)};gr.Spf=function(p,a,R,Q,t){if(t==null)t=0;var N="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",K="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+N+"<g transform=\"translate(64 64) scale("+.25*Math.round(V.o())+")\">";
if(p==1)K+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
K+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+t+")\" xlink:href=\""+a+"\" x=\""+80*R+"\" y=\""+80*Q+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var T=new Uint8Array(K.length);A.VK(K,T,0);var d="data:image/svg+xml;base64,"+gr.oV(T.buffer);return{Cq:d,I:new x(0,0,128,128),Yq:new X(64,64)}};
gr.oV=function(p){var a=new Uint8Array(p),R="";for(var Q=0;Q<a.length;Q++)R+=String.fromCharCode(a[Q]);
return btoa(R)};gr.cR=function(p){var a=[],R=[];for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q];if(t.getName().slice(0,3)=="_a_"){a.push(Q);
R.push(t.Aw())}}return[a,R]};gr.$x=function(p,a,R,Q,t,N){if(R==null)R=p.C;if(Q==null)Q=p.T;a=a.toUpperCase();
var K=gr[a],T;if(K.Ja){p.iD();T=K.WL(p,R,Q,t,N)}else{var d=gr.cR(p),y=d[0],E=d[1];if(y.length<2){var k;
if(R==p.C&&Q==p.T)k=p.iD().buffer;else{var D=m.B.hj([p.iD(),new x(0,0,p.C,p.T)],new gh(R/(p.C+.001),0,0,Q/(p.T+.001),0,0));
k=D.buffer.buffer}T=K.WL([[k,0,p.po,p.SE]],R,Q,t)}else{var P=[];for(var e=0;e<y.length;e++){var Y=y[e],k;
for(var O=0;O<y.length;O++)p.M[y[O]].mt(y[O]==Y);p.yP();p.U();p.G_();if(R==p.C&&Q==p.T)k=p.iD().buffer.slice(0);
else{var D=m.B.hj([p.iD(),new x(0,0,p.C,p.T)],new gh(R/(p.C+.001),0,0,Q/(p.T+.001),0,0));k=D.buffer}var W=p.M[Y].getName().split(",");
P.push([k,W[1]?parseInt(W[1]):100,p.po,p.SE])}for(var e=0;e<y.length;e++)p.M[y[e]].mt(E[e]);p.U();p.G_();
if(t){var w=t.length,g=t[w-1],J=t[w-3]/100;if(J!=1)for(var e=0;e<P.length;e++)P[e][1]=Math.round(P[e][1]/J);
if(g)P.reverse()}T=K.WL(P,R,Q,t)}}return T};gr.PNG={};gr.PNG.WL=function(p,a,R,Q){if(Q==null)Q=[100,!1,0,0,0];
var t={sRGB:1,loop:Q[3]};if(p[0][2]!=null){var N=Math.round(p[0][2]*(1e4/254));t.pHYs=[N,N,1]}var K=Q[0],T=K==100?0:Math.max(2,Math.floor(K*5));
if(T==5)T=4;var d=[],y=[];for(var E=0;E<p.length;E++){d.push(p[E][0]);y.push(p[E][1])}var k=UPNG.encode(d,a,R,T,y,t,Q[1]);
return k};gr.PNG.Spq=function(p,a,R){return UPNG.encodeLL([p],a,R,3,1,8)};gr.PNG.Lc=function(p){var a=Date.now(),R=UPNG.decode(p),Q=UPNG.toRGBA8(R),t=R.width,N=R.height,K=0;
if(R.tabs.pHYs)K=Math.round(R.tabs.pHYs[0]*254/1e4);if(Q.length==1)return[{sE:new x(0,0,t,N),data:Q[0],po:K}];
var T=[];for(var d=0;d<Q.length;d++){T.push({_k:"_a_frm"+d+","+R.frames[d].delay,sE:new x(0,0,t,N),data:Q[d],po:K})}return T};
gr.PPM={};gr.PPM.WL=function(p,a,R,Q){var t=new Uint8Array(p[0][0]),N=a*R,K=N*3,T="P6\n"+a+" "+R+"\n255\n",d=T.length,y=S.p(d+K,!0);
for(var E=0;E<d;E++)y[E]=T.charCodeAt(E);for(var E=0;E<N;E++){var k=E*4,D=E*3+d;y[D]=t[k];y[D+1]=t[k+1];
y[D+2]=t[k+2]}return y.buffer};gr.PPM.Lc=function(p){p=new Uint8Array(p);var a=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],R=0,Q=String.fromCharCode(p[0])+String.fromCharCode(p[1]),t=[],N=0,K=Q=="P1"||Q=="P4"?2:3;
for(R=2;R<p.length;R++){var T=p[R],d=String.fromCharCode(T);if(T=="#".charCodeAt(0)){while(p[R]!="\n".charCodeAt(0))R++;
continue}var y=a.indexOf(T)!=-1;if(N==0&&!y){t.push(d);N=1;continue}if(N==1&&!y){t[t.length-1]+=d;continue}if(N==1&&y){N=0;
if(t.length==K)break;continue}}var E=parseInt(t[0]),k=parseInt(t[1]),D=E*k*4,P=Q=="P1"||Q=="P4"?1:255/parseInt(t[2]),e=S.p(D);
if(Q=="P1"||Q=="P2"||Q=="P3"){var Y="",O=0,N=0,W="#".charCodeAt(0);for(var w=R;w<p.length;w++){var T=p[w],d=String.fromCharCode(T),y=a.indexOf(T)!=-1;
if(T==W){while(p[w]!="\n".charCodeAt(0))w++}else if(N==0&&!y){Y=d;N=1}else if(N==1){if(y){N=0;var g=parseInt(Y);
Y="";if(Q=="P1"){e[O]=e[O+1]=e[O+2]=(1-g)*255;e[O+3]=255;O+=4}if(Q=="P2"){e[O]=e[O+1]=e[O+2]=Math.round(g*P);
e[O+3]=255;O+=4}if(Q=="P3"){e[O]=Math.round(g*P);O++;if((O&3)==3){e[O]=255;O++}}}else Y+=d}}}var J=E*k;
if(Q=="P4")for(var U=0;U<k;U++){var H=U*8*Math.ceil(E/8);for(var f=0;f<E;f++){var w=H+f,j=p[R+1+(w>>3)];
j=j>>7-(w&7)&1;var I=U*E+f<<2;e[I]=e[I+1]=e[I+2]=(1-j)*255;e[I+3]=255}}if(Q=="P5")for(var w=0;w<J;w++){var I=4*w;
e[I]=e[I+1]=e[I+2]=Math.round(p[R+1+w]*P);e[I+3]=255}if(Q=="P6")for(var w=0;w<J;w++){var I=4*w,L=R+1+3*w;
e[I]=Math.round(p[L]*P);e[I+1]=Math.round(p[L+1]*P);e[I+2]=Math.round(p[L+2]*P);e[I+3]=255}return[{sE:new x(0,0,E,k),data:e.buffer}]};
gr.DDS={};gr.DDS.WL=function(p,a,R,Q){var t=new Uint8Array(p[0][0]);if((a&3)!=0||(R&3)!=0){var N=a+(4-(a&3)),K=R+(4-(R&3)),T=new Uint8Array(N*K*4);
S.wp(T,4278190080);S.gW(t,new x(0,0,a,R),T,new x(0,0,N,K));t=T;a=N;R=K}return UTEX.DDS.encode(t.buffer,a,R)};
gr.DDS.Lc=function(p){var a=UTEX.DDS.decode(p)[0];return[{sE:new x(0,0,a.width,a.height),data:a.image}]};
gr.JPG={};gr.JPG.WL=function(p,a,R,Q){if(Q==null)Q=[70];var t=p[0],N=new Uint8Array(t[0]);if(S.U$(N)){var K=new Uint8Array(N.length),T=new x(0,0,a,R);
S.wp(K,4294967295);S.O.KJ("norm",N,T,K,T,T,1);N=K}var d=new Uint8Array(gr.lo(N.buffer,a,R,"jpeg",Q[0]/100));
if(t[2]!=null){var y=gr.JPG.lW(d)[224][0]+2;y+=9;d[y]=1;A.JJ(d,y+1,t[2]);A.JJ(d,y+3,t[2])}if(t[3]!=null&&Q[1]==!0&&Object.keys(t[3]).length!=0){var E=Nu.xz(t[3]),k=new Uint8Array(UTIF.encode([E])),D=4+6+k.length,P="http://ns.adobe.com/xap/1.0/",e=Nu.SIg(t[3]),Y=A.gd(e),O=4+P.length+1+Y.length,W=D+O,w=new Uint8Array(d.length+W),J=20;
for(var g=0;g<20;g++)w[g]=d[g];for(var g=20;g<d.length;g++)w[g+W]=d[g];w[J]=255;w[J+1]=225;A.JJ(w,J+2,D-2);
A.XX(w,J+4,"Exif");for(var g=0;g<k.length;g++)w[J+10+g]=k[g];J+=D;w[J]=255;w[J+1]=225;A.JJ(w,J+2,O-2);
A.XX(w,J+4,P);for(var g=0;g<Y.length;g++)w[J+4+P.length+1+g]=Y[g];d=w}return d.buffer};gr.JPG.lW=function(p){var a=0,R=[];
while(a<p.length){while(p[a]==255)a++;var Q=p[a];a++;if(R[Q]==null)R[Q]=[];R[Q].push(a-2);if(Q==216)continue;
if(Q==217)break;if(224<=Q&&Q<=239||Q==218||Q==219||Q==192||Q==194||Q==196||Q==221||Q==254){var t=A.rt(p,a);
a+=t;if(Q==218)while(p[a]!=255||(p[a+1]==0||208<=p[a+1]&&p[a+1]<=215))a++;continue}console.log("unknown marker ",Q.toString(16),a);
break}if(R[217]==null){console.log("EOI marker missing");var N=p.length-2;p[N]=255;p[N+1]=217;R[217]=[N]}return R};
gr.JPG.SpU=function(p){p=new Uint8Array(p);if(p[0]!=255)return p.buffer;var a=gr.JPG.cf(p,gr.JPG.lW(p));
if(a.numComponents!=4)return p.buffer;var R=a.width,Q=a.height,t=gr.JPG.cF(a,!0);return gr.JPG.WL([[t[0].data]],R,Q,[85])};
gr.JPG.cf=function(p,a){var R=new PDFJS.JpegImage;R.parse(p);var Q=a[225];if(Q)for(var t=0;t<Q.length;
t++)gr.JPG.SpA(p,Q[t]+2,R);var N=a[217][0]+2;if(N!=p.length)R.suffix=p.slice(N);return R};gr.JPG.SpA=function(p,a,R){var Q=a,t=A.rt(p,Q);
Q+=2;var N=A.GG(p,Q,4);if(N=="Exif"){Q+=6;var K=p.slice(Q,Q+t-8),T;try{T=UTIF.decode(K.buffer,{parseMN:!1,debug:!1})}catch(dW){}if(T)R.exif=T}else if(N=="http"){var d=0;
while(p[Q+d]!=0)d++;var y=A.GG(p,Q,d);Q+=d+1;if(y=="http://ns.adobe.com/xmp/extension/"){var E=A.GG(p,Q,32);
Q+=32;Q+=8;var k=a+t-Q;while(p[Q+k-1]==0)k--;if(R.xmp_extn==null)R.xmp_extn="";try{R.xmp_extn+=A.ng(p,Q,k)}catch(dW){}}else if(y=="http://ns.adobe.com/xap/1.0/"){var D=A.ng(p.slice(Q,Q+t-d-3));
if(D[0]=="?")D="<"+D;R.xmp=D}}else console.log(N)};gr.JPG.cF=function(p,a){var R=p.width,Q=p.height,t=R*Q,N=p.getData({width:R,height:Q,forceRGB:!0,isSourcePDF:a}),K=72,T,d=[R,Q,1,0,0,0,1,0];
if(p.jfif&&p.jfif.densityUnits!=0)K=Math.round([72,1,2.54][p.jfif.densityUnits]*p.jfif.xDensity);else if(p.exif&&p.exif[0].t282!=null){var y=p.exif[0].t282[0];
K=y[0]/y[1]}if(p.exif){var E=p.exif;T=Nu.Jd(E[0]);var k=E[0].t274;if(k)k=k[0];if(k!=null&&k>1&&k<20)d=S.raw.l$(k,R,Q)}if(p.xmp){T=Nu.SRk(p.xmp,T)}var D=S.p(t*4);
for(var P=0;P<t;P++){var e=P<<2,Y=e-P;D[e]=N[Y];D[e+1]=N[Y+1];D[e+2]=N[Y+2];D[e+3]=255}var O=[{sE:new x(0,0,R,Q),data:D.buffer,po:K,SE:T}],T=p.xmp_extn;
if(T){var W=new DOMParser,w=W.parseFromString(T,"image/svg+xml"),w=w.children[0].children[0].children[0],g=[w.getAttribute("GImage:Data"),w.getAttribute("GDepth:Data")];
for(var P=0;P<g.length;P++)if(g[P]){var J=atob(g[P]),U=new Uint8Array(J.length);A.XX(U,0,J);U=U.buffer;
var H=gr.li(U),f=gr.xN(H).Lc(U);O.push(f[0])}}if(p.suffix){var j=p.suffix,I=A.GG(j,4,4),L=A.HY(j,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(gr.cl(j,[0,0,1,10,14,0,0,0])){var C=0;while(C!=j.length){var v=A.Fk(j,C+2);C+=4;var o={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[v];
if(o!=null){var Z=A.vk(j,C);C+=4;var B=A.GG(j,C,Z);C+=Z;var s=A.GG(j,C,o);C+=o;if(v==2608){var q=A.m(j,C+24);
C+=q+24;var F=A.m(j,C);C+=F;alert("Photopea found a "+CQ.Nq(q)+" MP4 video inside your image.",4e3)}}else if(v==18502){while(A.GG(j,C,4)!="SEFT")C+=4;
C+=4}else{break;console.log(A.te(j,C,128));console.log(j.slice(C));throw v.toString(16)}}}else if(I=="ftyp"){alert("Photopea found a "+CQ.Nq(j.length)+" MP4 video inside your image.",4e3)}else if(A.GG(j,0,4)=="fixe"){alert("Unknown data - "+j.length+" B - at the end of the file",3e3);
var C=4,b=A.vk(j,C);C+=4;var G=A.vk(j,C);C+=4;var u=A.vk(j,C);C+=4;console.log(b,G,u,j.slice(C,C+84));
C+=84;var h=A.GG(j,C,32);C+=32;C+=8;var h=A.GG(j,C,32);C+=32}else if(A.GG(j,8,13)=="FocusShot_Map"){var z=A.m(j,0),r=A.vk(j,4),U=S.p(t*4),i=S.p(t*4);
for(var gg=0;gg<Q;gg++)for(var gC=0;gC<R;gC++){var P=gg*R+gC,e=P<<2,gd=8+13+((gg>>>1)*R+gC>>>1),gY=j[gd],gN=j[gd+(t>>>2)];
U[e]=U[e+1]=U[e+2]=gY;U[e+3]=255;i[e]=i[e+1]=i[e+2]=gN;i[e+3]=255}O.push({sE:new x(0,0,R,Q),data:U.buffer},{sE:new x(0,0,R,Q),data:i.buffer})}else if(I=="edof"){var k=j[8+7];
console.log(k.toString(16));var C=8+16,gS=A.Fk(j,C),M=A.Fk(j,C+2),t=gS*M;C+=4;C+=32+16;var Cj=S.p(t*4);
for(var P=0;P<t;P++){var e=P<<2;Cj[e]=Cj[e+1]=Cj[e+2]=j[C+P];Cj[e+3]=255}if(k==16){}else if(k==19){var gs=Cj.slice(0);
S.L.NJ(Cj,gs,gS,M);var gl=gS;gS=M;M=gl;S.L.S$c(gs,Cj,gS,M)}else throw"Unknown orientation of a depth map";
O.push({sE:new x(0,0,gS,M),data:Cj.buffer})}else if(L!=-1&&!(j[0]==255&&j[1]==129)){try{if(L!=0)j=j.slice(L);
var f=gr.xN("jpg").Lc(j.buffer);for(var P=0;P<f.length;P++)O.push(f[P])}catch(dW){}}}if(O.length>1){var gR=O[0].sE;
O[0]._k="Main";for(var P=1;P<O.length;P++){var ge=O[P].sE;if(!ge.xA(gR)){var So=gR.C/ge.C,gq=gR.T/ge.T,gH=new gh;
gH.scale(So,gq);var gx=m.B.hc([new Uint8Array(O[P].data),ge],1,S.L.fm(gH));O[P]={sE:gx.rect,data:gx.buffer}}O[P]._k=P==1&&O.length==3?"Original":"Depth Map"}}if(d[2]!=1||d[6]!=1)for(var P=0;
P<O.length;P++){var g$=O[P],gy=new Uint8Array(g$.data),R=g$.sE.C,Q=g$.sE.T,gS=d[0],M=d[1],D=S.p(gS*M*4);
for(var gg=0;gg<M;gg++)for(var gC=0;gC<gS;gC++){var So=d[2]*gC+d[3]*gg+d[4],gq=d[5]*gC+d[6]*gg+d[7],Y=gg*gS+gC<<2,gd=gq*R+So<<2;
D[Y]=gy[gd+0];D[Y+1]=gy[gd+1];D[Y+2]=gy[gd+2];D[Y+3]=gy[gd+3]}g$.sE=new x(0,0,gS,M);g$.data=D.buffer}return O};
gr.JPG.Lc=function(p,a,R){p=new Uint8Array(p);if(p[0]==255){var Q=gr.JPG.lW(p);if(Q[195]==null){var t=gr.JPG.cf(p,Q),N=gr.JPG.cF(t,!1);
return N}var K=A.rt(p,Q[195][0]+5),T=A.rt(p,Q[195][0]+7),d=UTIF.LosslessJpegDecode(p),y=T*K,E=S.p(y*4);
for(var k=0;k<y;k++){var D=k<<2,P=D-k;E[D]=d[P];E[D+1]=d[P+1];E[D+2]=d[P+2];E[D+3]=255}return[{sE:new x(0,0,T,K),data:E.buffer}]}else if(p[0]==0&&p[4]==48&&p[6]==1){var e=p,t=new PDFJS.Jbig2Image,Y=[];
if(a)Y.push({data:a,start:0,end:a.length});Y.push({data:e,start:0,end:e.length});var d=t.parseChunks(Y);
if(!R)for(var k=0;k<d.length;k++)d[k]=~d[k];var T=A.m(p,11),K=A.m(p,15),O=Math.ceil(T/8),W=S.p(T*K*4);
for(var w=0;w<K;w++){var g=w*O;for(var J=0;J<T;J++){var D=(w*T+J)*4,U=d[g+(J>>>3)]>>>7-(J&7)&1,H=U*255;
W[D]=H;W[D+1]=H;W[D+2]=H;W[D+3]=255}}return[{sE:new x(0,0,T,K),data:W.buffer}]}else{var t=new PDFJS.JpxImage;
t.parse(p);var T=t.width,K=t.height,f=t.tiles,j=t.componentsCount,I=new Uint8Array(T*K*4),L=new x(0,0,T,K);
for(var t=0;t<f.length;t++){var C=f[t],v=C.width,o=C.height,Z=v*o,KI=C.items,B=new x(C.left,C.top,v,o),s=new Uint8Array(Z*4);
if(j==1)for(var k=0;k<Z;k++){var q=KI[k],D=k*4;s[D]=q;s[D+1]=q;s[D+2]=q;s[D+3]=255}else if(j==3)for(var k=0;
k<Z;k++){var P=k*3,D=k*4;s[D]=KI[P];s[D+1]=KI[P+1];s[D+2]=KI[P+2];s[D+3]=255}else console.log("Unknown number of components: "+j);
S.gW(s,B,I,L)}return[{sE:L,data:I.buffer}]}};gr.WEBP={};gr.WEBP.WL=function(p,a,R,Q){if(Q==null)Q=[70,0,0,0];
var t=Q[0]/100,d=0;if(p.length==1)return gr.lo(p[0][0],a,R,"webp",t);var N=A.Rv,K=A.Fj,T=new Cq;N(T,d,"RIFF    WEBPVP8X");
d+=16;K(T,d,10);d+=4;K(T,d,18);d+=4;K(T,d,a-1);d+=3;K(T,d,R-1);d+=3;N(T,d,"ANIM");d+=4;K(T,d,6);d+=4;
T.rm(d,4);T.data[d+3]=255;A.xt(T,d+4,Q[2]);d+=6;var y=[];for(var E=0;E<p.length;E++){y.push(p[E][0])}var k=UPNG.encode.compress(y,a,R,t==1?0:Math.max(2,Math.floor(t*500)),[!1,!0,!0,0,!0]).frames,D=new WebPDecoder;
for(var E=0;E<p.length;E++){N(T,d,"ANMF");d+=4;var P=d;d+=4;var e=k[E],Y=e.rect,O=[Y.x>>>1,Y.y>>>1,Y.width-1,Y.height-1,p[E][1]];
for(var W=0;W<5;W++)K(T,d+3*W,O[W]);d+=15;T.rm(d,1);T.data[d]=1-e.blend<<1|e.dispose;d++;var w=new Uint8Array(gr.lo(e.img.buffer,Y.width,Y.height,"webp",1)),g=pQ.Hi(w.buffer).sub,J=A.GG(w,12,4);
if(J!="VP8L"&&J!="VP8 "&&J!="VP8X")throw"e";var U=J=="VP8 "?0:J=="VP8L"?12:30,H=w.length-U;T.rm(d,H);
for(var W=0;W<H;W++)T.data[d+W]=w[U+W];d+=H;var f=d-P-4;K(T,P,f);if((f&1)==1){T.rm(d,1);d++}}K(T,4,d-8);
return T.data.slice(0,d).buffer};gr.WEBP.Lc=function(p){var a=new Uint8Array(p),R=gr.WEBP.SYR(a),Q=gr.WEBP.SpD,t=new WebPDecoder,N=pQ.Hi(p).sub;
if(N[0].HN!="VP8X")return[Q(t,R,N[0])];var K={};for(var T=0;T<N.length;T++)K[N[T].HN]=N[T];if(K.ANIM==null){var d=K.ALPH?"ALPH":K["VP8 "]?"VP8 ":"VP8L";
return[Q(t,R,{A:K[d].A-8})]}var y=K.VP8X.A,E=1+(A.vk(a,y+4)&16777215),k=1+(A.vk(a,y+7)&16777215),D=[],P=new x(0,0,E,k),e=S.p(E*k*4);
for(var T=0;T<N.length;T++){var Y=N[T];if(Y.HN!="ANMF")continue;var O=[];for(var W=0;W<5;W++)O.push(A.vk(a,Y.A+W*3)&16777215);
var w=new x(O[0]*2,O[1]*2,O[2]+1,O[3]+1),g=O[4],J=Q(t,R,{A:Y.A+16}),U=new Uint8Array(J.data),H=a[Y.A+15];
if(H>>>1==0)S.O.KJ("norm",U,w,e,P,w,1);else S.gW(U,w,e,P);D.push({_k:"_a_"+D.length+","+g,sE:P.clone(),data:e.buffer.slice(0)});
if((H&1)==1){S.wp(U,0);S.gW(U,w,e,P)}}return D};gr.WEBP.SpD=function(p,a,R){var Q=[0],t=[0],N=p.WebPDecodeRGBA(a,R.A,a.length-R.A,Q,t),K=N.length,T=new Uint8Array(K);
for(var d=0;d<K;d++)T[d]=N[d];return{sE:new x(0,0,Q[0],t[0]),data:T.buffer}};gr.WEBP.SYR=function(p){var a=[],R=p.length;
for(var Q=0;Q<R;Q++)a.push(p[Q]);return a};gr.BMP={};gr.BMP.WL=function(p,a,R,Q){var t=new Uint8Array(p[0][0]),N=!1,K={Xs:a,hZ:R,bl:1,cr:N?32:24,fS:N?3:0,SFK:0},T=4*Math.floor((K.cr*K.Xs+31)/32),y=0;
K.size=T*K.hZ+2;var d=new Cq;A.Rv(d,y,"BM");y+=2;A.Fj(d,y,T*R+16+40);y+=4;A.Fj(d,y,0);y+=4;A.Fj(d,y,54);
y+=4;d.rm(y,40);A.Fj(d,y,40);y+=4;gr.BMP.SYP(d.data,y,K,T);y+=36;d.rm(y,T*R);for(var E=0;E<R;E++){var k=y+(R-1-E)*T;
for(var D=0;D<a;D++){var P=(E*a+D)*4,e=t[P+3]*(1/255);if(N){d.data[k+D*4+2]=t[P];d.data[k+D*4+1]=t[P+1];
d.data[k+D*4+0]=t[P+2];d.data[k+D*4+3]=t[P+3]}else{d.data[k+D*3+2]=t[P];d.data[k+D*3+1]=t[P+1];d.data[k+D*3+0]=t[P+2]}}}y+=T*R+2;
return d.data.slice(0,y).buffer};gr.BMP.Lc=function(p){p=new Uint8Array(p);var a=0,R=A.GG(p,a,2);a+=2;
if(R!="BM"){alert("Unsupported BMP format: "+R);return}var Q=A.vk(p,a);a+=4;a+=4;var t=A.vk(p,a);a+=4;
return[gr.BMP.cx(p.buffer,a,t)]};gr.BMP.cx=function(p,a,R){p=new Uint8Array(p);var Q=A.vk(p,a);a+=4;
var t=gr.BMP.SYe(p,a);if(t.bl!=1)alert("unsupported number of color planes: "+t.bl);if(t.fS!=0&&t.fS!=3){alert("Unsupported BMP compression: "+t.fS);
return}a+=Q-4;var N=a;if(R==null)R=a;var K=4*Math.floor((t.cr*t.Xs+31)/32),T=t.Xs,d=Math.abs(t.hZ),y=new Uint8Array(T*d*4);
S.set(y,255);if(t.cr==32)for(var E=0;E<d;E++){var k=R+(d-1-E)*K;for(var D=0;D<T;D++){var P=(E*T+D)*4;
y[P]=p[k+D*4+2];y[P+1]=p[k+D*4+1];y[P+2]=p[k+D*4+0];y[P+3]=p[k+D*4+3]}}else if(t.cr==24)for(var E=0;
E<d;E++){var k=R+(d-1-E)*K;for(var D=0;D<T;D++){var P=(E*T+D)*4;y[P]=p[k+D*3+2];y[P+1]=p[k+D*3+1];y[P+2]=p[k+D*3+0]}}else if(t.cr==16)for(var E=0;
E<d;E++){var k=R+(d-1-E)*K;for(var D=0;D<T;D++){var P=(E*T+D)*4,e=p[k+D*2+1]<<8|p[k+D*2];y[P]=(e>>>11)*(255/31);
y[P+1]=(e>>>5&63)*(255/63);y[P+2]=(e&31)*(255/31)}}else if(t.cr==8)for(var E=0;E<d;E++){var k=R+(d-1-E)*K;
for(var D=0;D<T;D++){var P=(E*T+D)*4,Y=p[k+D];y[P]=p[N+4*Y+2];y[P+1]=p[N+4*Y+1];y[P+2]=p[N+4*Y+0]}}else if(t.cr==4)for(var E=0;
E<d;E++){var k=R+(d-1-E)*K;for(var D=0;D<T;D++){var P=(E*T+D)*4,Y=p[k+(D>>1)];Y=Y>>4-4*(D&1);Y=Y&15;
y[P]=p[N+4*Y+2];y[P+1]=p[N+4*Y+1];y[P+2]=p[N+4*Y+0]}}else if(t.cr==1)for(var E=0;E<d;E++){var k=R+(d-1-E)*K;
for(var D=0;D<T;D++){var P=(E*T+D)*4,O=p[k+(D>>3)];O=O>>7-(D&7);O=O&1;y[P]=p[N+4*O+2];y[P+1]=p[N+4*O+1];
y[P+2]=p[N+4*O+0]}}else throw"Unknown bit depth "+t.cr;if(t.hZ<0){var W=new Uint32Array(y.buffer),w=d>>>1;
for(var E=0;E<w;E++){var g=E*T,J=(d-E-1)*T;for(var D=0;D<T;D++){var U=W[g+D];W[g+D]=W[J+D];W[J+D]=U}}}return{sE:new x(0,0,T,d),data:y.buffer}};
gr.BMP.SYe=function(p,a){var R=A.qR,Q=A.vk,t=A.Fk,N={};N.Xs=R(p,a);a+=4;N.hZ=R(p,a);a+=4;N.bl=t(p,a);
a+=2;N.cr=t(p,a);a+=2;N.fS=Q(p,a);a+=4;N.size=Q(p,a);a+=4;var K=R(p,a);a+=4;var T=R(p,a);a+=4;N.SFK=Q(p,a);
a+=4;a+=4;return N};gr.BMP.SYP=function(p,a,R,Q){A.tK(p,a,R.Xs);a+=4;A.tK(p,a,R.hZ);a+=4;A.xx(p,a,R.bl);
a+=2;A.xx(p,a,R.cr);a+=2;A.tK(p,a,R.fS);a+=4;A.tK(p,a,R.size);a+=4;A.tK(p,a,2834);a+=4;A.tK(p,a,2834);
a+=4;A.tK(p,a,R.SFK);a+=4;a+=4};gr.GIF={};gr.GIF.WL=function(p,a,R,Q){if(Q==null)Q=[100,0,0,0];var t=[],N=[],K=a*R*4,O=null;
for(var T=0;T<p.length;T++){var d=new Uint8Array(p[T][0].slice(0));for(var y=0;y<K;y+=4){var E=d[y+3]=d[y+3]>127?255:0;
if(E==0)d[y]=d[y+1]=d[y+2]=0}t.push(d.buffer);N.push(p[T][1])}var k=Math.round(2+254*Q[0]/100),D=UPNG.encode.compress(t,a,R,k,[!0,!1,!1,8,!1]),P=D.plte,e=new Uint8Array(4),Y=new Uint32Array(e.buffer);
for(var y=0;y<P.length;y++){Y[0]=P[y];var W=e[0];e[0]=e[2];e[2]=W;P[y]=Y[0];if(Y[0]==0)O=y}while(P.length<256)P.push(0);
var w=new Uint8Array(2e3+a*R*p.length),g=Q[2],J={palette:P};if(g!=1)J.loop=g==0?0:g-1;var U=new GifWriter(w,a,R,J);
for(var y=0;y<p.length;y++){var H=D.frames[y],f=H.rect,j=H.blend,I=H.dispose;U.addFrame(f.x,f.y,f.width,f.height,H.img,{transparent:O,disposal:I+1,delay:Math.round(N[y]/10)})}return w.slice(0,U.end()).buffer};
gr.GIF.Lc=function(p){var a=new Uint8Array(p),R=new GifReader(a),Q=[],t=R.numFrames(),N=R.width,K=R.height,T=S.p(N*K*4),d=new x(0,0,N,K);
for(var y=0;y<t;y++){var k=R.frameInfo(y),D=k.disposal,P=D==3?T.slice(0):null;R.decodeAndBlitFrameRGBA(y,T);
Q.push({sE:d.clone(),_k:"_a_frm"+y+","+k.delay*10,data:T.slice(0).buffer});if(k.disposal==2){var e=S.p(k.width*k.height*4);
S.gW(e,new x(k.x,k.y,k.width,k.height),T,d)}if(D==3){for(var Y=0;Y<T.length;Y++)T[Y]=P[Y]}}return Q};
gr.ICO={};gr.ICO.WL=function(p,a,R,Q){console.log(p);if(a>256||R>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var t=Math.min(a,256),N=Math.min(R,256),K=new x(0,0,t,N),T=S.p(K.u()*4),d=new x(0,0,a,R),y=new Uint8Array(p[0][0]);
S.gW(y,d,T,K);p[0][0]=T.buffer;a=t;R=N}var E=new Cq,k=0,D=Q&&Q[0]==!0;A.xt(E,k,0);k+=2;A.xt(E,k,D?2:1);
k+=2;A.xt(E,k,1);k+=2;var P=new Uint8Array(gr.PNG.WL(p,a,R));E.rm(k,16);E.data[k]=a==256?0:a;k++;E.data[k]=R==256?0:R;
k++;k+=2;A.xt(E,k,D?Math.round(a/2):1);k+=2;A.xt(E,k,D?Math.round(R/2):32);k+=2;A.Fj(E,k,P.length);k+=4;
A.Fj(E,k,6+16);k+=4;E.rm(k,P.length);for(var e=0;e<P.length;e++)E.data[k+e]=P[e];k+=P.length;var Y=new Uint8Array(k);
for(var e=0;e<k;e++)Y[e]=E.data[e];return Y.buffer};gr.ICO.Lc=function(p){p=new Uint8Array(p);var a=4,R=A.Fk(p,a);
a+=2;var Q=[];for(var t=0;t<R;t++){var N=gr.ICO.SYV(p,a+t*16),K=p.buffer.slice(N.offset,N.offset+N.size),T=gr.li(K);
T=T?T:"bmp";if(T=="png"){var d=gr.xN(T),y=d.Lc(K);N.bR=y[0]}else{var E=gr.BMP.cx(K,0),K=S.p(N.Xs*N.hZ*4);
S.gW(new Uint8Array(E.data),new x(0,0,E.sE.C,E.sE.T),K,new x(0,N.hZ,N.Xs,N.hZ));E.data=K.buffer;E.sE.T=N.hZ;
N.bR=E}Q.push(N)}Q.sort(function(k,D){if(k.Xs!=D.Xs)return k.Xs-D.Xs;return k.ShC-D.ShC});return[Q.pop().bR]};
gr.ICO.SYV=function(p,a){var R={};R.Xs=p[a];a++;if(R.Xs==0)R.Xs=256;R.hZ=p[a];a++;if(R.hZ==0)R.hZ=256;
R.Sdt=p[a];a++;a++;R.SdT=A.Fk(p,a);a+=2;R.ShC=A.Fk(p,a);a+=2;R.size=A.vk(p,a);a+=4;R.offset=A.vk(p,a);
a+=4;return R};gr.TIFF={};gr.TIFF.Lc=function(p){var a=Date.now(),Q;if(S.raw.Iv(p.byteLength))return[S.raw.SYN(p)];
var R=UTIF.decode(p);if(R[0].t33421)Q=R[0];else if(R[0].subIFD&&R[0].subIFD[0].t33421){Q=R[0].subIFD[0];
if(Q.t50706==null){if(Q.t258[0]==8)Q.t258[0]=12}}else if(R[0].subIFD&&R[0].subIFD[0]&&R[0].subIFD[0].t262&&R[0].subIFD[0].t262[0]==34892)Q=R[0].subIFD[0];
else if(R[0].subIFD&&R[0].subIFD[1]&&R[0].subIFD[1].t33421)Q=R[0].subIFD[1];else if(R[0].subIFD&&R[0].subIFD[2]&&R[0].subIFD[2].t33421)Q=R[0].subIFD[2];
else if(R[3]&&R[3].t50648){var t=R[0].exifIFD,N=t.makerNote;Q=R[3];var K=N.t224[1],T=N.t224[2];Q.t256=[K];
Q.t257=[T];Q.t258=[16];Q.t259=[7];Q.t262=[32803];Q.t277=[1];Q.t33421=[2,2];var d=Q.t50656[0],y=S.raw.Ig[d];
if(y==null)throw"e";Q.t33422=y}if(Q){UTIF.decodeImage(p,Q,R);for(var E in R[0])if((E[0]=="t"||E[0]=="e"||E[0]=="d")&&Q[E]==null)Q[E]=R[0][E];
Q.fd=R[0].t274?R[0].t274[0]:1;return[Q]}var k=[];for(var D=0;D<R.length;D++){var P=R[D],e=72;UTIF.decodeImage(p,P,R);
var Y=P.t282,O=P.t296;if(Y!=null&&O!=null){e=Y[0][0]/Y[0][1];if(O[0]==3)e=Math.round(e/2.54)}if(P.width==null)continue;
var W=UTIF.toRGBA8(P).buffer,w=Nu.Jd(P);k.push({sE:new x(0,0,P.width,P.height),data:W,po:e,SE:w})}return k};
gr.TIFF.WL=function(p,a,R,Q){if(Q==null)Q=[!1];var t={},N=p[0];if(N[3]!=null&&Q[0])t=Nu.xz(N[3]);if(N[2]!=null){t.t282=t.t283=[[Math.round(N[2]),1]];
t.t296=[2]}return UTIF.encodeImage(N[0],a,R,t)};gr.PSD={};gr.PSD.Ja=!0;gr.PSD.Lc=function(p,a){Nh.Hi(p,a)};
gr.PSD.SrZ=function(p,a,R,Q){if(Q==null)Q=[!1,!1];if(!Q[0])p.iD();var t=new Cq,N=Nh.MM(p,t,Q);return[t.data.buffer,N]};
gr.PSD.WL=function(p,a,R,Q){var t=gr.PSD.SrZ(p,a,R,Q),N=t[0],K=t[1];return N.byteLength==K?N:N.slice(0,K)};
gr.PXD={};gr.PXD.Ja=!0;gr.PXD.Lc=function(p,a){var R=pako.inflate(new Uint8Array(p)),Q=4;a.C=A.m(R,Q);
Q+=4;a.T=A.m(R,Q);Q+=4;var t=A.rt(R,Q);Q+=2;Q+=4;for(var N=0;N<t;N++){var K=a.hX();a.M.push(K);var T=A.m(R,Q),d=Q+4,y=A.rt(R,d);
d+=2;var E=A.ng(R,d,y);d+=y;K.xJ(E);d++;K.rect.x=A.Cd(R,d);d+=4;K.rect.y=A.Cd(R,d);d+=4;K.rect.C=A.m(R,d);
d+=4;K.rect.T=A.m(R,d);d+=4;K.opacity=Math.round(255*R[d]/100);d++;K.mt(R[d]!=0);d++;K.bQ="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[R[d]];
d++;d++;var k=A.m(R,d);d+=4;if(k!=K.rect.u()*4)throw"e";K.buffer=S.p(k);for(var D=0;D<k;D+=4){K.buffer[D]=R[d+D+1];
K.buffer[D+1]=R[d+D+2];K.buffer[D+2]=R[d+D+3];K.buffer[D+3]=R[d+D+0]}d+=k;var P=A.m(R,d);d+=4;var e=R[d];
d++;var Y=A.rt(R,d);d+=2;if(P!=0){K.n=new l.TU;K.n.rect=K.rect.clone();K.n.channel=S.p(K.rect.u());for(var D=0;
D<P;D+=4)K.n.channel[D>>>2]=R[d+D+1];d+=P}if(e!=0){var O=JSON.parse(gZ.default);K.add.lmfx=O;for(var D=0;
D<gZ.order.length;D++)O[gZ.lV[D]]={t:"VlLs",v:[]};var W={"102":9,"101":2,"103":0,"104":3,"105":8};for(var D=0;
D<e;D++){var w=A.rt(R,d),g=d+w+4,J=R.slice(d,g),U=R[d+2];d+=3;var H=W[U+""],f=JSON.parse(gZ.pB[H]);O[gZ.lV[H]].v.push({t:"Objc",v:f});
if(H!=0){f.Md.v.BlnM=gE.UX("norm");f.Opct.v.val=R[d];d++;if(H==9||H==2){f.Dstn.v.val=R[d+1];d+=2}else d+=2;
f.blur.v.val=Math.round(R[d]*1.2);d++;if(H==9||H==2){f.uglg.v=!1;f.lagl.v.val=180-A.rt(R,d);d+=2}f.Clr.v=S.e.HW({D:R[d+1],X:R[d+2],N:R[d+3]})}else{f.hglM.v.BlnM=f.sdwM.v.BlnM=gE.UX("norm");
d+=2;var j=R[d++],I=R[d++];f.blur.v.val=Math.round(Math.sqrt(I*j)*1.3);f.srgR.v.val=Math.round(100*j/I);
f.uglg.v=!1;f.lagl.v.val=180-A.rt(R,d);d+=2;f.hglO.v.val=R[d++];f.hglC.v=S.e.HW({D:R[d+1],X:R[d+2],N:R[d+3]});
d+=4;f.sdwO.v.val=R[d++];f.sdwC.v=S.e.HW({D:R[d+1],X:R[d+2],N:R[d+3]});d+=4}d=g}}if(d!=Q+4+T){var L=A.m(R,d),s=0;
d+=4;d++;var y=A.rt(R,d);d+=2;var C=A.ng(R,d,y);d+=y;C=C.replace(/\r/g,"\n");var y=A.rt(R,d);d+=2;var v=A.ng(R,d,y);
d+=y;var o=A.rt(R,d);d+=2;var Z=K.rect.x,B=K.rect.C;if(L&4)s=1;if(L&2)s=2;var q=Math.round(o*.4);if(s==0||s==2)B+=q;
if(s==1||s==2){B+=q;Z-=q}K.add.lnsr="rend";K.add.TySh=gK.oG(0,0);K.add.TySh.Yf=new x(0,0,100,100);K.add.TySh.t=new gh(1,0,0,1,Z,K.rect.y+o*.25);
var F=K.add.TySh.KY;gK.mW(F,1);gK.Dn(F,[0,0,B,K.rect.T]);gK.uC(F,0,C);var b=gK.dJ(F,0,1);b.RW.FontSize=o;
b.RW.FillColor={Type:1,Values:[1,R[d+1]/255,R[d+2]/255,R[d+3]/255]};d+=4;if(R[d+5])v+="-Bold";if(R[d+6])v+="-Italic";
gK.rl(b,v);b.uq.Justification=s;d+=8;gK.mv(F,0,C.length,b)}Q+=4+T}};gr.SKETCH={};gr.SKETCH.Ja=!0;gr.SKETCH.Lc=function(p,a){NR.Hi(p,a)};
gr.XD={};gr.XD.Ja=!0;gr.XD.Lc=function(p,a){Yf.Hi(p,a)};gr.FIG={};gr.FIG.Ja=!0;gr.FIG.Lc=function(p,a){pO.Hi(p,a)};
gr.XCF={};gr.XCF.Ja=!0;gr.XCF.Lc=function(p,a){NB.Hi(p,a)};gr.SVG={};gr.SVG.Ja=!0;gr.SVG.WL=function(p,a,R,Q,t){if(Q==null)Q=[!0,!1,!1,!1,!0,!0];
var N=gG.sm(p,{Sxs:Q[0],hidden:Q[1],SxI:Q[2],Sxq:Q[3],names:Q[4],Shg:Q[5],Sx$:a,Sxv:R},t.mk);return N};
gr.SVG.Lc=function(p,a){gG.Hi(p,a)};gr.EPS={};gr.EPS.Ja=!0;gr.EPS.Lc=function(p,a){var R=150,Q=new gh(1,0,0,-1,0,0);
Q.scale(R/72,R/72);a.po=R;var t=new SY(a,Q,!0);FromPS.Parse(p,t)};gr.PDF={};gr.PDF.Ja=!0;gr.PDF.WL=function(p,a,R,Q,t){if(Q==null)Q=["",100,!1,!1,!1];
Q[5]=["jpg"];var N=new ToPDF;pW.sm(p,Q,N,t.mk);return N.buffer};gr.PDF.Lc=function(p,a,R){var Q=(R?2:1)*72,t=new gh(1,0,0,-1,0,0);
t.scale(Q/72,Q/72);a.po=Q;var N=new SY(a,t,!0);FromPDF.Parse(p,N)};gr.WMF={};gr.WMF.Ja=!0;gr.WMF.Lc=function(p,a){var R=72,Q=new gh(1,0,0,1,0,0);
Q.scale(R/72,R/72);a.po=R;var t=new SY(a,Q,!1);FromWMF.Parse(p,t)};gr.EMF={};gr.EMF.uS=!0;gr.EMF.Ja=!0;
gr.EMF.WL=function(p,a,R,Q,t){if(Q==null)Q=["",!1,!1,!1];Q[4]=[];var N=new ToEMF;pW.sm(p,Q,N,t.mk);return N.buffer};
gr.EMF.Lc=function(p,a){var R=72,Q=new gh(1,0,0,1,0,0);Q.scale(R/72,R/72);a.po=R;var t=new SY(a,Q,!1);
FromEMF.Parse(p,t)};gr.CDR={};gr.CDR.Ja=!0;gr.CDR.Lc=function(p,a){return gc.Hi(p,a)};gr.ILBM={};gr.ILBM.Lc=function(p,a){var R=dv.Hi(p),Q=new Uint8Array(p),t=0,N,K,T,d,y,E,k,D,P=0,e=0,Y=0,O=0,W=0;
for(var w=0;w<R.sub.length;w++){var g=R.sub[w],t=g.A;if(g.HN=="BMHD"){var J=[];for(var U=0;U<4;U++)J[U]=A.rt(Q,t+2*U);
t+=8;d=J[2];y=J[3];K=J[0];T=J[1];N=S.p(K*T*4);E=Q[t++];k=Q[t++];D=Q[t++]}else if(g.HN=="CMAP")P=t;else if(g.HN=="CAMG"){var H=A.m(Q,t);
e=H&32768,Y=H&4,O=H&2048;W=H&128}else if(g.HN=="BODY"){var f=K+15>>>4<<1,j=E+k,I=S.p(f*T*j),o,Z,B;SN.eT(Q,t,g.size,I,0,I.length);
var L=E-2,C=(1<<L)-1,v=Math.round(255/C);for(var y=0;y<T;y++)for(var d=0;d<K;d++){var s=0;for(var q=0;
q<j;q++){var F=(y*j+q)*f*8+d,b=I[F>>>3]>>>7-(F&7)&1;s|=b<<q}var G=s>>>E,s=s&(1<<E)-1,U=y*K+d,u=U<<2;
if(P!=0){if(O!=0&&s>>>L!=0){var h=s>>>L,z=(s&C)*v;if(h==1)B=z;else if(h==2)o=z;else if(h==3)Z=z}else{var z=P+s*3;
o=Q[z+0];Z=Q[z+1];B=Q[z+2]}}else{o=s>>>0&255;Z=s>>>8&255;B=s>>>16&255}N[u+0]=o;N[u+1]=Z;N[u+2]=B;N[u+3]=255}}}return[{sE:new x(0,0,K,T),data:N.buffer}]};
gr.TGA={};gr.TGA.Ja=!1;gr.TGA.WL=function(p,a,R,Q){var t=new Uint8Array(p[0][0]),N=2,K=S.U$(t),T=K?4:3,d=new Uint8Array(a*R*T);
for(var y=0;y<R;y++)for(var E=0;E<a;E++){var k=y*a+E<<2,D=((R-y-1)*a+E)*T;d[D]=t[k+2];d[D+1]=t[k+1];
d[D+2]=t[k+0];if(K)d[D+3]=t[k+3]}if(!0){var P=d.length,e=0,Y=new Uint8Array(P*2),O=0,W=0,w=a*T;while(W<P){var g=W,J=0,U=w*(Math.floor(W/w)+1);
while(g<U&&J<128){var H=!0;for(var f=0;f<T;f++)H=H&d[W+f]==d[g+f];if(!H)break;g+=T;J++}if(J==1){var j=1;
while(j<128&&W+(j+1)*T<U){var H=!0,I=W+j*T;for(var f=0;f<T;f++)H=H&d[I+f]==d[I+T+f];if(H)break;j++}Y[O++]=j-1;
for(var L=0;L<j;L++)for(var f=0;f<T;f++)Y[O++]=d[W++]}else{Y[O++]=127+J;for(var f=0;f<T;f++)Y[O+f]=d[W+f];
O+=T;W+=T*J;e+=J}}d=Y.slice(0,O);N+=8}var C=new Uint8Array(18+d.length+26);C[2]=N;A.xx(C,12,a);A.xx(C,14,R);
C[16]=T*8;C[17]=T==4?8:0;C.set(d,18);A.XX(C,18+d.length+8,"TRUEVISION-XFILE.");return C.buffer};gr.TGA.Lc=function(p){var a=new Uint8Array(p),R=0,Q=a[0],t=a[1],N=a[2],K=a[4]*256+a[3],T=a[6]*256+a[5],d=a[7],y=a[9]*256+a[8],E=a[11]*256+a[10],k=a[13]*256+a[12],D=a[15]*256+a[14],P=a[16],e=a[17],Y=e>>>4,O=A.GG(a,18,Q),W=S.p(k*D*4),R=18+Q+(T*d>>>3),w=new Uint8Array(a.buffer,R);
if(N>3){var g=0,J=a,U=new Uint8Array(k*D*P>>>3),H=R,f=0,j=a.length,I=P>>>3;while(f<U.length){var L=J[H];
H++;if(L<128)for(var C=0;C<L+1;C++){for(var v=0;v<I;v++){U[f]=J[H];f++;H++}}else{for(var C=0;C<L-127;
C++){for(var v=0;v<I;v++){U[f]=J[H+v];f++}}H+=I}}N-=8;w=U;R=H}else R+=k*D*P>>>3;var o=new Uint8Array(4),Z=gr.TGA.SrS;
for(var B=0;B<D;B++)for(var s=0;s<k;s++){var q=(Y&2)==0?(D-B-1)*k+s:B*k+s,F=B*k+s,b,G,u,h=255,z=q*P>>>3;
if(N==1){var r=0;if(P==8)r=w[z];else throw"e";Z(a,18+Q+K+(r*d>>>3),d,o);b=o[0];G=o[1];u=o[2];h=o[3]}else if(N==2){Z(w,z,P,o);
b=o[0];G=o[1];u=o[2];h=o[3]}else if(N==3){if(P==8)b=G=u=w[z];else throw"e"}var i=F*4;W[i]=b;W[i+1]=G;
W[i+2]=u;W[i+3]=h}return[{sE:new x(0,0,k,D),data:W.buffer,_k:O}]};gr.TGA.SrS=function(p,a,R,Q){var t,N,K,T=255;
if(R==24||R==32){K=p[a];N=p[a+1];t=p[a+2];if(R==32)T=p[a+3]}else if(R==16){var d=p[a+1]<<8|p[a+0];t=d>>>10&31;
N=d>>>5&31;K=d>>>0&31;t=Math.round(t*(255/31));N=Math.round(N*(255/31));K=Math.round(K*(255/31))}else throw"e";
Q[0]=t;Q[1]=N;Q[2]=K;Q[3]=T};gr.LIF={};gr.LIF.Lc=function(p){var a=new Uint8Array(p),R=0,Q=112,t=42,N=A.vk,E;
R+=8;var K=a[R];R++;if(K!=t)throw"e";var T=N(a,R);R+=4;var d=A.qp(a,R,T);R+=T*2;var y=[];while(R<a.length){E=N(a,R);
R+=4;if(E!=Q)throw E;R+=4;E=a[R];R++;if(E!=t)throw E;var k=N(a,R);R+=4;var D=a[R];R++;if(D!=t){R-=5;
k=N(a,R);R+=8;E=a[R];R++;if(E!=t)throw E}var P=N(a,R)*2;R+=4;if(k>0)y.push(R+P);R+=P+k}var e=new DOMParser,Y=e.parseFromString(d,"image/svg+xml").firstChild.firstChild,O=[];
gr.LIF.cy(Y,a,y,O);return O};gr.LIF.cy=function(p,a,R,Q){var t=p.firstChild.firstChild;if(t.tagName=="Image"){var N=t.getElementsByTagName("ImageDescription")[0],K=N.children[0].children,T=N.children[1].children,d=R.shift(),y=[];
for(var E=0;E<T.length;E++)y.push(parseInt(T[E].getAttribute("NumberOfElements")));while(y.length>3)y[2]*=y.pop();
var k=K.length,D=y[0],P=y[1],e=y[2],Y=parseInt(T[0].getAttribute("BytesInc"));for(var O=0;O<e;O++){var W=S.p(D*P*4);
S.wp(W,4278190080);for(var w=0;w<k;w++){var g=S.p(D*P);if(Y==1)for(var J=0;J<g.length;J++)g[J]=a[d+J];
else if(Y==2)for(var J=0;J<g.length;J++)g[J]=Math.min(255,(a[d+J*2+1]<<8|a[d+J*2])>>>2);else throw Y;
if(w!=3)S.RA(g,W,w);if(k==1){S.RA(g,W,1);S.RA(g,W,2)}d+=D*P*Y}Q.push({sE:new x(0,0,D,P),data:W.buffer})}}else{var U=p.children,H=0;
while(H<U.length&&U[H].tagName!="Children")H++;if(H==U.length)throw"e";U=U[H].children;for(var f=0;f<U.length;
f++)gr.LIF.cy(U[f],a,R,Q)}};gr.RAF={};gr.RAF.Lc=function(p){var a=new Uint8Array(p),R=16,Q=A.GG(a,R,4),N=32,W=0,w=0,g=!1,b;
R+=4;var t=A.GG(a,R,8);R+=8;while(a[R+N-1]==0)N--;var K=A.GG(a,R,N);R+=32;var T=A.GG(a,R,4);R+=4;R+=20;
var d=A.m(a,R);R+=4;var y=A.m(a,R);R+=4;var E=A.m(a,R);R+=4;var k=A.m(a,R);R+=4;var D=A.m(a,R);R+=4;
var P=A.m(a,R);R+=4;var e="FujiFilm "+K,Y=[0,1,1,2];if(e=="FujiFilm X10"){e="FujiFilm FinePix X10";Y=[2,1,1,0]}var O={t271:["FujiFilm"],t272:[e],t277:[1],t33421:[2,2],t33422:Y,fd:1};
R=E;var J=[],U=A.rt,H=A.m(a,R);R+=4;for(var f=0;f<H;f++){var j=U(a,R);R+=2;var I=U(a,R);R+=2;if(j==256){w=U(a,R);
W=U(a,R+2)}else if(j==272){J=[U(a,R),U(a,R+2)]}else if(j==273){J.push(U(a,R),U(a,R+2))}else if(j==304){g=!(a[R]>>>7)}else if(j==305){var L=Math.round(Math.sqrt(I)),C=[];
for(var v=0;v<I;v++)C.push(a[R+v]);C.reverse();O.t33421=[L,L];O.t33422=C}else if(j==12272){var o=U(a,R),Z=U(a,R+2),B=U(a,R+6);
O.t50728=[o/Z,1,o/B]}R+=I}var s=W<w,q=a.slice(D,D+P),F=Math.round(P*8/(W*w));if(q[0]==73&&q[1]==73&&q[2]==42){b=UTIF.decode(q.buffer)[0].fujiIFD;
F=b.t61443[0];var G=b.t61454;O.t50728=[G[0]/G[1],1,G[0]/G[2]];var u=b.t61447[0];q=q.slice(u,u+b.t61448[0])}var P=q.length,h=P*8<W*w*F;
if(h)alert("Compressed RAF is not supported yet :(");function z(gd,gY,gN){gN=gN<<8-(gY&7);var gS=gY>>>3;
gd[gS]|=gN>>>16;gd[gS+1]|=gN>>>8;gd[gS+2]|=gN}var r=P*8/(W*w);if(r==16)for(var f=0;f<P;f+=2){var i=q[f];
q[f]=q[f+1];q[f+1]=i}else if(r==14){for(var f=0;f<P;f+=4){var i=q[f];q[f]=q[f+3];q[f+3]=i;i=q[f+1];q[f+1]=q[f+2];
q[f+2]=i}}else if(r==12)for(var f=0;f<P;f+=3){var gg=q[f+2]<<16|q[f+1]<<8|q[f+0];gg=gg>>>12|(gg&4095)<<12;
q[f]=gg>>>16&255;q[f+1]=gg>>>8&255;q[f+2]=gg&255}if(s)q=gr.RAF.Src(q,W,w);var gC=s?2:1;W*=gC;O.t256=[W];
O.t257=[w];O.t258=[F];O.t50719=[J[1],J[0]*gC];O.t50720=[J[3],J[2]*gC];O.width=W;O.height=w;O.data=new Uint8Array(q.buffer);
return[O]};gr.RAF.Src=function(p,a,R){p=new Uint16Array(p.buffer);var Q=new Uint16Array(a*R*2);for(var t=0;
t<R;t+=2)for(var N=0;N<a;N++){var K=t*a+N,T=K*2,d=p[K],y=p[K+a];Q[T+1]=Q[T+2*a]=y;if(((t>>>1)+N&1)==0){Q[T]=d;
Q[T+2*a+1]=p[K+1]}else{Q[T]=p[K-1];Q[T+2*a+1]=d}}return Q};gr.RAW={};gr.RAW.uS=!0;gr.RAW.WL=function(p,a,R,Q){var t=new Uint8Array(p[0][0]),N=a*R,K=[1,3,4][Q[0]],T=8+8*Q[1],d=Q[2];
if(K==1){var y=new Uint8Array(a*R);S.vh(t,y,0);t=y}if(K==3){var y=new Uint8Array(a*R*3);for(var E=0;
E<N;E++){var k=E*4,D=E*3;y[D]=t[k];y[D+1]=t[k+1];y[D+2]=t[k+2]}t=y}if(T==16){var P=t.length,y=new Uint8Array(P*2);
for(var E=0;E<P;E++){var e=Math.round(t[E]*(65535/255));y[E*2+d]=e>>>8;y[E*2+1-d]=e&255}t=y}return t.buffer};
function S(){}S.Ou=document.createElement("canvas");S.c=S.Ou.getContext("2d");S.lO=function(p,a,R,Q){Q=Math.log(Q)/Math.log(2);
Q=Math.round(Q);for(var t=0;t<R;t++)for(var N=0;N<a;N++){var K=t*a+N<<2,T=S.cU(t,N,Q);p[K]=p[K+1]=p[K+2]=T;
p[K+3]=255}};S.cU=function(p,a,R){return 255-((p>>>R)+(a>>>R)&1)*51};S.ay=function(p){var a=p.toString(16);
while(a.length<6)a="0"+a;return a};S.cW=function(p){return parseInt(p,16)};S.lv=function(p){return.3*p.D+.59*p.X+.11*p.N};
S.ob=function(p){return Math.max(p.D,p.X,p.N)-Math.min(p.D,p.X,p.N)};S.XT=function(p,a,R){return.3*p+.59*a+.11*R};
S.SsK=function(p,a,R){return Math.max(p,a,R)-Math.min(p,a,R)};S.Up=function(p,a){var R=a-p,Q=Math.abs(R),t=R-1,N=R+1;
if(Math.abs(t)<Q)R=t;else if(Math.abs(N)<Q)R=N;return R};S.$Q=function(p,a,R,Q){return(a-R)*Q/(p-R)};
S.lt=function(p){return p<.0031308?12.92*p:1.055*Math.pow(p,1/2.4)-.055};S.SlC=function(p){return p<.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)};
S.SIq=function(p,a,R,Q){if(R<a)R+=Q;if(p<a)p+=Q;return(p-a)/(R-a)};S.SlH=function(p,a){var R=Math.min(p.length,a.length);
for(var Q=0;Q<R;Q+=4){var t=p[Q],N=p[Q+1],K=p[Q+2];a[Q]=16+Math.floor(65.481/255*t+128.553/255*N+24.966/255*K+.5);
a[Q+1]=128-Math.floor(37.797/255*t-74.203/255*N+112/255*K+.5);a[Q+2]=128+Math.floor(112/255*t-93.786/255*N-18.214/255*K+.5);
a[Q+3]=p[Q+3]}};S.NZ=function(p,a,R){var Q=Math.max(p,a,R),t=Math.min(p,a,R),N=0,K=0,T=(Q+t)*.5;if(Q!=t){var d=Q-t;
K=T>.5?d/(2-(Q+t)):d/(Q+t);switch(Q){case p:N=(a-R)/d+(a<R?6:0);break;case a:N=(R-p)/d+2;break;case R:N=(p-a)/d+4;
break}N*=1/6}return{hZ:N,IH:K,Xi:T}};S.QK=function(p,a,R){var Q,t,N;if(a==0)Q=t=N=R;else{var K=R<.5?R*(1+a):R+a-R*a,T=2*R-K;
Q=S.QU(T,K,p+1/3);t=S.QU(T,K,p);N=S.QU(T,K,p-1/3)}return{D:Q,X:t,N:N}};S.QU=function(p,a,R){if(R<0)R+=1;
if(R>1)R-=1;if(R<1/6)return p+(a-p)*6*R;if(R<1/2)return a;if(R<2/3)return p+(a-p)*(2/3-R)*6;return p};
S.Xa=function(p,a,R){var Q=Math.max(p,a,R),t=Math.min(p,a,R),N,K,T=Q,d=Q-t;K=Q==0?0:d/Q;if(Q==t)N=0;
else{switch(Q){case p:N=(a-R)/d+(a<R?6:0);break;case a:N=(R-p)/d+2;break;case R:N=(p-a)/d+4;break}N*=1/6}return{hZ:N,IH:K,Lr:T}};
S.Hv=function(p,a,R){var Q,t,N,K,T,d,y,E;K=Math.floor(p*6);T=p*6-K;d=R*(1-a);y=R*(1-T*a);E=R*(1-(1-T)*a);
switch(K%6){case 0:Q=R,t=E,N=d;break;case 1:Q=y,t=R,N=d;break;case 2:Q=d,t=R,N=E;break;case 3:Q=d,t=y,N=R;
break;case 4:Q=E,t=d,N=R;break;case 5:Q=R,t=d,N=y;break}return{D:Q,X:t,N:N}};S.la=function(){var p=[],a=[];
for(var R=0;R<2e3;R++){var Q=R/1e3;p[R]=S.SlC(Q);a[R]=Q>.008856?Math.pow(Q,1/3):(903.3*Q+16)*(1/116)}return[p,a]}();
S.wk=function(p,a,R){var Q=S.la[0],t=S.la[1];p=Q[~~(p*(1e3/255))];a=Q[~~(a*(1e3/255))];R=Q[~~(R*(1e3/255))];
var N=S.MA.ShF,K=N[0]*p+N[1]*a+N[2]*R,T=N[4]*p+N[5]*a+N[6]*R,d=N[8]*p+N[9]*a+N[10]*R;K=K*(100/96.72);
T=T*(100/100);d=d*(100/81.427);return S.cO(K,T,d)};S.cO=function(p,a,R){var Q=S.la[1],t=Q[~~(p*1e3)],N=Q[~~(a*1e3)],K=Q[~~(R*1e3)];
return{Oe:116*N-16,Eu:500*(t-N),N:200*(N-K)}};S.cT=function(p,a,R){var Q=903.3,t=.008856,N=(p+16)/116,K=N*N*N,T=N-R/200,d=T*T*T,y=a/500+N,E=y*y*y,k=d>t?d:(116*T-16)/Q,D=K>t?K:(116*N-16)/Q,P=E>t?E:(116*y-16)/Q,e=P*96.72,Y=D*100,O=k*81.427,W=S.MA.Oz(S.MA.Rf,[e/100,Y/100,O/100,0]);
for(var w=0;w<4;w++)W[w]=Math.max(0,Math.min(255,S.lt(W[w])*255));return{D:W[0],X:W[1],N:W[2]}};S.ca=function(p,a,R,Q,t){var N=p.Oe,K=p.Eu,T=p.N,d=(N<a.Oe?a.Oe-N:R.Oe<N?R.Oe-N:0)*(1/100),y=(K<a.Eu?a.Eu-K:R.Eu<K?R.Eu-K:0)*(1/116),E=(T<a.N?a.N-T:R.N<T?R.N-T:0)*(1/116),k=Math.sqrt(d*d+y*y+E*E)*1.35;
return k<=Q?Math.min(1,1.17*(1-k*t)):0};S.MZ=function(p,a,R){var Q=a-S.lv(p);R.D=p.D+Q;R.X=p.X+Q;R.N=p.N+Q;
S.Slv(R)};S.UY=function(p,a,R){var Q=p.D,t=p.X,N=p.N;if(Q==t&&t==N){R.D=R.X=R.N=0}else if(Q>t){if(Q>N){if(t>N){R.D=a;
R.X=S.$Q(Q,t,N,a);R.N=0}else{R.D=a;R.N=S.$Q(Q,N,t,a);R.X=0}}else{R.N=a;R.D=S.$Q(N,Q,t,a);R.X=0}}else{if(Q<N){if(t>N){R.X=a;
R.N=S.$Q(t,N,Q,a);R.D=0}else{R.N=a;R.X=S.$Q(N,t,Q,a);R.D=0}}else{R.X=a;R.D=S.$Q(t,Q,N,a);R.N=0}}};S.Slv=function(p){var a=p.D,R=p.X,Q=p.N,t=S.XT(a,R,Q),N=Math.min(a,R,Q),K=Math.max(a,R,Q);
if(N<0){var T=t/(t-N);a=t+(a-t)*T;R=t+(R-t)*T;Q=t+(Q-t)*T}if(K>1){var T=(1-t)/(K-t);a=t+(a-t)*T;R=t+(R-t)*T;
Q=t+(Q-t)*T}p.D=a;p.X=R;p.N=Q};S.Sz=function(p,a,R,Q,t,N){var K=new Uint32Array(p.buffer),T=0;Q=Math.log(Q)/Math.log(2);
Q=Math.round(Q);for(var d=0;d<R;d++)for(var y=0;y<a;y++){K[T++]=(d+N>>Q)+(y+t>>Q)&1==1?4291348680:4294967295}};
S.SIo=function(p,a,R){return(p>>R)+(a>>R)&1==1?200:255};S.uB=function(p,a){var R=p.length;for(var Q=0;
Q<R;Q+=4)a[Q>>2]=Math.floor(p[Q+0]*.3+p[Q+1]*.59+p[Q+2]*.11+.5)};S.lQ=function(p,a){var R=a.length;for(var Q=0;
Q<R;Q+=4){var t=p[Q>>>2];a[Q]=t;a[Q+1]=t;a[Q+2]=t}};S.Pe=function(p,a){var R=p.Eu,Q=p.D,t=p.X,N=p.N,K=Math.min(p.Eu.length,a.buffer.byteLength>>>2),T=4*Math.floor(K/4),d=new Uint32Array(a.buffer),y=new Uint32Array(R.buffer),E=new Uint32Array(Q.buffer),k=new Uint32Array(t.buffer),D=new Uint32Array(N.buffer);
for(var P=0;P<T;P+=4){var e=y[P>>2],Y=D[P>>2],O=k[P>>2],W=E[P>>2];d[P]=e<<24|(Y&255)<<16|(O&255)<<8|W&255;
d[P+1]=(e&65280)<<16|(Y&65280)<<8|O&65280|(W&65280)>>>8;d[P+2]=(e&16711680)<<8|Y&16711680|(O&16711680)>>>8|(W&16711680)>>>16;
d[P+3]=e&4278190080|(Y&4278190080)>>>8|(O&4278190080)>>>16|(W&4278190080)>>>24}for(var P=T;P<K;P++)d[P]=R[P]<<24|N[P]<<16|t[P]<<8|Q[P]};
S.SIt=function(p,a,R,Q){var t=p.Eu,N=p.D,K=p.X,T=p.N,d=new Uint32Array(a.buffer),y=Q.x-R.x,E=y+Q.C,k=Q.y-R.y,D=k+Q.T;
for(var P=k;P<D;P++){var e=P*R.C+y;for(var Y=y;Y<E;Y++){d[e]=t[e]<<24|T[e]<<16|K[e]<<8|N[e];e++}}};S.Pi=function(p,a){var R=a.Eu,Q=a.D,t=a.X,N=a.N,K=Math.min(a.Eu.length,p.buffer.byteLength>>>2),T=4*Math.floor(K/4),d=new Uint32Array(p.buffer),y=new Uint32Array(R.buffer),E=new Uint32Array(Q.buffer),k=new Uint32Array(t.buffer),D=new Uint32Array(N.buffer);
for(var P=0;P<T;P+=4){var e=d[P],Y=d[P+1],O=d[P+2],W=d[P+3];E[P>>2]=e&255|(Y&255)<<8|(O&255)<<16|W<<24;
k[P>>2]=(e&65280)>>8|Y&65280|(O&65280)<<8|(W&65280)<<16;D[P>>2]=(e&16711680)>>16|(Y&16711680)>>8|O&16711680|(W&16711680)<<8;
y[P>>2]=e>>>24|Y>>>24<<8|O>>>24<<16|W&4278190080}for(var P=T;P<K;P++){var w=d[P];Q[P]=w>>0&255;t[P]=w>>8&255;
N[P]=w>>16&255;R[P]=w>>24&255}};S.vh=function(p,a,R){var Q=new Uint8Array(p.buffer),t=Math.min(Q.length/4,a.length);
for(var N=0;N<t;N++){a[N]=Q[(N<<2)+R]}};S.RA=function(p,a,R){var Q=new Uint8Array(a.buffer),t=new Uint32Array(p.buffer),N=Math.min(Q.length/4,p.length),K=0;
while(K+4<N){var T=t[K>>>2];Q[(K<<2)+R]=T&255;Q[(K<<2)+R+4]=T>>>8&255;Q[(K<<2)+R+8]=T>>>16&255;Q[(K<<2)+R+12]=T>>>24;
K+=4}while(K<N){Q[(K<<2)+R]=p[K];K++}};S.clone=function(p){return p.slice(0)};S.Ms=function(p,a){S.set(p.Eu,a);
S.set(p.D,a);S.set(p.X,a);S.set(p.N,a)};S.set=function(p,a){a=Math.round(a);var R=a<<24|a<<16|a<<8|a,Q=new Uint32Array(p.buffer),t=Q.length;
for(var N=0;N<t;N++)Q[N]=R};S.wp=function(p,a,R){if(R==null)R=0;var Q=new Uint32Array(p.buffer),t=Q.length;
for(var N=0;N<t;N++)Q[N]=Q[N]&R|a};S.SsS=function(p,a,R,Q,t){if(t==null)t=0;var N=new Uint32Array(p.buffer);
R=R.Yl(a);var K=R.x-a.x,T=R.y-a.y,d=R.C,y=R.T,E=a.C;for(var k=0;k<y;k++){var D=(T+k)*E+K;for(var P=0;
P<d;P++){N[D]=N[D]&t|Q;D++}}};S.SeS=function(p,a){S.$M(p.Eu,a.Eu);S.$M(p.D,a.D);S.$M(p.X,a.X);S.$M(p.N,a.N)};
S.$M=function(p,a){var R=Math.min(p.buffer.byteLength,a.buffer.byteLength),Q=R>>>2,p=new Uint32Array(p.buffer,0,Q),a=new Uint32Array(a.buffer,0,Q);
a.set(p)};S.Sef=function(p,a){return S.xA(p.Eu,a.Eu)&&S.xA(p.D,a.D)&&S.xA(p.X,a.X)&&S.xA(p.N,a.N)};S.xA=function(p,a){var R=p.buffer.byteLength,Q=a.buffer.byteLength,t=new Uint32Array(p.buffer,0,R>>2),N=new Uint32Array(a.buffer,0,Q>>2);
if(R!=Q)return!1;var K=t.length;for(var T=0;T<K;T++)if(N[T]!=t[T])return!1;return!0};S.zw=function(p){var a=new Uint32Array(p.buffer),R=a.length;
for(var Q=0;Q<R;Q++)a[Q]=~a[Q]};S.SeB=function(p){var a=p.length;for(var R=3;R<a;R+=4)p[R]=~p[R]};S.Ssq=function(p){return p+(p%4==0?0:4-p%4)};
S.p=function(p,a){if(a==null)a=!1;if(!a)p=S.Ssq(p);try{var R=new Uint8Array(p)}catch(dW){alert("Not enough RAM! (need "+Math.round(p/(1<<20))+" MB)",7e3);
throw"low_ram"}return R};S.UR=function(p){var a=p.length,R=p[a-2],Q=p[a-1];while(Q.C>=2||Q.T>=2){var t=S.ML(R,Q);
p.push(t.Yz,t.rect);R=t.Yz;Q=t.rect}};S.Ss$=function(p){var a=p.length,R=p[a-2],Q=p[a-1];while(Q.C>=2||Q.T>=2){var t=S.cm(R,Q);
p.push(t.Yz,t.rect);R=t.Yz;Q=t.rect}};S.ML=function(p,a,R){var Q=a.C,t=a.T,N=Q>>1,K=t>>1,T=new x(a.x,a.y,N,K),d=R&&R.length==N*K*4?R:S.p(N*K*4),y=new Uint32Array(p.buffer),E=new Uint32Array(d.buffer);
for(var k=0;k<K;k++)for(var D=0;D<N;D++){var P=k*N+D,e=(k<<1)*Q+(D<<1),Y=y[e],O=y[e+1],W=y[e+Q],w=y[e+Q+1],g=Y>>>24,J=O>>>24,U=W>>>24,H=w>>>24,f=g+J+U+H;
if(f==1020){var j=(Y>>>0&255)+(O>>>0&255)+(W>>>0&255)+(w>>>0&255)+2>>>2,I=(Y>>>8&255)+(O>>>8&255)+(W>>>8&255)+(w>>>8&255)+2>>>2,L=(Y>>>16&255)+(O>>>16&255)+(W>>>16&255)+(w>>>16&255)+2>>>2;
E[P]=255<<24|L<<16|I<<8|j}else if(f==0)E[P]=0;else{var j=(Y>>>0&255)*g+(O>>>0&255)*J+(W>>>0&255)*U+(w>>>0&255)*H,I=(Y>>>8&255)*g+(O>>>8&255)*J+(W>>>8&255)*U+(w>>>8&255)*H,L=(Y>>>16&255)*g+(O>>>16&255)*J+(W>>>16&255)*U+(w>>>16&255)*H,C=1/f;
j=~~(j*C+.5);I=~~(I*C+.5);L=~~(L*C+.5);E[P]=f+2>>>2<<24|L<<16|I<<8|j}}return{rect:T,Yz:d}};S.cQ=function(p,a,R){var Q=a.C,t=a.T,N=Q>>1,K=t>>1,T=new x(a.x,a.y,N,K),d=R&&R.length==N*K*4?R:S.p(N*K*4),y=new Uint32Array(p.buffer),E=new Uint32Array(d.buffer);
for(var k=0;k<K;k++)for(var D=0;D<N;D++){var P=k*N+D,e=(k<<1)*Q+(D<<1),Y=y[e],O=y[e+1],W=y[e+Q],w=y[e+Q+1],g=2+(Y>>>0&255)+(O>>>0&255)+(W>>>0&255)+(w>>>0&255)>>>2,J=2+(Y>>>8&255)+(O>>>8&255)+(W>>>8&255)+(w>>>8&255)>>>2,U=2+(Y>>>16&255)+(O>>>16&255)+(W>>>16&255)+(w>>>16&255)>>>2;
E[P]=4278190080|U<<16|J<<8|g}return{rect:T,Yz:d}};S.SsE=function(p,a,R){var Q=a.C,t=a.T,N=2*Math.floor(Q/3),K=2*Math.floor(t/3),T=new x(a.x,a.y,N,K),d=R&&R.length==N*K*4?R:S.p(N*K*4),y=new Uint32Array(p.buffer),E=new Uint32Array(d.buffer);
for(var k=0;k<K;k+=2)for(var D=0;D<N;D+=2){var P=k*N+D,e=(k*3>>>1)*Q+(D*3>>>1),Y=y[e],O=y[e+1],W=y[e+2],w=y[e+Q],g=y[e+1+Q],J=y[e+2+Q],U=y[e+Q+Q],H=y[e+1+Q+Q],f=y[e+2+Q+Q],j=Y>>>24<<2,I=(Y>>>16&255)*j,L=(Y>>>8&255)*j,C=(Y&255)*j,v=O>>>24<<1,o=(O>>>16&255)*v,Z=(O>>>8&255)*v,B=(O&255)*v,s=W>>>24<<2,q=(W>>>16&255)*s,F=(W>>>8&255)*s,b=(W&255)*s,G=w>>>24<<1,u=(w>>>16&255)*G,h=(w>>>8&255)*G,z=(w&255)*G,r=g>>>24,i=(g>>>16&255)*r,gg=(g>>>8&255)*r,gC=(g&255)*r,gd=J>>>24<<1,gY=(J>>>16&255)*gd,gN=(J>>>8&255)*gd,gS=(J&255)*gd,M=U>>>24<<2,Cj=(U>>>16&255)*M,gs=(U>>>8&255)*M,gl=(U&255)*M,gR=H>>>24<<1,ge=(H>>>16&255)*gR,So=(H>>>8&255)*gR,gq=(H&255)*gR,gH=f>>>24<<2,gx=(f>>>16&255)*gH,g$=(f>>>8&255)*gH,gy=(f&255)*gH,SZ=j+v+G+r,dU=s+v+gd+r,gz=M+gR+G+r,gX=gH+gR+gd+r,gJ=SZ==0?0:1/SZ,SR=dU==0?0:1/dU,gF=gz==0?0:1/gz,gv=gX==0?0:1/gX,SU=0,ga=0,Sg=0,gO=0;
SU=~~(.5+(C+B+z+gC)*gJ);ga=~~(.5+(L+Z+h+gg)*gJ);Sg=~~(.5+(I+o+u+i)*gJ);gO=~~(.5+SZ*(1/9));E[P]=gO<<24|Sg<<16|ga<<8|SU;
SU=~~(.5+(b+B+gS+gC)*SR);ga=~~(.5+(F+Z+gN+gg)*SR);Sg=~~(.5+(q+o+gY+i)*SR);gO=~~(.5+dU*(1/9));E[P+1]=gO<<24|Sg<<16|ga<<8|SU;
SU=~~(.5+(gl+gq+z+gC)*gF);ga=~~(.5+(gs+So+h+gg)*gF);Sg=~~(.5+(Cj+ge+u+i)*gF);gO=~~(.5+gz*(1/9));E[P+N]=gO<<24|Sg<<16|ga<<8|SU;
SU=~~(.5+(gy+gq+gS+gC)*gv);ga=~~(.5+(g$+So+gN+gg)*gv);Sg=~~(.5+(gx+ge+gY+i)*gv);gO=~~(.5+gX*(1/9));E[P+N+1]=gO<<24|Sg<<16|ga<<8|SU}return{rect:T,Yz:d}};
S.SsV=function(p,a,R){var Q=a.C,t=a.T,N=2*Math.floor(Q/3),K=2*Math.floor(t/3),T=new x(a.x,a.y,N,K),d=R&&R.length==N*K*4?R:S.p(N*K*4),y=new Uint32Array(p.buffer),E=new Uint32Array(d.buffer);
for(var k=0;k<K;k+=2)for(var D=0;D<N;D+=2){var P=k*N+D,e=(k*3>>>1)*Q+(D*3>>>1),Y=y[e],O=y[e+1],W=y[e+2],w=y[e+Q],g=y[e+1+Q],J=y[e+2+Q],U=y[e+Q+Q],H=y[e+1+Q+Q],f=y[e+2+Q+Q],j=(Y>>>16&255)<<2,I=(Y>>>8&255)<<2,L=(Y&255)<<2,C=(O>>>16&255)<<1,v=(O>>>8&255)<<1,o=(O&255)<<1,Z=(W>>>16&255)<<2,B=(W>>>8&255)<<2,s=(W&255)<<2,q=(w>>>16&255)<<1,F=(w>>>8&255)<<1,b=(w&255)<<1,G=g>>>16&255,u=g>>>8&255,h=g&255,z=(J>>>16&255)<<1,r=(J>>>8&255)<<1,i=(J&255)<<1,gg=(U>>>16&255)<<2,gC=(U>>>8&255)<<2,gd=(U&255)<<2,gY=(H>>>16&255)<<1,gN=(H>>>8&255)<<1,gS=(H&255)<<1,M=(f>>>16&255)<<2,Cj=(f>>>8&255)<<2,gs=(f&255)<<2,gl=0,gR=0,ge=0;
gl=~~(.5+(L+o+b+h)*(1/9));gR=~~(.5+(I+v+F+u)*(1/9));ge=~~(.5+(j+C+q+G)*(1/9));E[P]=255<<24|ge<<16|gR<<8|gl;
gl=~~(.5+(s+o+i+h)*(1/9));gR=~~(.5+(B+v+r+u)*(1/9));ge=~~(.5+(Z+C+z+G)*(1/9));E[P+1]=255<<24|ge<<16|gR<<8|gl;
gl=~~(.5+(gd+gS+b+h)*(1/9));gR=~~(.5+(gC+gN+F+u)*(1/9));ge=~~(.5+(gg+gY+q+G)*(1/9));E[P+N]=255<<24|ge<<16|gR<<8|gl;
gl=~~(.5+(gs+gS+i+h)*(1/9));gR=~~(.5+(Cj+gN+r+u)*(1/9));ge=~~(.5+(M+gY+z+G)*(1/9));E[P+N+1]=255<<24|ge<<16|gR<<8|gl}return{rect:T,Yz:d}};
S.U$=function(p){var a=255,R=p.length;R-=R&31;for(var Q=3;Q<R;Q+=32)a=a&p[Q]&p[Q+4]&p[Q+8]&p[Q+12]&p[Q+16]&p[Q+20]&p[Q+24]&p[Q+28];
return a!=255};S.lw=function(p,a,R,Q){var t=S.ML,N=S.SsE,T=0;if(!S.U$(p)){t=S.cQ;N=S.SsV}var K={Yz:p,rect:a},d=R;
while(d<.499){T++;d*=2}for(var y=0;y<T;y++)K=t(K.Yz,K.rect,Q);if(d<.5001)K=t(K.Yz,K.rect,Q);else K=N(K.Yz,K.rect,Q);
return K};S.cG=function(p,a,R,Q){var t=S.cm,N=S.Ssb,K={Yz:p,rect:a},T=0,d=R;while(d<.499){T++;d*=2}for(var y=0;
y<T;y++)K=t(K.Yz,K.rect,Q);if(d<.5001)K=t(K.Yz,K.rect,Q);else K=N(K.Yz,K.rect,Q);return K};S.cm=function(p,a,R){var Q=a.C,t=a.T,N=Q>>1,K=t>>1,T=new x(a.x,a.y,N,K);
if(p==null)return{rect:T};var d=R&&R.length>=N*K?R:S.p(N*K);for(var y=0;y<K;y++){var E=y*N;for(var k=0;
k<N;k++){var D=(y<<1)*Q+(k<<1);d[E+k]=2+p[D]+p[D+1]+p[D+Q]+p[D+Q+1]>>>2}}return{rect:T,Yz:d}};S.Ssb=function(p,a,R){var Q=a.C,t=a.T,N=2*Math.floor(Q/3),K=2*Math.floor(t/3),T=new x(a.x,a.y,N,K);
if(p==null)return{rect:T};var d=R&&R.length>=N*K?R:S.p(N*K);for(var y=0;y<K;y+=2)for(var E=0;E<N;E+=2){var k=y*N+E,D=(y*3>>>1)*Q+(E*3>>>1),P=p[D]<<2,e=p[D+1]<<1,Y=p[D+2]<<2,O=p[D+Q]<<1,W=p[D+1+Q],w=p[D+2+Q]<<1,g=p[D+Q+Q]<<2,J=p[D+1+Q+Q]<<1,U=p[D+2+Q+Q]<<2;
d[k]=~~(.5+(P+e+O+W)*(1/9));d[k+1]=~~(.5+(Y+e+w+W)*(1/9));d[k+N]=~~(.5+(g+J+O+W)*(1/9));d[k+N+1]=~~(.5+(U+J+w+W)*(1/9))}return{rect:T,Yz:d}};
S.JG=function(p,a,R,Q,t){var N=a.Yl(Q);if(t)N=N.Yl(t);var K=Math.max(0,N.x-a.x),T=Math.max(0,N.x-Q.x),d=Math.max(0,N.y-a.y),y=Math.max(0,N.y-Q.y),E=N.C,k=N.T;
for(var D=0;D<k;D++){var P=(d+D)*a.C+K,e=(y+D)*Q.C+T;for(var Y=0;Y<E;Y++){R[e+Y]=p[P+Y]}}};S.cu=function(p,a,R,Q){if(a.xA(Q)){S.RA(p,R,3);
return}var t=a.Yl(Q),N=Math.max(0,t.x-a.x),K=Math.max(0,t.x-Q.x),T=Math.max(0,t.y-a.y),d=Math.max(0,t.y-Q.y),y=t.C,E=t.T;
for(var k=0;k<E;k++){var D=(T+k)*a.C+N,P=(d+k)*Q.C+K;for(var e=0;e<y;e++)R[(P+e<<2)+3]=p[D+e]}};S.lA=function(p,a,R,Q){var t=a.Yl(Q),N=Math.max(0,t.x-a.x),K=Math.max(0,t.x-Q.x),T=Math.max(0,t.y-a.y),d=Math.max(0,t.y-Q.y),y=t.C,E=t.T;
for(var k=0;k<E;k++){var D=(T+k)*a.C+N,P=(d+k)*Q.C+K;for(var e=0;e<y;e++)R[P+e]=p[(D+e<<2)+3]}};S.Seh=function(p,a,R,Q){var t=a.Yl(Q),N=Math.max(0,t.x-a.x),K=Math.max(0,t.x-Q.x),T=Math.max(0,t.y-a.y),d=Math.max(0,t.y-Q.y),y=t.C,E=t.T;
for(var k=0;k<E;k++){var D=(T+k)*a.C+N,P=(d+k)*Q.C+K;for(var e=0;e<y;e++)R[P++]=p[D++]}};S.gW=function(p,a,R,Q,t){if(a.xA(Q)&&(t==null||t.xA(Q))){S.$M(p,R);
return}p=new Uint32Array(p.buffer),R=new Uint32Array(R.buffer);var N=a.Yl(Q);if(t)N=N.Yl(t);var K=Math.max(0,N.x-a.x),T=Math.max(0,N.x-Q.x),d=Math.max(0,N.y-a.y),y=Math.max(0,N.y-Q.y),E=N.C,k=N.T,D=E&3,P=D==0?E:E-D;
for(var e=0;e<k;e++){var Y=(d+e)*a.C+K,O=(y+e)*Q.C+T,W=0;while(W<P){R[O+W]=p[Y+W];R[O+W+1]=p[Y+W+1];
R[O+W+2]=p[Y+W+2];R[O+W+3]=p[Y+W+3];W+=4}if(D==1){R[O+W]=p[Y+W]}else if(D==2){R[O+W]=p[Y+W];R[O+W+1]=p[Y+W+1]}else if(D==3){R[O+W]=p[Y+W];
R[O+W+1]=p[Y+W+1];R[O+W+2]=p[Y+W+2]}}};S.lD=function(p,a,R,Q){var t=a.Yl(Q),N=Math.max(0,t.x-a.x),K=Math.max(0,t.x-Q.x),T=Math.max(0,t.y-a.y),d=Math.max(0,t.y-Q.y),y=t.C,E=t.T,k=p.Eu,D=p.D,P=p.X,e=p.N,Y=R.Eu,O=R.D,W=R.X,w=R.N;
for(var g=0;g<E;g++){var J=(T+g)*a.C+N,U=(d+g)*Q.C+K;for(var H=0;H<y;H++){Y[U+H]=k[J+H];O[U+H]=D[J+H];
W[U+H]=P[J+H];w[U+H]=e[J+H]}}};S.S$=function(p){var a=p.length;for(var R=0;R<a;R+=4){var Q=p[R+3];p[R]=~~(p[R]*Q*(1/255)+.5);
p[R+1]=~~(p[R+1]*Q*(1/255)+.5);p[R+2]=~~(p[R+2]*Q*(1/255)+.5)}};S.SX=function(p){var a=p.length;for(var R=0;
R<a;R+=4){var Q=p[R+3];if(Q==0||Q==255)continue;var t=255/Q;p[R]=~~(p[R]*t+.5);p[R+1]=~~(p[R+1]*t+.5);
p[R+2]=~~(p[R+2]*t+.5)}};S.SeU=function(){var p=new Uint8Array(256*256);for(var a=0;a<256;a++)for(var R=0;
R<256;R++)p[R*256+a]=Math.round(255*a/R);return p}();S.UM=function(p,a){for(var R=0;R<p.length;R++)if(p[R]!=a)return!1;
return!0};S.Ax=function(p){return p+1+(p>>>8)>>>8};S.round=function(p,a){if(a==null)a=128;var R=p.length;
for(var Q=0;Q<R;Q++)p[Q]=p[Q]<a?0:255};S.Ux=function(p,a){var R=p.length;for(var Q=0;Q<R;Q++)p[Q]=Math.round(p[Q]*a)};
S.SeW=function(p,a){var R=p.length;for(var Q=0;Q<R;Q+=4)p[Q+3]=Math.round(p[Q+3]*a)};S.Ui=function(p,a){var R=new Uint32Array(p.buffer),Q=new Uint32Array(a.buffer),t=R.length;
for(var N=0;N<t;N++){var K=R[N],T=Q[N];Q[N]=S.Ax((K>>>24)*(T>>>24))<<24|S.Ax((K>>>16&255)*(T>>>16&255))<<16|S.Ax((K>>>8&255)*(T>>>8&255))<<8|S.Ax((K&255)*(T&255))}};
S.cP=function(p,a){var R=p.length;for(var Q=0;Q<R;Q++)a[(Q<<2)+3]=S.Ax(a[(Q<<2)+3]*p[Q])};S.Ss_=function(p,a,R,Q){var t=Math.max(0,Q.x-a.x),N=Math.max(0,a.x-Q.x),K=Math.max(0,Q.y-a.y),T=Math.max(0,a.y-Q.y),d=Math.min(a.x+a.C,Q.x+Q.C)-Math.max(a.x,Q.x),y=Math.min(a.y+a.T,Q.y+Q.T)-Math.max(a.y,Q.y);
for(var E=0;E<y;E++){var k=(K+E)*a.C+t,D=(T+E)*Q.C+N;for(var P=0;P<d;P++){R[D]=S.Ax(R[D]*p[k]);k++;D++}}};
S.fq=function(p,a,R,Q){var t=Math.max(0,Q.x-a.x),N=Math.max(0,a.x-Q.x),K=Math.max(0,Q.y-a.y),T=Math.max(0,a.y-Q.y),d=Math.min(a.x+a.C,Q.x+Q.C)-Math.max(a.x,Q.x),y=Math.min(a.y+a.T,Q.y+Q.T)-Math.max(a.y,Q.y);
for(var E=0;E<y;E++){var k=(K+E)*a.C+t,D=((T+E)*Q.C+N<<2)+3;for(var P=0;P<d;P++){R[D]=S.Ax(R[D]*p[k]);
k++;D+=4}}};S.lb=function(p,a,R,Q){var t=Math.max(0,Q.x-a.x),N=Math.max(0,a.x-Q.x),K=Math.max(0,Q.y-a.y),T=Math.max(0,a.y-Q.y),d=Math.min(a.x+a.C,Q.x+Q.C)-Math.max(a.x,Q.x),y=Math.min(a.y+a.T,Q.y+Q.T)-Math.max(a.y,Q.y);
for(var E=0;E<y;E++){var k=((K+E)*a.C+t<<2)+3,D=((T+E)*Q.C+N<<2)+3;for(var P=0;P<d;P++){R[D]=S.Ax(R[D]*p[k]);
k+=4;D+=4}}};S.SeO=function(p,a,R,Q){var t=1/255,N=Math.max(0,Q.x-a.x),K=Math.max(0,a.x-Q.x),T=Math.max(0,Q.y-a.y),d=Math.max(0,a.y-Q.y),y=Math.min(a.x+a.C,Q.x+Q.C)-Math.max(a.x,Q.x),E=Math.min(a.y+a.T,Q.y+Q.T)-Math.max(a.y,Q.y);
for(var k=0;k<E;k++){var D=(T+k)*a.C+N,P=(d+k)*Q.C+K;for(var e=0;e<y;e++){R[P]=t*R[P]*(255-p[D]);D++;
P++}}};S.SHg=function(p,a){var R=[];for(var Q=0;Q<256;Q++)R.push(0);var t=p.length,N=1/255;for(var Q=0;
Q<t;Q++)R[p[Q]]+=a[Q]*N;return R};S.MW=function(p){var a=new Float64Array(256),R=new Float64Array(256),Q=new Float64Array(256),t=new Float64Array(256),N=p.length;
for(var K=0;K<N;K+=4){var T=p[K+3]*(1/255);R[p[K+0]]+=T;Q[p[K+1]]+=T;t[p[K+2]]+=T}for(var K=0;K<256;
K++)a[K]=R[K]+Q[K]+t[K];return[a,R,Q,t,N>>>2]};S.cb=function(p,a){var R=new Uint32Array(p.buffer),Q=R.length;
for(var t=0;t<Q;t++){var N=R[t],K=N&255,T=N>>8&255,d=N>>16&255,y=N>>24&255;R[t]=a[K]|a[T]<<8|a[d]<<16|a[y]<<24}};
S.SRS=function(p,a,R,Q,t,N,K){var T=new Uint32Array(p.buffer),d=new Uint32Array(a.buffer),y=T.length,E=0;
while(256<<E<R.length)E++;if(!K&&!N){for(var k=0;k!=y;k++){var D=T[k],P=(D&255)<<E,e=(D>>>8&255)<<E,Y=(D>>>16&255)<<E,O=R[P],W=Q[e],w=t[Y];
d[k]=O|W<<8|w<<16|D&4278190080}return}for(var k=0;k<y;k++){var D=T[k],P=(D&255)<<E,e=(D>>>8&255)<<E,Y=(D>>>16&255)<<E;
if(N)P=e=Y=Math.round(P*.3+e*.59+Y*.11);var O=R[P],W=Q[e],w=t[Y];if(K){var g=S.XT(P,e,Y),J=S.XT(O,W,w);
if(g>J){var U=(g-J)/(255-J);O+=U*(255-O);W+=U*(255-W);w+=U*(255-w)}else if(J==0)O=W=w=0;else{var U=g/J;
O=U*O;W=U*W;w=U*w}}d[k]=O|W<<8|w<<16|D&4278190080}};S.SHr=function(p){var a=new Uint32Array(256),Q=0;
for(var R=0;R<p.length;R++)a[p[R]]++;for(var R=0;R<256;R++)if(a[R]>a[Q])Q=R;return Q};S.Pv=function(p,a){var R=a.C,Q=a.T,top=0,t=0,N=0,K=0,T=0;
T=0;for(var d=0;d<Q;d++){var y=d*R;for(var E=0;E<R;E++)T|=p[y+E];if(T!=0)break;top++}if(top==Q)return new x(0,0,0,0);
T=0;for(var d=Q-1;d>=0;d--){var y=d*R;for(var E=0;E<R;E++)T|=p[y+E];if(T!=0)break;N++}var k=Q-N;T=0;
for(var E=0;E<R;E++){for(var d=top;d<k;d++)T|=p[d*R+E];if(T!=0)break;t++}T=0;for(var E=R-1;E>=0;E--){for(var d=top;
d<k;d++)T|=p[d*R+E];if(T!=0)break;K++}var D=new x(a.x+t,a.y+top,R-t-K,Q-top-N);return D};S.l_=function(p,a,R,Q){if(Q==null)Q=[!0,!0,!0,!0];
if(R==null)R=0;var t=new Uint32Array(p.buffer),N=a.C,K=a.T,top=0,T=0,d=0,y=0,E=!1,k=[t[0],t[t.length-1],0][R];
E=!1;if(Q[0])for(var D=0;D<K;D++){var P=D*N;for(var e=0;e<N;e++)if(t[P+e]!=k)E=!0;if(E)break;top++}E=!1;
if(Q[2])for(var D=K-1;D>=0;D--){var P=D*N;for(var e=0;e<N;e++)if(t[P+e]!=k)E=!0;if(E)break;d++}E=!1;
if(Q[1])for(var e=0;e<N;e++){for(var D=0;D<K;D++)if(t[D*N+e]!=k)E=!0;if(E)break;T++}E=!1;if(Q[3])for(var e=N-1;
e>=0;e--){for(var D=0;D<K;D++)if(t[D*N+e]!=k)E=!0;if(E)break;y++}var Y=new x(a.x+T,a.y+top,N-T-y,K-top-d);
return Y.RJ()?new x(0,0,0,0):Y};S.SHs=function(p){var a=255,R=p.length;for(var Q=3;Q<R;Q+=4)a=a&p[Q];
return a};S.dT=function(p){var a=S.Pv(p.channel,p.rect);if(a.xA(p.rect))return;var R=S.p(a.u());S.JG(p.channel,p.rect,R,a);
p.channel=R;p.rect=a};S.Uo=function(p){var a=S.p(p.buffer.length>>2);S.vh(p.buffer,a,3);var R=S.Pv(a,p.rect);
if(R.xA(p.rect))return;var Q=new S.p(R.u()*4);S.gW(p.buffer,p.rect,Q,R);p.buffer=Q;p.rect=R};S.extend=function(p,a,R){if(p.rect.tT(a))return;
var Q=p.rect.hT(a),t=S.p(Q.u());if(R!=null)S.set(t,R);S.JG(p.channel,p.rect,t,Q);p.rect=Q;p.channel=t};
S.SRq=function(p,a){if(a.RJ()||p.rect.tT(a))return;var R=p.rect.hT(a),Q=S.p(R.u()*4);S.gW(p.buffer,p.rect,Q,R);
p.rect=R;p.buffer=Q};S.SHR=function(p,a,R){var Q=a.clone(),t=R.u(),N=p.hT(Q);while(N.u()/p.u()<2&&N.u()<t){Q.vj(16,16);
N=N.hT(Q).Yl(R)}if(t/N.u()<2)N=R.clone();return N};S.cn=function(p){var a=p.length;for(var R=0;R<a;R+=4){var Q=p[R+3];
if(p[R]>Q)p[R]=Q;if(p[R+1]>Q)p[R+1]=Q;if(p[R+2]>Q)p[R+2]=Q}};S.uM=function(p,a,R){if(!R.lp(p))return!1;
var Q=Math.floor(p.x)-R.x,t=Math.floor(p.y)-R.y,N=t*R.C+Q;return a[N]>128};S.SId=function(p,a,R){if(!R.lp(p))return!1;
var Q=Math.floor(p.x)-R.x,t=Math.floor(p.y)-R.y,N=t*R.C+Q;return a[4*N+3]>128};S.ln=function(p){if(S.Wp.length<p){S.Wp=S.p(p);
S.set(S.Wp,255)}return S.Wp};S.Wp=S.p(0);S.No=function(p){if(S.lk.length<p)S.lk=S.p(p);return S.lk};
S.lk=S.p(0);S.LV=function(p){this.Eu=S.p(p);this.D=S.p(p);this.X=S.p(p);this.N=S.p(p)};S.LV.prototype.clone=function(){var p=this.Eu.length,a=new S.LV(1);
a.Eu=S.clone(this.Eu);a.D=S.clone(this.D);a.X=S.clone(this.X);a.N=S.clone(this.N);return a};S.ck={SIK:function(p,a){var R=p.length;
p.push(a);var Q=R>>>1;while(Q!=0&&p[R][0]<p[Q][0]){var t=p[R];p[R]=p[Q];p[Q]=t;R=Q;Q=R>>>1}},SIs:function(p){if(p.length==2)return p.pop();
var top=p[1],a=1;p[1]=p.pop();var R=p.length;while(!0){var Q=a<<1,t=Q+1,N=a;if(Q<R&&p[Q][0]<p[N][0])N=Q;
if(t<R&&p[t][0]<p[N][0])N=t;if(N==a)break;var K=p[a];p[a]=p[N];p[N]=K;a=N}return top},SHq:function(p){for(var a=1;
a<p.length;a++){var R=a,Q=1e9;while(R!=0){var t=p[R][0];if(t>Q){console.log(a);throw"e"}Q=t;R=R>>>1}}}};
S.O={};S.O.WB=new Float64Array(256);S.O.AK=new Uint8Array(256*256);S.O.lc=new Uint8Array(256*256);(function(){for(var p=0;
p<256;p++)S.O.WB[p]=255/p;for(var p=0;p<256;p++)for(var a=0;a<256;a++)S.O.AK[p*256+a]=p==0?0:Math.round(a*255/p);
for(var p=0;p<256;p++)for(var a=0;a<256;a++)S.O.lc[p*256+a]=Math.round(p*(255-a)/255)}());S.O.KJ=function(p,a,R,Q,t,N,K,T){if(T==null)T=gB.vr();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(p)==-1){K=K*T.fill;T.fill=1;T.style=!1}var d="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),y="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),E=S.O[p+"F"];
if(T.Ws==null&&p=="norm")S.O.Ser(a,R,Q,t,N,K,E,T.Wl?1:0);else if(p=="diss")S.O.SeA(a,R,Q,t,N,K,E,T.Wl?1:0);
else if(d.indexOf(p)!=-1)S.O.Seo(a,R,Q,t,N,K,E,T);else if(y.indexOf(p)!=-1)S.O.Set(a,R,Q,t,N,K,E,T)};
S.O.SI_=function(p,a,R){var Q=p*R+1-R;return Q<.001?0:1-Math.min(1,(1-a)/Q)};S.O.SIn=function(p,a,R){return p*R==1?1:Math.min(1,a/(1-p*R))};
S.O.XP=function(p){return p<=.25?((16*p-12)*p+4)*p:Math.sqrt(p)};S.O.normF=function(p,a,R){return p};
S.O.darkF=function(p,a,R){return Math.min(p,a)};S.O["mul F"]=function(p,a,R){return p*a};S.O.idivF=function(p,a,R){var Q=p*R+1-R;
return a==1?1:1-a>=Q?0:1-(1-a)/Q};S.O.lbrnF=function(p,a,R){return Math.max(0,p*R+a-R)};S.O.dkClF=function(p,a,R){var Q=S.lv(p)<S.lv(a)?p:a;
R.D=Q.D;R.X=Q.X;R.N=Q.N;return R};S.O.liteF=function(p,a,R){return Math.max(p,a)};S.O.scrnF=function(p,a,R){return a+p-a*p};
S.O["div F"]=function(p,a,R){p*=R;return a==0?0:a>=1-p?1:a/(1-p)};S.O.lddgF=function(p,a,R){p*=R;return Math.min(1,p+a)};
S.O.lgClF=function(p,a,R){var Q=S.lv(p)>S.lv(a)?p:a;R.D=Q.D;R.X=Q.X;R.N=Q.N;return R};S.O.overF=function(p,a,R){return S.O.hLitF(a,p,R)};
S.O.sLitF=function(p,a,R){return p<=.5?a-(1-2*p)*a*(1-a):a+(2*p-1)*(S.O.XP(a)-a)};S.O.hLitF=function(p,a,R){return p<=.5?S.O["mul F"](2*p,a,R):S.O.scrnF(2*p-1,a,R)};
S.O.vLitF=function(p,a,R){return p<=.5?S.O.SI_(2*p,a,R):S.O.SIn(2*p-1,a,R)};S.O.lLitF=function(p,a,R){return p<=.5?S.O.lbrnF(2*p,a,R):S.O.lddgF(2*p-1,a,R)};
S.O.pLitF=function(p,a,R){return p<=.5?S.O.darkF(2*p,a,R):S.O.liteF(2*p-1,a,R)};S.O.hMixF=function(p,a,R){if(R>.99)return p+a<1?0:1;
return Math.min(1,Math.max(0,(a+p*R-R)/(1-R+1e-6)))};S.O.diffF=function(p,a,R){p*=R;return Math.abs(p-a)};
S.O.smudF=function(p,a,R){return p+a-2*p*a};S.O.fsubF=function(p,a,R){return Math.max(a-p,0)};S.O.fdivF=function(p,a,R){return Math.min(a/p,1)};
S.O["hue F"]=function(p,a,R){S.UY(p,S.ob(a),R);S.MZ(R,S.lv(a),R)};S.O["sat F"]=function(p,a,R){S.UY(a,S.ob(p),R);
S.MZ(R,S.lv(a),R)};S.O.colrF=function(p,a,R){S.MZ(p,S.lv(a),R)};S.O["lum F"]=function(p,a,R){S.MZ(a,S.lv(p),R)};
S.O.Ser=function(p,a,R,Q,t,N,K,T){var d=a.Yl(Q).Yl(t),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=a.C,O=Q.C,W=S.O.AK,w=S.O.lc,g=new Uint32Array(p.buffer),J=new Uint32Array(R.buffer);
for(var U=0;U<e;U++){var H=(k+U)*Y+y,f=(D+U)*O+E;for(var j=0;j<P;j++){var I=g[H+j],v=255;if(I>>>24==0)continue;
if(I>>>24==255&&N==1&&T==0){J[f+j]=g[H+j];continue}var L=J[f+j],C=255*N&255;if(T==0){C=(I>>>24)*N&255;
v=L>>>24}var o=w[v<<8|C],Z=C+o,B=I&255,s=I>>>8&255,q=I>>>16&255,F=L&255,b=L>>>8&255,G=L>>>16&255;J[f+j]=T*(L>>>24)+(1-T)*Z<<24|W[Z<<8|S.Ax(q*C+G*o)]<<16|W[Z<<8|S.Ax(s*C+b*o)]<<8|W[Z<<8|S.Ax(B*C+F*o)]}}};
S.O.Sel=function(p,a,R,Q,t,N){var K=a.Yl(Q).Yl(t),T=Math.max(0,K.x-a.x),d=Math.max(0,K.x-Q.x),y=Math.max(0,K.y-a.y),E=Math.max(0,K.y-Q.y),k=K.C,D=K.T,P=a.C,e=Q.C,Y=S.O.AK,O=S.O.lc,W=new Uint32Array(p.buffer),w=new Uint32Array(R.buffer),g=Math.floor(Math.random()*16777215),J=0;
for(var U=0;U<D;U++){var H=(y+U)*P+T,f=(E+U)*e+d;for(var j=0;j<k;j++){var I=W[H+j];if(I>>>24==0)continue;
if(I>>24==255&&N==1){w[f+j]=I;continue}var L=w[f+j],C=(I>>>24)*N*(1/255),v=(L>>>24)*(1/255),o=v*(1-C),Z=C+o,B=I&255,s=I>>>8&255,q=I>>>16&255,F=L&255,b=L>>>8&255,G=L>>>16&255;
J>>>=8;if((j&3)==0)J=S.O.fE(f+j+g);var u=Z==0?0:1/Z,h=Math.floor(Z*(256*255))+(J&255)>>>8,z=Math.floor((q*C+G*o)*u+.5),r=Math.floor((s*C+b*o)*u+.5),i=Math.floor((B*C+F*o)*u+.5);
w[f+j]=h<<24|z<<16|r<<8|i}}};S.O.WM=function(p,a,R,Q,t,N,K,T){var d=S.XT(p,a,R),y=S.XT(Q,t,N),E=Math.min,k=S.O.Sey,D=k(d,T,0);
D=E(D,k(p,T,8));D=E(D,k(a,T,16));D=E(D,k(R,T,24));var P=k(y,T,4);P=E(P,k(Q,T,12));P=E(P,k(t,T,20));P=E(P,k(N,T,28));
P=Math.max(P,1-K);var e=Math.min(D,P);return e<0?0:e>1?1:e};S.O.Sey=function(p,a,R){return Math.min((p-a[R])*a[R+1],(p-a[R+3])*a[R+2])};
S.O.Seo=function(p,a,R,Q,t,N,K,T){var d=1/255,y=d*N,E=T.Wl?1:0,k=T.fill,D=T.style,P=a.Yl(Q).Yl(t),e=Math.max(0,P.x-a.x),Y=Math.max(0,P.x-Q.x),O=Math.max(0,P.y-a.y),W=Math.max(0,P.y-Q.y),w=P.C,g=P.T,J=a.C,U=Q.C,H=new Uint32Array(p.buffer),f=new Uint32Array(R.buffer);
for(var j=0;j<g;j++){var I=(O+j)*J+e,L=(W+j)*U+Y;for(var C=0;C<w;C++,I++,L++){var v=H[I],u=1;if(v>>>24==0)continue;
var o=f[L],Z=(v&255)*d,B=(v>>>8&255)*d,s=(v>>>16&255)*d,q=(o&255)*d,F=(o>>>8&255)*d,b=(o>>>16&255)*d,G=N;
if(E==0){G=(v>>>24)*y;u=(o>>>24)*d}if(T.Ws)G*=S.O.WM(Z,B,s,q,F,b,u,T.Ws);var h=u*(1-G),z=G+h,r=255/z,i=D?1:G,gg=((1-u)*G*Z+(1-i)*u*q+i*u*K(Z,q,(1+G-i)*k))*r,gC=((1-u)*G*B+(1-i)*u*F+i*u*K(B,F,(1+G-i)*k))*r,gd=((1-u)*G*s+(1-i)*u*b+i*u*K(s,b,(1+G-i)*k))*r;
z=G*k+u*(1-G*k);var gY=Math.round(z*255);f[L]=E*(o>>>24)+(1-E)*gY<<24|gd<<16|gC<<8|gg}}};S.O.Set=function(p,a,R,Q,t,N,K,T){var d=1/255,y=d*N,E=T.Wl?1:0,k=a.Yl(Q).Yl(t),D=Math.max(0,k.x-a.x),P=Math.max(0,k.x-Q.x),e=Math.max(0,k.y-a.y),Y=Math.max(0,k.y-Q.y),O=k.C,W=k.T,w=new Uint32Array(p.buffer),g=new Uint32Array(R.buffer),J={D:0,X:0,N:0},U={D:0,X:0,N:0},H={D:0,X:0,N:0};
for(var f=0;f<W;f++){var j=(e+f)*a.C+D,I=(Y+f)*Q.C+P;for(var L=0;L<O;L++,j++,I++){var C=w[j],v=g[I],o=(C&255)*d,Z=(C>>>8&255)*d,B=(C>>>16&255)*d,s=(v&255)*d,q=(v>>>8&255)*d,F=(v>>>16&255)*d,b=N,G=1;
if(E==0){b=(C>>>24)*y;G=(v>>>24)*d}if(T.Ws)b*=S.O.WM(o,Z,B,s,q,F,G,T.Ws);var u=G*(1-b),h=b+u,z=255/h;
J.D=o;J.X=Z;J.N=B;U.D=s;U.X=q;U.N=F;K(J,U,H);var r=(((1-G)*o+G*H.D)*b+s*u)*z,i=(((1-G)*Z+G*H.X)*b+q*u)*z,gg=(((1-G)*B+G*H.N)*b+F*u)*z,gC=E*(v>>>24)+(1-E)*Math.round(h*255);
g[I]=gC<<24|gg<<16|i<<8|r}}};S.O.JQ=function(p){p=p^61^p>>>16;p=p+(p<<3);p=p^p>>>4;p=p*668265261;p=p^p>>15;
return(p&16777215)*(1/16777215)};S.O.fE=function(p){p=p^61^p>>>16;p=p+(p<<3);p=p^p>>>4;p=p*668265261;
p=p^p>>>15;return p};S.O.lj=function(p){this.IV=p};S.O.lj.prototype.get=function(){var p=this.IV=S.O.fE(this.IV);
return(p&16777215)*(1/16777215)};S.O.SeA=function(p,a,R,Q,t,N,K,T){var d=1/255,y=d*N,E=Math.round(N*(256*256*256/255)),k=a.Yl(Q).Yl(t),D=Math.max(0,k.x-a.x),P=Math.max(0,k.x-Q.x),e=Math.max(0,k.y-a.y),Y=Math.max(0,k.y-Q.y),O=k.C,W=k.T,w=new Uint32Array(p.buffer),g=new Uint32Array(R.buffer);
for(var J=0;J<W;J++){var U=(e+J)*a.C+D,H=(Y+J)*Q.C+P;for(var f=0;f<O;f++,U++,H++){var j=w[U],I=g[H],L=T*255+(1-T)*(j>>>24);
if((S.O.fE(U)&16777215)>=L*E)continue;g[H]=j&16777215|T*(I>>>24)+(1-T)*255<<24}}};S.O.SHM=function(p,a,R){for(var Q=0;
Q<p.length;Q+=4){var t=R[Q>>>2];if(t==0)continue;var N=t*(1/255),K=1/N,T=a[Q],d=a[Q+1],y=a[Q+2],E=p[Q],k=p[Q+1],D=p[Q+2];
a[Q]=Math.min(255,Math.max(0,Math.round((T-(1-N)*E)*K)));a[Q+1]=Math.min(255,Math.max(0,Math.round((d-(1-N)*k)*K)));
a[Q+2]=Math.min(255,Math.max(0,Math.round((y-(1-N)*D)*K)));a[Q+3]=255}};S.O.sH=function(p,a,R,Q,t,N,K,T,d,y){if(y==null)y=!1;
if(t&&!a.xA(N)){var E=S.p(a.u()*4);S.set(E,K);S.JG(t,N,E,a);t=E;N=a}if(y){if(t==null)S.O.Sen(p,a,R,Q,t,T,d);
else S.O.SfM(p,a,R,Q,t,T,d)}else{if(t==null)S.O.SeE(p,a,R,Q,t,T,d);else S.O.SHi(p,a,R,Q,t,T,d)}};S.O.SeE=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=new Uint32Array(p.buffer),O=new Uint32Array(R.buffer),W=S.O.AK,w=K*255&255;
for(var g=0;g<e;g++){var J=(k+g)*a.C+y,U=(D+g)*Q.C+E;for(var H=0;H<P;H++,J++,U++){var f=Y[J],j=O[U],I=f>>>24,L=j>>>24,C=S.Ax(w*I+(255-w)*L),v=S.Ax(I*w),o=S.Ax(L*(255-w)),Z=f&255,B=f>>>8&255,s=f>>>16&255,q=j&255,F=j>>>8&255,b=j>>>16&255,G=v*Z+q*o,u=v*B+F*o,h=v*s+b*o;
G=W[C<<8|S.Ax(G)];u=W[C<<8|S.Ax(u)];h=W[C<<8|S.Ax(h)];O[U]=C<<24|h<<16|u<<8|G}}};S.O.Sen=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=new Uint32Array(p.buffer),O=new Uint32Array(R.buffer),W=S.O.AK,w=K*16777215&16777215;
for(var g=0;g<e;g++){var J=(k+g)*a.C+y,U=(D+g)*Q.C+E;for(var H=0;H<P;H++,J++,U++){if((S.O.fE(J)&16777215)<w)O[U]=Y[J]}}};
S.O.SHi=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=new Uint32Array(p.buffer),O=new Uint32Array(R.buffer),W=S.O.AK;
for(var w=0;w<e;w++){var g=(k+w)*a.C+y,J=(D+w)*Q.C+E;for(var U=0;U<P;U++,g++,J++){var H=t[g]*K&255;if(H==0)continue;
if(H==255){O[J]=Y[g];continue}var f=Y[g],j=O[J],I=f>>>24,L=j>>>24,C=S.Ax(H*I+(255-H)*L),v=S.Ax(I*H),o=S.Ax(L*(255-H)),Z=f&255,B=f>>>8&255,s=f>>>16&255,q=j&255,F=j>>>8&255,b=j>>>16&255,G=W[C<<8|S.Ax(v*Z+q*o)],u=W[C<<8|S.Ax(v*B+F*o)],h=W[C<<8|S.Ax(v*s+b*o)];
O[J]=C<<24|h<<16|u<<8|G}}};S.O.SfM=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=new Uint32Array(p.buffer),O=new Uint32Array(R.buffer),W=S.O.AK,w=Math.round(K*257);
for(var g=0;g<e;g++){var J=(k+g)*a.C+y,U=(D+g)*Q.C+E;for(var H=0;H<P;H++,J++,U++){var f=t[J]*w;if((S.O.fE(J)&65535)<f)O[U]=Y[J]}}};
S.O.cc=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T,Y=new Uint32Array(p.buffer),O=new Uint32Array(R.buffer),W=Math.floor(Math.random()*Q.u()),w=S.O.SLx;
for(var g=0;g<e;g++){var J=(k+g)*a.C+y,U=(D+g)*Q.C+E;for(var H=0;H<P;H++){var f=t[J+H]*K;if(f==0)continue;
if(f==255){O[U+H]=Y[J+H];continue}var j=Y[J+H],I=O[U+H],L=j>>>24,C=I>>>24,v=L*f*(1/255),o=C*(255-f)*(1/255),Z=j&255,B=j>>>8&255,s=j>>>16&255,q=I&255,F=I>>>8&255,b=I>>>16&255,G=S.O.fE(U+H+W),u=Math.floor((v+o)*256+.5)+(G>>>0&255)>>>8,h=u==0?0:256/(v+o),z=Z*v+q*o,r=B*v+F*o,i=s*v+b*o,gg=Math.floor(z*h+.5)+(G>>>8&255)>>>8,gC=Math.floor(r*h+.5)+(G>>>16&255)>>>8,gd=Math.floor(i*h+.5)+(G>>>21&248)>>>8;
O[U+H]=u<<24|gd<<16|gC<<8|gg}}};S.O.SLx=function(p){return Math.floor(p+Math.random())};S.O.MO=function(p,a,R,Q,t,N,K){var T=1/255,d=a.Yl(Q).Yl(N),y=Math.max(0,d.x-a.x),E=Math.max(0,d.x-Q.x),k=Math.max(0,d.y-a.y),D=Math.max(0,d.y-Q.y),P=d.C,e=d.T;
for(var Y=0;Y<e;Y++){var O=(k+Y)*a.C+y,W=(D+Y)*Q.C+E;for(var w=0;w<P;w++,O++,W++){var g=K*t[O]*T;if(g==0)continue;
if(g==1){R[W]=p[O];continue}R[W]=p[O]*g+R[W]*(1-g)}}};S.xo={};S.xo.SLJ=function(p,a,R,Q,t,N){S.xo.sS(p,a,R,Q,t,N,null,0)};
S.xo.SLQ=function(p,a,R,Q,t){S.xo.sS(p,a,R,Q,t,null,null,0)};S.xo.SLw=function(p,a,R,Q,t,N,K){S.xo.sS(p,a,R,Q,t,null,N,K*.5)};
S.xo.sS=function(p,a,R,Q,t,N,K,T){var d=0,Z=0,B=1e9,s=0,q=1e9,F=0,b=1e9,G=0,u=0,h=0,z=0;if(N){d=t*.5;
t=3+Math.round((t-3)*.75)}if(K){t=Math.round(t*2.2)}var y=1/t,E=Math.floor(a*y)+1,k=Math.floor(R*y)+1,D=[],P=new Uint8Array(E*k*4),e=K?.5:1,Y=N?64:0;
for(var O=0;O<k;O++){var W=K?.5*(O&1):0;for(var w=0;w<E;w++){var g=(w+Math.random()*e+W)*t,J=(O+Math.random()*e)*t;
D.push(g,J);var U=Math.min(a-1,Math.floor(g)),H=Math.min(R-1,Math.floor(J)),f=(H*a+U)*4,j=(O*E+w)*4;
for(var I=0;I<4;I++)P[j+I]=Math.max(0,Math.min(255,Math.floor(p[f+I]+(Math.random()-.5)*Y)))}}var C=N?N:K?K:[0,0,0],v=E*k*2,o=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1];
for(var O=0;O<R;O++){h=0;for(var w=0;w<a;w++){var i=w+.5,gg=O+.5,gC=Math.floor(gg*y),gd=Math.floor(i*y),gY=gC*E+gd,M=0,Cj=0;
if(h>1+T){B=S.xo.jZ(D,Z,i,gg);G=Math.sqrt(B);h--;z++}else{B=q=b=1e9;for(var I=0;I<o.length;I++){var gN=(gY+o[I])*2;
if(gN<0||gN>=v)continue;var gS=S.xo.jZ(D,gN,i,gg);if(gS<b){if(gS<q){if(gS<B){F=s;b=q;s=Z;q=B;Z=gN;B=gS}else{F=s;
b=q;s=gN;q=gS}}else{F=gN;b=gS}}}G=Math.sqrt(B);u=Math.sqrt(q);h=u-(G+u)*.5}if(K==null){var gs=(G+u)*.5,gl=N?Math.max(0,gs-d):0;
M=Math.max(0,Math.min(1,.5+gs-G-gl));Cj=Math.max(0,Math.min(1,1-(.5+gs-G)-gl))}else{var gR=Math.min(S.xo.jK(D,Z,s,i,gg),S.xo.jK(D,Z,F,i,gg));
M=Math.max(0,Math.min(1,gR-T*.5));if(i<T||a-T<i||gg<T||R-T<gg)M=0;Cj=0}var ge=1-Cj-M,j=O*a+w<<2,So=Z<<1,gq=s<<1;
Q[j+0]=Math.floor(.5+M*P[So+0]+Cj*P[gq+0]+ge*C[0]);Q[j+1]=Math.floor(.5+M*P[So+1]+Cj*P[gq+1]+ge*C[1]);
Q[j+2]=Math.floor(.5+M*P[So+2]+Cj*P[gq+2]+ge*C[2]);Q[j+3]=p[j+3]}}};S.xo.jZ=function(p,a,R,Q){var t=R-p[a],N=Q-p[a+1];
return t*t+N*N};S.xo.jK=function(p,a,R,Q,t){var N=p[a],K=p[a+1],T=p[R],d=p[R+1],y=(N+T)*.5,E=(K+d)*.5,k=y+(d-K),D=E-(T-N),P=D-E,e=k-y;
return Math.abs(P*Q-e*t+k*E-D*y)/Math.sqrt(e*e+P*P)};S.blur={};S.blur.St=function(p){if(S.blur.WX.length<p)S.blur.WX=S.p(p);
return S.blur.WX};S.blur.WX=S.p(0);S.blur.jC=function(p){if(S.blur.sY.length<p)S.blur.sY=new Float32Array(p);
return S.blur.sY};S.blur.sY=new Float32Array(0);S.blur.Pc=function(p,a,R,Q){var t=R.C,N=R.T;S.blur.SLD(p,a,t,N,Q)};
S.blur.SLA=function(p,a,R){var Q=a.C,t=a.T;S.blur.SLm(p,Q,t,R)};S.blur.AC=function(p,a,R,Q,t){var N=R.C,K=R.T;
S.blur.SLu(p,a,N,K,Q,t)};S.blur.jg=function(p,a,R,Q){var t=R.C,N=R.T;Q=Math.round(Q);var K=S.blur.St(t*N);
S.$M(p,a);S.blur.Wa(a,K,t,N,Q)};S.blur.jp=function(p,a,R){var Q=a.C,t=a.T;R=Math.round(R);var N=S.blur.St(Q*t*4);
S.blur.Ww(p,N,Q,t,R)};S.blur.ST=function(p,a,R,Q){var t=R.C,N=R.T;Q=Math.round(Q);var K=S.blur.jC(t*N);
S.$M(p,a);S.blur.je(a,K,t,N,Q)};S.blur.jl=function(p,a,R){var Q=a.C,t=a.T;R=Math.round(R);var N=S.blur.St(Q*t*4);
S.blur.jH(p,N,Q,t,R);S.$M(N,p)};S.blur.Wy=function(p,a){var R=Math.sqrt(12*p*p/a+1),Q=Math.floor(R);
if(Q%2==0)Q--;var t=Q+2,N=(12*p*p-a*Q*Q-4*a*Q-3*a)/(-4*Q-4),K=Math.round(N),T=[];for(var d=0;d<a;d++)T.push(d<K?Q:t);
return T};S.blur.SLD=function(p,a,R,Q,t){var N=S.blur.Wy(t,3),K=S.blur.St(R*Q);S.$M(p,a);S.blur.Wa(a,K,R,Q,N[0]-1>>1);
S.blur.Wa(a,K,R,Q,N[1]-1>>1);S.blur.Wa(a,K,R,Q,N[2]-1>>1)};S.blur.SLm=function(p,a,R,Q){var t=S.blur.Wy(Q,3),N=S.blur.St(a*R*4);
S.blur.Ww(p,N,a,R,t[0]-1>>1);S.blur.Ww(p,N,a,R,t[1]-1>>1);S.blur.Ww(p,N,a,R,t[2]-1>>1)};S.blur.SLu=function(p,a,R,Q,t,N){if(N==null)N=3;
var K=S.blur.Wy(t,N),T=S.blur.jC(R*Q);S.$M(p,a);for(var d=0;d<N;d++)S.blur.je(a,T,R,Q,(K[0]-1)/2)};S.blur.Wa=function(p,a,R,Q,t){S.blur.SLP(p,a,R,Q,t);
S.blur.SLj(a,p,R,Q,t)};S.blur.Ww=function(p,a,R,Q,t){S.blur.jH(p,a,R,Q,t);S.blur.SBZ(a,p,R,Q,t)};S.blur.je=function(p,a,R,Q,t){S.blur.SLV(p,a,R,Q,t);
S.blur.SBS(a,p,R,Q,t)};S.blur.sl=[];S.blur.Od=function(p){if(S.blur.sl[p])return S.blur.sl[p];var a=1/(p+p+1),R=(p+p+1)*256,Q=S.p(R);
for(var t=0;t<R;t++)Q[t]=Math.round(t*a);S.blur.sl[p]=Q;return Q};S.blur.SLP=function(p,a,R,Q,t){var N=1/(t+t+1),K=R-t-t-1,T=S.blur.Od(t);
for(var d=0;d<Q;d++){var y=d*R,E=y,k=y+t,D=p[y],P=p[y+R-1],e=(t+1)*D;for(var Y=0;Y<t;Y++)e+=p[y+Y];for(var Y=0;
Y<=t;Y++){e+=p[k+Y]-D;a[y+Y]=T[e]}k+=t+1;y+=t+1;for(var Y=0;Y<K;Y++){e+=p[k+Y]-p[E+Y];a[y+Y]=T[e]}k+=K;
E+=K;y+=K;for(var Y=R-t;Y<R;Y++){e+=P-p[E++];a[y++]=T[e]}}};S.blur.jH=function(p,a,R,Q,t){var N=R<<2,K=t<<2,T=1/(t+t+1),d=R-t-t-1,y=d<<2,E=S.blur.Od(t);
for(var k=0;k<Q;k++){var D=k*N,P=D,e=D+K,Y=D+N,O=p[D],W=p[D+1],w=p[D+2],g=p[D+3],J=(t+1)*O,U=(t+1)*W,H=(t+1)*w,f=(t+1)*g;
for(var j=0;j<K;j+=4){J+=p[D+j];U+=p[D+j+1];H+=p[D+j+2];f+=p[D+j+3]}for(var j=0;j<=K;j+=4){J+=p[e]-O;
a[D]=E[J];U+=p[e+1]-W;a[D+1]=E[U];H+=p[e+2]-w;a[D+2]=E[H];f+=p[e+3]-g;a[D+3]=E[f];e+=4;D+=4}for(var j=0;
j<y;j+=4){J+=p[e+j]-p[P+j];a[D+j]=E[J];U+=p[e+j+1]-p[P+j+1];a[D+j+1]=E[U];H+=p[e+j+2]-p[P+j+2];a[D+j+2]=E[H];
f+=p[e+j+3]-p[P+j+3];a[D+j+3]=E[f]}e+=y;P+=y;D+=y;O=p[Y-4];W=p[Y-3];w=p[Y-2];g=p[Y-1];for(var j=R-t;
j<R;j++){J+=O-p[P];a[D]=E[J];U+=W-p[P+1];a[D+1]=E[U];H+=w-p[P+2];a[D+2]=E[H];f+=g-p[P+3];a[D+3]=E[f];
P+=4;D+=4}}};S.blur.SLV=function(p,a,R,Q,t){var N=1/(t+t+1),K=R-t-t-1,T=0,d=0,y=0;for(var E=0;E<Q;E++){T=E*R;
d=T;y=T+t;var k=p[T],D=p[T+R-1],P=(t+1)*k;for(var e=0;e<t;e++){P+=p[T+e]}for(var e=0;e<=t;e++){P+=p[y++]-k;
a[T++]=P*N}for(var e=0;e<K;e++){P+=p[y+e]-p[d+e];a[T+e]=P*N}y+=K;d+=K;T+=K;for(var e=R-t;e<R;e++){P+=D-p[d++];
a[T++]=P*N}}};S.blur.SLj=function(p,a,R,Q,t){var N=1/(t+t+1),K=Q-t-t-1,T=S.blur.Od(t);for(var d=0;d<R;
d++){var y=d,E=y,k=y+t*R,D=p[y],P=p[y+R*(Q-1)],e=(t+1)*D;for(var Y=0;Y<t;Y++)e+=p[y+Y*R];for(var Y=0;
Y<=t;Y++){e+=p[k]-D;a[y]=T[e];k+=R;y+=R}for(var Y=0;Y<K;Y++){var O=Y*R;e+=p[k+O]-p[E+O];a[y+O]=T[e]}E+=K*R;
k+=K*R;y+=K*R;for(var Y=Q-t;Y<Q;Y++){e+=P-p[E];a[y]=T[e];E+=R;y+=R}}};S.blur.SBZ=function(p,a,R,Q,t){var N=R<<2,K=t<<2,T=1/(t+t+1),d=Q-t-t-1,y=d<<2,E=S.blur.Od(t);
for(var k=0;k<R;k++){var D=k<<2,P=D,e=D+t*N,Y=D+N*(Q-1),O=p[D],W=p[D+1],w=p[D+2],g=p[D+3],J=(t+1)*O,U=(t+1)*W,H=(t+1)*w,f=(t+1)*g;
for(var j=0;j<t;j++){var I=D+j*N;J+=p[I];U+=p[I+1];H+=p[I+2];f+=p[I+3]}for(var j=0;j<=t;j++){J+=p[e]-O;
a[D]=E[J];U+=p[e+1]-W;a[D+1]=E[U];H+=p[e+2]-w;a[D+2]=E[H];f+=p[e+3]-g;a[D+3]=E[f];e+=N;D+=N}for(var j=0;
j<d;j++){var L=j*N;J+=p[e+L]-p[P+L];a[D+L]=E[J];U+=p[e+L+1]-p[P+L+1];a[D+L+1]=E[U];H+=p[e+L+2]-p[P+L+2];
a[D+L+2]=E[H];f+=p[e+L+3]-p[P+L+3];a[D+L+3]=E[f]}P+=d*N;e+=d*N;D+=d*N;O=p[Y];W=p[Y+1];w=p[Y+2];g=p[Y+3];
for(var j=Q-t;j<Q;j++){J+=O-p[P];a[D]=E[J];U+=W-p[P+1];a[D+1]=E[U];H+=w-p[P+2];a[D+2]=E[H];f+=g-p[P+3];
a[D+3]=E[f];P+=N;D+=N}}};S.blur.SBS=function(p,a,R,Q,t){var N=1/(t+t+1),K=Q-t-t-1;for(var T=0;T<R;T++){var d=T,y=d,E=d+t*R,k=p[d],D=p[d+R*(Q-1)],P=(t+1)*k;
for(var e=0;e<t;e++)P+=p[d+e*R];for(var e=0;e<=t;e++){P+=p[E]-k;a[d]=P*N;E+=R;d+=R}for(var e=0;e<K;e++){var Y=e*R;
P+=p[E+Y]-p[y+Y];a[d+Y]=P*N}y+=K*R;E+=K*R;d+=K*R;for(var e=Q-t;e<Q;e++){P+=D-p[y];a[d]=P*N;y+=R;d+=R}}};
S.Lp={};S.Lp.p=function(p,a,R,Q){var t=[];for(var N=0;N<4;N++)for(var K=0;K<4;K++)t.push(p+R*K/3,a+Q*N/3);
return t};S.Lp.jf=function(p,a){var R=p.slice(0);for(var Q=0;Q<4;Q++)for(var t=0;t<4;t++){var N=2*(Q*4+t),K=2*(t*4+(3-Q));
if(a){var T=N;N=K;K=T}R[K]=p[N];R[K+1]=p[N+1]}return R};S.Lp.SBK=new Float64Array(16);S.Lp.drawImage=function(p,a,R,Q,t,N,K){if(K==null)K=!1;
var T=N.C,d=N.T,D=2;t=new Uint32Array(t.buffer);a=new Uint32Array(a.buffer);var y=S.Lp.j.j$(p,0,1,0,1,R,Q),E=y.fl,k=y.bB,P=1/D,e=S.Lp.OK,Y=new Float64Array(2),O=new Uint32Array(30);
for(var W=0;W<d;W++)for(var w=0;w<T;w++){var g=w+N.x+.5,J=W+N.y+.5,U=S.Lp.j.SBR(E,k,g,J,O),v=0,o=0,Z=0,B=0;
if(U==0)continue;var H=W*T+w,f=S.Lp.uM(p,g,J,E,O,U,!0),j=e[0]*R,I=e[1]*Q;if(K){if(f!=-1&&0<j&&j<R&&0<I&&I<Q){var L=Math.floor(I)*R+Math.floor(j);
t[H]=a[L]}continue}var C=f!=-1&&(1<j&&j<R-1)&&(1<I&&I<Q-1);if(E[f+8]<.95){S.L.Fe(j,I,a,R,Q,t,H,0);continue}for(var s=0;
s<D;s++)for(var q=0;q<D;q++){var g=w+N.x+(s+.5)*P,J=W+N.y+(q+.5)*P,f=0;f=S.Lp.uM(p,g,J,E,O,U,!0);if(f!=-1){var j=e[0],I=e[1],j=Math.floor(j*R);
I=Math.floor(I*Q);var F=a[I*R+j],b=F>>>24;v+=(F&255)*b;o+=(F>>>8&255)*b;Z+=(F>>>16&255)*b;B+=b}}if(B!=0){var G=1/B;
v=~~(v*G+.5);o=~~(o*G+.5);Z=~~(Z*G+.5);B=~~(B*P*P+.5);t[H]=B<<24|Z<<16|o<<8|v}}};S.Lp.OK=new Float64Array(5*20);
S.Lp.SBl=new Uint32Array(5*5*20);S.Lp.uM=function(p,a,R,Q,t,N,K){var T=S.Lp.OK,d=S.Lp.SBl,y=0,E=0;for(var k=0;
k<N;k++){var D=t[k],P=y;y=S.Lp.ss(p,a,R,Q,D+4,K,T,y);if(y!=P){d[E]=D;E+=5}}if(y==0)return-1;else if(y==5)return d[0];
else{var e=0;for(var k=0;k<y;k+=5)if(T[k+4]<T[e+4])e=k;T[0]=T[e];T[1]=T[e+1];T[2]=T[e+2];T[3]=T[e+3];
return d[e]}};S.Lp.XQ=new Array(10);S.Lp.ss=function(p,a,R,Q,t,N,K,T){var d=S.Lp.XQ,y=0,E=0,k=0,D=0,P=0,e=0,Y=0,O=Q[t],W=Q[t+1],w=Q[t+2],g=Q[t+3],J=(w-a)*(w-a)+(g-R)*(g-R);
for(var U=0;U<5&&J>.05;U++){S.Lp.Fl(d,0,W);S.Lp.Fg(d,4,O);S.Lp.Dy(p,d);y=d[8];E=d[9];S.Lp.Fg(d,0,W);
S.Lp.Fl(d,4,O);S.Lp.Dy(p,d);k=d[8];D=d[9];P=1/(y*D-E*k);e=(w-a)*P;Y=(g-R)*P;O+=-D*e+k*Y;W+=+E*e-y*Y;
S.Lp.sR(p,O,W,d);w=d[8];g=d[9];J=(w-a)*(w-a)+(g-R)*(g-R)}if(N&&(O<0||O>1||W<0||W>1||J>.25))return T;
K[T]=O;K[T+1]=W;K[T+2]=w;K[T+3]=g;K[T+4]=y*D-E*k;return T+5};S.Lp.apply=function(p,a,R){var Q=R.x,t=R.y,N=1/R.C,K=1/R.T,T=S.Lp.XQ;
for(var d=0;d<a.length;d+=2){var y=(a[d]-Q)*N,E=(a[d+1]-t)*K;S.Lp.sR(p,y,E,T);a[d]=T[8];a[d+1]=T[9]}};
S.Lp.sR=function(p,a,R,Q){S.Lp.Fl(Q,0,R);S.Lp.Fl(Q,4,a);S.Lp.Dy(p,Q)};S.Lp.Fg=function(p,a,R){var Q=1-R;
p[a]=-3*(Q*Q);p[a+1]=3*(Q*Q)-6*(R*Q);p[a+2]=6*(R*Q)-3*(R*R);p[a+3]=3*(R*R)};S.Lp.Fl=function(p,a,R){var Q=1-R;
p[a]=Q*(Q*Q);p[a+1]=3*R*(Q*Q);p[a+2]=3*(R*R)*Q;p[a+3]=R*R*R};S.Lp.Dy=function(p,a){var R=0,Q=0,t=0;t=a[0]*a[4];
R+=p[0]*t;Q+=p[1]*t;t=a[0]*a[5];R+=p[2]*t;Q+=p[3]*t;t=a[0]*a[6];R+=p[4]*t;Q+=p[5]*t;t=a[0]*a[7];R+=p[6]*t;
Q+=p[7]*t;t=a[1]*a[4];R+=p[8]*t;Q+=p[9]*t;t=a[1]*a[5];R+=p[10]*t;Q+=p[11]*t;t=a[1]*a[6];R+=p[12]*t;Q+=p[13]*t;
t=a[1]*a[7];R+=p[14]*t;Q+=p[15]*t;t=a[2]*a[4];R+=p[16]*t;Q+=p[17]*t;t=a[2]*a[5];R+=p[18]*t;Q+=p[19]*t;
t=a[2]*a[6];R+=p[20]*t;Q+=p[21]*t;t=a[2]*a[7];R+=p[22]*t;Q+=p[23]*t;t=a[3]*a[4];R+=p[24]*t;Q+=p[25]*t;
t=a[3]*a[5];R+=p[26]*t;Q+=p[27]*t;t=a[3]*a[6];R+=p[28]*t;Q+=p[29]*t;t=a[3]*a[7];R+=p[30]*t;Q+=p[31]*t;
a[8]=R;a[9]=Q};S.Lp.j={};S.Lp.j.XP=12;S.Lp.j.jL=new Uint32Array(50);S.Lp.j.SBR=function(p,a,R,Q,t){var N=0,K=S.Lp.j.jL,T=1;
K[0]=0;while(T!=0){var d=K[--T];if(p[d+0]<=R&&p[d+1]<=Q&&R<p[d+2]&&Q<p[d+3]){if(a[d+d+18]==0){t[N]=d;
N++}else{K[T]=a[d+d+18];K[T+1]=a[d+d+19];T+=2}}}return N};S.Lp.j.SBM=function(p,a,R,Q,t){var N=0,K=S.Lp.j.sX,T=S.Lp.j.jL,d=1,y=0,E=999999999999;
T[0]=0;while(d!=0){var k=T[--d],D=K(R,Q,p[k+0],p[k+1]),P=K(R,Q,p[k+0],p[k+3]),e=K(R,Q,p[k+2],p[k+1]),Y=K(R,Q,p[k+2],p[k+3]),O=Math.min(D,Math.min(P,Math.min(e,Y))),W=Math.max(D,Math.max(P,Math.max(e,Y)));
if(O>E)continue;if(a[k+k+18]==0){if(W<E){E=W;y=k}}else{T[d]=a[k+k+18];T[d+1]=a[k+k+19];d+=2}}t[N]=y;
N++;return N};S.Lp.j.sX=function(p,a,R,Q){return(R-p)*(R-p)+(Q-a)*(Q-a)};S.Lp.j.Sa=null;S.Lp.j.jB=null;
S.Lp.j.j$=function(p,a,R,Q,t,N,K){if(N==null){N=1;K=1}S.Lp.j.jB=p;if(S.Lp.j.Sa==null){S.Lp.j.Sa={fl:new Float64Array(15e3*8),bB:null};
S.Lp.j.Sa.bB=new Uint32Array(S.Lp.j.Sa.fl.buffer)}var T=S.Lp.j.Sa;S.Lp.j.sx(p,a,R,Q,t,0,T.fl,T.bB,0,N,K);
return T};S.Lp.j.sx=function(p,a,R,Q,t,N,K,T,d,y,E){var k=S.s.wh(p),D=d,P=S.Lp.j.jB,e=(a+R)/2,Y=(Q+t)/2,O=S.Lp.XQ,W=S.Lp.OK,w=S.Lp.SBK,gg,gC,gd;
S.Lp.sR(P,e,Y,O);var g=O[8],J=O[9];w[0]=e;w[1]=Y;w[2]=g;w[3]=J;S.Lp.ss(P,g+1,J,w,0,!1,W,0);var U=(e-W[0])*y,H=(Y-W[1])*E,f=Math.sqrt(U*U+H*H);
S.Lp.ss(P,g,J+1,w,0,!1,W,0);var j=(e-W[0])*y,I=(Y-W[1])*E,L=Math.sqrt(j*j+I*I);K[D]=k.x;K[D+1]=k.y;K[D+2]=k.x+k.C;
K[D+3]=k.y+k.T;K[D+4]=e;K[D+5]=Y;K[D+6]=g;K[D+7]=J;K[D+8]=.5*(f+L);T[D+D+18]=0;T[D+D+19]=0;d+=10;S.Lp.Fl(O,0,.1);
S.Lp.Fg(O,4,.1);S.Lp.Dy(p,O);var C=O[8],v=O[9];S.Lp.Fg(O,0,.1);S.Lp.Fl(O,4,.7);S.Lp.Dy(p,O);var o=O[8],Z=O[9];
S.Lp.Fl(O,0,.8);S.Lp.Fg(O,4,.8);S.Lp.Dy(p,O);var B=O[8],s=O[9];S.Lp.Fg(O,0,.9);S.Lp.Fl(O,4,.2);S.Lp.Dy(p,O);
var q=O[8],F=O[9],b=(B-C)*(B-C)+(q-o)*(q-o)+(s-v)*(s-v)+(F-Z)*(F-Z);if(d>=K.length){console.log("Buffer not long enough");
throw"e"}if(N==S.Lp.j.XP||b<2)return d;var G=S.Lp.j.jh(p,!0),u=S.s.wh(G[0]),h=S.s.wh(G[1]),z=S.Lp.j.jh(p,!1),r=S.s.wh(z[0]),i=S.s.wh(z[1]);
if(u.C+u.T+h.C+h.T<r.C+r.T+i.C+i.T){gd=!0;gg=G[0];gC=G[1]}else{gd=!1;gg=z[0];gC=z[1]}var gY=(a+R)/2,gN=(Q+t)/2,gS=a,M=Q,Cj=R,gs=t,gl=a,gR=Q,ge=R,So=t;
if(gd){Cj=gl=gY}else{gs=gR=gN}T[D+D+18]=d;d=S.Lp.j.sx(gg,gS,Cj,M,gs,N+1,K,T,d,y,E);T[D+D+19]=d;d=S.Lp.j.sx(gC,gl,ge,gR,So,N+1,K,T,d,y,E);
var gq=T[D+D+18],gH=T[D+D+19];K[D]=Math.min(K[gq],K[gH]);K[D+1]=Math.min(K[gq+1],K[gH+1]);K[D+2]=Math.max(K[gq+2],K[gH+2]);
K[D+3]=Math.max(K[gq+3],K[gH+3]);return d};S.Lp.j.jh=function(p,a){var R=0,Q=0,t=0,N=0,K=0,T=0,d=0,y=0,E=p.slice(0),k=p.slice(0);
for(var D=0;D<4;D++){R=a?p[D*8+2*0]:p[0*8+2*D];Q=a?p[D*8+2*0+1]:p[0*8+2*D+1];t=a?p[D*8+2*1]:p[1*8+2*D];
N=a?p[D*8+2*1+1]:p[1*8+2*D+1];K=a?p[D*8+2*2]:p[2*8+2*D];T=a?p[D*8+2*2+1]:p[2*8+2*D+1];d=a?p[D*8+2*3]:p[3*8+2*D];
y=a?p[D*8+2*3+1]:p[3*8+2*D+1];var P=(R+t)/2,e=(Q+N)/2,Y=(t+K)/2,O=(N+T)/2,W=(K+d)/2,w=(T+y)/2,g=(P+Y)/2,J=(e+O)/2,U=(Y+W)/2,H=(O+w)/2,f=(g+U)/2,j=(J+H)/2;
if(a){E[D*8+2*0]=R;E[D*8+2*0+1]=Q;E[D*8+2*1]=P;E[D*8+2*1+1]=e;E[D*8+2*2]=g;E[D*8+2*2+1]=J;E[D*8+2*3]=f;
E[D*8+2*3+1]=j;k[D*8+2*0]=f;k[D*8+2*0+1]=j;k[D*8+2*1]=U;k[D*8+2*1+1]=H;k[D*8+2*2]=W;k[D*8+2*2+1]=w;k[D*8+2*3]=d;
k[D*8+2*3+1]=y}else{E[0*8+2*D]=R;E[0*8+2*D+1]=Q;E[1*8+2*D]=P;E[1*8+2*D+1]=e;E[2*8+2*D]=g;E[2*8+2*D+1]=J;
E[3*8+2*D]=f;E[3*8+2*D+1]=j;k[0*8+2*D]=f;k[0*8+2*D+1]=j;k[1*8+2*D]=U;k[1*8+2*D+1]=H;k[2*8+2*D]=W;k[2*8+2*D+1]=w;
k[3*8+2*D]=d;k[3*8+2*D+1]=y}}return[E,k]};S.ar={};S.ar.SBm=function(p,a,R){var Q=S.ar.S$o(a,R),t=S.ar.S$H(Q,p,a,R);
return{Tg:Q,Xi:t}};S.ar.SBj=function(p,a,R){var Q=Math.round(p.length/8),t=new Uint32Array(Q),N=new Uint8Array(Q),K=new Uint32Array(Q);
S.wp(t,4294967295,0);t[R]=0;var T=new Ym(Q);T.push(R,t[R]);var d={Tg:p,Xi:a,Ly:t,b$:N,WQ:K,Oe:T,SKl:R};
return d};S.ar.sy=function(p,a){var R=p.Tg,Q=p.Xi,t=p.Ly,N=p.b$,K=p.WQ,T=p.Oe;while(!T.RJ()&&(a==null||N[a]==0)){var d=T.pop();
N[d]=1;for(var y=0;y<8;y++){var E=R[8*d+y];if(E==-1||N[E])continue;var k=t[d]+Q[8*d+y];if(T.contains(E)&&k<t[E])T.remove(E,t[E]);
if(!T.contains(E)){t[E]=k;K[E]=d;T.push(E,t[E])}}}};function Ym(p){this.wY=new Uint32Array(p);this.list=[];
this.fR=0;this.wf=4294967295}Ym.prototype.RJ=function(){return this.fR==0};Ym.prototype.push=function(p,a){var R=this.list;
if(R[a]==null)R[a]=[];R[a].push(p);this.fR++;this.wY[p]=R[a].length-1+1;this.wf=Math.min(this.wf,a)};
Ym.prototype.pop=function(){this.fR--;var p=this.list,a=this.wf,R=p[a].pop();if(p[a].length==0)p[a]=null;
this.jx();this.wY[R]=0;return R};Ym.prototype.contains=function(p){return this.wY[p]!=0};Ym.prototype.remove=function(p,a){this.fR--;
var R=this.list,Q=this.wY[p]-1;if(Q==R[a].length-1)R[a].pop();else{var t=R[a].pop();R[a][Q]=t;this.wY[t]=Q+1}if(R[a].length==0)R[a]=null;
this.wY[p]=0;this.jx()};Ym.prototype.jx=function(){if(this.fR==0){this.wf=4294967295;return}var p=this.wf,a=this.list;
while(a[p]==null)p++;this.wf=p};S.ar.SqS=function(p,a,R){var Q=new Float32Array(a*R);for(var t=0;t<R;
t++)for(var N=0;N<a;N++){var K=t*a+N,T=-16*p[K];if(1<N&&N<a-2&&1<t&&t<R-2){T+=p[K-a-a];T+=p[K-a-1]+2*p[K-a]+p[K-a+1];
T+=p[K-2]+2*p[K-1]+2*p[K+1]+p[K+2];T+=p[K+a-1]+2*p[K+a]+p[K+a+1];T+=p[K+a+a]}Q[K]=T/16}return Q};S.ar.Sq$=function(p,a,R){var Q=new Float32Array(a*R),t=0,N=0;
for(var K=0;K<R;K++)for(var T=0;T<a;T++){var d=0,y=0;if(0<T&&T<a-1)d=p[t+1]-p[t-1];if(0<K&&K<R-1)y=p[t+a]-p[t-a];
Q[t]=Math.sqrt(d*d+y*y);if(Q[t]>N)N=Q[t];t++}var E=a*R,k=N==0?0:1/N;for(var t=0;t<E;t++)Q[t]=1-Q[t]*k;
return Q};S.ar.Sqt=function(p,a,R){var Q=new Float32Array(a*R*2),t=0;for(var N=0;N<R;N++)for(var K=0;
K<a;K++){var T=0,d=0;if(0<K&&K<a-1&&0<N&&N<R-1){T=2*p[t+1]-2*p[t-1];d=2*p[t+a]-2*p[t-a]}var y=Math.sqrt(T*T+d*d);
if(y!=0){Q[2*t]=T/y;Q[2*t+1]=d/y}else{Q[2*t]=T;Q[2*t+1]=d}t++}return Q};S.ar.S$H=function(p,a,R,Q){var t=S.ar.SqS(a,R,Q),N=S.ar.Sq$(a,R,Q),K=S.ar.Sqt(a,R,Q),T=256,d=new Float32Array(T);
for(var y=0;y<T;y++)d[y]=Math.acos(-1+2*y/(T-1));var E=[-1,0,1,1,1,0,-1,-1],k=[-1,-1,-1,0,1,1,1,0],D=1/Math.sqrt(2),P=new Uint8Array(R*Q*8),e=R*Q;
for(var Y=0;Y<e;Y++){var O=t[Y],W=K[2*Y+1],w=-K[2*Y];for(var g=0;g<8;g++){var J=8*Y+g,U=p[J];if(U==-1)P[J]=-1;
else{var H=(g&1)==0,f=O*t[U]>=0?0:1,j=N[U]*(H?1:D),I=1,L=K[2*U+1],C=-K[2*U];if(!(W==0&&w==0||L==0&&C==0)){var v=E[g],o=k[g];
if(W*E[g]+w*k[g]<0){v=-v;o=-o}if(H){v*=D;o*=D}var Z=W*v+w*o,B=L*v+C*o,s=2/(3*Math.PI)*(d[Math.floor((.5+.5*Z)*(T-1))]+d[Math.floor((.5+.5*B)*(T-1))]);
I=s}var q=Math.round(20*(.43*f+.43*I+.14*j));P[J]=Math.max(1,Math.min(255,q))}}}console.log(P);return P};
S.ar.S$o=function(p,a){var R=new Int32Array(p*a*8),Q=R,t=0,N=0;Q.fill(-1);for(var K=0;K<a;K++)for(var T=0;
T<p;T++){if(K>0&&T>0)Q[N+0]=t-p-1;if(K>0)Q[N+1]=t-p;if(K>0&&T<p-1)Q[N+2]=t-p+1;if(T<p-1)Q[N+3]=t+1;if(K<a-1&&T<p-1)Q[N+4]=t+p+1;
if(K<a-1)Q[N+5]=t+p;if(K<a-1&&T>0)Q[N+6]=t+p-1;if(T>0)Q[N+7]=t-1;t++;N+=8}return R};S.eF={};S.eF.SHU=function(p,a){var R=p.slice(0);
for(var Q=0;Q<p.length;Q++)R[Q]*=a;return R};S.eF.Fs=function(p){var a=p.slice(0),R=0;for(var Q=0;Q<p.length;
Q++)R+=p[Q];for(var Q=0;Q<p.length;Q++)a[Q]/=R;return a};S.eF.SHW=function(p,a,R,Q,t){var N=t.length,K=N>>>1,T=K,d=R-K;
for(var y=0;y<Q;y++)for(var E=T;E<d;E++){var k=0,D=y*R+E;for(var P=0;P<N;P++)k+=t[P]*p[D-K+P];a[D]=k}};
S.eF.SHb=function(p,a,R,Q,t){var N=t.length,K=N>>>1,T=K,d=Q-K;for(var y=T;y<d;y++)for(var E=0;E<R;E++){var k=0,D=y*R+E;
for(var P=0;P<N;P++)k+=t[P]*p[D+(-K+P)*R];a[D]=k}};S.eF.S$O=function(p,a,R,Q,t){var N=[-R-1,-R,-R+1,-1,0,1,R-1,R,R+1],K=Q-1,T=R-1;
for(var d=1;d<K;d++)for(var y=1;y<T;y++){var E=d*R+y,k=S.eF.FR(p,E,R,t);a[E]=~~(k+.5)}};S.eF.FR=function(p,a,R,Q){return p[a-R-1]*Q[0]+p[a-R]*Q[1]+p[a-R+1]*Q[2]+p[a-1]*Q[3]+p[a]*Q[4]+p[a+1]*Q[5]+p[a+R-1]*Q[6]+p[a+R]*Q[7]+p[a+R+1]*Q[8]};
S.eF.DP=function(p,a,R,Q,t,N,K){if(K==null)K=!1;var T=Math.floor(Math.sqrt(t.length)),d=T-1>>>1,y=new Uint32Array(p.buffer),a=new Uint8ClampedArray(a.buffer);
for(var E=0;E<Q;E++)for(var k=0;k<R;k++){var D=0,P=0,e=0,Y=0;for(var O=0;O<T;O++)for(var W=0;W<T;W++){var w=t[O*T+W];
if(w==0)continue;var g=Math.min(R-1,Math.max(0,k-d+W)),J=Math.min(Q-1,Math.max(0,E-d+O)),U=y[J*R+g];
D+=(U&255)*w;P+=(U>>>8&255)*w;e+=(U>>>16&255)*w;Y+=(U>>>24&255)*w}if(K){if(D<0)D=-D;if(P<0)P=-P;if(e<0)e=-e;
if(Y<0)Y=-Y}var H=E*R+k<<2;a[H]=~~(.5+D);a[H+1]=~~(.5+P);a[H+2]=~~(.5+e);a[H+3]=255-N&a[H+3]|N&~~(.5+Y)}};
S.eF.S$J=function(){function p(K,T,d,y,E,k,D){if(E==0){T.set(K);return}var P=S.p(d*y),e=S.p(d*y);if(S.U$(K)){var Y=[S.eF.sw,S.eF.sa],O=Y.indexOf(k),W=O!=-1?Y[1-O]:k;
a(K,T,d,y,E,k,D);S.vh(K,P,3);S.eF.st(P,e,d,y,E,W,D);S.RA(e,T,3)}else{for(var w=0;w<3;w++){S.vh(K,P,w);
S.eF.st(P,e,d,y,E,k,D);S.RA(e,T,w)}}}function a(K,T,d,y,E,k,D){var P=0,e=new ArrayBuffer(512*4*3),Y=[new Int32Array(e,0),new Int32Array(e,2048),new Int32Array(e,2*2048)],O=1+2*Math.round(Math.sqrt(E)),W=O>>>1,w=new Array(O),g=new Array(O);
for(var J=0;J<O;J++){var e=new ArrayBuffer(512*4*3);w[J]=[new Int32Array(e,0),new Int32Array(e,2048),new Int32Array(e,2*2048)];
g[J]=w[J][0]}var U=k[0],H=k[1],f=Y[0];for(var j=0;j<d;j++)if(j<E||j>d-E-O-1){f.fill(0);var I=Math.max(j-E,0),L=Math.min(d,j+E+1),C=L-I;
for(var v=0;v<E;v++)Q(f,K,v*d+I,v*d+L,1);for(var v=0;v<y;v++){var o=v-E-1,Z=v+E;if(Z<y)Q(f,K,Z*d+I,Z*d+L,1);
if(o>=0)Q(f,K,o*d+I,o*d+L,-1);var B=v*d+j<<2;P=f[300];if(P!=0)for(var J=0;J<3;J++)T[B+J]=U(Y[J],K[B+J],P,D)}}else{for(var J=0;
J<O;J++)g[J].fill(0);var I=j-E+W,L=j+E+1+W;for(var v=0;v<E;v++)R(g,K,v*d+I,v*d+L,1,W);for(var v=0;v<y;
v++){var o=v-E-1,Z=v+E;if(o>=0)R(g,K,o*d+I,o*d+L,-1,W);if(Z<y)R(g,K,Z*d+I,Z*d+L,1,W);var s=w[W];P=s[0][300];
for(var J=0;J<W;J++){var q=W-1-J,F=W+1+J,b=w[q],G=w[F],u=P+b[0][300],h=P+G[0][300],z=v*d+j+q<<2,r=v*d+j+F<<2;
if(u!=0)for(var i=0;i<3;i++)T[z+i]=H(s[i],b[i],K[z+i],u,D);if(h!=0)for(var i=0;i<3;i++)T[r+i]=H(s[i],G[i],K[r+i],h,D)}var B=v*d+j+W<<2;
if(P!=0)for(var i=0;i<3;i++)T[B+i]=U(s[i],K[B+i],P,D)}j+=O-1}}function R(K,T,d,y,E,k){var D=t,P=d<<2,e=y<<2;
D(K[k-1],T,d-1<<2,E);D(K[k-1],T,y-1<<2,-E);D(K[k+1],T,y<<2,E);D(K[k+1],T,d<<2,-E);for(var Y=1;Y<k;Y++){var O=K[k-Y-1],W=K[k+Y+1];
for(var w=0;w<=Y;w++){var g=w<<2;D(O,T,d-1-w<<2,E);D(O,T,y-1-w<<2,-E);D(W,T,y+w<<2,E);D(W,T,d+w<<2,-E)}}Q(K[k],T,d,y,E)}function Q(K,T,d,y,E){var k=d<<2,D=y<<2;
while(k<D){t(K,T,k,E);k+=4}}function t(K,T,d,y){var E=y*T[d+3];K[300]+=E;N(K,T[d],0,E);N(K,T[d+1],512,E);
N(K,T[d+2],1024,E)}function N(K,T,d,y){K[d|T]+=y;K[d|256|T>>>4]+=y}return p}();S.eF.st=function(){function p(k,D,P,e,Y,O,W){if(Y==0){D.set(k);
return}if(Y<=80)a(k,D,P,e,Y,O,W);else N(k,D,P,e,Y,O,W)}function a(k,D,P,e,Y,O,W){var w=0,g=new Int32Array(512),J=1+2*Math.round(Math.sqrt(Y)),U=J>>>1,H=new Array(J);
for(var f=0;f<J;f++)H[f]=new Int32Array(512);var j=O[0],I=O[1];for(var L=0;L<P;L++)if(L<Y||L>P-Y-J-1){g.fill(0);
w=0;var C=Math.max(L-Y,0),v=Math.min(P,L+Y+1),o=v-C;for(var Z=0;Z<Y;Z++){w+=o;Q(g,k,Z*P+C,Z*P+v,1)}for(var Z=0;
Z<e;Z++){var B=Z-Y-1,s=Z+Y;if(B>=0){w-=o;Q(g,k,B*P+C,B*P+v,-1)}if(s<e){w+=o;Q(g,k,s*P+C,s*P+v,1)}var q=j(g,k[Z*P+L],w,W);
D[Z*P+L]=q}}else{for(var f=0;f<J;f++)H[f].fill(0);w=0;var C=L-Y+U,v=L+Y+1+U,o=v-C;for(var Z=0;Z<Y;Z++){w+=o;
R(H,k,Z*P+C,Z*P+v,1,U)}for(var Z=0;Z<e;Z++){var B=Z-Y-1,s=Z+Y;if(B>=0){w-=o;R(H,k,B*P+C,B*P+v,-1,U)}if(s<e){w+=o;
R(H,k,s*P+C,s*P+v,1,U)}for(var f=0;f<U;f++){var F=U-1-f,b=U+1+f;D[Z*P+L+F]=I(H[U],H[F],k[Z*P+L+F],w,W);
D[Z*P+L+b]=I(H[U],H[b],k[Z*P+L+b],w,W)}D[Z*P+L+U]=j(H[U],k[Z*P+L+U],w,W)}L+=J-1}}function R(k,D,P,e,Y,O){var W=t;
W(k[O-1],D[P-1],0,Y);W(k[O-1],D[e-1],0,-Y);W(k[O+1],D[e],0,Y);W(k[O+1],D[P],0,-Y);for(var w=1;w<O;w++){var g=k[O-w-1],J=k[O+w+1];
for(var U=0;U<=w;U++){W(g,D[P-1-U],0,Y);W(g,D[e-1-U],0,-Y);W(J,D[e+U],0,Y);W(J,D[P+U],0,-Y)}}Q(k[O],D,P,e,Y)}function Q(k,D,P,e,Y){while(P<e)t(k,D[P++],0,Y)}function t(k,D,P,e){k[P|D]+=e;
k[P|256|D>>>4]+=e}function N(k,D,P,e,Y,O,W){var w=0,g=new Int32Array(512),J=new Int32Array(1*P),U=new Int32Array(512*P),H=Math.min(Y,P),f=Math.min(Y,e),j=O[0];
for(var I=0;I<f;I++)K(U,J,k,P,I,1);for(var I=0;I<e;I++){if(I+Y<e)K(U,J,k,P,I+Y,1);if(I-Y-1>=0)K(U,J,k,P,I-Y-1,-1);
g.fill(0);w=0;for(var L=0;L<H;L++){w+=J[L];T(g,U,L)}for(var L=0;L<P;L++){var C=L-Y-1,v=L+Y;if(C>=0&&J[C]!=0){w-=J[C];
d(g,U,C)}if(v<P&&J[v]!=0){w+=J[v];T(g,U,v)}var o=w==0?0:j(g,k[I*P+L],w,W);D[I*P+L]=o}}}function K(k,D,P,e,Y,O){var W=Y*e;
for(var w=0;w<e;w++){t(k,P[W+w],w<<9,O);D[w]+=O}}function T(k,D,P){for(var e=0;e<16;e++){var Y=D[P<<9|256|e];
if(Y==0)continue;k[256|e]+=Y;var O=e<<4,W=P<<9|O;y(k,D,O,W);y(k,D,O+4,W+4);y(k,D,O+8,W+8);y(k,D,O+12,W+12)}}function d(k,D,P){for(var e=0;
e<16;e++){var Y=D[P<<9|256|e];if(Y==0)continue;k[256|e]-=Y;var O=e<<4,W=P<<9|O;E(k,D,O,W);E(k,D,O+4,W+4);
E(k,D,O+8,W+8);E(k,D,O+12,W+12)}}function y(k,D,P,e){k[P]+=D[e];k[P+1]+=D[e+1];k[P+2]+=D[e+2];k[P+3]+=D[e+3]}function E(k,D,P,e){k[P]-=D[e];
k[P+1]-=D[e+1];k[P+2]-=D[e+2];k[P+3]-=D[e+3]}return p}();S.eF.sa=[function(p,a,R,Q){var t=15;while(p[256|t]==0&&t>0)t--;
t=(t<<4)+15;while(p[t]==0&&t>0)t--;return t},function(p,a,R,Q,t){var N=15;while(p[256|N]+a[256|N]==0&&N>0)N--;
N=(N<<4)+15;while(p[N]+a[N]==0&&N>0)N--;return N}];S.eF.sw=[function(p,a,R,Q){var t=0;while(p[256|t]==0&&t<15)t++;
t=t<<4;while(p[t]==0&&t<255)t++;return t},function(p,a,R,Q,t){var N=0;while(p[256|N]+a[256|N]==0&&N<15)N++;
N=N<<4;while(p[N]+a[N]==0&&N<255)N++;return N}];S.eF.SD=.5;S.eF.sG=[function(p,a,R,Q){var t=~~(.5+S.eF.SD*R),N=0,K=256;
while(N+p[K]<=t)N+=p[K++];K=K-256<<4;while(N<=t)N+=p[K++];return K-1},function(p,a,R,Q,t){var N=~~(.5+S.eF.SD*Q),K=0,T=256;
while(K+p[T]+a[T]<=N){K+=p[T]+a[T];T++}T=T-256<<4;while(K<=N){K+=p[T]+a[T];T++}return T-1}];S.eF.jy=[function(p,a,R,Q){var t=Q[0],N=0,K=0,T=Math.max(0,a-t),d=Math.min(256,a+t+1);
while(T<d){var y=p[T];N+=T*y;K+=y;T++}return K==0?0:N/K},function(p,a,R,Q,t){var N=t[0],K=0,T=0,d=Math.max(0,R-N),y=Math.min(256,R+N+1);
while(d<y){var E=p[d]+a[d];K+=d*E;T+=E;d++}return T==0?0:K/T}];S.L={};S.L.jo=function(p){var a=m.B.jz(p.Trnf),R=p.Sz.v,Q=S.L.vn(a,new x(0,0,R.Wdth.v,R.Hght.v));
return S.L.tz(Q)};S.L.vn=function(p,a){var R=p[0],Q=p[1],t=p[2],N=p[3],K=p[6],T=p[7],d=p[4],y=p[5],E=0,k=0,D=1,P=0,e=0,Y=1,O=1,W=1;
if(a){E=a.x;k=a.y;D=a.x+a.C;P=a.y;e=a.x;Y=a.y+a.T;O=a.x+a.C;W=a.y+a.T}return S.L.S$D(p,[E,k,D,P,O,W,e,Y])};
S.L.S$D=function(p,a){var R=p[0],Q=p[1],t=p[2],N=p[3],K=p[6],T=p[7],d=p[4],y=p[5],E=a[0],k=a[1],D=a[2],P=a[3],e=a[6],Y=a[7],O=a[4],W=a[5],w=[[E,k,1,0,0,0,-E*R,-k*R,R],[0,0,0,E,k,1,-E*Q,-k*Q,Q],[D,P,1,0,0,0,-D*t,-P*t,t],[0,0,0,D,P,1,-D*N,-P*N,N],[e,Y,1,0,0,0,-e*K,-Y*K,K],[0,0,0,e,Y,1,-e*T,-Y*T,T],[O,W,1,0,0,0,-O*d,-W*d,d],[0,0,0,O,W,1,-O*y,-W*y,y]],g=[0,0,0,0,0,0,0,0],J=S.EF.dC(w,g);
if(J!=0)g=[0,0,0,0,0,0,0,0];return g};S.L.OC=function(p){return Math.abs(p[6])<1e-10&&Math.abs(p[7])<1e-10};
S.L.tz=function(p){return new gh(p[0],p[3],p[1],p[4],p[2],p[5])};S.L.fm=function(p){return[p.Eu,p.CI,p.NE,p.N,p.$B,p.GV,0,0]};
S.L.apply=function(p,a){var R=new Float64Array(2);for(var Q=0;Q<a.length;Q+=2){var t=a[Q],N=a[Q+1];S.L.su(t,N,p,R);
a[Q]=R[0];a[Q+1]=R[1]}};S.L.su=function(p,a,R,Q){var t=1/(R[6]*p+R[7]*a+1);Q[0]=(R[0]*p+R[1]*a+R[2])*t;
Q[1]=(R[3]*p+R[4]*a+R[5])*t};S.L.jU=function(p,a){var R=new Float64Array(2);S.L.su(a.x,a.y,p,R);return new X(R[0],R[1])};
S.L.NJ=function(p,a,R,Q){p=new Uint32Array(p.buffer);a=new Uint32Array(a.buffer);for(var t=0;t<Q;t++){for(var N=0;
N<R;N++){a[N*Q+t]=p[t*R+N]}}};S.L.S$c=function(p,a,R,Q){p=new Uint32Array(p.buffer);a=new Uint32Array(a.buffer);
for(var t=0;t<Q;t++){for(var N=0;N<R;N++){a[t*R+N]=p[t*R+R-1-N]}}};S.L.jW=function(p){return Math.abs(p[6])<1e-9&&Math.abs(p[7])<1e-9};
S.L.jO=function(p){return Math.abs(p[0])<1e-9&&Math.abs(p[4])<1e-9||Math.abs(p[1])<1e-9&&Math.abs(p[3])<1e-9};
S.L.drawImage=function(p,a,R,Q,t,N,K,T,d){if(K==null)K=!1;if(T==null)T=!1;var y=S.L.zw(p),E=!0,k=0,D=1/Math.sqrt(Math.abs(p[0]/R*p[4]/Q-p[1]/R*p[3]/Q));
for(var P=0;P<8;P++){var e=Math.round(p[P]);if(P!=2&&P!=5)k+=Math.abs(e);if(Math.abs(e-p[P])>1e-9)E=!1}var Y=S.L.jW(p),O=S.L.jO(p)&&Y,W=O?1:0;
if(K||E&&k==R+Q&&Y){S.L.SMN(y,a,R,Q,t,N,T,Y,d);return}var w=N.C,g=N.T,J=new Float64Array(2);t=new Uint32Array(t.buffer);
a=new Uint32Array(a.buffer);for(var U=0;U<g;U++)for(var H=0;H<w;H++){var f=U*w+H,j,I,L,C,gg=0,gC=0,gd=0,gY=0;
t[f]=0;var v=H+N.x+.5,o=U+N.y+.5;j=v;I=o;L=y;C=1/(L[6]*j+L[7]*I+1);var Z=(L[0]*j+L[1]*I+L[2])*C,B=(L[3]*j+L[4]*I+L[5])*C,s=Z*R,q=B*Q,F=s<-1||s>R+1||q<-1||q>Q+1;
if(T){s=Math.max(.001,Math.min(R-1,s));q=Math.max(.001,Math.min(Q-1,q))}else if(F)continue;var b=D;if(!Y){var G=0,u=0;
L=p;j=Z+1/R;I=B;C=1/(L[6]*j+L[7]*I+1);G=(L[0]*j+L[1]*I+L[2])*C-v;u=(L[3]*j+L[4]*I+L[5])*C-o;var h=G*G+u*u;
j=Z;I=B+1/Q;C=1/(L[6]*j+L[7]*I+1);G=(L[0]*j+L[1]*I+L[2])*C-v;u=(L[3]*j+L[4]*I+L[5])*C-o;var z=G*G+u*u;
b=1/Math.sqrt(Math.max(h,z))}if(b<1.1){S.L.Fe(s,q,a,R,Q,t,f,W);continue}var r=Math.round(b*2.3);if(!T&&(s<.6||s>R-.6||q<.6||q>Q-.6)){r=Math.max(r,5)}if(T&&F)r=1;
var i=1/r,gN=N.x+H,gS=N.y+U;L=y;for(var P=0;P<r;P++)for(var M=0;M<r;M++){j=gN+(P+.5)*i;I=gS+(M+.5)*i;
C=1/(L[6]*j+L[7]*I+1);var s=(L[0]*j+L[1]*I+L[2])*C,q=(L[3]*j+L[4]*I+L[5])*C;if(T){s=Math.max(.001,Math.min(.999,s));
q=Math.max(.001,Math.min(.999,q))}else if(s<0||s>=1||q<0||q>=1)continue;s=Math.floor(s*R);q=Math.floor(q*Q);
var Cj=q*R+s,gs=a[Cj],gl=gs>>>24;gg+=(gs&255)*gl;gC+=(gs>>>8&255)*gl;gd+=(gs>>>16&255)*gl;gY+=gl}if(gY!=0){var gR=1/gY;
gg=~~(gg*gR+.5);gC=~~(gC*gR+.5);gd=~~(gd*gR+.5);gY=~~(gY*i*i+.5);t[f]=gY<<24|gd<<16|gC<<8|gg}}};S.L.SMN=function(p,a,R,Q,t,N,K,T,d){if(T&&!K&&N.u()>4e6&&d){S.L.SMy(p,a,R,Q,t,N,K,T,d);
return}var y=N.x+N.C,E=N.y+N.T,k=0,D=new Uint32Array(t.buffer),P=new Uint32Array(a.buffer),e=p[0]*R,Y=p[1]*R,O=p[2]*R,W=p[3]*Q,w=p[4]*Q,g=p[5]*Q,J=p[6],U=p[7];
if(T&&!K)for(var H=N.y+.5;H<E;H++)for(var f=N.x+.5;f<y;f++){var j=e*f+Y*H+O,I=W*f+w*H+g;if(0<j&&j<R&&0<I&&I<Q){var L=~~I*R+~~j;
D[k]=P[L]}else D[k]=0;k++}else for(var H=N.y+.5;H<E;H++)for(var f=N.x+.5;f<y;f++){var C=1/(J*f+U*H+1),j=(e*f+Y*H+O)*C,I=(W*f+w*H+g)*C;
if(K){j=Math.max(.001,Math.min(R-1,j));I=Math.max(.001,Math.min(Q-1,I))}if(0<j&&j<R&&0<I&&I<Q){var L=Math.floor(I)*R+Math.floor(j);
D[k]=P[L]}else D[k]=0;k++}};S.L.SMy=function(p,a,R,Q,t,N,K,T,d){var y=new Uint32Array(t.buffer),E=new Uint32Array(a.buffer),U=0;
if(d&&(N.C&3)!=0)throw"e";var k=p[0]*R,D=p[1]*R,P=p[2]*R,e=p[3]*Q,Y=p[4]*Q,O=p[5]*Q,W=p[6],w=p[7],g=N.C,J=N.T,H=N.x+.5,f=N.y+.5,j=(g>>>2<<2)-1e-9,I=-.1+(J>>>1<<1)-1e-9,L=~~R,C=k==0?0:1/k,v=e==0?0:1/e;
for(var o=0;o<J;o++){var Z=H*k+D*(o+f)+P,B=H*e+Y*(o+f)+O,s=0,q=g;if(k==0){}else if(C>0){s=Math.max(s,-Z*C);
q=Math.min(q,(R-Z)*C)}else{q=Math.min(q,-Z*C);s=Math.max(s,(R-Z)*C)}if(e==0){}else if(v>0){s=Math.max(s,-B*v);
q=Math.min(q,(Q-B)*v)}else{q=Math.min(q,-B*v);s=Math.max(s,(Q-B)*v)}if(q<0)q=0;if(s>q)s=q;s=Math.ceil(s);
q=~~q;U=~~(o*g);for(var F=0;F<s;F++)y[U++]=0;for(var F=s;F<q;F+=4){var b=k*F+Z,G=e*F+B,u=~~G*L+~~b;y[U++]=y[U++]=y[U++]=y[U++]=E[u]}for(var F=q;
F<g;F++)y[U++]=0}};S.L.zw=function(p){var a=p[4]-p[5]*p[7],R=p[2]*p[7]-p[1],Q=p[1]*p[5]-p[2]*p[4],t=p[5]*p[6]-p[3],N=p[0]-p[2]*p[6],K=p[3]*p[2]-p[0]*p[5],T=p[3]*p[7]-p[4]*p[6],d=p[1]*p[6]-p[0]*p[7],y=1/(p[0]*p[4]-p[1]*p[3]);
return[a*y,R*y,Q*y,t*y,N*y,K*y,T*y,d*y]};S.L.Xl=function(p,a){var R=p[0],Q=p[1],t=p[2],N=p[3],K=p[4],T=p[5],d=p[6],y=p[7],E=a[0],k=a[1],D=a[2],P=a[3],e=a[4],Y=a[5],O=a[6],W=a[7],w=[R*E+Q*P+t*O,R*k+Q*e+t*W,R*D+Q*Y+t,N*E+K*P+T*O,N*k+K*e+T*W,N*D+K*Y+T,d*E+y*P+O,d*k+y*e+W],g=1/(d*D+y*Y+1);
for(var J=0;J<8;J++)w[J]*=g;return w};S.L.Fe=function(p,a,R,Q,t,N,K,T){var d=p,y=a,D=0,P=0,e=0,Y=0;p-=.499999;
a-=.499999;var E=Math.floor(p),k=Math.floor(a);if(T==0){var O=k*Q+E,W=E>=0&&E<Q,w=E+1>=0&&E+1<Q,g=k>=0&&k<t,J=k+1>=0&&k+1<t;
if(W&&g)D=R[O];if(w&&g)P=R[O+1];if(W&&J)e=R[O+Q];if(w&&J)Y=R[O+Q+1]}else if(T==1){var U=E<0?0:E>Q-1?Q-1:E,H=E<-1?0:E>Q-2?Q-1:E+1,f=k<0?0:k>t-1?t-1:k,j=k<-1?0:k>t-2?t-1:k+1;
D=R[f*Q+U];P=R[f*Q+H];e=R[j*Q+U];Y=R[j*Q+H]}else{var U=(E+50*Q)%Q,H=(E+50*Q)%Q,f=(k+50*t)%t,j=(k+50*t)%t;
D=R[f*Q+U];P=R[f*Q+H];e=R[j*Q+U];Y=R[j*Q+H]}var I=p-E,L=a-k,C=(1-L)*(1-I)*(D>>>24),v=(1-L)*I*(P>>>24),o=L*(1-I)*(e>>>24),Z=L*I*(Y>>>24),B=C+v+o+Z,s=C*(D&255)+v*(P&255)+o*(e&255)+Z*(Y&255),q=C*(D>>>8&255)+v*(P>>>8&255)+o*(e>>>8&255)+Z*(Y>>>8&255),F=C*(D>>>16&255)+v*(P>>>16&255)+o*(e>>>16&255)+Z*(Y>>>16&255);
if(B==0)N[K]=0;else{var b=1/B;s=~~(s*b+.5);q=~~(q*b+.5);F=~~(F*b+.5);B=~~(B+.5);N[K]=B<<24|F<<16|q<<8|s}};
S.L.jT=function(p,a,R,Q,t,N){var K=p-.499999,T=a-.499999,d=~~K,y=~~T,E=K-d,k=T-y,D=(1-k)*(1-E),P=(1-k)*E,e=k*(1-E),Y=k*E,O=y*Q+d<<2,W=(y+1)*Q+d<<2,w=D*R[O]+P*R[O+4]+e*R[W]+Y*R[W+4],g=D*R[O+1]+P*R[O+5]+e*R[W+1]+Y*R[W+5],J=D*R[O+2]+P*R[O+6]+e*R[W+2]+Y*R[W+6],U=D*R[O+3]+P*R[O+7]+e*R[W+3]+Y*R[W+7];
N[0]=w;N[1]=g;N[2]=J;N[3]=U};S.L.jQ=function(p,a,R,Q,t,N,K,T,d,y,E,k){var D=new Uint32Array(p.buffer),P=new Uint32Array(Q.buffer),e=(1+2*y)/t,Y=[],O=[];
for(var W=0;W<t;W++){var w=-.25+y-W*e;Y.push(Math.cos(2*Math.PI*w)*k/E);Y.push(Math.sin(2*Math.PI*w)/E)}K*=a;
T*=R;for(var g=0;g<N;g++){var J=Math.pow(g/N,d)*N;for(var W=0;W<t;W++){var U=K+Y[W<<1]*J,H=T+Y[(W<<1)+1]*J,f=~~(.5+(U<0?0:U>a-1?a-1:U)),j=~~(.5+(H<0?0:H>R-1?R-1:H));
P[g*t+W]=D[j*a+f]}}};S.L.jw=function(p,a,R,Q,t,N,K,T,d,y,E,k){var D=new Uint32Array(p.buffer),P=new Uint32Array(Q.buffer),e=1/k,Y=[],O=R*4,W=1/O;
for(var w=0;w<O;w++)Y.push(Math.pow(w*W,1/d)*R*E);K*=t;T*=N;for(var w=0;w<N;w++)for(var g=0;g<t;g++){var J=e*(g-K),U=w-T,H=1.75-Math.atan2(U,J)*(1/(2*Math.PI));
H=H-~~H;H=(H+y)*(1/(1+2*y));var f=Math.sqrt(J*J+U*U);f=Y[~~(f*4)];S.L.Fe(H*a+.5,f+.5,D,a,R,P,w*t+g,1)}};
S.e={FB:function(p,a){var R=~~(.499+p*a);return R<0?0:R>a?a:R},SMo:function(p,a,R,Q,t,N,K,T){var d=R[0],y=R[1],E=R[2],k=R[3],D=Q.C,P=Q.T,e=new Float64Array(D*4+8),Y=new Float64Array(D*4+8);
for(var O=0,W=0;O<P;O++){var w=e;e=Y;Y=w;Y.fill(0);for(var g=0;g<D;g++,W++){var J=g+t,U=O+N,H=d*J+y*U,f=E*J+k*U,j=0,C=0;
if(T==0)j=H+.5;else if(T==1)j=2*Math.sqrt(H*H+f*f);else if(T==2)j=(Math.PI+Math.atan2(-f,-H))/(2*Math.PI);
else if(T==3)j=Math.abs(H*2);else if(T==4)j=2*(Math.abs(H)+Math.abs(f));var I=S.e.FB(j,K)*4,L=g*4;for(var v=0;
v<4;v++){var o=Math.max(0,Math.min(254.999,a[I+v]+e[L+4+v])),Z=Math.floor(o);if(Math.random()<o-Z)Z++;
var B=o-Z;e[L+8+v]=B*(7/16);Y[L+0+v]=B*(3/16);Y[L+4+v]=B*(5/16);Y[L+8+v]=B*(1/16);C|=Z<<v*8}p[W]=C}}},j:[function(p,a,R,Q,t,N,K){var T=R[0],d=R[1],y=R[2],E=R[3],k=Q.C,D=Q.T;
for(var P=0,e=0;P<D;P++)for(var Y=0;Y<k;Y++,e++){var O=Y+t,W=P+N,w=T*O+d*W,g=y*O+E*W,J=w+.5;p[e]=a[S.e.FB(J,K)]}},function(p,a,R,Q,t,N,K){var T=R[0],d=R[1],y=R[2],E=R[3],k=Q.C,D=Q.T;
for(var P=0,e=0;P<D;P++)for(var Y=0;Y<k;Y++,e++){var O=Y+t,W=P+N,w=T*O+d*W,g=y*O+E*W,J=2*Math.sqrt(w*w+g*g);
p[e]=a[S.e.FB(J,K)]}},function(p,a,R,Q,t,N,K){var T=R[0],d=R[1],y=R[2],E=R[3],k=Q.C,D=Q.T;for(var P=0,e=0;
P<D;P++)for(var Y=0;Y<k;Y++,e++){var O=Y+t,W=P+N,w=T*O+d*W,g=y*O+E*W,J=(Math.PI+Math.atan2(-g,-w))/(2*Math.PI);
p[e]=a[S.e.FB(J,K)]}},function(p,a,R,Q,t,N,K){var T=R[0],d=R[1],y=R[2],E=R[3],k=Q.C,D=Q.T;for(var P=0,e=0;
P<D;P++)for(var Y=0;Y<k;Y++,e++){var O=Y+t,W=P+N,w=T*O+d*W,g=y*O+E*W,J=Math.abs(w*2);p[e]=a[S.e.FB(J,K)]}},function(p,a,R,Q,t,N,K){var T=R[0],d=R[1],y=R[2],E=R[3],k=Q.C,D=Q.T;
for(var P=0,e=0;P<D;P++)for(var Y=0;Y<k;Y++,e++){var O=Y+t,W=P+N,w=T*O+d*W,g=y*O+E*W,J=2*(Math.abs(w)+Math.abs(g));
p[e]=a[S.e.FB(J,K)]}}]};S.e.SH_=function(p,a){return p+.5};S.e.SHn=function(p,a){return 2*Math.sqrt(p*p+a*a)};
S.e.SHc=function(p,a){return(Math.PI+Math.atan2(-a,-p))/(2*Math.PI)};S.e.Sfg=function(p,a){return Math.abs(p*2)};
S.e.SfI=function(p,a){return 2*(Math.abs(p)+Math.abs(a))};S.e.Su=function(p,a,R,Q,t,N,K,T,d,y,k,D){if(p.Clrs==null)return;
var P=new Uint32Array(a.buffer),e=1023,Y=S.e.ON(p.Clrs.v,d,y);if(D){var O=S.e.SMU(p,Y,e+1,K);S.e.SMo(P,O,Q,R,R.x-t,R.y-N,e,T);
return}var W=S.e.jm(p,Y,e+1,K);if(T<5){S.e.j[T](P,W,Q,R,R.x-t,R.y-N,e)}else{var w=new Uint8Array(W.buffer),g=R.C,J=R.T,U=k.xQ-k.Ln,H=1/U,f=k.BZ.C-R.C>>1,j=k.BZ.T-R.T>>1,I=k.BZ.C,L=-.6*H,C=(-.6+.4)*H,v=(-.6+2*.4)*H,o=(-.6+3*.4)*H;
for(var Z=0,B=0;Z<J;Z++)for(var s=0;s<g;s++,B+=4){var q=0,F=0,b=0,G=0,u=(Z+j)*I+s+f,h=(k.fI[u]-k.Ln)*H,z=0;
if(h<=0||h>=1){z=(h<=0?0:e)<<2;a[B]=w[z];a[B+1]=w[z+1];a[B+2]=w[z+2];a[B+3]=w[z+3];continue}z=Math.max(0,Math.min(e-1,Math.round((h+L)*e)))<<2;
F+=w[z];b+=w[z+1];G+=w[z+2];q+=w[z+3];z=Math.max(0,Math.min(e-1,Math.round((h+C)*e)))<<2;F+=w[z];b+=w[z+1];
G+=w[z+2];q+=w[z+3];z=Math.max(0,Math.min(e-1,Math.round((h+v)*e)))<<2;F+=w[z];b+=w[z+1];G+=w[z+2];q+=w[z+3];
z=Math.max(0,Math.min(e-1,Math.round((h+o)*e)))<<2;F+=w[z];b+=w[z+1];G+=w[z+2];q+=w[z+3];a[B]=F>>>2;
a[B+1]=b>>>2;a[B+2]=G>>>2;a[B+3]=q>>>2}}};S.e.ON=function(p,a,R){var Q=[];for(var t=0;t<p.length;t++){var N;
if(p[t].v.Type.v.Clry=="FrgC")N={D:a>>16&255,X:a>>8&255,N:a&255};else if(p[t].v.Type.v.Clry=="BckC")N={D:R>>16&255,X:R>>8&255,N:R&255};
else N=S.e.gc(p[t].v.Clr.v);Q.push(N)}return Q};S.e.gc=function(p){var a,R=p.classID;if(R=="RGBC")a={D:p.Rd.v,X:p.Grn.v,N:p.Bl.v};
else if(R=="HSBC"){a=S.Hv(p.H.v.val/360,p.Strt.v/100,p.Brgh.v/100);a.D*=255;a.X*=255;a.N*=255}else if(R=="CMYC"){var Q=100-p.Cyn.v,t=100-p.Mgnt.v,N=100-p.Ylw.v,K=100-p.Blck.v,T=255*Q*K*1e-4,d=255*(.2*Q+.8*t)*K*1e-4,y=255*(.2*t+.8*N)*K*1e-4;
a={D:T,X:d,N:y}}else if(R=="Grsc")a={D:255-p.Gry.v,X:255-p.Gry.v,N:255-p.Gry.v};else if(R=="LbCl"){a=S.cT(p.Lmnc.v,p.A.v,p.B.v)}else console.log(p);
if(isNaN(a.D))a.D=a.X=a.N=0;return a};S.e.HW=function(p){return{classID:"RGBC",Rd:{t:"doub",v:p.D},Grn:{t:"doub",v:p.X},Bl:{t:"doub",v:p.N}}};
S.e.SMU=function(p,a,R,Q){var t=[],N=1/(R-0);for(var K=0;K<R;K++){var T=K*4,d=S.e.jb(p,a,(Q?R-1-K:K)*N);
t[T]=d[0];t[T+1]=d[1];t[T+2]=d[2];t[T+3]=d[3]}return t};S.e.jm=function(p,a,R,Q){var t=new Uint32Array(R),N=1/(R-0);
for(var K=0;K<R;K++)t[K]=S.e.Jl(p,a,(Q?R-1-K:K)*N);return t};S.e.jb=function(p,a,R){var Q=4096,t=1/4096,N=p.Intr.v*t,K=p.Clrs.v,T=p.Trns.v,d=K.length-1,y=T.length-1,k=-1,D=0,P=0,e=0,Y=0;
while(k<y&&T[k+1].v.Lctn.v<=R*Q)k++;if(k==-1){D=T[0].v.Opct.v.val*(255/100)}else if(k==y){D=T[k].v.Opct.v.val*(255/100)}else{var O=S.e.jn(T,t,k,R,N);
D=(O*T[k].v.Opct.v.val+(1-O)*T[k+1].v.Opct.v.val)*(255/100)}k=-1;while(k<d&&K[k+1].v.Lctn.v<=R*Q)k++;
if(k==-1){var W=a[0];P=W.D;e=W.X;Y=W.N}else if(k==d){var W=a[k];P=W.D;e=W.X;Y=W.N}else{var w=a[k],g=a[k+1],J=S.e.jn(K,t,k,R,N);
P=J*w.D+(1-J)*g.D;e=J*w.X+(1-J)*g.X;Y=J*w.N+(1-J)*g.N}return[P,e,Y,D]};S.e.Jl=function(p,a,R){var Q=S.e.jb(p,a,R),t=~~(.5+Q[0]),N=~~(.5+Q[1]),K=~~(.5+Q[2]),T=~~(.5+Q[3]);
return T<<24|K<<16|N<<8|t};S.e.jn=function(p,a,R,Q,t){if(p.length==2)t*=.5;var N=p[R].v.Lctn.v*a,K=p[R+1].v.Lctn.v*a,T=N+p[R+1].v.Mdpn.v*.01*(K-N),d;
if(Q<T)d=.5*(Q-N)/(T-N);else d=.5+.5*(Q-T)/(K-T);d=.5+.5*(t*Math.cos(Math.PI*d)+(1-t)*(1-2*d));return d};
S.e.sb=function(p,a){var R=Math.PI*p.Angl.v.val/180,Q=p.Scl.v.val/100,t=p.Ofst.v,N=t.Hrzn.v.val/100,K=t.Vrtc.v.val/100,T=Math.cos(R),d=-Math.sin(R),y=.5*a.T,E=y*(T/d),k=Math.sqrt(y*y+E*E),D=.5*a.C,P=D*(d/T),e=Math.sqrt(D*D+P*P),Y=Math.min(k,e)*Q,O=a.x+a.C/2+N*a.C,W=a.y+a.T/2+K*a.T;
return[new X(O,W),new X(O+T*Y,W+d*Y)]};S.e.Os=function(p,a,R,Q){var t=a.x-p.x,N=-(a.y-p.y),K=Math.sqrt(t*t+N*N),T=Math.atan2(N,t),d=Math.cos(T),y=-Math.sin(T),E=.5*R.T,k=E*(d/y),D=Math.sqrt(E*E+k*k),P=.5*R.C,e=P*(y/d),Y=Math.sqrt(P*P+e*e),O=K/Math.min(D,Y),W=(p.x-R.x-R.C/2)/R.C,w=(p.y-R.y-R.T/2)/R.T;
Q.Angl.v.val=180*T/Math.PI;Q.Scl.v.val=O*100;var g=Q.Ofst.v;g.Hrzn.v.val=W*100;g.Vrtc.v.val=w*100};S.e.S_=function(p,a){for(var R=0;
R<p.length;R++){var Q=p[R],t=Math.round(Q[0]*4096),N=Q[1],K=Q[2];if(K==null)K=1;var T=S.e.HW({D:N[0]*255,X:N[1]*255,N:N[2]*255});
a.Clrs.v[R]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:t},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:T},Type:{t:"enum",v:{Clry:"UsrS"}}}};
a.Trns.v[R]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:t},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(K*100)}}}}}};
S.KK={};S.KK.dd=function(p,a,R,Q,t){var N=!1,e=1,Z=0,B=0,z=0,gq=0;if(!a.tT(t)){var K=a.hT(t),T=S.p(K.u()*4);
S.gW(p,a,T,K);p=T;a=K}var d=S.p(a.u());S.JG(R,t,d,a);S.round(d);t=t.Yl(a);var y=t.C,E=t.T,k=y*3<E?2:1,D=E*3<y?2:1;
if(t.u()*(k*2+1)*(D*2+1)<a.u()){var K=new x(t.x-y*k,t.y-E*k,y*(k*2+1),E*(D*2+1)).Yl(a),T=S.p(K.u()*4);
S.gW(p,a,T,K);var P=S.p(K.u());S.JG(d,a,P,K);a=K;p=T;d=P}while((a.C+a.T)/2/e>400)e++;var Y=p,O=a,W=d,w=Math.floor(O.C/e),g=Math.floor(O.T/e);
p=S.p(w*g*4);S.scale.FT(Y,O.C,O.T,p,w,g,1/e);d=S.p(w*g);S.scale.vH(W,O.C,O.T,d,w,g,1/e);S.round(d,1);
var J=S.Pv(d,new x(0,0,w,g));if(J.RJ())return;var U=Math.round((J.C+J.T)/2/15),H=Date.now(),f=S.p(w*g*4);
S.SlH(p,f);var j=Int16Array,I=new j(w*g*24),L=new j(64),C=new j(64),v=new j(64),o=new j(64);for(var s=3;
s<g-4;s++)for(var q=3;q<w-4;q++){var F=s*w+q;if(d[F]==255)continue;if(S.KK.SXw(f,d,q,s,w,g,L,C,v)!=0)continue;
S.KK.Rd(L,o);I[Z]=q;I[Z+1]=s;S.KK.$M(L,I,Z+4,12);Z+=16;S.KK.Rd(C,o);S.KK.$M(C,I,Z,4);Z+=4;S.KK.Rd(v,o);
S.KK.$M(v,I,Z,4);Z+=4;var b=I[Z-24+5],G=I[Z-24+6];I[Z-24+5]=I[Z-24+20];I[Z-24+6]=I[Z-24+16];I[Z-24+16]=b;
I[Z-24+20]=G;B++}if(B==0)return;if(N)console.log(Date.now()-H,"FWHT computed");H=Date.now();var u=[];
S.KK.s_(0,B-1,u,I,new j(2*24));if(N)console.log(Date.now()-H,"KD tree computed");H=Date.now();var h=new Float32Array(w*g*4);
for(var r=0;r<B;r++){var i=r,gg=S.KK.SXH(i,I,u,U);if(gg==-1)continue;var gC=i*24,gd=gg*24,gY=I[gC],gN=I[gC+1],gS=I[gd],M=I[gd+1];
z+=S.KK.getError(gd,gC,I,1e99);var Cj=gS-gY,gs=M-gN;h[(g+gs)*2*w+(w+Cj)]+=1}if(N)console.log(Date.now()-H,"NN found");
H=Date.now();var gl=[],gR=1/(2*w);for(var r=0;r<h.length;r++){if(h[r]>0){var s=Math.floor(r*gR),q=r-s*2*w;
gl.push({x:q-w,y:s-g,Z:h[r],Qh:-1})}}gl.sort(function(gO,SC){return SC.Z-gO.Z});var ge=new Int32Array(w*g),So=[];
for(var r=0;r<w*g;r++){if(d[r]==255){ge[r]=gq;So.push(r%w,Math.floor(r/w));gq++}else if(p[(r<<2)+3]<200){ge[r]=-2}else{ge[r]=-1}}var gH=S.KK.SMj(w,g,gl,ge,So,gq);
if(gH==null){return}var gx=gH.DJ,top=gH.top;gx=S.KK.SMW(gx,p,w,g,top,ge,So,gq);if(N)console.log(Date.now()-H,"optimal labeling found");
H=Date.now();var K=t.clone();K.vj(1,1);K=K.Yl(O);var g$=S.p(K.u()*4),gy=S.p(K.u());S.gW(Y,O,g$,K);var SZ=O.C,dU=O.T;
for(var s=0;s<dU;s++)for(var q=0;q<SZ;q++){if(W[s*SZ+q]==0)continue;var gz=Math.min(Math.floor(q/e),w-1),gX=Math.min(Math.floor(s/e),g-1),gJ=ge[gX*w+gz],SR=gx[gJ],gF=top[SR],gv=q+gF.x*e,SU=s+gF.y*e,ga=SU*SZ+gv<<2,Sg=(s-K.y+O.y)*K.C+(q-K.x+O.x)<<2;
g$[Sg]=Y[ga];g$[Sg+1]=Y[ga+1];g$[Sg+2]=Y[ga+2];g$[Sg+3]=Y[ga+3];g$[Sg+3]=Y[ga+3];gy[Sg>>2]=SR+1}if(N)console.log(Date.now()-H,"copied back");
H=Date.now();S.Ok.dd(g$,gy,K,null,1e3);if(N)console.log(Date.now()-H,"poisson smooth");H=Date.now();
S.gW(g$,K,Q,t)};S.KK.jk=function(p,a,R,Q,t,N){return S.KK.OH(p+t.x,a+t.y,R,Q)&&N[(a+t.y)*R+(p+t.x)]==-1?0:1e9};
S.KK.SMW=function(p,a,R,Q,top,t,N,K){var T=Date.now(),d=[-1,0,0,-1,1,0,0,1],y=1e99,E=[],k=[],D=2*(K*2*3+K*2),P=null,e=0,Y=0,O=0,W=1e99;
while(!0&&Date.now()<T+12e3){O++;var w=null,g=y;for(var J=0;J<top.length;J++){var U=top[J],H=0,f=K+2,j=0;
for(var I=0;I<K;I++){var L=N[I*2],C=N[I*2+1],v=top[p[I]],o=S.KK.jk(L,C,R,Q,U,t),Z=p[I]==J?1e9:S.KK.jk(L,C,R,Q,v,t);
for(var B=0;B<4;B++){if(B==0&&L==0||B==1&&C==0||B==2&&L==R-1||B==3&&C==Q-1)continue;var s=d[2*B],q=d[2*B+1],F=L+s,b=C+q,G=t[b*R+F];
if(G==-2){}else if(G==-1){o+=3*S.KK.pj(F+U.x,b+U.y,F,b,R,Q,a,t);o+=2*S.KK.pj(F+U.x+s,b+U.y+q,F+s,b+q,R,Q,a,t);
Z+=3*S.KK.pj(F+v.x,b+v.y,F,b,R,Q,a,t);Z+=2*S.KK.pj(F+v.x+s,b+v.y+q,F+s,b+q,R,Q,a,t)}else if(B>1){if(p[I]==p[G]){var u=0;
u+=S.KK.pj(L+v.x,C+v.y,L+U.x,C+U.y,R,Q,a,t);u+=S.KK.pj(F+v.x,b+v.y,F+U.x,b+U.y,R,Q,a,t);E[H]=I;E[H+1]=G;
k[H]=u;k[H+1]=u;H+=2}else{var h=top[p[G]],z=f,r=0,i=0,gg=0;f++;r+=S.KK.pj(L+v.x,C+v.y,L+U.x,C+U.y,R,Q,a,t);
r+=S.KK.pj(F+v.x,b+v.y,F+U.x,b+U.y,R,Q,a,t);i+=S.KK.pj(L+h.x,C+h.y,L+U.x,C+U.y,R,Q,a,t);i+=S.KK.pj(F+h.x,b+h.y,F+U.x,b+U.y,R,Q,a,t);
gg+=S.KK.pj(L+h.x,C+h.y,L+v.x,C+v.y,R,Q,a,t);gg+=S.KK.pj(F+h.x,b+h.y,F+v.x,b+v.y,R,Q,a,t);E[H]=I;E[H+1]=z;
k[H]=r;k[H+1]=r;H+=2;E[H]=G;E[H+1]=z;k[H]=i;k[H+1]=i;H+=2;E[H]=z;E[H+1]=K+1;k[H]=gg;k[H+1]=0;H+=2}}}E[H]=K;
E[H+1]=I;k[H]=o;k[H+1]=0;H+=2;E[H]=I;E[H+1]=K+1;k[H]=Z;k[H+1]=0;H+=2;j+=Math.min(o,Z)}if(j>g)continue;
var gC=S.EV.dC(f,H,K,K+1,E,k,g);if(gC.Ly<g){g=gC.Ly;var gd=p.slice(0);S.KK.SMO(gd,H,E,gC.Qv,J,K);w=gd}}if(g*1>=y){break}y=g;
p=w;if((O&3)==0){if(g*1.03>=W)break;W=g}if((O&3)==0){var gY=0*top.length;for(var I=0;I<top.length&&top.length>gY;
I++){if(p.indexOf(I)!=-1)continue;top.splice(I,1);for(var G=0;G<p.length;G++)if(p[G]>I)p[G]--;I--}}}return p};
S.KK.SMO=function(p,a,R,Q,t,N){for(var K=0;K<Q.length;K++){var T=Q[K]<<1,d=0,y=0;if(T<a){d=R[T];y=R[T+1]}else{y=R[T];
d=R[T+1]}if(d==N&&p[y]!=t)p[y]=t}};S.KK.jc=function(top,p,a,R,Q,t,N,K,T){for(var d=0;d<a.length;d++){var y=a[d],E=!0;
if(K!=null&&!(S.KK.OH(K+y.x,T+y.y,t,N)&&R[t*(T+y.y)+K+y.x]==-1))continue;if(y.Qh==-1)y.Qh=S.KK.SM_(y,R,Q,t,N);
if(y.Qh<=0)continue;for(var k=0;k<top.length;k++){var D=top[k],P=y.x-D.x,e=y.y-D.y;if(P*P+e*e<p){E=!1;
break}}if(E)return y}return null};S.KK.SM_=function(p,a,R,Q,t){var N=0;for(var K=0;K<R.length;K+=2){var T=R[K]+p.x,d=R[K+1]+p.y;
if(S.KK.OH(T,d,Q,t)&&a[Q*d+T]==-1)N++}return N/(R.length>>1)};S.KK.SMj=function(p,a,R,Q,t,N){var top=[];
for(var K=0;K<60;K++){var T=S.KK.jc(top,25,R,Q,t,p,a);if(T==null)break;else top.push(T)}if(top.length==0)return null;
var d=[];for(var K=0;K<N;K++){var y=t[K*2],E=t[K*2+1],D=-1,P=0;while(!0){P++;var e=Math.random();D=Math.floor(e*.99999*top.length);
var Y=top[D],O=y+Y.x,W=E+Y.y;if(S.KK.OH(O,W,p,a)&&Q[W*p+O]==-1)break;if(P>100){var T;T=S.KK.jc(top,0,R,Q,t,p,a,y,E);
if(T==null)return null;top.push(T);P=0}}d.push(D)}return{top:top,DJ:d}};S.KK.pj=function(p,a,R,Q,t,N,K,T){if(p==R&&a==Q)return 0;
if(p<0||a<0||p>=t||a>=N||R<0||Q<0||R>=t||Q>=N||T[a*t+p]!=-1||T[Q*t+R]!=-1)return 1e7;var d=a*t+p<<2,y=Q*t+R<<2,E=K[d]-K[y],k=K[d+1]-K[y+1],D=K[d+2]-K[y+2];
return 1+(E*E+k*k+D*D)};S.KK.OH=function(p,a,R,Q){return p>=0&&p<R&&a>=0&&a<Q};S.KK.SXH=function(p,a,R,Q){var t=24*p,N=a[t],K=a[t+1],T=Q*Q,d=0,D=1e9;
while(R[d]!=99)if(a[t+R[d]]<R[d+1])d=R[d+2];else d=R[d+3];var y=R[d+1],E=R[d+2],k=-1;for(var P=y;P<=E;
P++){var d=P,e=d*24,Y=a[e],O=a[e+1];if((Y-N)*(Y-N)+(O-K)*(O-K)<T)continue;var W=S.KK.getError(e,t,a,D);
if(W<D){D=W;k=d}}return k};S.KK.getError=function(p,a,R,Q){var t=0;for(var N=4;N<24;N+=4){var K=R[a+N]-R[p+N],T=R[a+N+1]-R[p+N+1],d=R[a+N+2]-R[p+N+2],y=R[a+N+3]-R[p+N+3];
t+=K*K+T*T+d*d+y*y;if(t>=Q)return t+1}return t};S.KK.s_=function(p,a,R,Q,t){var N=16,P=0;if(a-p<=N){R.push(99,p,a);
return}S.KK.wh(p,a,Q,t);var K=-1,T=-1;for(var d=4;d<24;d++){var y=t[2*d+1]-t[2*d];if(y>T){T=y;K=d}}var E=p+a>>1,k=S.KK.SXO(E,p,a,Q,K),D=-1;
for(var d=p;d<=a;d++)if(Q[24*d+K]==k){if(D==-1)D=d;P=d}if(p+8<D&&D-p>a-P)E=D;else if(P+1<a-8)E=P+1;else if(a-p<64){R.push(99,p,a);
return}else E=E;var e=R.length;R.push(K,k,0,0);R[e+2]=e+4;S.KK.s_(p,E-1,R,Q,t);R[e+3]=R.length;S.KK.s_(E,a,R,Q,t)};
S.KK.wh=function(p,a,R,Q){for(var t=0;t<48;t+=4){Q[t]=3e4;Q[t+1]=-3e4;Q[t+2]=3e4;Q[t+3]=-3e4}for(var t=p;
t<=a;t++){var N=t*24;for(var K=0;K<24;K++){var T=R[N+K],d=Q[K<<1],y=Q[(K<<1)+1];if(T<d)Q[K<<1]=T;if(T>y)Q[(K<<1)+1]=T}}};
S.KK.sn=function(p,a,R){var Q=0,t=0;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;
t++;Q=R[p+t];R[p+t]=R[a+t];R[a+t]=Q;t++};S.KK.sk=function(p,a,R,Q){var t=R+Q>>>1,N=p[24*t+a];while(R<=Q){while(p[24*R+a]<N)R++;
while(p[24*Q+a]>N)Q--;if(R<=Q){if(p[24*R+a]!=p[24*Q+a])S.KK.sn(R*24,Q*24,p);R++;Q--}}return R};S.KK.SXO=function(p,a,R,Q,t){var N=0;
while(a!=R){N=S.KK.sk(Q,t,a,R);if(p<N)R=N-1;else a=N}return Q[p*24+t]};S.KK.$M=function(p,a,R,Q){for(var t=0;
t<Q;t++)a[R+t]=p[t]};S.KK.SXw=function(p,a,R,Q,t,N,K,T,d){var y=(Q-3)*t+(R-3),E=y<<2;for(var k=0;k<8;
k++){if(a[y]+a[y+1]+a[y+2]+a[y+3]+a[y+4]+a[y+5]+a[y+6]+a[y+7]!=0||p[E+3]<200||p[E+7]<200||p[E+11]<200||p[E+15]<200||p[E+19]<200||p[E+23]<200||p[E+27]<200||p[E+31]<200)return 1;
var D=k<<3;K[D+0]=p[E+0];T[D+0]=p[E+1];d[D+0]=p[E+2];K[D+1]=p[E+4];T[D+1]=p[E+5];d[D+1]=p[E+6];K[D+2]=p[E+8];
T[D+2]=p[E+9];d[D+2]=p[E+10];K[D+3]=p[E+12];T[D+3]=p[E+13];d[D+3]=p[E+14];K[D+4]=p[E+16];T[D+4]=p[E+17];
d[D+4]=p[E+18];K[D+5]=p[E+20];T[D+5]=p[E+21];d[D+5]=p[E+22];K[D+6]=p[E+24];T[D+6]=p[E+25];d[D+6]=p[E+26];
K[D+7]=p[E+28];T[D+7]=p[E+29];d[D+7]=p[E+30];E+=t<<2;y+=t}return 0};S.KK.Rd=function(p,a){a[0]=p[32]+p[0];
a[1]=p[33]+p[1];a[2]=p[34]+p[2];a[3]=p[35]+p[3];a[4]=p[36]+p[4];a[5]=p[37]+p[5];a[6]=p[38]+p[6];a[7]=p[39]+p[7];
a[8]=p[40]+p[8];a[9]=p[41]+p[9];a[10]=p[42]+p[10];a[11]=p[43]+p[11];a[12]=p[44]+p[12];a[13]=p[45]+p[13];
a[14]=p[46]+p[14];a[15]=p[47]+p[15];a[16]=p[48]+p[16];a[17]=p[49]+p[17];a[18]=p[50]+p[18];a[19]=p[51]+p[19];
a[20]=p[52]+p[20];a[21]=p[53]+p[21];a[22]=p[54]+p[22];a[23]=p[55]+p[23];a[24]=p[56]+p[24];a[25]=p[57]+p[25];
a[26]=p[58]+p[26];a[27]=p[59]+p[27];a[28]=p[60]+p[28];a[29]=p[61]+p[29];a[30]=p[62]+p[30];a[31]=p[63]+p[31];
a[32]=p[0]-p[32];a[33]=p[1]-p[33];a[34]=p[2]-p[34];a[35]=p[3]-p[35];a[36]=p[4]-p[36];a[37]=p[5]-p[37];
a[38]=p[6]-p[38];a[39]=p[7]-p[39];a[40]=p[8]-p[40];a[41]=p[9]-p[41];a[42]=p[10]-p[42];a[43]=p[11]-p[43];
a[44]=p[12]-p[44];a[45]=p[13]-p[45];a[46]=p[14]-p[46];a[47]=p[15]-p[47];a[48]=p[16]-p[48];a[49]=p[17]-p[49];
a[50]=p[18]-p[50];a[51]=p[19]-p[51];a[52]=p[20]-p[52];a[53]=p[21]-p[53];a[54]=p[22]-p[54];a[55]=p[23]-p[55];
a[56]=p[24]-p[56];a[57]=p[25]-p[57];a[58]=p[26]-p[58];a[59]=p[27]-p[59];a[60]=p[28]-p[60];a[61]=p[29]-p[61];
a[62]=p[30]-p[62];a[63]=p[31]-p[63];p[0]=a[16]+a[0];p[1]=a[17]+a[1];p[2]=a[18]+a[2];p[3]=a[19]+a[3];
p[4]=a[20]+a[4];p[5]=a[21]+a[5];p[6]=a[22]+a[6];p[7]=a[23]+a[7];p[8]=a[24]+a[8];p[9]=a[25]+a[9];p[10]=a[26]+a[10];
p[11]=a[27]+a[11];p[12]=a[28]+a[12];p[13]=a[29]+a[13];p[14]=a[30]+a[14];p[15]=a[31]+a[15];p[16]=a[0]-a[16];
p[17]=a[1]-a[17];p[18]=a[2]-a[18];p[19]=a[3]-a[19];p[20]=a[4]-a[20];p[21]=a[5]-a[21];p[22]=a[6]-a[22];
p[23]=a[7]-a[23];p[24]=a[8]-a[24];p[25]=a[9]-a[25];p[26]=a[10]-a[26];p[27]=a[11]-a[27];p[28]=a[12]-a[28];
p[29]=a[13]-a[29];p[30]=a[14]-a[30];p[31]=a[15]-a[31];a[0]=p[8]+p[0];a[1]=p[9]+p[1];a[2]=p[10]+p[2];
a[3]=p[11]+p[3];a[4]=p[12]+p[4];a[5]=p[13]+p[5];a[6]=p[14]+p[6];a[7]=p[15]+p[7];a[8]=p[0]-p[8];a[9]=p[1]-p[9];
a[10]=p[2]-p[10];a[11]=p[3]-p[11];a[12]=p[4]-p[12];a[13]=p[5]-p[13];a[14]=p[6]-p[14];a[15]=p[7]-p[15];
p[0]=a[4]+a[0];p[1]=a[5]+a[1];p[2]=a[6]+a[2];p[3]=a[7]+a[3];p[4]=a[0]-a[4];p[5]=a[1]-a[5];p[6]=a[2]-a[6];
p[7]=a[3]-a[7];p[8]=a[12]+a[8];p[9]=a[13]+a[9];p[10]=a[14]+a[10];p[11]=a[15]+a[11];p[12]=a[8]-a[12];
p[13]=a[9]-a[13];p[14]=a[10]-a[14];p[15]=a[11]-a[15];a[0]=p[2]+p[0];a[1]=p[3]+p[1];a[2]=p[0]-p[2];a[3]=p[1]-p[3];
a[4]=p[6]+p[4];a[5]=p[7]+p[5];a[6]=p[4]-p[6];a[7]=p[5]-p[7];a[8]=p[10]+p[8];a[9]=p[11]+p[9];a[10]=p[8]-p[10];
a[11]=p[9]-p[11];a[12]=p[14]+p[12];a[13]=p[15]+p[13];a[14]=p[12]-p[14];a[15]=p[13]-p[15];p[0]=a[1]+a[0];
p[1]=a[0]-a[1];p[2]=a[3]+a[2];p[3]=a[2]-a[3];p[4]=a[5]+a[4];p[5]=a[4]-a[5];p[6]=a[7]+a[6];p[7]=a[6]-a[7];
p[8]=a[9]+a[8];p[9]=a[8]-a[9];p[10]=a[11]+a[10];p[11]=a[10]-a[11];p[12]=a[13]+a[12];p[13]=a[12]-a[13];
p[14]=a[15]+a[14];p[15]=a[14]-a[15]};S.KK.Sfe=function(){var p="",a=64,R="v",Q="t",t="a",N=5,K,T,d;for(K=a>>1;
K>0;K>>=1,N--){for(T=0;T<a;T++){d=(T>>N&1)!=0;if(d){p+=Q+"["+T+"] = "+R+"["+(-K+T)+"] - "+R+"["+T+"];  "}else{p+=Q+"["+T+"] = "+R+"["+(K+T)+"] + "+R+"["+T+"];  "}}t=R;
R=Q;Q=t;p+="\n"}console.log(p)};S.KK.SfH=function(p,a,R){var Q=a,t=R,N=Q,K=0,d,y,E;while(p>>K!=2)K++;
var T=K;for(d=p>>1;d>0;d>>=1,K--){for(y=0;y<p;y++){E=(y>>K&1)!=0;if(E)t[y]=Q[-d+y]-Q[y];else t[y]=Q[d+y]+Q[y]}N=Q;
Q=t;t=N}if((T&1)==1)for(d=0;d<p;d++)R[d]=Q[d]};S.HF={};S.HF.RK=function(p,a,R,Q,t,N,K,T,d){var y=Date.now(),E=new Uint32Array(p.buffer),k=new Uint32Array(a.buffer),D=K/R,P=T/Q,e=1/D,Y=1/P,O=new Float64Array(2),W=3,w=1/W,g=1/(W*W),J=0,U=0,H=R,f=Q;
if(t){J=t.x;U=t.y;H=t.C;f=t.T}for(var j=0;j<f;j++)for(var I=0;I<H;I++){var L=J+I,C=U+j,v=C*R+L,o=v<<1,Z=v<<2;
S.HF.SXE(N,K,T,(L+.5)*D,(C+.5)*P,O);var B=O[0]*e,s=O[1]*Y;if(B==0&&s==0)k[v]=E[v];else{S.L.Fe(L+B+.5,C+s+.5,E,R,Q,k,v,d)}}};
S.HF.SXE=function(p,a,R,Q,t,N){Q-=.499999;t-=.499999;var K=~~Q,T=~~t,d=Q-K,y=t-T,E=(1-y)*(1-d),k=(1-y)*d,D=y*(1-d),P=y*d,e=K<a-1?K+1:K,Y=T<R-1?T+1:T,O=T*a+K<<1,W=T*a+e<<1,w=Y*a+K<<1,g=Y*a+e<<1;
N[0]=E*p[O]+k*p[W]+D*p[w]+P*p[g];N[1]=E*p[O+1]+k*p[W+1]+D*p[w+1]+P*p[g+1]};S.HF.SFZ=function(p,a,R,Q,t){var N=1/p,K=[-1,1,-p,p],T=Q.length;
for(var d=0;d<T;d++){var y=Q[d],E=y<<1,k=d<<1,D=~~(y*N),P=y-p*D,e=R[E],Y=R[E+1],O=0,W=0;if(P!=0&&P!=p-1){var w=y-1<<1,g=y+1<<1,J=R[w],U=R[g],H=R[w+1],f=R[g+1],j=e-(J+U)*.5,I=Y-(H+f)*.5;
O-=j*t;W-=I*t}if(D!=0&&D!=a-1){var w=y-p<<1,g=y+p<<1,J=R[w],U=R[g],H=R[w+1],f=R[g+1],j=e-(J+U)*.5,I=Y-(H+f)*.5;
O-=j*t;W-=I*t}R[E]=e+O;R[E+1]=Y+W}};S.HF.SFF=function(p,a){var R=p+","+a;if(S.HF.jj==R)return S.HF.dx;
var Q=S.HF.dx=[];S.HF.jj=R;for(var t=0;t<=1e3;t++){var N=t*.001,K=Math.sqrt(N),T=Math.exp(-4*K),d=.96*(1-K*K),y=a*((1-p)*T+p*d);
Q[t]=y}return Q};S.HF.jj="";S.HF.dx=[];S.HF.ShY=function(p,a,R,Q,t,N,K,T,d,y,E,k,D){var P=Math.max(0,Math.floor(t-K-1)),e=Math.min(a,Math.ceil(t+K+1)),Y=Math.max(0,Math.floor(N-K-1)),O=Math.min(R,Math.ceil(N+K+1)),W=2*a,w=K*K,g=1/K,J=0;
if(D&&(Q==3||Q==6))d=-d;var U=S.HF.SFF(T,d);for(var H=Y;H<O;H++)for(var f=P;f<e;f++){var j=H*a+f,I=j<<1,L=(t-f)*g,C=(N-H)*g,v=L*L+C*C;
if(v<1){k[J]=j;var o=U[~~(v*1e3)];if(Q==1){p[I]=p[I]*(1-o*.05);p[I+1]=p[I+1]*(1-o*.05)}else{var Z=0,B=0,F,b,G,u;
if(Q==0){Z=y*o;B=E*o}else if(Q==2){}else if(Q==3){Z=o*C;B=-o*L}else if(Q==4){Z=o*L;B=o*C}else if(Q==5){Z=-o*L;
B=-o*C}else if(Q==6){Z=E*o;B=-y*o}var s=p[I],q=p[I+1];if(f==0||f!=a-1&&Z<0){F=1+p[I+2]-s;G=p[I+3]-q}else{F=s-p[I-2]+1;
G=q-p[I-1]}if(H==0||H!=R-1&&B<0){b=p[I+W]-s;u=1+p[I+W+1]-q}else{b=s-p[I-W];u=q-p[I-W+1]+1}p[I]=-(F*Z+b*B-s);
p[I+1]=-(G*Z+u*B-q)}J++}}};S.HF.Sff=function(p){var a=p[0],R=p[0],Q=p[1],t=p[1];for(var N=0;N<p.length;
N+=2){var K=p[N],T=p[N+1];if(K<a)a=K;else if(K>R)R=K;if(T<Q)Q=T;else if(T>t)t=T}return[a,Q,R,t]};S.Shz=function(p,a,R,Q,t){function N(gS,M,Cj,gs){return Math.sqrt((gS-Cj)*(gS-Cj)+(M-gs)*(M-gs))}function K(gS,M){return gS>=0&&gS<a&&M>=0&&M<R}function T(gS){if(gS<0)return 0;
if(gS>=a)return a-1;return gS}function d(gS){if(gS<0)return 0;if(gS>=R)return R-1;return gS}function y(r,gS){var M=gS[3]*(1/255),Cj=Q[r]+gS[0]*M;
if(Cj>255)Cj=255;Q[r]=Cj;Cj=Q[r+1]+gS[1]*M;if(Cj>255)Cj=255;Q[r+1]=Cj;Cj=Q[r+2]+gS[2]*M;if(Cj>255)Cj=255;
Q[r+2]=Cj}function E(gS,M,Cj){if(!u(gS,M))return;if(Cj[3]<0)Cj[3]=0;y((M*a+gS)*4,Cj)}function k(gS){var M=gS.slice(0,3);
M[3]=0;return M}var D=a/800;function P(gS){return Math.round(gS*D)}function e(){for(var r=0;r<=300;r++){z[r]=Y(r)}}function Y(R){var gS=.8,M=.2,Cj=gS*M,gs=R/60%2-1,gl=Cj*(1-gs*gs),gR=M-Cj,ge;
if(R<60){ge=[Cj+gR,gl,0]}else if(R<120){ge=[gl,Cj,0]}else if(R<180){ge=[0,Cj,gl]}else if(R<240){ge=[0,gl,Cj]}else if(R<300){ge=[gl,0,Cj]}else{ge=[Cj,0,gl]}return[(ge[0]+gR)*255,(ge[1]+gR)*255,(ge[2]+gR)*255]}function O(R){return z[~~R]}function W(gS){return 1-w(gS)}function w(gS){return gS-~~gS}function g(gS,M,Cj,gs){b(gS,M,Cj,0,M+1,1,gs)}function J(gS,M,Cj,gs,gl,gR){b(gS,M,Cj,0,gs,1,gl,gR)}function U(gS){for(var r=0;
r<Q.length;r+=4){y(r,gS)}}function H(gS,M,Cj,gs,gl,gR,ge,So){f(gS,M,Cj,gs,gl,1,gR,ge,So)}function f(gS,M,Cj,gs,gl,gR,ge,So,gq){if(gR==null)gR=.5;
if(ge==null)ge=0;if(So==null)So=0;if(gq==null)gq=!1;var gH=gS.x,gx=gS.y,g$=Cj.slice(0),gy=~~(Cj[3]*gg);
gs=gs*gg;if(!gq){M=G(M);gl=G(gl);ge=G(ge);So=G(So)}var SZ=T(gH-M),dU=T(gH+M);for(var gz=SZ;gz<=dU;gz++){var gX=gz-gH,gJ=Math.floor(Math.sqrt(M*M-gX*gX)),SR=d(gx-gJ),gF=d(gx);
for(var gv=SR;gv<=gF;gv++){var SU=N(gz,gv,gH,gx);if(SU>M||SU<=M-gl)break;var ga=(SU-M+gl)/gl;g$[3]=gy-gs*(gR==1?ga:Math.pow(ga,gR));
y((gv*a+gz)*4,g$)}SR=d(gx+gJ);for(var gv=SR;gv>gF;gv--){var SU=N(gz,gv,gH,gx);if(SU>M||SU<=M-gl)break;
var ga=(SU-M+gl)/gl;g$[3]=gy-gs*(gR==1?ga:Math.pow(ga,gR));y((gv*a+gz)*4,g$)}}if(ge>0){b(gS,M+ge,g$,g$[3],ge,1,0,0,!0)}if(So>0){b(gS,M-gl,h(Cj),-Cj[3],So,1,0,0,!0)}}function j(gS,M,Cj,gs,gl,gR){b(gS,M,Cj,Cj[3],M+1,1,gs,gl,gR)}function I(gS,M,Cj,gs,gl){if(gl==null)gl=!1;
var gR=gS.x,ge=gS.y;gs*=gg;if(!gl){M=G(M);Cj=G(Cj)}var So=T(gR-M),gq=T(gR+M);for(var gH=So;gH<gq;gH++){var gx=gH-gR,g$=~~Math.sqrt(M*M-gx*gx),gy=d(ge-g$),SZ=d(ge);
for(var dU=gy;dU<=SZ;dU++){var gz=N(gH,dU,gR,ge);if(gz>M||gz<=M-Cj)break;var gX=(M-gz)/Cj,gJ=O(300*gX);
gJ[3]=gs;y((dU*a+gH)*4,gJ)}gy=d(ge+g$);for(var dU=gy;dU>SZ;dU--){var gz=N(gH,dU,gR,ge);if(gz>M||gz<=M-Cj)break;
var gX=(M-gz)/Cj,gJ=O(300*gX);gJ[3]=gs;y((dU*a+gH)*4,gJ)}}}function L(i,gS){var M=i.fX,Cj=i.Qt,gs=gS.slice(0),gl=gS[3]*gg,gR=Math.abs(Cj.y-M.y)>Math.abs(Cj.x-M.x);
if(gR){var ge=M.x;M.x=M.y;M.y=ge;ge=Cj.x;Cj.x=Cj.y;Cj.y=ge}if(M.x>Cj.x){var ge=M;M=Cj;Cj=ge}var So=Cj.x-M.x,gq=Cj.y-M.y,gH=So==0?1:gq/So,gx=Math.round(M.x),g$=M.y+gH*(gx-M.x),gy=W(M.x+.5),SZ=gx,dU=~~g$;
if(gR){gs[3]=gl*W(g$)*gy;E(dU,SZ,gs);gs[3]=gl*w(g$)*gy;E(dU+1,SZ,gs)}else{gs[3]=gl*W(g$)*gy;E(SZ,dU,gs);
gs[3]=gl*w(g$)*gy;E(SZ,dU+1,gs)}var gz=g$-gH;gx=Math.round(Cj.x);g$=Cj.y+gH*(gx-Cj.x);gy=w(Cj.x+.5);
var gX=gx,gJ=~~g$;if(gR){gs[3]=gl*W(g$)*gy;E(gJ,gX,gs);gs[3]=gl*w(g$)*gy;E(gJ+1,gX,gs)}else{gs[3]=gl*W(g$)*gy;
E(gX,gJ,gs);gs[3]=gl*w(g$)*gy;E(gX,gJ+1,gs)}if(gR){for(var SR=SZ+1;SR<=gX-1;SR++){gs[3]=gl*W(gz);E(~~gz,SR,gs);
gs[3]=gl*w(gz);E(~~gz+1,SR,gs);gz+=gH}}else{for(var SR=SZ+1;SR<=gX-1;SR++){gs[3]=gl*W(gz);E(SR,~~gz,gs);
gs[3]=gl*w(gz);E(SR,~~gz+1,gs);gz+=gH}}}function C(gS,M,Cj,gs){for(var r=0;r<4;r++){var gl=gS.fM(M+1.3*r,Cj);
L(gl,gs,1)}}function X(gS,M){this.x=Math.round(gS);this.y=Math.round(M)}var v=Math.PI/180;X.prototype.fM=function(gS,M){gS=gS*v;
var Cj=this.x+M*Math.cos(gS),gs=this.y+M*Math.sin(gS);return new o(this.x,this.y,Cj,gs)};X.prototype.SFf=function(gS,M){gS=gS*v;
var Cj=this.DL+M*Math.cos(gS),gs=this.SRm+M*Math.sin(gS);return new X(Cj,gs)};function o(gS,M,Cj,gs){this.fX=new X(gS,M);
this.Qt=new X(Cj,gs)}o.prototype.Qr=function(gS){var M=gS*this.fX.x+(1-gS)*this.Qt.x,Cj=gS*this.fX.y+(1-gS)*this.Qt.y;
return new X(M,Cj)};var Z=H,B=j,s=g,q=J,F=I,b=f,G=P,u=K,h=k,z=[];e();for(var r=0;r<p.length;r++){Q[r]=p[r]}var i=new o(a*t[2],R*t[3],a/2,R/2),gg=t[1],gC=[];
gC[0]=function gd(){var gS=[80,40,15,60],Cj=0,gs=0;s(i.Qr(1.4),260,gS,10);s(i.Qr(1),100,[240,50,50,30],30);
B(i.Qr(1),60,[255,40,0,40]);var M=[255,255,255,255];b(i.Qr(1),70,M,M[3],58,.5);s(i.Qr(1),12,M);M[3]=40;
Z(i.Qr(1),150,M,M[3],150);for(var r=0;r<40;r++){Cj+=Math.random()*25;gs=Math.random()*G(300)+G(100);
var gl=i.Qr(1).fM(Cj,gs);L(i.Qr(1).fM(Cj,gs),[110,110,110,30])}B(i.Qr(1),130,[255,255,255,8]);var gR=[170,30,23,70];
q(i.Qr(1),70,gR,1,3,3);var ge=[60,60,130,40];s(i.Qr(.47),44,ge,5);s(i.Qr(.43),22,ge,3);ge[3]=16;s(i.Qr(.53),15,ge,2);
var So=[138,94,42,100];s(i.Qr(.2),16,So,2);var gq=[130,255,170,180];B(i.Qr(0),4,gq);B(i.Qr(-.25),5,gq);
So=[150,90,0,50];Z(i.Qr(-.45),55,h(So),-So[3],40,2);s(i.Qr(-.42),35,So,2);s(i.Qr(-.5),15,So,2);F(i.Qr(-1.28),145,11,70);
var gH=O(0);gH[3]=50;Z(i.Qr(-1.28),149,gH,gH[3],4);gH=O(300);gH[3]=50;Z(i.Qr(-1.28),155-1,h(gH),-gH[3],3);
var gx=[130,130,10,50];q(i.Qr(-1),73,gx,3,2);var g$=[40,130,70,40];Z(i.Qr(-1),70,h(g$),-g$[3],35);g$=[40,170,60,50];
s(i.Qr(-.7),25,g$,4);var g$=[70,110,50,60];Z(i.Qr(1.3),30,h(g$),-g$[3],11,3);ge=[0,50,210,80];B(i.Qr(-.72),20,ge)};
gC[1]=function gY(){B(i.Qr(1),150,[240,70,70,60]);s(i.Qr(1),100,[200,60,60,40],30);var gS=[255,255,255,255],M=0,Cj=0;
b(i.Qr(1),75,gS,gS[3],63);s(i.Qr(1),12,gS);B(i.Qr(1),270,[200,200,200,20],10);for(var r=0;r<10;r++){M+=10+Math.random()*40;
Cj=Math.random()*G(250)+G(80);var gs=i.Qr(1).fM(M,Cj);L(gs,[110,110,110,35])}M=5;Cj=100;for(var r=0;
r<12;r++){M+=30;C(i.Qr(1),M,Cj,[90,90,90,40])}var gl=[150,40,23,100];q(i.Qr(1),70,gl,1,3,3);var gR=[30,100,60,40];
B(i.Qr(-.9),180,[255,255,255,20]);s(i.Qr(-.9),140,gR,15);var ge=[170,80,25,15];q(i.Qr(-.9),120,ge,1,4,4);
var So=[110,240,190,200];B(i.Qr(-.6),3,So);So[3]=100;B(i.Qr(-.6),7,So);var gq=[230,120,40,85];B(i.Qr(-.73),9,gq);
var gH=[60,60,190,50];s(i.Qr(.3),28,gH,6);gH[3]=25;s(i.Qr(.34),20,gH,3)};gC[2]=function gN(){var gS=[255,255,255,255],Cj=0,gs=0;
s(i.Qr(1),13,gS);b(i.Qr(1),150,gS,gS[3],137);var M=[120,80,35,20];s(i.Qr(1.4),260,M,10);for(var r=0;
r<40;r++){Cj+=5+Math.random()*30;gs=Math.random()*G(300);L(i.Qr(1).fM(Cj,gs),[110,110,110,20])}var gl=[10,30,255,30];
s(i.Qr(1),70,gl,50);var gR=[15,90,170,15];s(i.Qr(1.5),60,gR);var ge=[220,220,20,50];s(i.Qr(-1.15),8,ge,2);
var gS=[255,255,255,40];B(i.Qr(-1.18),6,gS);B(i.Qr(-1.18),4,gS);ge=[110,110,10,8];Z(i.Qr(-1.2),32,h(ge),-ge[3],20,3);
var So=[5,0,16,255];for(var r=0;r<4;r++){s(i.Qr(-1.36),10,So,3)}var gq=[90,200,150,20],gH=gq.slice(0);
gH[3]*=2;s(i.Qr(-1.32),7,gH,3);s(i.Qr(-1.36),7,gH,3);s(i.Qr(-1.4),7,gH,3);var gS=[230,230,230,100];B(i.Qr(-1.36),2,gS);
gS[3]=3;s(i.Qr(-.55),10,gS);ge=[120,100,10,18];s(i.Qr(-.55),160,ge,8);s(i.Qr(-.55),80,ge,4);gq[3]=3;
gH[3]=6;Z(i.Qr(-.49),13,h(gH),-gH[3],13,2);Z(i.Qr(-.55),13,h(gH),-gH[3],13,2);gq[3]=20;s(i.Qr(.15),25,gq,3);
ge[3]=100;B(i.Qr(-.52),3,ge);ge=[200,200,50,40];s(i.Qr(.27),1,ge,4);var gx=[150,40,23,30];Z(i.Qr(1),80,h(gx),-gx[3],2,1)};
return gC[t[0]]()};S.EF={};S.EF.NJ=function(p){var a=p.length,R=p[0].length,Q=new Array(R);for(var t=0;
t<R;t++)Q[t]=new Array(a);for(var t=0;t<R;t++)for(var N=0;N<a;N++)Q[t][N]=p[N][t];return Q};S.EF.Ai=function(p,a){var R=p.length,Q=p[0].length,t=new Array(R);
for(var N=0;N<R;N++)t[N]=new Array(Q);for(var N=0;N<R;N++)for(var K=0;K<Q;K++)t[N][K]=p[N][K]-a[N][K];
return t};S.EF.add=function(p,a){var R=p.length,Q=p[0].length,t=new Array(R);for(var N=0;N<R;N++)t[N]=new Array(Q);
for(var N=0;N<R;N++)for(var K=0;K<Q;K++)t[N][K]=p[N][K]+a[N][K];return t};S.EF.multiply=function(p,a){var R=p.length,Q=p[0].length,t=a[0].length;
if(Q!=a.length)throw"e";var N=new Array(R);for(var K=0;K<R;K++)N[K]=new Array(t);if((Q&1)!=0)for(var K=0;
K<R;K++){var T=p[K],d=N[K];for(var y=0;y<t;y++){var E=0;for(var k=0;k<Q;k++)E+=T[k]*a[k][y];d[y]=E}}else for(var K=0;
K<R;K++){var T=p[K],d=N[K];for(var y=0;y<t;y++){var E=0;for(var k=0;k<Q;k+=2)E+=T[k]*a[k][y]+T[k+1]*a[k+1][y];
d[y]=E}}return N};S.EF.Gp=function(p,a){var R=p.length,Q=p[0].length,t=new Array(R);for(var N=0;N<R;
N++){var K=0;for(var T=0;T<Q;T++)K+=p[N][T]*a[T];t[N]=K}return t};S.EF.dO=function(p,a){var R=[];for(var Q=0;
Q<p;Q++){R.push([]);for(var t=0;t<a;t++)R[Q].push(0)}return R};S.EF.Sfq=function(p){for(var a=0;a<p.length;
a++)console.log(JSON.stringify(p[a]))};S.EF.SfX=function(p){var a=[];for(var R=0;R<p.length;R++)a.push(p[R].join(","));
return"["+a.join(";")+"]"};S.EF.dC=function(p,a){var R=p.length;for(var Q=0;Q<R;Q++){var t=0,N=Number.NEGATIVE_INFINITY;
for(var K=Q;K<R;K++)if(Math.abs(p[K][Q])>N){t=K;N=Math.abs(p[K][Q])}S.EF.Shq(p,Q,t);for(var K=Q+1;K<R;
K++){if(p[Q][Q]==0)return 1;var T=p[K][Q]/p[Q][Q];for(var d=Q;d<R+1;d++)p[K][d]-=p[Q][d]*T}}for(var K=R-1;
K>=0;K--){if(p[K][K]==0)return 1;var y=p[K][R]/p[K][K];a[K]=y;for(var d=K-1;d>=0;d--){p[d][R]-=p[d][K]*y;
p[d][K]=0}}return 0};S.EF.Shq=function(p,a,R){var Q=p[a];p[a]=p[R];p[R]=Q};S.EF.Sfi=function(p){var a=p.length,R=S.EF.dO(a,a);
for(var Q=0;Q<a;Q++)R[Q][Q]=p[Q];return R};S.EF.Sfy=function(p){var a=p.length,R=p[0].length,Q=new Array(a);
for(var t=0;t<a;t++){Q[t]=0;for(var N=0;N<R;N++)Q[t]+=p[t][N];Q[t]/=R}return Q};S.MA={};S.MA.db=function(p){var a=~~(p+.5);
return a<0?0:a>255?255:a};S.MA.transform=function(p,a,R){var Q=S.MA.db,t=p.D.length;for(var N=0;N<t;
N++){var K=p.D[N],T=p.X[N],d=p.N[N];a.D[N]=Q(R[0]*K+R[1]*T+R[2]*d+R[3]*255);a.X[N]=Q(R[4]*K+R[5]*T+R[6]*d+R[7]*255);
a.N[N]=Q(R[8]*K+R[9]*T+R[10]*d+R[11]*255)}};S.MA.Rs=function(p,a,R){var Q=S.MA.db,t=p.length;for(var N=0;
N<t;N+=4){var K=p[N],T=p[N+1],d=p[N+2];a[N]=Q(R[0]*K+R[1]*T+R[2]*d+R[3]*255);a[N+1]=Q(R[4]*K+R[5]*T+R[6]*d+R[7]*255);
a[N+2]=Q(R[8]*K+R[9]*T+R[10]*d+R[11]*255)}};S.MA.RR=function(p){var a=p[0]+p[1]+p[2],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(a==1){var Q=p.indexOf(1);R[Q]=R[Q+4]=R[Q+8]=1}else{R[0]=p[0];R[5]=p[1];R[10]=p[2]}return R};S.MA.dp=function(p,a,R){return[1,0,0,p,0,1,0,a,0,0,1,R,0,0,0,1]};
S.MA.dH=function(p,a,R){return[p,0,0,0,0,a,0,0,0,0,R,0,0,0,0,1]};S.MA.SfA=function(p){return[p[0],p[1],p[2],p[4],p[5],p[6],p[8],p[9],p[10]]};
S.MA.Gs=function(p){return[p[0],p[1],p[2],0,p[3],p[4],p[5],0,p[6],p[7],p[8],0,0,0,0,1]};S.MA.Oz=function(p,a){return[p[0]*a[0]+p[1]*a[1]+p[2]*a[2]+p[3]*a[3],p[4]*a[0]+p[5]*a[1]+p[6]*a[2]+p[7]*a[3],p[8]*a[0]+p[9]*a[1]+p[10]*a[2]+p[11]*a[3],p[12]*a[0]+p[13]*a[1]+p[14]*a[2]+p[15]*a[3]]};
S.MA.NJ=function(p){var a=[];a[0]=p[0];a[1]=p[4];a[2]=p[8];a[3]=p[12];a[4]=p[1];a[5]=p[5];a[6]=p[9];
a[7]=p[13];a[8]=p[2];a[9]=p[6];a[10]=p[10];a[11]=p[14];a[12]=p[3];a[13]=p[7];a[14]=p[11];a[15]=p[15];
return a};S.MA.multiply=function(p,a){var R=[];R[0]=p[0]*a[0]+p[1]*a[4]+p[2]*a[8]+p[3]*a[12];R[1]=p[0]*a[1]+p[1]*a[5]+p[2]*a[9]+p[3]*a[13];
R[2]=p[0]*a[2]+p[1]*a[6]+p[2]*a[10]+p[3]*a[14];R[3]=p[0]*a[3]+p[1]*a[7]+p[2]*a[11]+p[3]*a[15];R[4]=p[4]*a[0]+p[5]*a[4]+p[6]*a[8]+p[7]*a[12];
R[5]=p[4]*a[1]+p[5]*a[5]+p[6]*a[9]+p[7]*a[13];R[6]=p[4]*a[2]+p[5]*a[6]+p[6]*a[10]+p[7]*a[14];R[7]=p[4]*a[3]+p[5]*a[7]+p[6]*a[11]+p[7]*a[15];
R[8]=p[8]*a[0]+p[9]*a[4]+p[10]*a[8]+p[11]*a[12];R[9]=p[8]*a[1]+p[9]*a[5]+p[10]*a[9]+p[11]*a[13];R[10]=p[8]*a[2]+p[9]*a[6]+p[10]*a[10]+p[11]*a[14];
R[11]=p[8]*a[3]+p[9]*a[7]+p[10]*a[11]+p[11]*a[15];R[12]=p[12]*a[0]+p[13]*a[4]+p[14]*a[8]+p[15]*a[12];
R[13]=p[12]*a[1]+p[13]*a[5]+p[14]*a[9]+p[15]*a[13];R[14]=p[12]*a[2]+p[13]*a[6]+p[14]*a[10]+p[15]*a[14];
R[15]=p[12]*a[3]+p[13]*a[7]+p[14]*a[11]+p[15]*a[15];return R};S.MA.zw=function(p){var a=[];a[0]=p[5]*p[10]*p[15]-p[5]*p[14]*p[11]-p[6]*p[9]*p[15]+p[6]*p[13]*p[11]+p[7]*p[9]*p[14]-p[7]*p[13]*p[10];
a[1]=-p[1]*p[10]*p[15]+p[1]*p[14]*p[11]+p[2]*p[9]*p[15]-p[2]*p[13]*p[11]-p[3]*p[9]*p[14]+p[3]*p[13]*p[10];
a[2]=p[1]*p[6]*p[15]-p[1]*p[14]*p[7]-p[2]*p[5]*p[15]+p[2]*p[13]*p[7]+p[3]*p[5]*p[14]-p[3]*p[13]*p[6];
a[3]=-p[1]*p[6]*p[11]+p[1]*p[10]*p[7]+p[2]*p[5]*p[11]-p[2]*p[9]*p[7]-p[3]*p[5]*p[10]+p[3]*p[9]*p[6];
a[4]=-p[4]*p[10]*p[15]+p[4]*p[14]*p[11]+p[6]*p[8]*p[15]-p[6]*p[12]*p[11]-p[7]*p[8]*p[14]+p[7]*p[12]*p[10];
a[5]=p[0]*p[10]*p[15]-p[0]*p[14]*p[11]-p[2]*p[8]*p[15]+p[2]*p[12]*p[11]+p[3]*p[8]*p[14]-p[3]*p[12]*p[10];
a[6]=-p[0]*p[6]*p[15]+p[0]*p[14]*p[7]+p[2]*p[4]*p[15]-p[2]*p[12]*p[7]-p[3]*p[4]*p[14]+p[3]*p[12]*p[6];
a[7]=p[0]*p[6]*p[11]-p[0]*p[10]*p[7]-p[2]*p[4]*p[11]+p[2]*p[8]*p[7]+p[3]*p[4]*p[10]-p[3]*p[8]*p[6];a[8]=p[4]*p[9]*p[15]-p[4]*p[13]*p[11]-p[5]*p[8]*p[15]+p[5]*p[12]*p[11]+p[7]*p[8]*p[13]-p[7]*p[12]*p[9];
a[9]=-p[0]*p[9]*p[15]+p[0]*p[13]*p[11]+p[1]*p[8]*p[15]-p[1]*p[12]*p[11]-p[3]*p[8]*p[13]+p[3]*p[12]*p[9];
a[10]=p[0]*p[5]*p[15]-p[0]*p[13]*p[7]-p[1]*p[4]*p[15]+p[1]*p[12]*p[7]+p[3]*p[4]*p[13]-p[3]*p[12]*p[5];
a[11]=-p[0]*p[5]*p[11]+p[0]*p[9]*p[7]+p[1]*p[4]*p[11]-p[1]*p[8]*p[7]-p[3]*p[4]*p[9]+p[3]*p[8]*p[5];a[12]=-p[4]*p[9]*p[14]+p[4]*p[13]*p[10]+p[5]*p[8]*p[14]-p[5]*p[12]*p[10]-p[6]*p[8]*p[13]+p[6]*p[12]*p[9];
a[13]=p[0]*p[9]*p[14]-p[0]*p[13]*p[10]-p[1]*p[8]*p[14]+p[1]*p[12]*p[10]+p[2]*p[8]*p[13]-p[2]*p[12]*p[9];
a[14]=-p[0]*p[5]*p[14]+p[0]*p[13]*p[6]+p[1]*p[4]*p[14]-p[1]*p[12]*p[6]-p[2]*p[4]*p[13]+p[2]*p[12]*p[5];
a[15]=p[0]*p[5]*p[10]-p[0]*p[9]*p[6]-p[1]*p[4]*p[10]+p[1]*p[8]*p[6]+p[2]*p[4]*p[9]-p[2]*p[8]*p[5];var R=p[0]*a[0]+p[1]*a[4]+p[2]*a[8]+p[3]*a[12];
for(var Q=0;Q<16;Q++)a[Q]/=R;return a};S.MA.SfE=function(p){var a=[],R=p[5]*p[10]*p[15]-p[5]*p[14]*p[11]-p[6]*p[9]*p[15]+p[6]*p[13]*p[11]+p[7]*p[9]*p[14]-p[7]*p[13]*p[10],Q=-p[4]*p[10]*p[15]+p[4]*p[14]*p[11]+p[6]*p[8]*p[15]-p[6]*p[12]*p[11]-p[7]*p[8]*p[14]+p[7]*p[12]*p[10],t=p[4]*p[9]*p[15]-p[4]*p[13]*p[11]-p[5]*p[8]*p[15]+p[5]*p[12]*p[11]+p[7]*p[8]*p[13]-p[7]*p[12]*p[9],N=-p[4]*p[9]*p[14]+p[4]*p[13]*p[10]+p[5]*p[8]*p[14]-p[5]*p[12]*p[10]-p[6]*p[8]*p[13]+p[6]*p[12]*p[9];
return p[0]*R+p[1]*Q+p[2]*t+p[3]*N};S.MA.Rf=S.MA.Gs([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
S.MA.SfP=S.MA.Gs([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
S.MA.ShF=S.MA.zw(S.MA.Rf);S.EV={};S.EV.FO=new Uint32Array(1);S.EV.dc=function(p,a,R,Q,t,N){var K=new Uint32Array(p),T=0,d=S.EV.FO;
if(d.length<a*4)S.EV.FO=d=new Uint32Array(a*4);var y=new Float64Array(d.buffer);for(var E=0;E<a;E+=2){var k=t[E],D=t[E+1],P=N[E],e=N[E+1];
d[T]=D;y[T+2>>1]=P;d[T+1]=K[k];K[k]=T+1;T+=4;d[T]=k;y[T+2>>1]=e;d[T+1]=K[D];K[D]=T+1;T+=4}return{b$:d,ShX:y,Shx:K}};
S.EV.dC=function(p,a,R,Q,t,N,K){var T=1,d=S.EV.dc(p,a,R,Q,t,N),y=d.b$,E=d.ShX,k=d.Shx,D=new Uint32Array(p),P=new S.EV.RM(p),Y=1,J=0;
P.push(R);P.push(Q);var e=new S.EV.RM(p),O=new Uint8Array(p),W=new Uint32Array(p);O[R]=1;O[Q]=2;var w=new Uint32Array(p),g=new Uint32Array(p);
g[R]=g[Q]=0;w[R]=w[Q]=1;while(!0){var U=-1,v=0,q=1e30;while(!P.OL()&&U==-1){var H=P.top(),f=O[H],j=k[H]-1;
while(j!=-1){var I=y[j],L=O[I],C=j^f-1<<2;if(E[C+2>>1]!=0){if(L==0){S.EV.RB(H,j,I,O,W,g,w);P.push(I)}else if(L==f&&w[I]<=w[H]&&g[I]>g[H])S.EV.RB(H,j,I,O,W,g,w);
else if(L!=f){U=C}}j=y[j+1]-1}if(U!=-1)break;P.pop()}if(U==-1){break}Y++;var o=U;while(o!=-1){D[v]=o;
v++;o=W[y[o^4]]-1}var Z=v>>1;for(var B=0;B<Z;B++){var s=D[B];D[B]=D[v-B-1];D[v-B-1]=s}o=W[y[U]]-1;while(o!=-1){D[v]=o^4;
v++;o=W[y[o^4]]-1}for(var B=0;B<v;B++)q=Math.min(q,E[D[B]+2>>1]);J+=q;if(J>=K)return{Qv:null,Ly:J};for(var B=0;
B<v;B++){var F=D[B],b=F^4,H=y[b],I=y[F];E[F+2>>1]-=q;E[b+2>>1]+=q;if(E[F+2>>1]==0&&O[H]==O[I]){if(O[H]==1){W[I]=0;
e.push(I)}if(O[H]==2){W[H]=0;e.push(H)}}}while(!e.OL()){var H=e.pop(),f=O[H],j=k[H]-1,G=f==1?4:0,u=0,h=0,z=1e9;
while(j!=-1){var I=y[j],r=j^4,C=j^G;if(O[I]==f&&E[C+2>>1]>0&&S.EV.Shy(I,R,Q,W,y,Y,w,g)+1<z){u=I;h=r;
z=g[I]+1}j=y[j+1]-1}if(h!=0){S.EV.RB(u,h,H,O,W,g,w);continue}j=k[H]-1;while(j!=-1){var I=y[j],C=j^G;
if(O[I]==f){if(E[C+2>>1]>0){P.push(I)}if(W[I]==j+1){W[I]=0;e.push(I)}}j=y[j+1]-1}O[H]=0;P.remove(H)}}var i=[];
for(var B=0;B<a;B+=2){var H=t[B],I=t[B+1];if(O[H]==1&&O[I]!=1){i.push(B>>1)}if(O[I]==1&&O[H]!=1){i.push(a+B>>1)}}return{Qv:i,Ly:J}};
S.EV.RB=function(p,a,R,Q,t,N,K){Q[R]=Q[p];t[R]=a+1;N[R]=N[p]+1;K[R]=K[p]};S.EV.Shy=function(p,a,R,Q,t,N,K,T){var d=p,y=Q[p]-1,E=0;
while(y!=-1&&K[p]!=N){p=t[y^4];y=Q[p]-1;E++}if(y==-1&&p!=a&&p!=R)return 1e9;var k=T[p]+E;E=0;y=Q[d]-1;
while(d!=p){T[d]=k-E;E++;K[d]=N;d=t[y^4];y=Q[d]-1}return k};S.EV.Sfn=function(p,a,R,Q,t,N){var K=S.EV.dc(p,a,R,Q,t,N),T=K.b$,d=K.ShX,y=K.Shx,E=0,k=0,D=new Uint32Array(p*2),P=new S.EV.Kg(p),e=0;
while(!0){P.reset();P.push(R);for(var Y=0;Y<p;Y++)D[Y<<1]=0;while(!P.OL()){var O=P.pop(),W=y[O]-1;while(W!=-1){e=T[W];
if(D[e<<1]==0&&d[W+2>>1]>0&&e!=R){D[e<<1]=O+1;D[(e<<1)+1]=W;P.push(e)}W=T[W+1]-1}if(D[Q<<1]!=0){break}}if(D[Q<<1]==0){break}var w=1e30;
e=Q;while(!0){var g=D[e<<1]-1;if(g==-1)break;var J=D[(e<<1)+1];w=Math.min(w,d[J+2>>1]);e=g}e=Q;while(!0){var g=D[e<<1]-1;
if(g==-1)break;var J=D[(e<<1)+1],U=J^4;d[J+2>>1]-=w;d[U+2>>1]+=w;e=g}E+=w}var H=[];for(var Y=0;Y<a;Y+=2){var g=t[Y],e=t[Y+1];
if((D[g<<1]!=0||g==R)&&D[e<<1]==0&&e!=R){H.push(Y>>1)}if((D[e<<1]!=0||e==R)&&D[g<<1]==0&&g!=R){H.push(a+Y>>1)}}return{Qv:H,Ly:E}};
S.EV.Kg=function(p){p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;this.Ue=new Uint32Array(p+1);this.pG=p;
this.WA=0;this.WD=0};S.EV.Kg.prototype={push:function(p){var a=this.WD;this.Ue[a]=p;this.WD=a+1&this.pG},pop:function(){var p=this.WA,a=this.Ue[p];
this.WA=p+1&this.pG;return a},OL:function(){return this.WA==this.WD},reset:function(){this.WA=0;this.WD=0}};
S.EV.RM=function(p){p|=p>>1;p|=p>>2;p|=p>>4;p|=p>>8;p|=p>>16;this.Ue=new Uint32Array(p+1);this.wW=new Uint32Array(p+1);
this.pG=p;this.WA=0;this.WD=0};S.EV.RM.prototype={top:function(){return this.Ue[this.WA]},Sfk:function(){return this.Ue[this.WD]},push:function(p){if(this.wW[p]!=0)return;
this.wW[p]=this.WD+1;var a=this.WD;this.Ue[a]=p;this.WD=a+1&this.pG},pop:function(){var p=this.WA,a=this.Ue[p];
this.wW[a]=0;this.WA=p+1&this.pG;return a},OL:function(){return this.WA==this.WD},remove:function(p){var a=this.wW[p]-1;
if(a==-1)return;this.wW[p]=0;if(a==this.WA){this.pop();return}var R=this.pop();this.Ue[a]=R;this.wW[R]=a+1},Xx:function(p){return p+this.pG+1&this.pG}};
S.EV.Kp=function(p,a,R){var Q=S.EV.sk(p,a,R);if(a<Q-1)S.EV.Kp(p,a,Q-1);if(Q<R)S.EV.Kp(p,Q,R)};S.EV.sk=function(p,a,R){var Q=p[a+R>>>1];
while(a<=R){while(p[a]<Q)a++;while(p[R]>Q)R--;if(a<=R){S.EV.sn(p,a,R);a++;R--}}return a};S.EV.sn=function(p,a,R){var Q=p[a];
p[a]=p[R];p[R]=Q};S.lm={};S.lm.Sho=function(p){for(var a=0;a<p.length;a++)S.lm.OM(p,a)};S.lm.OM=function(p,a){p[a].v.keyShapeInvalidated={t:"bool",v:!0}};
S.lm.SxZ=function(p){for(var a=0;a<p.length;a++)p[a].v.keyOriginIndex.v=a};S.lm.No=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
S.lm.Kl=function(p){p=p.v;var a={Rctn:2,Ln:4,Elps:5},R=a[p.classID],Q=p.topLeft?S.lm.Ki(p):null,t=null,N=0;
if(R==4){var K=p.Strt.v,T=p.End.v;t=[K.Hrzn.v.val,K.Vrtc.v.val,T.Hrzn.v.val,T.Vrtc.v.val];N=p.Wdth.v.val}if(R==null)return null;
return S.lm.rU(R,R==4?null:S.lm.RX(p),Q,t,N)};S.lm.GX=function(p,a,R,Q,t,N){var K={classID:p,unitValueQuadVersion:{t:"long",v:1}};
if(a)S.lm.FI(K,["Left","Top","Rght","Btom"],a);if(R)S.lm.FI(K,["topLeft","topRight","bottomRight","bottomLeft"],R);
if(p=="Ln"){K.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q[1]}}}},K.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q[3]}}}},K.Wdth={t:"UntF",v:{type:"#Pxl",val:t}}}if(N)K.Nm={t:"TEXT",v:N};
return{t:"Objc",v:K}};S.lm.rU=function(p,a,R,Q,t){var N=S.lm.No(),K=N.v;delete K.keyShapeInvalidated;
K.keyOriginType={t:"long",v:p};K.keyOriginResolution={t:"doub",v:75};if(p==4){K.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Q[0]},Vrtc:{t:"doub",v:Q[1]}}};
K.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Q[2]},Vrtc:{t:"doub",v:Q[3]}}};a=[Math.min(Q[0],Q[2]),Math.min(Q[1],Q[3]),Math.max(Q[0],Q[2]),Math.max(Q[1],Q[3])];
K.keyOriginLineWeight={t:"doub",v:t},K.keyOriginLineArrowSt={t:"bool",v:!1};K.keyOriginLineArrowEnd={t:"bool",v:!1};
K.keyOriginLineArrWdth={t:"doub",v:0};K.keyOriginLineArrLngth={t:"doub",v:0};K.keyOriginLineArrConc={t:"long",v:0}}var T={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
K.keyOriginShapeBBox={t:"Objc",v:T};S.lm.Rh(K,a);if(R!=null){var d={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
K.keyOriginRRectRadii={t:"Objc",v:d};S.lm.Ry(K,R)}return N};S.lm.t=function(p,a,R,Q){var t=S.L.jO(a),N=S.L.jW(a),K=Math.max(Math.abs(a[0]),Math.abs(a[1])),T=Math.max(Math.abs(a[3]),Math.abs(a[4]));
for(var d=0;d<p.length;d++){var y=p[d].v,E=y.keyShapeInvalidated;if(E&&E.v||y.keyOriginType==null)continue;
if(R.length!=0&&R.indexOf(d)==-1)continue;var k=y.keyOriginType.v;if(!t||!N||Q&&k==2&&Math.abs(1-K/T)>.01){S.lm.OM(p,d);
continue}var D=S.lm.Ob(y);S.L.apply(a,D);S.lm.Rh(y,[Math.min(D[0],D[2]),Math.min(D[1],D[3]),Math.max(D[0],D[2]),Math.max(D[1],D[3])]);
if(k==2){var P=S.lm.Rx(y),e=new gh(a[0],a[1],a[3],a[4],0,0);e.qC();if(e.Eu==0){P.push(P.shift());e.rotate(Math.PI/2);
e.qC()}if(e.Eu<0){var Y=P[0];P[0]=P[1];P[1]=Y;Y=P[2];P[2]=P[3];P[3]=Y}if(e.$B<0){var Y=P[0];P[0]=P[3];
P[3]=Y;Y=P[1];P[1]=P[2];P[2]=Y}if(Q)for(var O=0;O<4;O++)P[O]=P[O]*K;S.lm.Ry(y,P)}if(k==4){y.keyOriginLineWeight.v*=K;
var W=S.lm.KO(y);S.L.apply(a,W);S.lm.Sxf(y,W)}}};S.lm.OX=function(p,a){var R=a.G;for(var Q=0;Q<p.length;
Q++){var t=p[Q].v,N=t.keyShapeInvalidated,D;if(N&&N.v||t.keyOriginType==null)continue;var K=t.keyOriginType.v,T=S.lm.Ob(t),d=T[0],y=T[1],E=T[2],k=T[3];
if(K==1)D=S.d.y$.Rect(d,y,E-d,k-y,0);else if(K==2){var P=S.lm.Rx(t);D=S.d.y$.Rect(d,y,E-d,k-y,P)}else if(K==4){var e=S.lm.KO(t);
D=S.d.y$.hz(e[0],e[1],e[2],e[3],t.keyOriginLineWeight.v)}else if(K==5)D=S.d.y$.QJ(d,y,E-d,k-y);var Y=S.d.kk(R,Q),O=S.d.IL(R,Q);
D[2].gu=R[Y].gu;var W=R;R=R.slice(0,Y);for(var w=2;w<D.length;w++)R.push(D[w]);for(var w=Y+O;w<W.length;
w++)R.push(W[w])}a.G=R;a.Ol=!0};S.lm.vn=function(p){var a=1e9,R=-a,Q=1e9,t=-Q,N=null,K=p.h$(),T=K[0],d=K[1];
for(var y=0;y<d.length;y++){var E=T[d[y]],k=E.add.vogk;if(k==null)continue;var D=E.add.vmsk.V;for(var P=0;
P<k.length;P++){var e=k[P].v,Y=e.keyShapeInvalidated;if(Y&&Y.v||e.keyOriginType==null)continue;if(d.length==1&&D.length!=0&&D.indexOf(P)==-1)continue;
var O=e.keyOriginType.v;if(O!=4){var W=S.lm.Ob(e);a=Math.min(a,W[0]);Q=Math.min(Q,W[1]);R=Math.max(R,W[2]);
t=Math.max(t,W[3])}if(O==2&&N==null){N=S.lm.Rx(e)}}}return[a<R?[a,Q,R,t]:null,N]};S.lm.SxY=function(p,a,R){var Q=S.lm.vn(p)[0],t;
if(Q){var N=new gh;N.translate(-Q[0],-Q[1]);N.scale(1/(Q[2]-Q[0]),1/(Q[3]-Q[1]));N.scale(a[2]-a[0],a[3]-a[1]);
N.translate(a[0],a[1]);t=S.L.fm(N)}var K=p.h$(),T=K[0],d=K[1];for(var y=0;y<d.length;y++){var E=T[d[y]],k=E.add.vogk;
if(k==null)continue;var D=E.add.vmsk.V;for(var P=0;P<k.length;P++){var e=k[P].v,Y=e.keyShapeInvalidated;
if(Y&&Y.v||e.keyOriginType==null)continue;if(d.length==1&&D.length!=0&&D.indexOf(P)==-1)continue;var O=e.keyOriginType.v;
if(O!=4&&a[0]!=null){var a=S.lm.Ob(e);S.L.apply(t,a);S.lm.Rh(e,a)}if(O==2&&R!=null){S.lm.Ry(e,R)}}}};
S.lm.Ob=function(p){return S.lm.RX(p.keyOriginShapeBBox.v)};S.lm.RX=function(p){var a=p.Left.v.val,R=p.Rght.v.val,Q=p.Top.v.val,t=p.Btom.v.val;
return[a,Q,R,t]};S.lm.Rh=function(p,a){S.lm.FI(p.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],a)};
S.lm.Rx=function(p){return S.lm.Ki(p.keyOriginRRectRadii.v)};S.lm.Ki=function(p){var a=[],R=["topLeft","topRight","bottomRight","bottomLeft"];
for(var Q=0;Q<4;Q++)a.push(p[R[Q]].v.val);return a};S.lm.Ry=function(p,a){S.lm.FI(p.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],a)};
S.lm.FI=function(p,a,R){for(var Q=0;Q<4;Q++)if(R[Q]!=null)p[a[Q]]={t:"UntF",v:{type:"#Pxl",val:R[Q]}}};
S.lm.KO=function(p){var a=p.keyOriginLineStart.v,R=p.keyOriginLineEnd.v;return[a.Hrzn.v,a.Vrtc.v,R.Hrzn.v,R.Vrtc.v]};
S.lm.Sxf=function(p,a){var R=p.keyOriginLineStart.v,Q=p.keyOriginLineEnd.v;R.Hrzn.v=a[0];R.Vrtc.v=a[1];
Q.Hrzn.v=a[2];Q.Vrtc.v=a[3]};S.s={};S.s.clone=function(p){return{$:p.$.slice(0),r:p.r.slice(0)}};S.s.KT=function(p){if(p.length<6)return!0;
var a=p.length-4;for(var R=0;R<a;R+=2)if(!S.s.Ro(p[R],p[R+1],p[R+2],p[R+3],p[R+4],p[R+5]))return!1;if(!S.s.Ro(p[a],p[a+1],p[a+2],p[a+3],p[0],p[1]))return!1;
if(!S.s.Ro(p[a+2],p[a+3],p[0],p[1],p[2],p[3]))return!1;return!0};S.s.Ro=function(p,a,R,Q,t,N){return(a-Q)*(t-R)+(R-p)*(N-Q)>=0};
S.s.RT=function(p){var a={},R=null,Q=0,t={M:2,L:2,Q:4,C:6};for(var N=0;N<p.$.length;N++){var K=p.$[N];
if(K.charAt(0)=="#"){if(a[K]==null)a[K]={r:[],$:[]};R=a[K]}else if(K!="X"){R.$.push(K);var T=t[K];if(T==null)T=0;
for(var d=0;d<T;d++)R.r.push(p.r[Q+d]);Q+=T}}return a};S.s.Vl=function(p,a){p=S.s.dq(p);var R=p.r,Q=p.$,t=0,N=[],K=null;
for(var T=0;T<Q.length;T++){var d=Q[T];if(d=="M"){K={SiX:t,FW:0,bM:!1};N.push(K);t+=2}if(d=="C"){K.FW++;
t+=6}if(d=="Z"){K.bM=!0}}var y=[];for(var T=0;T<N.length;T++)if(N[T].FW!=0)y.push(N[T]);N=y;for(var T=0;
T<N.length;T++){var E=N[T],k=E.SiX,D=k+2+E.FW*6,e=0;E.a_=S.s.wh(R,k,D);var P=R[k]==R[D-2]&&R[k+1]==R[D-1];
for(var Y=0;Y<E.FW;Y++){var O=k+Y*6,W=O+6;e+=(R[W]-R[O])*(R[W+1]+R[O+1])}if(E.FW==2){var w=function(i,gg,gC){var gd=1-gC;
return gd*gd*gd*i[gg]+3*gd*gd*gC*i[gg+2]+3*gd*gC*gC*i[gg+4]+gC*gC*gC*i[gg+6]},g=R[k],J=R[k+1],U=R[k+6],H=R[k+7],f=R[k+6],j=R[k+7],I=w(R,k,.5),L=w(R,k+1,.5),C=w(R,k+6,.5),v=w(R,k+7,.5);
e=(I-g)*(L-J)+(U-I)*(H-L)+(C-U)*(v-H)+(f-C)*(j-v)}if(!P)e+=(R[k]-R[D-2])*(R[k+1]+R[D-1]);E.bi=e<=0}for(var T=0;
T<N.length-1;T++)for(var O=T+1;O<N.length;O++){var o=N[T],Z=N[O];if(Z.a_.tT(o.a_)){N[T]=Z;N[O]=o}}var B=N.length==0?!0:N[0].bi,s=[{type:6},{type:8,all:0}];
for(var T=0;T<N.length;T++){var E=N[T],k=E.SiX,D=k+2+E.FW*6,P=R[k]==R[D-2]&&R[k+1]==R[D-1],q=E.bM||P?0:3,F=E.bi==B&&!a?1:0;
if(!a&&T!=0){if(N[T-1].a_.tT(E.a_)&&N[T-1].bi!=E.bi)F=0;for(var O=0;O<N.length;O++)if(O!=T&&N[O].a_.tT(E.a_))F=0}s.push({type:q,length:E.FW+(P?0:1),gu:F,Xt:2});
for(var O=0;O<E.FW;O++){var t=k+O*6,b=new X(R[t],R[t+1]),G=new X(R[t+2],R[t+3]),u;if(O==0){if(P)u=new X(R[D-4],R[D-3]);
else u=b.clone()}else u=new X(R[t-2],R[t-1]);s.push({type:q+2,Xe:u,i:b,k$:G})}if(!P){var h=new X(R[D-2],R[D-1]);
s.push({type:q+2,Xe:new X(R[D-4],R[D-3]),i:h,k$:h.clone()})}}for(var O=0;O<s.length;O++){var z=s[O];
if(z.type>5||z.type==0||z.type==3)continue;var r=z.Xe.xA(z.i)||z.k$.xA(z.k$);if(!r){var o=z.Xe.x*(z.i.y-z.k$.y)+z.i.x*(z.k$.y-z.Xe.y)+z.k$.x*(z.Xe.y-z.i.y);
if(Math.abs(o)<1e-6)r=!0}if(r)z.type--}return s};S.s.VO=function(){function p(Q,t,N,K){if(!K&&Q.k$.xA(Q.i)&&t.Xe.xA(t.i)){N.r.push(t.i.x,t.i.y);
N.$.push("L")}else{N.r.push(Q.k$.x,Q.k$.y,t.Xe.x,t.Xe.y,t.i.x,t.i.y);N.$.push("C")}}function a(Q,t,N,K,T,d){var y=t[N];
Q.r.push(y.i.x,y.i.y);Q.$.push("M");for(var E=N;E<N+K-1;E++)p(t[E],t[E+1],Q,d);if(!T)p(t[E],t[N],Q,d)}function R(Q,t){if(t==null)t=!1;
var N={r:[],$:[]};for(var K=0;K<Q.length;K++){if(Q[K].type>5)continue;var T=Q[K].length;if(T==0)continue;
if(K==Q.length-1)break;var d=Q[K].type==3;a(N,Q,K+1,T,d,t);if(!d)N.$.push("Z");K+=T}return N}return R}();
S.s.Szz=function(p){var a=p.r,R=[],Q,t=0;for(var N=0;N<p.$.length;N++){var K=p.$[N];if(K=="C"){Q.push(a[t++],a[t++],a[t++],a[t++],a[t++],a[t++])}else if(K=="Z"){}else{Q=[];
if(K!="M"){Q.push(K);N++}Q.push(a[t++],a[t++]);R.push(Q)}}return R};S.s.On=function(p,a,R,Q){if(Q==null)Q=1e9;
var t=1e9,N=0;for(var K=0;K<p.length;K+=2){var T=a-p[K],d=R-p[K+1],y=T*T+d*d;if(y<t){t=y;N=K>>>1}}return t<Q*Q?N:-1};
S.s.Ra=function(p,a,R,Q){for(var t=0;t<p.length;t+=2){var N=p[t],K=p[t+1],T=a[t],d=a[t+1];R[t]=N+(T-N)*Q;
R[t+1]=K+(d-K)*Q}};S.s.t=function(p,a,R){for(var Q=0;Q<p.length;Q+=2){var t=p[Q],N=p[Q+1];R[Q]=t*a.Eu+N*a.CI+a.NE;
R[Q+1]=t*a.N+N*a.$B+a.GV}};S.s.wh=function(p,a,R){if(a==null)a=0;if(R==null)R=p.length;var Q=99999999999,t=-Q,N=99999999999,K=-N;
for(var T=a;T<R;T+=2){var d=p[T],y=p[T+1];Q=Math.min(Q,d);N=Math.min(N,y);t=Math.max(t,d);K=Math.max(K,y)}return new x(Q,N,t-Q,K-N)};
S.s.KG=function(p,a){var R=Math.max(a.x,Math.min(a.x+a.C,p.x)),Q=Math.max(a.y,Math.min(a.y+a.T,p.y)),t=p.x-R,N=p.y-Q;
return Math.sqrt(t*t+N*N)};S.s.EN=function(p){if(p.RJ())return new x(Math.floor(p.x),Math.floor(p.y),Math.ceil(p.C),Math.ceil(p.T));
var a=Math.floor(p.x),R=Math.ceil(p.x+p.C),Q=Math.floor(p.y),t=Math.ceil(p.y+p.T);return new x(a,Q,R-a,t-Q)};
S.s.bs=function(p){return S.s.EN(S.s.wh(p))};S.s.Ht=function(p){var a=p.x,R=p.y,Q=p.x+p.C,t=p.y+p.T;
return{$:["M","L","L","L","Z"],r:[a,R,Q,R,Q,t,a,t]}};S.s.concat=function(p,a,R){if(R==null)R=new gh;
for(var Q=0;Q<a.r.length;Q+=2){var t=a.r[Q],N=a.r[Q+1];p.r.push(t*R.Eu+N*R.CI+R.NE);p.r.push(t*R.N+N*R.$B+R.GV)}for(var Q=0;
Q<a.$.length;Q++)p.$.push(a.$[Q])};S.s.dq=function(p){var a=p.r,R=[],Q=[],t=0,N=0,K=0,T=0,d=0,y=0,E=0,k=0,D=0;
for(var P=0;P<p.$.length;P++){var e=p.$[P];if(e=="M"){N=a[t];K=a[t+1];t+=2;Q.push(e);R.push(N,K)}else if(e=="C"){T=a[t];
d=a[t+1];y=a[t+2];E=a[t+3];k=a[t+4];D=a[t+5];t+=6;Q.push(e);R.push(T,d,y,E,k,D);N=k;K=D}else if(e=="Q"){T=a[t];
d=a[t+1];y=a[t+2];E=a[t+3];t+=4;var Y=T-N,O=d-K,W=y-T,w=E-d;Q.push("C");R.push(N+2/3*Y,K+2/3*O,T+1/3*W,d+1/3*w,y,E);
N=y;K=E}else if(e=="L"){T=a[t];d=a[t+1];t+=2;var g=T-N,J=d-K;Q.push("C");R.push(N,K,T,d,T,d);N=T;K=d}else Q.push(e)}return{$:Q,r:R}};
S.s.Sxo=function(p){var a=p.r,R=[],Q=[],t=0;for(var N=0;N<p.$.length;N++){var K=p.$[N];if(K=="Q"){var T=a[t-2],d=a[t-1],y=a[t],E=a[t+1],k=a[t+2],D=a[t+3];
t+=4;var P=y-T,e=E-d,Y=k-y,O=D-E;Q.push("C");R.push(T+2/3*P,d+2/3*e,y+1/3*Y,E+1/3*O,k,D)}else{var W=0;
if(K=="M"||K=="L")W=2;else if(K=="C")W=6;for(var w=0;w<W;w++)R.push(a[t+w]);t+=W;Q.push(K)}}return{$:Q,r:R}};
S.s.dM=function(p,a){var R=p.r,Q=[],t=[],N=0,K=0,T=0,d=0,y=0,E=0,k=0,D=0,P=0;for(var e=0;e<p.$.length;
e++){var Y=p.$[e];if(Y=="M"){K=R[N];T=R[N+1];N+=2;t.push(Y);Q.push(K,T)}else if(Y=="C"){d=R[N];y=R[N+1];
E=R[N+2];k=R[N+3];D=R[N+4];P=R[N+5];N+=6;S.s.Rw(K,T,d,y,E,k,D,P,a,t,Q,0);K=D;T=P}else t.push(Y)}return{$:t,r:Q}};
S.s.Rw=function(p,a,R,Q,t,N,K,T,d,y,E,k){var D=Math.sqrt((K-p)*(K-p)+(T-a)*(T-a)),P=Math.sqrt((K-t)*(K-t)+(T-N)*(T-N))+Math.sqrt((t-R)*(t-R)+(N-Q)*(N-Q))+Math.sqrt((R-p)*(R-p)+(Q-a)*(Q-a)),e=(D+P)/2;
if(e<=d){y.push("C");E.push(R,Q,t,N,K,T)}else{var Y=0,O=0,W=0,w=0,g=0,J=0,U=0,H=0,f=0,j=0,I=0,L=0,C=0;
O=(p+R)/2;W=(a+Q)/2;w=(R+t)/2;g=(Q+N)/2;J=(t+K)/2;U=(N+T)/2;H=(O+w)/2;f=(W+g)/2;j=(w+J)/2;I=(g+U)/2;
L=(H+j)/2;C=(f+I)/2;S.s.Rw(p,a,O,W,H,f,L,C,d,y,E,k+1);S.s.Rw(L,C,j,I,J,U,K,T,d,y,E,k+1)}};S.s.RG=function(p,a){var R=p.length-2,Q=p[0],t=p[1],N=p[R],K=p[R+1],T=N-Q,d=K-t,y=1/Math.sqrt(T*T+d*d),E=N*t-K*Q,k=-1,D=-1;
for(var P=2;P<R;P+=2){var e=p[P],Y=p[P+1],O=Math.abs(d*e-T*Y+E)*y;if(O>D){D=O;k=P}}if(D<a)return[Q,t,N,K];
var W=S.s.RG(p.slice(0,k+2),a),w=S.s.RG(p.slice(k),a);for(var P=2;P<w.length;P++)W.push(w[P]);return W};
S.s.SxQ=function(){var p=function(Q,t,N,K,T,d){return(t-K)*(T-N)+(N-Q)*(d-K)>=0},a=function(Q,t,N,K,T,d,y,E){var k=y-N,D=E-K,P=T-N,e=d-K,Y=Q-N,O=t-K,W=k*k+D*D,w=k*P+D*e,g=k*Y+D*O,J=P*P+e*e,U=P*Y+e*O,H=1/(W*J-w*w),f=(J*g-w*U)*H,j=(W*U-w*g)*H;
return f>=0&&j>=0&&f+j<1},R=function(Q){var t=Q.length>>>1,T=0;if(t<3)return[];var N=[],K=[];for(var T=0;
T<t;T++)K.push(T);var d=t;while(d>3){var y=K[(T+0)%d],E=K[(T+1)%d],k=K[(T+2)%d],D=Q[2*y],P=Q[2*y+1],e=Q[2*E],Y=Q[2*E+1],O=Q[2*k],W=Q[2*k+1],w=!1;
if(p(D,P,e,Y,O,W)){w=!0;for(var g=0;g<d;g++){var J=K[g];if(J==y||J==E||J==k)continue;if(a(Q[2*J],Q[2*J+1],D,P,e,Y,O,W)){w=!1;
break}}}if(w){N.push(y,E,k);K.splice((T+1)%d,1);d--;T=0}else if(T++>3*d)break}N.push(K[0],K[1],K[2]);
return N};return R}();S.s.Sxm=function(p,a){var R={},Q={$:[],r:[]};for(var t=0;t<a.length;t+=3){var N=a[t]*2,K=a[t+1]*2,T=a[t+2]*2;
S.s.Ru(p,N,K,Q,R);S.s.Ru(p,N,T,Q,R);S.s.Ru(p,K,T,Q,R)}return Q};S.s.Ru=function(p,a,R,Q,t){if(a>R){var N=R;
R=a;a=N}if(t[a+","+R])return;t[a+","+R]=!0;Q.$.push("M","L");Q.r.push(p[a],p[a+1],p[R],p[R+1])};S.s.KE=function(p,a){var R=[],Q=p.length;
for(var t=0;t<Q;t+=2){var N=p[t],K=p[t+1],T=p[(t+2)%Q],d=p[(t+3)%Q];if(d<K){var y=K;K=d;d=y}if(K<a&&a<d){var E=(a-K)/(d-K);
R.push(N+E*(T-N))}}R.sort(function(k,D){return k-D});return R};S.s.Sxb=function(p,a){var R=a.slice(0),Q=p.length/2,t=[],N=[];
for(var K=0;K<Q;K++){var T=(K+1)%Q,d=p[2*K]-p[2*T],y=p[2*K+1]-p[2*T+1];N[K]=Math.sqrt(d*d+y*y)}for(var K=0;
K<Q;K++){var E=(K-1+Q)%Q,T=(K+1)%Q,k=a[K],D=k+a[E],P=k+a[T];if(D!=0)R[K]=Math.min(R[K],N[E]*k/D);if(P!=0)R[K]=Math.min(R[K],N[K]*k/P)}for(var K=0;
K<Q;K++){var T=(K+1)%Q,e=(K+2)%Q,Y=R[K],O=R[T],W=p[2*K],w=p[2*K+1],g=p[2*T],J=p[2*T+1],U=p[2*e],H=p[2*e+1],f=N[K],j=N[T],I=S.s.SiS(W,w,g,J,U,H,Y,O,f,j);
t.push(I[0],I[1],I[0],I[1],I[2],I[3]);t.push(I[2],I[3],I[4],I[5],I[6],I[7])}return t};S.s.SiS=function(p,a,R,Q,t,N,K,T,d,y){if(d==null)d=Math.sqrt((R-p)*(R-p)+(Q-a)*(Q-a));
if(y==null)y=Math.sqrt((t-R)*(t-R)+(N-Q)*(N-Q));var E=.553,k=0,D=0,P=0,e=0;if(d!=0){k=(R-p)/d;D=(Q-a)/d}if(y!=0){P=(t-R)/y;
e=(N-Q)/y}var Y=p+K*k,O=a+K*D,W=R-T*k,w=Q-T*D;return[Y,O,W,w,R-T*k*(1-E),Q-T*D*(1-E),R+T*P*(1-E),Q+T*e*(1-E),R+T*P,Q+T*e]};
S.s.KV=function(p,a,R,Q,t,N,K){var T=p-R,d=a-Q,y=t-R,E=N-Q,k=1/Math.sqrt(T*T+d*d),D=1/Math.sqrt(y*y+E*E),P=T*k,e=d*k,Y=y*D,O=E*D,W=e*K,w=-P*K,g=-O*K,J=Y*K,U=S.s.CZ(W,w,P,e,g,J,Y,O),H=W+P*U,f=w+e*U,U=S.s.CZ(0,0,P,e,H,f,-e,P),j=P*U,I=e*U;
return[Math.sqrt(j*j+I*I),P,e,Y,O]};S.s.Kn=function(p,a,R,Q,t,N,K){var T=S.s.KV(p,a,R,Q,t,N,K),d=T[0],y=T[1],E=T[2],k=T[3],D=T[4],P=Math.atan2(y*D-E*k,y*k+E*D);
if(P<0){P=P*-1}var e=Math.PI-P,Y=4/3*Math.tan(e/4),O=R+d*y,W=Q+d*E,w=R+d*k,g=Q+d*D,J=O+Y*K*-y,U=W+Y*K*-E,H=w+Y*K*-k,f=g+Y*K*-D;
return[0,0,O,W,J,U,H,f,w,g]};S.s.CZ=function(p,a,R,Q,t,N,K,T){var d=K*(a-N)-T*(p-t),y=T*R-K*Q;if(y==0)throw"e";
return d/y};S.s.Kn(0,50,0,0,30,30,10);S.Ok=function(){};S.Ok.dd=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=new Int32Array(T),y=0;
for(var E=0;E<T;E++)if(a[E]!=0){d[E]=y;y++}else if(p[(E<<2)+3]<200){d[E]=-2}else d[E]=-1;if(y==0)return;
var k=new S.ol(y,y),D=new Array(3*y),P=new Array(3*y);for(var E=0;E<P.length;E++)P[E]=D[E]=0;var e=1/255,Y=[-N,-1,1,N],O=[],W=[];
for(var w=0;w<K;w++)for(var g=0;g<N;g++){var J=w*N+g,U=J<<2,E=d[J],H=E*3,f=0,j=0,I=0;if(E==-1||E==-2)continue;
for(var L=0;L<4;L++){if(L==2){j=I;O[I]=0;W[I]=E;I++}var C=J+Y[L],v=C<<2,o=d[C];if(L==0&&w==0||L==1&&g==0||L==2&&g==N-1||L==3&&w==K-1||o==-2)continue;
f++;if(o==-1){D[H+0]+=p[v+0];D[H+1]+=p[v+1];D[H+2]+=p[v+2]}else{O[I]=-1;W[I]=o;I++;if(a[J]==a[C]){D[H+0]+=p[U+0]-p[v+0];
D[H+1]+=p[U+1]-p[v+1];D[H+2]+=p[U+2]-p[v+2]}}}O[j]=f;k._c(O,W,I)}for(var E=0;E<T;E++)if(d[E]!=-1){var Z=E<<2,B=d[E],s=B*3;
P[s]=p[Z+0];P[s+1]=p[Z+1];P[s+2]=p[Z+2]}var q=Date.now();k.SUb(P,D,Q,t);console.log(Date.now()-q);for(var E=0;
E<T;E++){var B=d[E],F=B*3,Z=E<<2;if(B==-1||p[Z+3]!=255)continue;p[Z+0]=~~(.5+Math.max(0,Math.min(255,P[F+0])));
p[Z+1]=~~(.5+Math.max(0,Math.min(255,P[F+1])));p[Z+2]=~~(.5+Math.max(0,Math.min(255,P[F+2])))}};S.rect={};
S.rect.CR=function(p,a){var R=[p],Q=[];for(var t=0;t<a.length;t++){var N=a[t],K=!1;for(var T=t+1;T<a.length;
T++){var d=a[T];if(d[0]<=N[0]&&d[1]<=N[1]&&N[2]<=d[2]&&N[3]<=d[3]){K=!0;break}}if(!K)Q.push(N)}a=Q;for(var t=0;
t<a.length;t++){var N=a[t];for(var T=0;T<R.length;T++){var d=R[T],y=Math.max(N[0],d[0]),E=Math.min(N[2],d[2]),k=Math.max(N[1],d[1]),D=Math.min(N[3],d[3]);
if(y<E&&k<D){var P=[];if(d[1]<N[1]){var e=d.slice(0);e[3]=N[1];P.push(e)}if(d[0]<N[0]){var Y=d.slice(0);
Y[1]=k;Y[2]=N[0];P.push(Y)}if(N[2]<d[2]){var O=d.slice(0);O[1]=k;O[0]=N[2];P.push(O)}if(N[3]<d[3]){var W=[y,D,E,d[3]];
P.push(W)}if(P.length!=0){R[T]=P[0];for(var w=1;w<P.length;w++)R.push(P[w])}}}R.push(N);R=S.rect.SiL(R)}R.sort(function(N,d){return N[1]!=d[1]?N[1]-d[1]:N[0]-d[0]});
return R};S.rect.SiL=function(p){p=p.slice(0);for(var a=0;a<p.length;a++){var R=p[a],Q=null;if(R[4]!=null)continue;
for(var t=0;t<p.length;t++){var N=p[t];if(a==t||N[4]!=null)continue;var K=R[0]==N[0],T=R[1]==N[1],d=R[2]==N[2],y=R[3]==N[3];
if(T&&y&&(R[2]==N[0]||R[0]==N[2])){Q=[Math.min(R[0],N[0]),R[1],Math.max(R[2],N[2]),R[3]]}if(K&&d&&(R[3]==N[1]||R[1]==N[3])){Q=[R[0],Math.min(R[1],N[1]),R[2],Math.max(R[3],N[3])]}if(Q){p[a]=Q;
p.splice(t,1);break}}if(Q){a--}}return p};S.rect.ve=function(p){var a=new x;for(var R=0;R<p.length;R++)a=a.hT(p[R]);
return a};S.rect.Six=function(p,a){var R=S.rect.ve,Q=new UnionFind(p.length),f=1e3,j=1e3;for(var t=0;
t<p.length;t++)for(var N=t+1;N<p.length;N++){if(!a)continue;var K=p[t],T=p[N],D=1e9,P=1e9;if(K.jv(T)){Q.link(t,N);
continue}var d=K.x+K.C,y=K.y+K.T,E=T.x+T.C,k=T.y+T.T;if((d<T.x||E<K.x)&&(y<T.y||k<K.y))continue;if(!(y<T.y||k<K.y))D=Math.min(Math.abs(d-T.x),Math.abs(K.x-E));
if(!(d<T.x||E<K.x))P=Math.min(Math.abs(y-T.y),Math.abs(K.y-k));var e=Math.min(D,P),Y=Math.min(K.C,K.T,T.C,T.T);
if(e<.3*Y)Q.link(t,N)}var O=[],W={};for(var t=0;t<p.length;t++){var w=Q.find(t),g=p[t];if(W[w]==null){W[w]=O.length;
O.push([])}O[W[w]].push(g)}var J=[],U=[];for(var t=0;t<O.length;t++){J.push(R(O[t]));var H=R(O[t]);H.Xx=t;
U.push(H)}U.sort(function(F,b){return Math.max(b.T,b.C)-Math.max(F.T,F.C)});var I=new NETXUS.RectanglePacker(f,j);
while(!0){var L=!1;I.reset(f,j);for(var t=0;t<U.length;t++){var C=I.findCoords(U[t].C,U[t].T);if(C){U[t].x=C.x;
U[t].y=C.y}else{f=Math.floor(f*1.1);j=Math.floor(j*1.1);L=!0;break}}if(L)continue;break}for(var t=0;
t<O.length;t++){var v=U[t],o=v.Xx,Z=J[o],B=O[o],s=v.x-Z.x,q=v.y-Z.y;for(var N=0;N<B.length;N++)B[N].offset(s,q)}};
S.EH=function(){};S.EH.AE=Math.floor(16*window.devicePixelRatio);S.EH.RP={};S.EH.EL=0;S.EH.dD=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
S.EH.SiU=["px","in","cm","mm","%"];S.EH.CO=function(p,a,R){var Q=a.po,t=[1,Q,Q/2.54,Q/25.4,a.C/100][R];
return p*t};S.EH.be=function(p,a,R,Q,t){var N=R.QR.tc,K=[1,a,a/2.54,a/25.4,Q/100][N],T=[2,3,2,1,2][N];
p=p/K;var d=Math.round(p),y=N==0&&Math.abs(p-d)<1e-6?d+"":p.toFixed(T);if(t)y+=" "+S.EH.SiU[N];return y};
S.EH.Sit=function(p,a,R,Q){var t=R.QR.tc,N=[1,a,a/2.54,a/25.4,Q/100][t];p=parseFloat(p)*N;return p};
S.EH.SiT=function(p,a){var R=Math.round(S.EH.AE*.5);S.EH.EL=R;var Q=document.createElement("canvas");
Q.width=Q.height=R;var t=Q.getContext("2d");t.font=R*1.5+"px monospace";var N="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var K=0;K<N.length;K++){t.fillStyle="#"+S.ay(a);t.fillRect(0,0,R,R);t.fillStyle="#"+S.ay(p);t.fillText(N[K],0,R);
S.EH.RP[N[K]]=t.getImageData(0,0,R,R).data}};S.EH.SyW=function(p,a,R){var Q=0,t=0,N=4*S.EH.AE;for(var K=9;
K>=0;K--){var T=Math.pow(10,K);if(5*T*p<=N){Q=5*T;t=10;break}if(2*T*p<=N){Q=2*T;t=4;break}if(1*T*p<=N){Q=1*T;
t=10;break}}if(Q==0){Q=1;t=10}var d=Math.ceil(Q*p),y=S.p(d*S.EH.AE*4);S.wp(y,4278190080|R);for(var K=0;
K<S.EH.AE;K++)S.EH.RV(y,4*K*d,a);for(var K=0;K<d;K++)S.EH.RV(y,4*((S.EH.AE-1)*d+K),a);if(Q==2)t=2;if(Q==5)t=5;
if(Q>1||Q==1&&d>20)for(var K=1;K<t;K++)S.EH.SyO(y,K*(d/t),d,(K&1)==1?.8:.7,a);return{Cq:y,step:Q}};S.EH.SyO=function(p,a,R,Q,t){var a=Math.round(a);
for(var N=Math.round(S.EH.AE*Q);N<S.EH.AE-1;N++)S.EH.RV(p,4*(N*R+a),t)};S.EH.RV=function(p,a,R){p[a+0]=R>>16&255;
p[a+1]=R>>8&255;p[a+2]=R&255};S.EH.Syv=function(p,a,R){var Q=a&255,t=a>>8&255,N=a>>16&255,W,w,g,J;a=Math.round(Q*.6)<<16|Math.round(t*.6)<<8|Math.round(N*.6);
S.EH.SiT(Math.round(Q*.8)<<16|Math.round(t*.8)<<8|Math.round(N*.8),R);var K=this.SyW(p.f,a,R),T=p.oD(0,0),d=p.oD(p.c.C,p.c.T),y=Math.floor(T.x/K.step)*K.step,E=Math.ceil(d.x/K.step)*K.step,k=Math.floor(T.y/K.step)*K.step,D=Math.ceil(d.y/K.step)*K.step,P=p.Jk(y,k),e=p.Jk(E,k),Y=K.step*p.f,O=Math.ceil(Y);
W=p.wJ.data;w=new x(0,0,p.c.C,S.EH.AE);g=new x(0,0,O,S.EH.AE);J=new x(0,Math.round(S.EH.AE*.08),S.EH.EL,S.EH.EL);
for(var U=0;U<(E-y)/K.step;U++){g.x=Math.round(P.x+U*Y);S.gW(K.Cq,g,W,w,g);var H=(y+U*K.step).toString(10);
for(var f=0;f<H.length;f++){J.x=g.x+3+f*Math.round(S.EH.EL*.8);var j=S.EH.RP[H[f]];S.gW(j,J,W,w,J)}}var I=new Uint32Array(K.Cq.buffer),L=new Uint32Array(K.Cq.length);
for(var C=0;C<O;C++)for(var v=0;v<S.EH.AE;v++){L[C*S.EH.AE+v]=I[v*O+C]}K.Cq=new Uint8Array(L.buffer);
W=p.fV.data;w=new x(0,0,S.EH.AE,p.c.T);g=new x(0,0,S.EH.AE,O);J=new x(Math.round(S.EH.AE*.2),0,S.EH.EL,S.EH.EL);
for(var U=0;U<(D-k)/K.step;U++){g.y=Math.round(P.y+U*Y);S.gW(K.Cq,g,W,w,g);var H=Math.abs(k+U*K.step).toString(10);
for(var f=0;f<H.length;f++){J.y=g.y+3+f*Math.round(S.EH.EL*1.15);var j=S.EH.RP[H[f]];S.gW(j,J,W,w,J)}}};
S.scale={};S.scale.Xd=document.createElement("canvas");S.scale.XC=S.scale.Xd.getContext("2d");S.scale.SyT=document.createElement("canvas");
S.scale.SzL=S.scale.SyT.getContext("2d");S.scale._e=function(p,a,R){var Q=S.scale.Xd,t=S.scale.XC;Q.width=a;
Q.height=R;var N=new ImageData(new Uint8ClampedArray(p.buffer),a,R);t.putImageData(N,0,0);return t.createPattern(Q,"repeat")};
S.scale.Szx=function(p,a,R,Q,t,N,K,T){var d=S.scale.gj(p,R,Q,t,N,K,T);S.Pi(d.data,a)};S.scale.SyP=function(p,a,R,Q,t,N,K,T){var d=S.scale.gj(p,R,Q,t,N,K,T);
S.$M(d.data,a)};S.scale.gj=function(p,a,R,Q,t,N,K){var T=S.scale.Xd,d=S.scale.XC;T.width=a;T.height=R;
d.rect(0,0,a,R);d.translate(N,K);d.scale(Q,t);d.fillStyle=p;d.fill();return d.getImageData(0,0,a,R)};
S.scale.vH=function(p,a,R,Q,t,N,K){if(K<1)S.scale.SoX(p,a,R,Q,t,N,Math.round(1/K));else S.scale.SoM(p,a,R,Q,t,N,K)};
S.scale.FT=function(p,a,R,Q,t,N,K,T){if(T)T=T.Yl(new x(0,0,a,R));p=new Uint32Array(p.buffer);Q=new Uint32Array(Q.buffer);
if(K<1)S.scale.Soh(p,a,R,Q,t,N,Math.round(1/K),T);else S.scale.SoF(p,a,R,Q,t,N,K)};S.scale.SoM=function(p,a,R,Q,t,N,K){for(var T=0;
T<R;T++)for(var d=0;d<a;d++){var y=p[T*a+d],E=Math.min(K,t-d*K),k=Math.min(K,N-T*K);for(var D=0;D<k;
D++)for(var P=0;P<E;P++)Q[(K*T+D)*t+K*d+P]=y}};S.scale.SoX=function(p,a,R,Q,t,N,K){for(var T=0;T<N;T++)for(var d=0;
d<t;d++){var y=0,E=Math.min(K,a-d*K),k=Math.min(K,R-T*K);for(var D=0;D<k;D++)for(var P=0;P<E;P++)y+=p[(K*T+D)*a+(K*d+P)];
Q[T*t+d]=Math.round(y/(E*k))}};S.scale.SoF=function(p,a,R,Q,t,N,K){for(var T=0;T<R;T++)for(var d=0;d<a;
d++){var y=p[T*a+d],E=Math.min(K,t-d*K),k=Math.min(K,N-T*K);for(var D=0;D<k;D++)for(var P=0;P<E;P++)Q[(K*T+D)*t+K*d+P]=y}};
S.scale.Soh=function(p,a,R,Q,t,N,K,T){var d=0,y=t,E=0,k=N;if(T){d=Math.floor(T.x/K);y=Math.ceil((T.x+T.C)/K);
E=Math.floor(T.y/K);k=Math.ceil((T.y+T.T)/K)}for(var D=E;D<k;D++)for(var P=d;P<y;P++){var e=0,Y=0,O=0,W=0,w=Math.min(K,a-P*K),g=Math.min(K,R-D*K);
for(var J=0;J<g;J++)for(var U=0;U<w;U++){var H=p[(K*D+J)*a+K*P+U],f=H>>>24;e+=f;Y+=f*(H>>>16&255);O+=f*(H>>>8&255);
W+=f*(H&255)}if(e!=0){var j=1/e;Q[D*t+P]=e/(w*g)<<24|Y*j<<16|O*j<<8|W*j}else Q[D*t+P]=0}};S.S={};S.S.Sox=function(p,a,R){var Q=128,t=0,N=R.C,K=R.T;
for(var T=0;T<K;T++)for(var d=0;d<N;d++){if(p[t]>=Q&&(d==0||p[t-1]<Q||(d==N-1||p[t+1]<Q)||(T==0||p[t-N]<Q)||(T==K-1||p[t+N]<Q)))a[t]=255;
t++}};S.S.Soi=function(p,a,R,Q){var t=new Uint32Array([4278190080,4294967295]),N=R.C,K=R.T,T=0,d=0,y=N,E=K;
if(Q){T=Q.x-R.x;d=Q.y-R.y;y=T+Q.C;E=d+Q.T}var k=new Uint8Array(a.buffer),D=new Uint32Array(a.buffer);
for(var P=d;P<E;P++)for(var e=T;e<y;e++){var Y=P*N+e;if((p[Y]&128)!=0&&(P==0||(p[Y-N]&128)==0||e==0||(p[Y-1]&128)==0||e==N-1||(p[Y+1]&128)==0||P==K-1||(p[Y+N]&128)==0)){D[Y]=t[(e+P&4)>>>2]}}};
S.S.SUR=function(p,a,R,Q,t,N){var K=R.C,T=R.T,d=0,y=0,E=K,k=T;if(Q){d=Q.x-R.x;y=Q.y-R.y;E=d+Q.C;k=y+Q.T}var D=new Uint8Array(a.buffer),P=new Uint32Array(a.buffer);
for(var e=y;e<k;e++)for(var Y=d;Y<E;Y++){var O=e*K+Y,W=p[O];if(t==1)P[O]=255-W>>>1<<24|131327;else P[O]=255<<24|(W<<16|W<<8|W)}};
S.iM={};S.iM.Rb=function(p,a,R){var Q,t;if(R=="front"){Q=p.rect.clone();t=S.iM.SUI}if(R=="union"){Q=p.rect.hT(a.rect);
t=S.iM.hT}if(R=="difference"){Q=a.rect.clone();t=S.iM.SUw}if(R=="intersection"){Q=p.rect.Yl(a.rect);
t=S.iM.Yl}if(R=="xor"){Q=p.rect.hT(a.rect);t=S.iM.SUu}if(Q.RJ())return null;var N=S.p(Q.u());S.JG(a.channel,a.rect,N,Q);
var K=S.p(Q.u());S.JG(p.channel,p.rect,K,Q);t(K,N,N);var T=S.Pv(N,Q);if(T.RJ())return null;if(!T.xA(Q)){var d=S.p(T.u());
S.JG(N,Q,d,T);N=d;Q=T}return{channel:N,rect:Q}};S.iM.SUI=function(p,a,R){for(var Q=0;Q<p.length;Q++)R[Q]=p[Q]};
S.iM.hT=function(p,a,R){for(var Q=0;Q<p.length;Q++)R[Q]=Math.min(p[Q]+a[Q],255)};S.iM.SUw=function(p,a,R){for(var Q=0;
Q<p.length;Q++)R[Q]=Math.max(a[Q]-p[Q],0)};S.iM.Yl=function(p,a,R){var Q=1/255;for(var t=0;t<p.length;
t++)R[t]=p[t]*a[t]*Q};S.iM.SUu=function(p,a,R){var Q=1/255;for(var t=0;t<p.length;t++)R[t]=Math.min(p[t]+a[t],255)-p[t]*a[t]*Q};
S.ol=function(p,a){this.H=[];this.Xb=[0];this.Uz=[];this.wa=[];this.fb=[0];this.zN=[];this.wQ=[];this.rows=p;
this.cols=a};S.ol.prototype.clone=function(){var p=this,a=p.rows,R=p.cols,Q=new S.ol(a,R);Q.H=p.H.slice(0);
Q.Xb=p.Xb.slice(0);Q.Uz=p.Uz.slice(0);Q.wa=p.wa.slice(0);Q.fb=p.fb.slice(0);Q.zN=p.zN.slice(0);Q.wQ=p.wQ.slice(0);
return Q};S.ol.prototype._c=function(p,a,R){var Q=this.Xb.length-1;for(var t=0;t<R;t++){var N=p[t],K=a[t];
this.H.push(N);this.Uz.push(K);if(K==Q){this.wQ.push(N==0?0:1/N)}else{this.wa.push(N);this.zN.push(K)}}this.Xb.push(this.H.length);
this.fb.push(this.wa.length)};S.ol.prototype.Gp=function(p,a){var R=this,Q=R.rows,t=R.H,N=R.Uz;if(a==null)a=new Array(Q);
for(var K=0;K<Q;K++){var T=R.Xb[K],d=R.Xb[K+1],y=0;while((d-T&3)!=0){y+=t[T]*p[N[T]];T++}for(var E=T;
E<d;E+=4)y+=t[E]*p[N[E]]+t[E+1]*p[N[E+1]]+t[E+2]*p[N[E+2]]+t[E+3]*p[N[E+3]];a[K]=y}return a};S.ol.prototype.multiply=function(p){return this.R_(p.NJ())};
S.ol.prototype.R_=function(p){var a=this,R=a.rows,Q=a.cols,t=p.rows,N=new S.ol(R,t),K=a.Uz,T=p.Uz;for(var d=0;
d<R;d++){var y=[],E=[],k=a.Xb[d],D=a.Xb[d+1];for(var P=0;P<t;P++){var e=p.Xb[P],Y=p.Xb[P+1],O=0,W=k,w=e;
while(W<D&&w<Y){var g=Math.max(K[W],T[w]);while(W<D&&K[W]<g)W++;while(w<Y&&T[w]<g)w++;if(W<D&&w<Y&&K[W]==T[w])O+=a.H[W++]*p.H[w++]}if(O!=0){y.push(O);
E.push(P)}}N._c(y,E,y.length)}return N};S.ol.prototype.NJ=function(){var p=this.rows,a=this.cols,R=[];
for(var Q=0;Q<a;Q++)R.push([[],[]]);var t=this.H,N=this.Xb,K=this.Uz;for(var Q=0;Q<p;Q++){var T=N[Q],d=N[Q+1];
for(var y=T;y<d;y++){var E=R[K[y]];E[0].push(t[y]);E[1].push(Q)}}var k=new S.ol(a,p);for(var Q=0;Q<a;
Q++)k._c(R[Q][0],R[Q][1],R[Q][1].length);return k};S.ol.prototype.ln=function(){var p=this.rows,a=this.cols,R=new Array(p),Q=this.H,t=this.Xb,N=this.Uz;
for(var K=0;K<p;K++){var T=R[K]=new Array(a);for(var d=0;d<a;d++)T[d]=0;var y=t[K],E=t[K+1];for(var k=y;
k<E;k++)T[N[k]]=Q[k]}return R};S.ol.prototype.Rn=function(p,a,R,Q,t){function N(f,a,j,I){var L=f.length;
for(var C=0;C<L;C++)I[C]=f[C]-a[C]*j}function K(f,a,j,I){var L=f.length,C=0;while((L-C&3)!=0){I[C]=f[C]+a[C]*j;
C++}for(var v=C;v<L;v+=4){I[v]=f[v]+a[v]*j;I[v+1]=f[v+1]+a[v+1]*j;I[v+2]=f[v+2]+a[v+2]*j;I[v+3]=f[v+3]+a[v+3]*j}}function T(f,a,j){var I=f.length;
for(var L=0;L<I;L++)j[L]=f[L]*a[L]}function d(f,a){var j=f.length,I=0,L=0;while((j-I&3)!=0){L+=f[I]*a[I];
I++}for(var C=I;C<j;C+=4)L+=f[C]*a[C]+f[C+1]*a[C+1]+f[C+2]*a[C+2]+f[C+3]*a[C+3];return L}var y=Q!=null?2:1,E=Date.now(),k=0,D=this,P=p.slice(0),e=p.slice(0);
D.Gp(p,e);N(a,e,1,P);var Y=this.wQ;if(y==0){Y=P.slice(0);Y.fill(1)}var O=P.slice(0);T(Y,P,O);var W=O.slice(0),w=d(P,O);
while(!0){D.Gp(W,e);var g=w/d(W,e);K(p,W,g,p);N(P,e,g,P);if((k&7)==0&&Math.sqrt(d(P,P))<R)break;if(y<=1)T(Y,P,O);
else{var J=P.slice(0);Q.SCN(J,P);t.SCp(O,J)}var U=d(P,O),H=U/w;K(O,W,H,W);w=U;k++}};S.ol.prototype.Szi=function(p,a,R,Q){var t=Date.now(),N=1.96,d=0;
if(R==null)R=5e-6;if(Q==null)Q=1e9;var K=1-N,T=this.rows,y=this.wa,E=this.fb,k=this.zN,D=this.wQ;while(!0){var P=0;
for(var e=0;e<T;e++){var Y=a[e],O=E[e],W=E[e+1];if(W-O==4)Y-=y[O]*p[k[O]]+y[O+1]*p[k[O+1]]+y[O+2]*p[k[O+2]]+y[O+3]*p[k[O+3]];
else for(var w=O;w<W;w++)Y-=y[w]*p[k[w]];var g=p[e]*K+D[e]*Y*N,J=g-p[e];P+=J*J;p[e]=g}if(P/T<R||Date.now()>t+Q)break}};
S.ol.prototype.SUb=function(p,a,R,Q){var t=Date.now(),N=1.96,d=0;if(R==null)R=5e-5;if(Q==null)Q=1e9;
var K=1-N,T=this.rows,y=this.wa,E=this.fb,k=this.zN,D=this.wQ;while(!0){var P=0;for(var e=0;e<T;e++){var Y=e*3,O=a[Y],W=a[Y+1],w=a[Y+2],g=E[e],J=E[e+1];
for(var U=g;U<J;U++){var H=y[U],f=k[U]*3;O-=H*p[f+0];W-=H*p[f+1];w-=H*p[f+2]}var j=D[e]*N,I=p[Y+0]*K+O*j,L=p[Y+1]*K+W*j,C=p[Y+2]*K+w*j,v=I-p[Y+0],o=L-p[Y+1],Z=C-p[Y+2];
P+=.4*v*v+.5*o*o+.1*Z*Z;p[Y+0]=I;p[Y+1]=L;p[Y+2]=C}if(P/T<R||Date.now()>t+Q)break}};S.ps={};S.ps.mi=function(p,a,R){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:p},Vrtc:{t:"doub",v:a},Cnty:{t:"bool",v:R}}}};
S.ps.t=function(p,a){for(var R=0;R<p.length;R++){var Q=p[R].v,t=a.Ci(new X(Q.Hrzn.v,Q.Vrtc.v));Q.Hrzn.v=Math.round(t.x);
Q.Vrtc.v=Math.round(t.y)}};S.ps.NS=function(p,a,R){var Q=p.length-1,t=S.EF.dO(Q+1,Q+2);for(var N=1;N<Q;
N++){t[N][N-1]=1/(p[N]-p[N-1]);t[N][N]=2*(1/(p[N]-p[N-1])+1/(p[N+1]-p[N]));t[N][N+1]=1/(p[N+1]-p[N]);
t[N][Q+1]=3*((a[N]-a[N-1])/((p[N]-p[N-1])*(p[N]-p[N-1]))+(a[N+1]-a[N])/((p[N+1]-p[N])*(p[N+1]-p[N])))}t[0][0]=2/(p[1]-p[0]);
t[0][1]=1/(p[1]-p[0]);t[0][Q+1]=3*(a[1]-a[0])/((p[1]-p[0])*(p[1]-p[0]));t[Q][Q-1]=1/(p[Q]-p[Q-1]);t[Q][Q]=2/(p[Q]-p[Q-1]);
t[Q][Q+1]=3*(a[Q]-a[Q-1])/((p[Q]-p[Q-1])*(p[Q]-p[Q-1]));S.EF.dC(t,R)};S.ps.SWK=function(p,a,R,Q){if(p<=a[0])return R[0];
if(p>=a[a.length-1])return R[a.length-1];var t=1;while(a[t]<p)t++;var N=a[t],K=a[t-1],T=R[t],d=R[t-1],y=(p-K)/(N-K),E=Q[t-1]*(N-K)-(T-d),k=-Q[t]*(N-K)+(T-d),D=(1-y)*d+y*T+y*(1-y)*(E*(1-y)+k*y);
return D};S.ps.Nd=function(p,a,R,Q){var t={FN:[p[0]],FH:[a[0]],bG:[]};Q[0]=t;for(var N=1;N<p.length-1;
N++){t.FN.push(p[N]);t.FH.push(a[N]);if(R[N]==!1){S.ps.NS(t.FN,t.FH,t.bG);t={FN:[p[N]],FH:[a[N]],bG:[]}}Q[N]=t}t.FN.push(p[N]);
t.FH.push(a[N]);S.ps.NS(t.FN,t.FH,t.bG);Q[N]=t};S.ps.NT=function(p,a,R,Q){if(p<=a[0])return R[0];if(p>=a[a.length-1])return R[a.length-1];
var t=1;while(a[t]<p)t++;var N=Q[t-1];return S.ps.SWK(p,N.FN,N.FH,N.bG)};S.ps.Na=function(p){var a={FN:[],FH:[],wc:[]};
for(var R=0;R<p.length;R++){a.FN[R]=p[R].v.Hrzn.v;a.FH[R]=p[R].v.Vrtc.v;a.wc[R]=p[R].v.Cnty?p[R].v.Cnty.v:!0}return a};
S.ps.dG=function(p,a,R){var Q=0,t=255;if(R){Q=-1e9;t=1e9}var N=S.ps.Na(p),K=[];S.ps.Nd(N.FN,N.FH,N.wc,K);
var T=[];for(var d=0;d<a;d++)T[d]=1/255*Math.max(Q,Math.min(t,S.ps.NT(d*(255/(a-1)),N.FN,N.FH,K)));return T};
S.ps.SWp=function(p,a,R){var Q=Math.round(p.length/20),t=a-p.length,N=R?(p[Q]-p[0])/Q:0,K=R?p[0]-t*N:p[p.length-1],T=[];
for(var d=0;d<t;d++)T.push(K+d*N);return R?T.concat(p):p.concat(T)};S.ps.FP=function(p,a,R){var Q=S.ps.Na(p),t=[];
S.ps.Nd(Q.FN,Q.FH,Q.wc,t);var N=new Uint8Array(a),K=a/256;for(var T=0;T<a;T++)N[T]=Math.max(0,Math.min(a-1,S.ps.NT(T*K,Q.FN,Q.FH,t)));
if(R){N[0]=0;if(N[1]>100)N[1]=.4*N[1];if(N[2]>150)N[1]=.7*N[2]}return N};S.ps.NQ=function(p,a){var R=new Uint8Array(p.length);
for(var Q=0;Q<p.length;Q++)R[Q]=a[p[Q]];return R};S.ps.np=function(p,a,R){var Q=V.P("canvas","");Q.width=a;
Q.height=R;var t=Q.getContext("2d"),N=S.ps.FP(p,256);t.scale(a/255,R/255);t.fillStyle="#fff";t.fillRect(0,0,255,255);
t.fillStyle="#333";t.beginPath();t.moveTo(0,255);for(var K=0;K<N.length;K++)t.lineTo(K,255-N[K]);t.lineTo(255,255);
t.closePath();t.fill();return Q.toDataURL()};S.style={};S.style.stroke=function(p,a,R,Q){var t=R.C,N=R.T,K=new Float64Array(t*N);
S.style.hK(p,K,t,N);S.style.Rk(a,R,K,R,Q)};S.style.Rk=function(p,a,R,Q,t){var N=a.Yl(Q),K=N.C,T=N.T;
t+=.5;var d=N.x-a.x,y=N.y-a.y,E=a.C,k=N.x-Q.x,D=N.y-Q.y,P=Q.C;for(var e=0;e<T;e++){var Y=(e+D)*P+k,O=(e+y)*E+d;
for(var W=0;W<K;W++){var w=Math.max(0,Math.min(1,t-R[Y+W]));p[O+W]=Math.round(w*255)}}};S.style.Szv=function(p,a,R,Q){for(var t=0;
t<R;t++)for(var N=0;N<a;N++){var K=t*a+N,T=0,d=0,y=p[K];if(N==0||t==0){T=p[K+1]-y;d=p[K+a]-y}else if(N==R-1||t==a-1){T=y-p[K-1];
d=y-p[K-a]}else{T=p[K+1]-p[K-1];d=p[K+a]-p[K-a]}if(T!=0||d!=0){var E=1/Math.sqrt(T*T+d*d);T*=E;d*=E}Q[K+K]=T;
Q[K+K+1]=d}};S.style.hK=function(p,a,R,Q){var t=0,N=R*Q;for(var K=0;K<N;K++)t|=p[K];if(t==0){a.fill(1e9);
return}var T=S.style.IS(p,R,Q);for(var d=0;d<Q;d++)for(var y=0;y<R;y++){var K=d*R+y,E=T[K*2],k=T[K*2+1],D=(d+k)*R+y+E;
if(E==0&&k==0){a[K]=0;continue}var P=Math.sqrt(E*E+k*k),e=p[D]*(1/255),Y=1/P,O=Math.abs(E)*Y,W=Math.abs(k)*Y;
if(W>O){var w=W;W=O;O=w}a[K]=P+S.style.SWs(O,W,e)}};S.style.SWs=function(p,a,R){return(.5-R)*p};S.style.IS=function(p,a,R,Q){if(Q==null){Q=!0;
for(var t=0;t<p.length;t++)Q=Q&&(p[t]==0||p[t]==255)}var N=new Int16Array(a*R*2);if(Q)S.style.SWe(p,N,a,R);
else S.style.SWR(p,N,a,R);return N};S.style.SWR=function(p,a,R,Q){var t=R*Q;for(var N=0;N<t;N++)if(p[N]==0){a[N*2]=16383;
a[N*2+1]=16383}for(var K=1;K<=Q-1;K++){var N=K*R;for(var T=0;T<=R-1;T++)S.style.Nw(a,p,R,N+T<<1,-1);
for(var T=1;T<=R-1;T++)S.style.vM(a,p,R,N+T<<1,-1);for(var T=R-2;T>=0;T--)S.style.vM(a,p,R,N+T<<1,1)}for(var K=Q-2;
K>=0;K--){var N=K*R;for(var T=0;T<=R-1;T++)S.style.Nw(a,p,R,N+T<<1,1);for(var T=1;T<=R-1;T++)S.style.vM(a,p,R,N+T<<1,-1);
for(var T=R-2;T>=0;T--)S.style.vM(a,p,R,N+T<<1,1)}};S.style.vM=function(p,a,R,Q,t){var N=(Q>>>1)+t<<1,K=p[Q],T=p[Q+1],d=p[N]+t,y=p[N+1],E=d*d+y*y,k=K*K+T*T;
if(y!=16383&&(K==16383||Math.sqrt(E)+(.5-a[(Q>>>1)+y*R+d]*(1/255))<Math.sqrt(k)+(.5-a[(Q>>>1)+T*R+K]*(1/255)))){p[Q]=d;
p[Q+1]=y}};S.style.Nw=function(p,a,R,Q,t){var N=(Q>>>1)+t*R<<1,K=p[Q],T=p[Q+1],d=p[N],y=p[N+1]+t,E=d*d+y*y,k=K*K+T*T;
if(d!=16383&&(K==16383||Math.sqrt(E)+(.5-a[(Q>>>1)+y*R+d]*(1/255))<Math.sqrt(k)+(.5-a[(Q>>>1)+T*R+K]*(1/255)))){p[Q]=d;
p[Q+1]=y}};S.style.SWe=function(p,a,R,Q){var t=R*Q;for(var N=0;N<t;N++)if(p[N]==0){a[N*2]=16383;a[N*2+1]=16383}for(var K=1;
K<=Q-1;K++){var N=K*R;for(var T=0;T<=R-1;T++)S.style.NA(a,p,R,N+T<<1,-1);for(var T=1;T<=R-1;T++)S.style.vW(a,p,R,N+T<<1,-1);
for(var T=R-2;T>=0;T--)S.style.vW(a,p,R,N+T<<1,1)}for(var K=Q-2;K>=0;K--){var N=K*R;for(var T=0;T<=R-1;
T++)S.style.NA(a,p,R,N+T<<1,1);for(var T=1;T<=R-1;T++)S.style.vW(a,p,R,N+T<<1,-1);for(var T=R-2;T>=0;
T--)S.style.vW(a,p,R,N+T<<1,1)}};S.style.vW=function(p,a,R,Q,t){var N=(Q>>>1)+t<<1,K=p[Q],T=p[Q+1],d=p[N]+t,y=p[N+1],E=d*d+y*y,k=K*K+T*T;
if(y!=16383&&(K==16383||E<k)){p[Q]=d;p[Q+1]=y}};S.style.NA=function(p,a,R,Q,t){var N=(Q>>>1)+t*R<<1,K=p[Q],T=p[Q+1],d=p[N],y=p[N+1]+t,E=d*d+y*y,k=K*K+T*T;
if(d!=16383&&(K==16383||E<k)){p[Q]=d;p[Q+1]=y}};S.style.SLR=function(p,a,R,Q,t){var N=R*Q,K=(R+Q+1)*1.01;
for(var T=0;T<N;T++)if(p[T]<=t)a[T]=K;for(var d=1;d<R;d++)a[d]=Math.min(a[d],a[d-1]);for(var y=1;y<Q;
y++){var T=y*R;a[T]=Math.min(a[T],Math.min(a[T-R]+1,a[T-R+1]+Math.SQRT2));for(var d=1;d<R-1;d++){var E=a[++T],k=Math.min(a[T-1]+1,Math.min(a[T-R-1]+Math.SQRT2,Math.min(a[T-R]+1,a[T-R+1]+Math.SQRT2)));
if(k<E)a[T]=k}T++;a[T]=Math.min(a[T],Math.min(a[T-1]+1,Math.min(a[T-R-1]+Math.SQRT2,a[T-R]+1)))}for(var d=R-2;
d>=0;d--)a[d+N-R]=Math.min(a[d+N-R],a[d+N-R+1]);for(var y=Q-2;y>=0;y--){var T=y*R+R-1;a[T]=Math.min(a[T],Math.min(a[T+R]+1,a[T+R-1]+Math.SQRT2));
for(var d=R-2;d>=1;d--){var E=a[--T],k=Math.min(a[T+1]+1,Math.min(a[T+R-1]+Math.SQRT2,Math.min(a[T+R]+1,a[T+R+1]+Math.SQRT2)));
if(k<E)a[T]=k}T--;a[T]=Math.min(a[T],Math.min(a[T+1]+1,Math.min(a[T+R]+1,a[T+R+1]+Math.SQRT2)))}};S.style.SLh=function(p,a,R,Q,t){var N=new Int32Array(R*Q);
S.style.SW$(p,N,R,Q,t);S.style.SWU(N,a,R,Q)};S.style.SW$=function(p,a,R,Q,t){var N=new Int32Array(Q);
for(var K=0;K<R;K++){var T=R+Q;for(var d=Q-1;d>=0;d--){if(p[d*R+K]>t)T=0;else T++;N[d]=T}T=R+Q;for(var d=0;
d<Q;d++){if(p[d*R+K]>t)T=0;else T++;a[d*R+K]=T<N[d]?-T:N[d]}}};S.style.SWU=function(p,a,R,Q){var t=(R+Q)*(R+Q),N=new Float64Array(R),K=new Uint16Array(R);
for(var T=0;T<Q;T++){var d=T*R,y=0;K[0]=0;N[0]=-t;N[1]=+t;for(var E=1;E<R;E++){var k=p[E+d]*p[E+d]+E*E,D=(k-(p[K[y]+d]*p[K[y]+d]+K[y]*K[y]))/(2*E-2*K[y]);
while(D<=N[y]){y--;D=(k-(p[K[y]+d]*p[K[y]+d]+K[y]*K[y]))/(2*E-2*K[y])}y++;K[y]=E;N[y]=D;N[y+1]=t}y=0;
for(var E=0;E<R;E++){while(N[y+1]<E)y++;var P=K[y]-E,e=p[K[y]+d],Y=T*R+E<<1;a[Y]=P;a[Y+1]=e}}};S.style.Ip=function(p,a,R){if(R)for(var Q=0;
Q<p.length;Q++){var t=p[Q];if(t>0)p[Q]=Math.max(0,Math.min(255,t+a*2*(S.style.JQ(Q)-128)))}else for(var Q=0;
Q<p.length;Q++){var t=p[Q];if(t>0)p[Q]=Math.max(0,Math.min(255,t+Math.min(t*3,a*2*(S.style.JQ(Q)-128))))}};
S.style.JQ=function(p){p=p^61^p>>16;p=p+(p<<3);p=p^p>>4;p=p*668265261;p=p^p>>15;return p&255};S.aA={};
S.aA.nW=function(p,a,R){var Q=p.canvas,t=V.o(),N=Math.floor;if(Q.width!=N(a*t)||Q.height!=N(R*t))V.LU(Q,a,R,p)};
S.aA.dE=function(p,a,R,Q,t,N){S.aA.nW(p,a,R);if(N==null)N=!1;var K=t.channel,T=t.rect,d=!t.isEnabled;
a=Math.floor(a*V.o());R=Math.floor(R*V.o());if(a*R==0)return;var y=p.createImageData(a,R),E=y.data,k=1/a,D=1/R;
for(var P=0;P<R;P++)for(var e=0;e<a;e++){var Y=P*a+e,O=Y*4,W=Math.round(Q.x+e*k*Q.C),w=Math.round(Q.y+P*D*Q.T),g=0;
if(W<T.x||W>=T.x+T.C||w<T.y||w>=T.y+T.T)g=t.color;else g=K[(w-T.y)*T.C+(W-T.x)];g=255*(255-t.Hu)+g*t.Hu>>>8;
if(N)g=170+Math.round(.4*(g-170));E[O]=g;E[O+1]=g;E[O+2]=g;E[O+3]=255}p.putImageData(y,0,0);if(d)S.aA.IY(p,a,R)};
S.aA.SWv=function(p,a,R,Q){p.fillStyle="#eeeeee";p.fillRect(.6*a,.6*R,a,R);p.lineWidth=1.5;var t=.65*a,N=.95*a,K=.65*R,T=.95*R,d=.75*a,y=.85*a,E=.75*R,k=.85*R;
p.beginPath();p.moveTo(t,K);p.lineTo(N,K);p.lineTo(N,T);p.lineTo(t,T);p.lineTo(t,K);p.moveTo(d,E);p.lineTo(y,E);
p.lineTo(y,k);p.lineTo(d,k);p.lineTo(d,E);p.closePath();p.stroke()};S.aA.pz=[];S.aA.SWE=function(p,a,R){var Q,t,N,K=V.o();
a=Math.floor(K*a);R=Math.floor(K*R);Q=Math.ceil(Math.max(a,R)*.35);t=a-Q;N=R-Q;var T=S.aA.pz[Q];if(T==null){p.save();
p.scale(1/K,1/K);p.fillStyle="#eeeeee";p.fillRect(t,N,a,R);p.lineWidth=1;p.strokeRect(t+2.5,N+2.5,a-t-5,R-N-5);
var d=p.createImageData(3,3);S.wp(d.data,4278190080);d.data[4*4]=d.data[4*4+1]=d.data[4*4+2]=238;p.putImageData(d,t+1,N+1);
p.putImageData(d,a-4,N+1);p.putImageData(d,t+1,R-4);p.putImageData(d,a-4,R-4);p.restore();S.aA.pz[Q]=p.getImageData(t,N,a,R)}else p.putImageData(T,t,N)};
S.aA.SWm=function(p,a,R,Q,t){S.aA.nW(p,a,R);a=Math.floor(a*V.o());R=Math.floor(R*V.o());var N=a/Q.C;
if(a*R==0)return;p.fillStyle="#999999";p.setTransform(1,0,0,1,0,0);p.clearRect(0,0,a,R);var K=S.aA.p_;
if(K==null){K=S.aA.p_=JSON.parse(JSON.stringify(gZ.up.default));K.strokeEnabled.v=!0}K.strokeStyleLineWidth.v.val=1*V.o()/N;
p.fillStyle="#ffffff";p.scale(N,N);S.d.Ih(t.G,p,0,0);S.d.Ih(t.G,p,0,0,K)};S.aA.km=null;S.aA.Kf=function(p,a,R,Q,t,N,K,T){S.aA.nW(p,a,R);
a=Math.floor(a*V.o());R=Math.floor(R*V.o());if(a*R==0)return;var d=Math.max(a,R),y=S.aA.km;if(y==null||y.width<d||y.height<d){S.aA.km=y=p.createImageData(d,d)}d=y.width;
var E=y.data,k=Q.C/a,D=Q.T/R,P=1/255,e=N.x,Y=N.x+N.C,O=N.y,W=N.y+N.T;for(var w=0;w<R;w++)for(var g=0;
g<a;g++){var J=w*d+g,U=J*4,H=~~(Q.x+g*k),f=~~(Q.y+w*D),j=S.cU(w,g,2);if(H<e||H>=Y||f<O||f>=W){E[U]=j;
E[U+1]=j;E[U+2]=j;E[U+3]=255}else{var I=(f-N.y)*N.C+(H-N.x)<<2,L=t[I+3]*P;E[U]=t[I+0]*L+j*(1-L);E[U+1]=t[I+1]*L+j*(1-L);
E[U+2]=t[I+2]*L+j*(1-L);E[U+3]=255}}if(T!=null)for(var w=0;w<E.length;w+=4)E[w]=E[w+1]=E[w+2]=E[w+T];
p.putImageData(y,0,0);if(K)S.aA.IY(p,a,R)};S.aA.SWu=function(p,a,R,Q){S.aA.nW(p,a,R);p.fillStyle=S.aA.gc(Q.Clr.v);
p.fillRect(0,0,a,R);S.aA.Ir(p,a,R)};S.aA.pL=null;S.aA.SWj=function(p,a,R,Q){S.aA.nW(p,a,R);var t=p.canvas.width,N=p.canvas.height,K=S.aA.pL;
if(K==null||K.width!=t||K.height!=N){p.fillStyle="#ffffff";p.fillRect(0,0,a,R);p.fillStyle="#000000";
p.font=""+R*.7+"px serif";p.fillText("T",(a-R*.43)/2,R*.75);p.fillText("T",(a-R*.43)/2,R*.75);S.aA.pL=p.getImageData(0,0,t,N)}else p.putImageData(K,0,0)};
S.aA.SOT=function(p,a,R){S.aA.nW(p,a,R);p.clearRect(0,0,a,R);p.font=R*.7+"px serif";p.fillText(":(",(a-R*.43)/2,R*.7)};
S.aA.SOb=function(p,a,R,Q){S.aA.nW(p,a,R);var t=gA.get(Q),N=gL.get(gA.names[t]).substring(0,3);p.fillStyle="#ffffff";
p.fillRect(0,0,a,R);p.fillStyle="#000000";p.font=R*.55+"px sans-serif";var K=p.measureText(N);p.fillText(N,(a-K.width)/2,R*.67);
p.fillRect(0,0,a,R*.1);p.fillRect(0,R*.9,a,R*.1)};S.aA.SOj=function(p,a,R,Q){S.aA.nW(p,a,R);var t=p.canvas.width,N=p.canvas.height,K=p.getImageData(0,0,t,N);
S.e.Su(Q.Grad.v,new Uint8Array(K.data.buffer),new x(0,0,t,N),[1/t,0,0,1/N],t/2,N/2,!1,0,16711680,65280);
p.putImageData(K,0,0);S.aA.Ir(p,a,R)};S.aA.SvK=function(p,a,R,Q,t){S.aA.nW(p,a,R);var N=p,K=gB.QE(Q.Ptrn.v,t.add.Patt);
if(K==null)return;var T=K.I;S.aA.Kf(p,a,R,T,K.Yz,T,!1);S.aA.Ir(N,a,R)};S.aA.IY=function(p,a,R){p.strokeStyle="#bb0000";
p.lineWidth=3;p.beginPath();p.moveTo(a*.15,R*.15);p.lineTo(a*.85,R*.85);p.moveTo(a*.85,R*.15);p.lineTo(a*.15,R*.85);
p.closePath();p.stroke()};S.aA.IY=function(p,a,R){p.strokeStyle="#bb0000";p.lineWidth=3;p.beginPath();
p.moveTo(a*.15,R*.15);p.lineTo(a*.85,R*.85);p.moveTo(a*.85,R*.15);p.lineTo(a*.15,R*.85);p.closePath();
p.stroke()};S.aA.Ir=function(p,a,R){p.fillStyle="#eeeeee";p.fillRect(0,R*.75,a,R*.25);p.beginPath();
p.moveTo(0,R*.75);p.lineTo(a,R*.75);p.moveTo(a*.1,R*.875);p.lineTo(a*.9,R*.875);p.moveTo(a*.65,R*.825);
p.lineTo(a*.65,R*.95);p.closePath();p.stroke()};S.aA.gc=function(p){var a=S.e.gc(p),R=Math.round(a.D)<<16|Math.round(a.X)<<8|Math.round(a.N);
return"#"+S.ay(R)};S.d={};S.d.mD=function(p,a,R){var Q=[],t=-1;for(var N=0;N<p.length;N++){var K=p[N];
if((K.type==0||K.type==3)&&K.gu!=-1)t++;if(K.type>5||K.type==0||K.type==3)continue;if(a!=null&&a.indexOf(t)==-1)continue;
if(R!=null&&R.indexOf(N)==-1)continue;Q.push(K.Xe.x);Q.push(K.Xe.y);Q.push(K.i.x);Q.push(K.i.y);Q.push(K.k$.x);
Q.push(K.k$.y)}return Q};S.d.Il=function(p,a,R,Q){var t=0,N=-1;for(var K=0;K<a.length;K++){var T=a[K];
if((T.type==0||T.type==3)&&T.gu!=-1)N++;if(T.type>5||T.type==0||T.type==3)continue;if(R!=null&&R.indexOf(N)==-1)continue;
if(Q!=null&&Q.indexOf(K)==-1)continue;T.Xe.YY(p[t],p[t+1]);T.i.YY(p[t+2],p[t+3]);T.k$.YY(p[t+4],p[t+5]);
t+=6}};S.d.xv=function(p,a,R,Q){var t=S.d.mD(p,R,Q);S.s.t(t,a,t);S.d.Il(t,p,R,Q)};S.d.SvN=function(p,a,R,Q){var t=S.d.mD(p,R,Q);
S.L.apply(a,t);S.d.Il(t,p,R,Q)};S.d.Svp=function(p,a,R,Q){if(R==null&&Q==null){var t=S.d.SvX(p,40);for(var N=0;
N<t.length;N++)p[N]=t[N]}var K=S.d.mD(p,R,Q);S.Lp.apply(a,K,S.s.wh(K));S.d.Il(K,p,R,Q)};S.d.SvX=function(p,a){var R=[];
for(var Q=0;Q<p.length;Q++){var t=p[Q];if(t.type>5){R.push(JSON.parse(JSON.stringify(t)));continue}var N=S.d.SvQ(p,Q+1,t.length);
N=S.s.dM(N,a);var K=S.d.SvV(N);Q+=t.length;t=JSON.parse(JSON.stringify(t));t.length=K.length;R.push(t);
for(var T=0;T<K.length;T++)R.push(K[T])}return R};S.d.SvQ=function(p,a,R){var Q={$:["M"],r:[]},t=p[a],N=p[a+R-1];
Q.r.push(t.i.x,t.i.y);for(var K=1;K<R;K++){var T=p[a+K-1],d=p[a+K];Q.$.push("C");Q.r.push(T.k$.x,T.k$.y,d.Xe.x,d.Xe.y,d.i.x,d.i.y)}Q.$.push("C");
Q.r.push(N.k$.x,N.k$.y,t.Xe.x,t.Xe.y,t.i.x,t.i.y);return Q};S.d.SvV=function(p){var a=[],R=p.$,Q=p.r,t=0,N=Q.length;
a.push({type:2,Xe:new X(Q[N-4],Q[N-3]),i:new X(Q[0],Q[1]),k$:new X(Q[2],Q[3])});for(var K=0;K<R.length-2;
K++){var T=K*6+4;a.push({type:2,Xe:new X(Q[T],Q[T+1]),i:new X(Q[T+2],Q[T+3]),k$:new X(Q[T+4],Q[T+5])})}return a};
S.d.SJq=function(p){for(var a=0;a<p.length;a++){if(p[a].type>5)continue;var R=p[a].length;if(!(R==4||R==6||R==8)){a+=R;
continue}for(var Q=0;Q<R;Q++){var t=p[a+1+Q],N=p[a+1+(Q+1)%R],K=Math.min(t.i.x,N.i.x),T=Math.min(t.i.y,N.i.y),d=0,y=0;
if(t.i.x<N.i.x){d=t.i.y-T;y=d-(N.i.x-K)}else{d=N.i.y-T;y=d-(t.i.x-K)}if(Math.abs(y)<.2*d)return d}}return-1};
S.d.Fh=function(p,a){var R=null,Q=-1;for(var t=0;t<p.length;t++){if(p[t].type>5)continue;var N=p[t].length;
if((p[t].type==0||p[t].type==3)&&p[t].gu!=-1)Q++;if(a!=null&&a.indexOf(Q)==-1)continue;if(t==p.length-1)break;
var K=p[t].type==3;if(R==null)R=S.d.pi(p,t+1,N,K);else{var T=S.d.pi(p,t+1,N,K);if(a!=null||p[t].gu==0||p[t].gu==-1||p[t].gu==1){var d=Math.min(R.x,T.x),y=Math.min(R.y,T.y),E=Math.max(R.x+R.C,T.x+T.C),k=Math.max(R.y+R.T,T.y+T.T);
R.x=d;R.y=y;R.C=E-d;R.T=k-y}else if(p[t].gu==2)R=R;else if(p[t].gu==3)R=R.Yl(T)}t+=N}if(R==null||R.C<0||R.T<0)R=new x(0,0,0,0);
return R};S.d.SJx=new Float64Array(4);S.d.pi=function(p,a,R,Q){var t=S.d.SJx;t[0]=1e30;t[1]=1e30;t[2]=-1e30;
t[3]=-1e30;var N=p[a+R-1];if(!Q)S.d.pv(N.i.x,N.i.y,N.k$.x,N.k$.y,p[a].Xe.x,p[a].Xe.y,p[a].i.x,p[a].i.y,t);
for(var K=a;K<a+R-1;K++){var T=p[K],d=p[K+1];if(T.i.xA(T.k$)&&d.Xe.xA(d.i)){t[0]=Math.min(t[0],Math.min(T.i.x,d.i.x));
t[1]=Math.min(t[1],Math.min(T.i.y,d.i.y));t[2]=Math.max(t[2],Math.max(T.i.x,d.i.x));t[3]=Math.max(t[3],Math.max(T.i.y,d.i.y))}else S.d.pv(T.i.x,T.i.y,T.k$.x,T.k$.y,d.Xe.x,d.Xe.y,d.i.x,d.i.y,t)}return new x(t[0],t[1],t[2]-t[0],t[3]-t[1])};
S.d.pv=function(p,a,R,Q,t,N,K,T,d){var y=1e30,E=1e30,k=-1e30,D=-1e30,P=40,e=R-p,Y=Q-a,O=t-R,W=N-Q,w=K-t,g=T-N,J=1/P;
for(var U=0;U<P+1;U++){var H=U*J,f=p+H*e,j=a+H*Y,I=R+H*O,L=Q+H*W,C=t+H*w,v=N+H*g,o=f+H*(I-f),Z=j+H*(L-j),B=I+H*(C-I),s=L+H*(v-L),q=o+H*(B-o),F=Z+H*(s-Z);
if(q<y)y=q;if(F<E)E=F;if(q>k)k=q;if(F>D)D=F}d[0]=Math.min(d[0],y);d[1]=Math.min(d[1],E);d[2]=Math.max(d[2],k);
d[3]=Math.max(d[3],D)};S.d.pJ=function(p,a){var R=p.length-3,Q=a%R,t=Math.floor(Q);if(a<0||t>=R)return null;
var N=p[3+t],K=p[3+(t+1)%R],T=N.i,d=N.k$,y=K.Xe,E=K.i,k=Q-t,D=1-k,P=D*D*D*T.x+3*D*D*k*d.x+3*D*k*k*y.x+k*k*k*E.x,e=D*D*D*T.y+3*D*D*k*d.y+3*D*k*k*y.y+k*k*k*E.y;
return new X(P,e)};S.d.pa=function(p){var a=2,R=S.d.zX(p),Q=!1,t=!1;for(var N=2;N<p.length;N++){var K=p[N].gu;
if(K!=null){if(K==2||K==0)Q=!0;if(K==-1)t=!0}}if(t){var T=S.s.VO(p);return{Qc:Typr.U.pathToSVG({crds:T.r,cmds:T.$},a),Ah:Q?1:0}}if(Q&&p.length<5e3&&R>1)p=S.d.Is(p);
var T=S.s.VO(p);return{Qc:Typr.U.pathToSVG({crds:T.r,cmds:T.$},a),Ah:Q?1:0}};S.d.Is=function(p){S.d.K$();
var a,R=S.d.IF(p),Q=[];for(var t=0;t<R.length;t++){var N=R[t][0],K=R[t][1];if(Math.abs(N.area)<1e-5)Q.push(N);
else if(a==null)a=N;else{a=a[K](N);a.remove()}}if(a==null)a=new paper.CompoundPath(Q);else{if(a.segments)a=new paper.CompoundPath(a);
for(var t=0;t<Q.length;t++){a.children.push(Q[t])}}var T=p.slice(0,2);T=T.concat(S.d.pQ(a));if(T[2])T[2].gu=1;
for(var t=3;t<T.length;t++)if(T[t].gu!=null)T[t].gu=-1;return T};S.d.K$=function(){if(S.d.SxJ==null){var p=V.P("canvas");
paper.setup(p);S.d.SxJ=!0}};S.d.SJi=function(p,a){S.d.K$();var R=[],Q=S.d.IF(p),t=new paper.Path.Rectangle(new paper.Rectangle(a.x,a.y,a.C,a.T));
t.remove();t.fillColor=new paper.Color(1,0,0);for(var N=0;N<Q.length;N++)if(t.intersects(Q[N][0])||t.contains(Q[N][0].segments[0].point))R.push(N);
return R};S.d.uM=function(p,a,R,Q){S.d.K$();var t=R?{curves:!0,tolerance:Q}:null,N=new paper.Point(a.x,a.y),K=S.d.IF(p);
for(var T=K.length-1;T>=0;T--){var d=K[T][0],y=d.hitTest(N,t);if(y!=null)return{Yo:T,qT:R?y.location.index:null}}return{Yo:-1}};
S.d.vJ=function(p,a){var R=[[],[],[]];for(var Q=0;Q<p.length;Q++){var t=p[Q];if(t.type>5||t.type==0||t.type==3)continue;
if(a.lp(t.i))R[0].push(Q);if(a.lp(t.Xe))R[1].push(Q);if(a.lp(t.k$))R[2].push(Q)}return R};S.d.SJt=function(p,a,R){var Q=R.slice(0),t=[null,null],N=-1,d=null;
for(var K=2;K<p.length;K++){if((p[K].type==0||p[K].type==3)&&p[K].gu!=-1)N++;t[K]=R[N]}R=t;var T=p.slice(0,2);
t=R.slice(0,2);for(var K=2;K<p.length;K++){if(p[K].type==0||p[K].type==3){d=p[K];T.push(d);t.push(R[K])}else{if(a.indexOf(K)==-1){T.push(p[K]);
t.push(R[K])}else{d.length--;S.lm.OM(R,K)}}}for(var K=2;K<T.length;K++){var y=T[K];if(y.type!=0&&y.type!=3)continue;
if(y.length==0){if(T[K+1]&&T[K+1].gu==-1){T[K+1].gu=y.gu}t.splice(K,1);T.splice(K,1);K--}}for(var K=0;
K<Q.length;K++)if(t.indexOf(Q[K])==-1){Q.splice(K,1);K--}return T};S.d.SJ_=function(p,a){var R=p.slice(0,2),Q=-1;
for(var t=2;t<p.length;t++){if((p[t].type==0||p[t].type==3)&&p[t].gu!=-1)Q++;if(a.indexOf(Q)==-1)R.push(p[t])}return R};
S.d.Stg=function(p,a){var R=p.slice(0,2),Q=-1;for(var t=2;t<p.length;t++){if((p[t].type==0||p[t].type==3)&&p[t].gu!=-1)Q++;
if(a.indexOf(Q)!=-1)R.push(p[t])}return R};S.d.SLE=function(p){var a=0;for(var R=0;R<p.length;R++)if(p[R].type==0||p[R].type==3)a=R;
return p[a]};S.d.zX=function(p){var a=-1;for(var R=0;R<p.length;R++)if((p[R].type==0||p[R].type==3)&&p[R].gu!=-1)a++;
return a+1};S.d.kk=function(p,a){var R=-1;for(var Q=0;Q<p.length;Q++)if((p[Q].type==0||p[Q].type==3)&&p[Q].gu!=-1){R++;
if(R==a)return Q}return-1};S.d.IR=function(p,a){var R=-1;for(var Q=0;Q<p.length;Q++)if((p[Q].type==0||p[Q].type==3)&&p[Q].gu!=-1){if(Q>=a)return R;
R++}return R};S.d.IL=function(p,a){var R=-1,Q=0;for(var t=0;t<p.length;t++){if((p[t].type==0||p[t].type==3)&&p[t].gu!=-1)R++;
if(R==a)Q++}return Q};S.d.pQ=function(p){var a=p.segments?[p]:p.children,R=[];for(var Q=0;Q<a.length;
Q++){var t=a[Q],N=t.segments,K=t.closed?0:3,T=R.length,d=null;if(N.length<=1)continue;R.push({type:K,length:N.length,gu:0,Xt:2});
for(var y=0;y<N.length;y++){var E=N[y],k=new X(E.handleIn.x,E.handleIn.y),D=new X(E.handleOut.x,E.handleOut.y),P=new X(E.point.x,E.point.y),e={type:K+1,Xe:P.add(k),i:P,k$:P.add(D)};
if(d==null)d=e;R.push(e);if(y+1==N.length&&X.Hz(d.i,e.i)<1e-5){R.pop();R[T].length--;d.Xe=e.Xe;if(K==3)for(var Y=T;
Y<R.length;Y++)R[Y].type-=3}}}return R};S.d.IF=function(p){S.d.K$();var a=[],R,Q=new paper.Color(1,0,0);
for(var t=0;t<p.length;t++){if(p[t].type>5)continue;var N=p[t].length,K;if(t==p.length-1)break;var T=p[t].type==3;
if(t==2){if(!S.d.KM(p))K="subtract";else K="unite"}else{if(p[t].gu==0)K="exclude";if(p[t].gu==1)K="unite";
if(p[t].gu==2)K="subtract";if(p[t].gu==3)K="intersect"}if(p[t].gu!=-1)R=[];for(var d=0;d<N;d++){var y=p[t+1+d],E=y.Xe.Ai(y.i),k=y.k$.Ai(y.i);
R.push([[y.i.x,y.i.y],[E.x,E.y],[k.x,k.y]])}if(p[t+1+N]==null||p[t+1+N].gu!=-1){var D=new paper.Path(R);
D.remove();D.closed=!T;D.fillRule="evenodd";D.fillColor=Q;a.push([D,K])}t+=N}return a};S.d.vw=function(p){for(var a=0;
a<p.length;a++){var R=p[a];if(R.i==null)continue;if(!R.i.xA(R.Xe)||!R.i.xA(R.k$))return!1}return!0};
S.d.SBq=function(p){if(p.length<=5)return 0;var a=0,R=p.length-3-1;for(var Q=0;Q<R;Q++){var t=p[3+Q],N=p[3+Q+1];
if(t.type==0||N.type==0)return 0;a+=(N.i.x-t.i.x)*(t.i.y+N.i.y)}a+=(p[3].i.x-p[3+R].i.x)*(p[3+R].i.y+p[3+1].i.y);
return-a*.5};S.d.KM=function(p){if(p.length==2)return p[1].all==0;var a=p[2];if(p[1].all==1){if(a.gu==1||a.gu==3)return!0;
return!1}else{if(a.gu==1||a.gu==3||a.gu==0)return!0;return!1}};S.d.SZo=0;S.d.pu=0;S.d.SBa=0;S.d.SZc=function(p,a,R,Q){if(R.RJ())return;
var t=R.u(),J=16384;S.d.SZo+=t;if(t>S.d.pu){S.d.pu=t}var N=R.C,K=R.T;if(Q==null&&S.d.vw(p)){var T=!0;
for(var d=2;d<p.length;)if(p[d].length==2)d+=3;else{T=!1;break}if(T){return}if(S.d.pn(p)){a.fill(255);
var y=S.d.Fh(p);if(y.u()!=t){var E=1-(y.x-R.x),k=1-(y.y-R.y),D=1-(R.x+R.C-(y.x+y.C)),P=1-(R.x+R.T-(y.x+y.T)),e=~~(E*255),Y=~~(D*255),O=~~(k*255),W=~~(P*255);
a.fill(O,0,N);a[0]=~~(E*k*255);a[N-1]=~~(D*k*255);for(var d=N;d<t;d+=N){a[d]=e;a[d+N-1]=Y}a.fill(W,(K-1)*N,K*N);
a[t-N]=~~(E*P*255);a[t-1]=~~(D*P*255)}return}}var w=S.Ou,g=S.c,U=Math.ceil(N/J),H=Math.ceil(K/J),f=Math.ceil(N/U),j=Math.ceil(K/H),I=Date.now();
for(var L=0;L<H;L++)for(var C=0;C<U;C++){var v=C*f,o=L*j,Z=f,B=j;w.width=Z;w.height=B;if(!S.d.KM(p))g.fillRect(0,0,Z,B);
S.d.Ih(p,g,-R.x-v,-R.y-o,Q);var s=new Uint8Array(g.getImageData(0,0,Z,B).data.buffer);if(Z==N&&B==K)S.vh(s,a,3);
else S.lA(s,new x(v,o,Z,B),a,new x(0,0,N,K))}};S.d.Ih=function(p,a,R,Q,t){if(t!=null&&t.fillEnabled.v){var N=!1,K=!1,T=0;
for(var d=0;d<p.length;d++){var y=p[d].gu;if(y!=null)T++;if(y==-1)N=!0;if(y>0)K=!0}if(!N&&T<20)p=S.d.Is(p)}for(var d=0;
d<p.length;d++){if(p[d].type>5)continue;var E=p[d].length;if(E==0)continue;if(d==p.length-1)break;var k=p[d].type==3;
if(d==2){if(!S.d.KM(p))a.globalCompositeOperation="destination-out";else a.globalCompositeOperation="source-over"}else{var y=p[d].gu;
if(y!=-1&&t==null){var D=["xor","source-over","destination-out","source-in"][y];a.globalCompositeOperation=D}}if(p[d].gu!=-1){a.beginPath();
if(t){var P=t.strokeStyleLineWidth.v.val,e=t.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Y=t.strokeStyleLineCapType.v.strokeStyleLineCapType,O=t.strokeStyleLineJoinType.v.strokeStyleLineJoinType,W=t.strokeStyleMiterLimit.v,w=[],g=t.strokeStyleLineDashSet.v;
for(var J=0;J<g.length;J++)w.push(g[J].v.val*P);a.setLineDash(w);a.lineCap=["butt","round","square"][gZ.up.yo.indexOf(Y)];
a.lineJoin=["miter","round","bevel"][gZ.up.join.indexOf(O)];a.lineWidth=gZ.up.oy.indexOf(e)==1?P:P*=2;
a.miterLimit=W}}S.d.SSR(a,p,d+1,E,R,Q,k);if(k){}else a.closePath();if(p[d+1+E]==null||p[d+1+E].gu!=-1){if(t)a.stroke();
else a.fill("evenodd")}d+=E}};S.d.SSR=function(p,a,R,Q,t,N,K){var T=a[R],d=null;p.moveTo(T.i.x+t,T.i.y+N);
for(var y=R;y<R+Q-1;y++){T=a[y];d=a[y+1];p.bezierCurveTo(T.k$.x+t,T.k$.y+N,d.Xe.x+t,d.Xe.y+N,d.i.x+t,d.i.y+N)}if(!K){T=a[y];
d=a[R];p.bezierCurveTo(T.k$.x+t,T.k$.y+N,d.Xe.x+t,d.Xe.y+N,d.i.x+t,d.i.y+N)}};S.d.vD=function(p,a,R){var Q=[],t=R?4:1,N=!1;
if(a!=null)for(var K=0;K<a.length;K++)if(a[K]!=0){N=!0;break}if(a!=null&&N){var T=S.s.Sxb(p,a),d=T.length/6;
for(var K=0;K<d;K++){var y=K*6,E=(K-1+d)%d*6,k=T[y],D=T[y+1],P=T[y+2],e=T[y+3],Y=T[E+4],O=T[E+5];Q.push({type:t,Xe:new X(Y,O),i:new X(k,D),k$:new X(P,e)})}}else{for(var K=0;
K<p.length;K+=2){var W=new X(p[K],p[K+1]);Q.push({type:t,Xe:W.clone(),i:W.clone(),k$:W.clone()})}}return Q};
S.d.Ix=function(p,a){S.d.K$();var R=new paper.Path;R.remove();var Q=p.length-1,t=Math.sqrt((p[Q-1]-p[0])*(p[Q-1]-p[0])+(p[Q]-p[1])*(p[Q]-p[1]))<3;
R.closed=t;for(var N=0;N<p.length;N+=2)R.add(new paper.Point(p[N],p[N+1]));R.simplify(a);var K=[{type:6},{type:8,all:0}];
K=K.concat(S.d.pQ(R));return K};S.d.pb=function(p,a,R){var Q=p[a].length,t=p[a].type,N=0,K=p.slice(a+1,a+1+Q);
for(var T=0;T<Q;T++){var d=R[(T-1+Q)%Q],y=R[(T+1+Q)%Q],E=R[T];if(E!=0){var k=K[(T-1+Q)%Q].i,D=K[(T+0+Q)%Q].i,P=K[(T+1+Q)%Q].i,e=X.Hz(D,k),Y=X.Hz(D,P),O=S.s.KV(k.x,k.y,D.x,D.y,P.x,P.y,E)[0],W=Math.min(O,d==0?e:e/2,y==0?Y:Y/2);
E*=W/O;var w=S.s.Kn(k.x,k.y,D.x,D.y,P.x,P.y,E),g={type:t+1,Xe:new X(w[2],w[3]),i:new X(w[2],w[3]),k$:new X(w[4],w[5])},J={type:t+1,Xe:new X(w[6],w[7]),i:new X(w[8],w[9]),k$:new X(w[8],w[9])};
p.splice(a+N+1,1,g,J);N++;p[a].length++}N++}};S.d.vw=function(p){for(var a=0;a<p.length;a++){var R=p[a],Q=R.type;
if(Q==1||Q==2||Q==4||Q==5)if(!R.i.xA(R.Xe)||!R.i.xA(R.k$))return!1}return!0};S.d.pn=function(p){if(p.length!=7||!S.d.vw(p))return!1;
for(var a=0;a<4;a++){var R=!0;for(var Q=0;Q<4;Q++){var t=p[3+(a+Q&3)],N=p[3+(a+Q+1&3)];if(t.i.x!=N.i.x&&t.i.y!=N.i.y)R=!1}if(R)return!0}return!1};
S.d.y$={};S.d.y$.PL=function(p,a,R){var Q=[{type:6},{type:8,all:0}],t=null;Q.push({type:R?3:0,gu:1,length:0,Uc:0,Wd:0,Xt:1});
if(a==0)t==null;else if(a instanceof Array)t=a;else{t=[];for(var N=0;N<p.length;N+=2)t.push(a)}Q=Q.concat(S.d.vD(p,t,R));
Q[2].length=Q.length-3;return Q};S.d.y$.SdN=function(p,a,R,Q,t){var N=[],K=[],T=.553,d=1,y=-1;N.push({type:1,Xe:new X(0,T),i:new X(0,0),k$:new X(0,-T)});
t+=2;for(var E=0;E<t;E++){var k={type:1};if(E==0){k.i=new X(1,-1);k.Xe=new X(1-T,-1);k.k$=new X(1+T,-1)}else{var D=-(E+2)*Math.PI/2,P=1+((E&1)==1?E-1:E),e=Math.sin(D),Y=Math.cos(D);
d+=P*(e-Y);y+=P*(Y+e);k.i=new X(d,y);k.Xe=new X(d+P*Y*T,y-P*e*T);if((E&1)==1)P+=2;k.k$=new X(d-P*Y*T,y+P*e*T)}var O={type:1,Xe:new X(-k.k$.x,-k.k$.y),i:new X(-k.i.x,-k.i.y),k$:new X(-k.Xe.x,-k.Xe.y)};
N.push(k);if(E<t-2)K.push(O)}K.reverse();N=N.concat(K);var W=[{type:6},{type:8,all:0}];W.push({type:0,gu:1,length:N.length,Uc:0,Wd:0,Xt:1});
W=W.concat(N);var w=new gh(R/t,0,0,R/t,0,0);w.rotate(Q);w.translate(p,a);S.d.xv(W,w);return W};S.d.y$.Rect=function(p,a,R,Q,t){var N=[p,a,p+R,a,p+R,a+Q,p,a+Q];
return S.d.y$.PL(N,t)};S.d.y$.Ii=function(p,a,R,Q,t,N){var K=[],T=2*Math.PI/t;for(var d=0;d<t;d++)K.push(Math.cos(d*T),Math.sin(d*T));
var y=new gh(R,0,0,R,0,0);y.rotate(Q);y.translate(p,a);S.s.t(K,y,K);return S.d.y$.PL(K,N)};S.d.y$.Sdo=function(p,a,R,Q,t,N,K){var T=[],d=Math.PI/t;
for(var y=0;y<t*2;y++){var E=(y&1)==0?1:K;T.push(E*Math.cos(y*d),E*Math.sin(y*d))}var k=new gh(R,0,0,R,0,0);
k.rotate(Q);k.translate(p,a);S.s.t(T,k,T);return S.d.y$.PL(T,N)};S.d.y$.hz=function(p,a,R,Q,t){return S.d.y$.YK(0,p,a,R,Q,t)};
S.d.y$.Sdv=function(p,a,R,Q,t,N){return S.d.y$.YK(1,p,a,R,Q,t,N)};S.d.y$.YK=function(p,a,R,Q,t,N,K){var T=Math.sqrt((Q-a)*(Q-a)+(t-R)*(t-R)),d;
N/=2;if(p==0)d=[-N,0,N,0,N,T,-N,T];else{var y=N*2*K*1.3/1.5,E=N*K;d=[-N,0,N,0,N,T-y,E,T-y,0,T,-E,T-y,-N,T-y]}var k=new gh(1,0,0,1,0,0);
k.rotate(Math.atan2(-t+R,Q-a)+Math.PI/2);k.translate(a,R);S.s.t(d,k,d);return S.d.y$.PL(d,0)};S.d.y$.QJ=function(p,a,R,Q){var t=[{type:6},{type:8,all:0}],k=.553;
t.push({type:0,gu:1,length:4,Uc:0,Wd:0,Xt:1});var N=p,K=a,T=p+R,d=a+Q,p=(N+T)/2,a=(K+d)/2,y=(N-T)/2,E=(K-d)/2;
t.push({type:1,Xe:new X(p-k*y,a-E),i:new X(p,a-E),k$:new X(p+k*y,a-E)});t.push({type:1,Xe:new X(p+y,a-k*E),i:new X(p+y,a),k$:new X(p+y,a+k*E)});
t.push({type:1,Xe:new X(p+k*y,a+E),i:new X(p,a+E),k$:new X(p-k*y,a+E)});t.push({type:1,Xe:new X(p-y,a+k*E),i:new X(p-y,a),k$:new X(p-y,a-k*E)});
return t};S.d.y$.SKp=function(p,a,R,Q,t){var N=[{type:6},{type:8,all:0}];N.push({type:3,gu:1,length:5,Uc:0,Wd:0,Xt:1});
var K=(t-Q)/4;for(var T=0;T<5;T++){var d=T*K,y=Math.cos(d),E=Math.sin(d),k=.553*(K/(Math.PI/2)),D=E*k,P=-y*k,e=new X(y,E);
N.push({type:4,Xe:T==0?e.clone():new X(y+D,E+P),i:e,k$:T==4?e.clone():new X(y-D,E-P)})}var Y=new gh;
Y.rotate(-Q);Y.scale(R,R);Y.translate(p,a);S.d.xv(N,Y);return N};S.KF={};S.KF.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
S.KF.QD=function(p){var a=p.warpStyle.v.warpStyle;if(a=="warpNone")return!0;else if(a=="warpCustom"){var R=!1,Q=p.customEnvelopeWarp.v.meshPoints.v.arr,t=Q[0].arr,N=Q[1].arr;
for(var K=0;K<4;K++)for(var T=0;T<4;T++){if(Math.abs(t[K]-t[T*4+K])>1||Math.abs(N[K*4]-N[K*4+T])>1)R=!0}return!R}else return p.warpValue.v==0&&p.warpPerspective.v==0&&p.warpPerspectiveOther.v==0};
S.KF.p=function(p){var a={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(p){a.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:p.y}},Left:{t:"UntF",v:{type:"#Pxl",val:p.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:p.y+p.T}},Rght:{t:"UntF",v:{type:"#Pxl",val:p.x+p.C}}}};
a.uOrder={t:"long",v:4};a.vOrder={t:"long",v:4}}return a};S.KF.SKY=function(p,a,R,Q){for(var t=0;t<p.length;
t+=2){var N=p[t],K=p[t+1],T=(N-a.x)/a.C,d=(K-a.y)/a.T,y=(1-R)/2,E=1-y,k=y+T*(E-y);d=.5+(d-.5)*k*2;var D=(1-Q)/2,P=1-D,e=D+d*(P-D);
T=.5+(T-.5)*e*2;N=a.x+T*a.C;K=a.y+d*a.T;p[t]=N;p[t+1]=K}};S.KF.Yp=function(p,a){var R=[],Q=[];for(var t=0;
t<p.length;t+=2){R.push(p[t]);Q.push(p[t+1])}var N=[];N.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:R});
N.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Q});a.warpStyle.v.warpStyle="warpCustom";a.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:N}}}}};
S.KF.tM=function(p,a){if(a==null){var R=p.bounds.v,Q=R.Left.v.val,t=R.Rght.v.val,N=R.Top.v.val,K=R.Btom.v.val;
a=new x(Q,N,t-Q,K-N)}if(a.RJ())a.C=a.T=1;var T=[],d=p.warpStyle.v.warpStyle;if(d=="warpCustom"){var y=p.customEnvelopeWarp.v.meshPoints.v.arr,E=y[0].arr,k=y[1].arr;
for(var D=0;D<16;D++)T.push(E[D],k[D])}else T=S.KF.KF(a,d,p.warpRotate.v.Ornt=="Hrzn",p.warpValue.v/100,p.warpPerspective.v/100,p.warpPerspectiveOther.v/100);
return T};S.KF.KF=function(p,a,R,Q,t,N){var K=S.Lp.p(p.x,p.y,p.C,p.T);if(a=="warpNone")return K;var T=JSON.parse(JSON.stringify(p)),d=new gh;
if(!R){d.translate(-p.x,-p.y);d.rotate(-Math.PI/2);d.translate(p.T,0);S.s.t(K,d,K);p=new x(0,0,p.T,p.C);
K=S.Lp.jf(K,!1)}S.KF.SKG(K,p,a,Q,t,N);if(!R){K=S.Lp.jf(K,!0);p=T;d.zw();S.s.t(K,d,K)}if(Q==0)S.KF.SKY(K,p,t,N);
else{var d=new gh(1/p.C,0,0,1/p.T,-p.x,-p.y);d.translate(-.5,-.5);S.s.t(K,d,K);S.KF.SKm(K,N,t);d.zw();
S.s.t(K,d,K)}return K};S.KF.SKG=function(p,a,R,Q,t,N){for(var K=0;K<4;K++){for(var T=0;T<4;T++){var d=2*(4*K+T),y=p[d]-a.x,E=p[d+1]-a.y,k=y,D=E;
if(Q!=0){var P=a.C/2,e=a.T/2;k-=P;D-=e;var Y=k,O=k,W=-e,w=e,g=Math.abs(Q),J=Math.tan((1-g)*Math.PI/2),U=Math.sqrt(J*J+1),H=Math.atan2(1,J),f=k/P*H,j=P*U,I=P*U+a.T,L=Math.cos(H),C=Math.sin(H),v=S.KF.SCl(L,C),o=S.KF.SCX(L,C),Z=-J*P+v*j;
if(R=="warpArc"){Y=Math.sin(f)*I;W=J*P-Math.cos(H)*I+e;O=Math.sin(f)*j;w=J*P-Math.cos(H)*j+e;if(T==1||T==2){Y=T==1?-o*I:o*I;
O=T==1?-o*j:o*j;W=J*P+e-v*I;w=J*P+e-v*j}if(Q<0){var B=Y;Y=O;O=B;B=W;W=-w;w=-B}}if(R=="warpArcLower"){if(T==1||T==2){O=T==1?-o*j:o*j;
w=Q<0?e-Z:e+Z}}if(R=="warpArcUpper"||R=="warpArch"||R=="warpBulge"){if(T==1||T==2){Y=T==1?-o*j:o*j;W=Q<0?-e+Z:-e-Z}if(R=="warpArch"){O=Y;
w=W+2*e}if(R=="warpBulge"){O=Y;w=-W}}if(R=="warpFish"||R=="warpFlag"||R=="warpWave"){if(T==1){W-=Q*4*e;
w+=Q*4*e}if(T==2){W+=Q*4*e;w-=Q*4*e}if(R=="warpFlag"||R=="warpWave")W=w-2*e}if(R=="warpRise"){if(T<2)W=-e+Q*e*4;
w=W+2*e}var s=(D+e)/a.T;k=Y+s*(O-Y);D=W+s*(w-W);if(R=="warpWave"){if(K==0)D=-e;if(K==3)D=e;if(K==1||K==2)D=2*e*(K/3-.5)*(1/3)+D*(2/3)}if(R=="warpFisheye"){if((K==1||K==2)&&(T==1||T==2)){k=k+4*k*Q;
D=D+4*D*Q}}if(R=="warpInflate"){var q=2/3;if((K==1||K==2)&&(T==1||T==2)){k=k+.5*k*Q;D=D+.5*D*Q}else if(K==1||K==2)k=k+q*k*Q;
else if(T==1||T==2)D=D+q*D*Q}if(R=="warpSqueeze"){var q=2/3;if((K==1||K==2)&&(T==1||T==2)){if(Q>0)k=k-q*k*Q;
else D=D+q*D*Q}else if(K==1||K==2)k=k-q*k*Q;else if(T==1||T==2)D=D+q*D*Q}if(R=="warpTwist"){if((K==1||K==2)&&(T==1||T==2)){var F=Q*Math.PI/2,U=1+Math.abs(Q)*2,b=k*Math.cos(F)-D*Math.sin(F),G=k*Math.sin(F)+D*Math.cos(F);
k=b*U;D=G*U}}if(R=="warpShellLower"||R=="warpShellUpper"){if(R=="warpShellUpper"){K=3-K;D=-D}if(K>2||K==2&&(T==0||T==3)){if(Q>0){var u=j+K/3*2*e;
k=Math.sin(f)*u;D=-J*P-e+Math.cos(f)*u;if(T==1||T==2){k=T==1?-o*u:o*u;D=-J*P-e+v*u}}else{if((T==1||T==2)&&K==3){k=T==1?-o*j:o*j;
D=J*P-v*j+e}else if(K==2){D=e-e*(2/3)*Math.cos(f);k=k+e*(2/3)*Math.sin(f)}}}if(R=="warpShellUpper"){K=3-K;
D=-D}}k+=P;D+=e}y=k,E=D;p[d]=y+a.x;p[d+1]=E+a.y}}};S.KF.SKm=function(p,a,R){var Q=[];for(var t=0;t<4;
t++)Q.push(1-R+t/3*2*R);var N=[];for(var t=0;t<4;t++)N.push(1-a+t/3*2*a);var K=[0,0,0,0],T=[0,0,0,0];
for(var d=0;d<4;d++)for(var t=0;t<4;t++){var y=2*(4*d+t),E=p[y],k=p[y+1];K[t]+=E/4;T[t]+=k/4}for(var d=0;
d<4;d++)for(var t=0;t<4;t++){var D=Q[t],y=2*(4*d+t),E=p[y],k=p[y+1],P=K[t],e=T[t];p[y]=P+D*(E-P);p[y+1]=e+D*(k-e)}var Y=p.slice(0);
for(var d=0;d<4;d++)for(var t=1;t<3;t++){var y=2*(4*d+t),E=p[y],k=p[y+1],O=y+(t==1?-2:2),W=p[O],w=p[O+1];
p[y]=E-W;p[y+1]=k-w}var g=p[0],J=p[1],U=p[8],H=p[9],f=p[16],j=p[17],I=p[24],L=p[25],C=p[6],v=p[7],o=p[14],Z=p[15],B=p[22],s=p[23],q=p[30],F=p[31],b=C-g,G=v-J,u=o-U,h=Z-H,z=B-f,r=s-j,i=q-I,gg=F-L;
for(var d=0;d<4;d++){var gC=2*d*4,gd=0,gY=0,gN=d==1?.33:.66,gS=1-gN;if(d==0){gd=b;gY=G}if(d==1){gd=gS*b+gN*-i;
gY=gS*G+gN*-gg}if(d==2){gd=gS*b+gN*-i;gY=gS*G+gN*-gg}if(d==3){gd=-i;gY=-gg}p[gC]=p[gC]+gd/2;p[gC+1]=p[gC+1]+gY/2;
p[gC+6]=p[gC+6]-gd/2;p[gC+7]=p[gC+7]-gY/2}for(var d=0;d<4;d++)for(var t=1;t<3;t++){var y=2*(4*d+t),E=p[y],k=p[y+1],O=y+(t==1?-2:2),W=p[O],w=p[O+1],D=2*d/3;
p[y]=W+D*E;p[y+1]=w+D*k}for(var d=1;d<3;d++)for(var t=1;t<3;t++){var y=2*(4*d+t),E=p[y],k=p[y+1],M=d==1?-8:-16,Cj=d==1?16:8,gs=p[y+M],gl=p[y+M+1],gR=p[y+Cj],ge=p[y+Cj+1],D=d/3;
E=(1-D)*gs+D*gR;k=(1-D)*gl+D*ge;p[y]=E;p[y+1]=k}S.s.Ra(Y,p,p,a)};S.KF.SCl=function(p,a){return(4-p)*(1/3)};
S.KF.SCX=function(p,a){return(1-p)*(3-p)/(3*a)};S.Xp={};S.Xp.vH=function(p,a,R,Q,t,N,K,T,d,y){var E=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],k=1/d,D=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],P=new Uint32Array(6);
for(var e=0;e<T;e++){for(var Y=0;Y<K;Y++){var O=3*(e*K+Y),W=e+N,w=Y+t;P[0]=0;P[1]=0;P[2]=0;P[3]=0;P[4]=0;
P[5]=0;for(var g=0;g<16;g+=2){var J=w+D[g],U=W+D[g+1],H=J-d*~~(J*k),f=U-d*~~(U*k),j=y[f*d+H];P[j]+=p[U*a+J];
P[j+3]++}var J=w,U=W,H=J-d*~~(J*k),f=U-d*~~(U*k),j=y[f*d+H];P[j]=p[W*a+w];P[j+3]=1;Q[O]=P[0]*E[P[3]];
Q[O+1]=P[1]*E[P[4]];Q[O+2]=P[2]*E[P[5]]}}};S.Xp.Yt=function(p,a,R){for(var Q=0;Q<R;Q+=2)p[a+Q]=p[a+Q+1];
a=a+R;for(var Q=0;Q<R;Q+=2)p[a+Q+1]=p[a+Q]};S.Xp.rF=function(p,a,R,Q){for(var t=0;t<Q;t+=2){var N=a+t*R;
p[N]=p[N+R];p[N+R+1]=p[N+1]}};S.Xp.rx=function(p,a,R,Q,t,N){var K=Q[t],T=Q[t+1],d=Q[N],y=Q[N+1],E=T+d>>>1;
p[a]=p[a+3]=p[R]=p[R+3]=K;p[a+1]=E;p[a+4]=T;p[R+1]=d;p[R+4]=E;p[a+2]=p[a+5]=p[R+2]=p[R+5]=y};S.Xp.SCV=function(p,a,R,Q,t,N){var K=N*3;
for(var T=0;T<N;T+=2){var d=a+T,y=t+T*3;S.Xp.rx(Q,y,y+K,p,d,d+R)}};S.Xp.Sgx=function(p,a,R,Q,t,N,K){var T=N*3;
for(var d=0;d<K;d+=2){var y=a+d*R,E=t+d*N*3;S.Xp.rx(Q,E,E+T,p,y,y+R)}};S.Xp.rn=function(p,a,R){var Q=p[a-R-R],t=p[a-R],N=p[a-2],K=p[a-1],T=p[a],d=p[a+1],y=p[a+2],E=p[a+R],k=p[a+R+R],D=Math.abs(t-E),P=Math.abs(K-d),e=Math.abs(T-Q)*2+D,Y=Math.abs(T-y)*2+P,O=Math.abs(T-N)*2+P,W=Math.abs(T-k)*2+D,w=Math.min(e,Math.min(Y,Math.min(O,W)));
if(w==e)return t*3+E+T-Q>>2;if(w==Y)return d*3+K+T-y>>2;if(w==O)return K*3+d+T-N>>2;return E*3+t+T-k>>2};
S.Xp.hq=function(p,a,R,Q,t){if(p<a&&a<R||p>a&&a>R)return~~(.5+Q+(t-Q)*(a-p)/(R-p));else return(Q+t>>1)+(a+a-p-R>>2)};
S.Xp.ls=function(p,a,R,Q){var t=a[R-Q-1],N=a[R-Q+1],K=a[R],T=a[R+Q-1],d=a[R+Q+1],y=p[R-Q-1],E=p[R-Q+1],k=p[R],D=p[R+Q-1],P=p[R+Q+1],e=Math.abs(E-D)+Math.abs(p[R-Q-Q+2]-k)+Math.abs(k-p[R+Q+Q-2])+Math.abs(N-K)+Math.abs(K-T),Y=Math.abs(y-P)+Math.abs(p[R-Q-Q-2]-k)+Math.abs(k-p[R+Q+Q+2])+Math.abs(t-K)+Math.abs(K-d);
if(e<Y)return S.Xp.hq(N,K,T,E,D);else return S.Xp.hq(t,K,d,y,P)};S.Xp.vu=function(p,a,R,Q,t,N){p[a+0]=R[t];
p[a+1]=Q[t];p[a+2]=S.Xp.ls(R,Q,t,N)};S.Xp.vP=function(p,a,R,Q,t,N){var K=Q[t];p[a+0]=S.Xp.hq(Q[t-1],K,Q[t+1],R[t-1],R[t+1]);
p[a+1]=K;p[a+2]=S.Xp.hq(Q[t-N],K,Q[t+N],R[t-N],R[t+N])};S.Xp.vV=function(p,a,R,Q,t,N){var K=Q[t];p[a+0]=S.Xp.hq(Q[t-N],K,Q[t+N],R[t-N],R[t+N]);
p[a+1]=K;p[a+2]=S.Xp.hq(Q[t-1],K,Q[t+1],R[t-1],R[t+1])};S.Xp.vc=function(p,a,R,Q,t,N){p[a+0]=S.Xp.ls(R,Q,t,N);
p[a+1]=Q[t];p[a+2]=R[t]};S.Xp.Sgi=function(p,a,R,Q,t,N,K,T,d){var y=Date.now(),E=2,k=a-2,D=2;if((t&1)==1){E++;
k--}var P=R-2;if((N&1)==1){D++;P--}if(d==1||d==3){E++;k--}var e=p.slice(0);S.Xp.Yt(e,0,a);S.Xp.rF(e,0,a,R);
S.Xp.rF(e,a-2,a,R);S.Xp.Yt(e,(R-2)*a,a);for(var Y=D;Y<P;Y+=2)for(var O=E;O<k;O+=2){var W=Y*a+O,w=S.Xp.rn(e,W,a),g=S.Xp.rn(e,W+a+1,a);
e[W]=Math.max(0,w);e[W+a+1]=Math.max(0,g)}var J=K,U=T;if(N+T==R){U-=2;S.Xp.SCV(p,(R-2)*a+t,a,Q,(T-2)*K*3,K)}if(t+K==a){J-=2;
S.Xp.Sgx(p,N*a+t+K-2,a,Q,(K-2)*3,K,T)}if(d==0)for(var Y=0;Y<U;Y+=2)for(var O=0;O<J;O+=2){var H=(Y+N)*a+O+t,f=(Y*K+O)*3;
S.Xp.vu(Q,f,p,e,H,a);S.Xp.vP(Q,f+3,p,e,H+1,a);H+=a;f+=3*K;S.Xp.vV(Q,f,p,e,H,a);S.Xp.vc(Q,f+3,p,e,H+1,a)}else if(d==1)for(var Y=0;
Y<U;Y+=2)for(var O=0;O<J;O+=2){var H=(Y+N)*a+O+t,f=(Y*K+O)*3;S.Xp.vP(Q,f,p,e,H,a);S.Xp.vu(Q,f+3,p,e,H+1,a);
H+=a;f+=3*K;S.Xp.vc(Q,f,p,e,H,a);S.Xp.vV(Q,f+3,p,e,H+1,a)}else if(d==2)for(var Y=0;Y<U;Y+=2)for(var O=0;
O<J;O+=2){var H=(Y+N)*a+O+t,f=(Y*K+O)*3;S.Xp.vc(Q,f,p,e,H,a);S.Xp.vV(Q,f+3,p,e,H+1,a);H+=a;f+=3*K;S.Xp.vP(Q,f,p,e,H,a);
S.Xp.vu(Q,f+3,p,e,H+1,a)}else if(d==3)for(var Y=0;Y<U;Y+=2)for(var O=0;O<J;O+=2){var H=(Y+N)*a+O+t,f=(Y*K+O)*3;
S.Xp.vV(Q,f,p,e,H,a);S.Xp.vc(Q,f+3,p,e,H+1,a);H+=a;f+=3*K;S.Xp.vu(Q,f,p,e,H,a);S.Xp.vP(Q,f+3,p,e,H+1,a)}};
S.raw={};S.raw.Sgy=function(p){var a=p.width,R=p.height,Q=Date.now(),t=S.raw.Sgv(p),N=0,K=0;S.raw.IO(2,p,t,a,R);
var T=a,d=R;if(p.t50829){var y=p.t50829;N=y[1];K=y[0];T=y[3];d=y[2]}if(p.t50719){var E=p.t50719;N+=E[0]>>1<<1;
K+=E[1]>>1<<1}if(p.t50720){var k=p.t50720;T=N+k[0];d=K+k[1]}var D=T-N,P=d-K,e=new Float32Array(D*P*3);
if(p.t277[0]==1){var Y=p.t33421;if(Y.length!=2||Y[0]!=2||Y[1]!=2){console.log("Unknown CFA pattern size",Y);
S.Xp.vH(t,a,R,e,N,K,D,P,Y[0],p.t33422)}else{var O=p.t33422.join(","),W=0;if(O=="0,1,1,2")W=0;else if(O=="1,0,2,1")W=1;
else if(O=="2,1,1,0")W=2;else if(O=="1,2,0,1")W=3;else throw"Unknown CFA pattern "+O;if((D&1)!=0||(P&1)!=0)throw"e";
S.Xp.Sgi(t,a,R,e,N,K,D,P,W)}}else{for(var w=0;w<P;w++)for(var g=0;g<D;g++){var J=((w+K)*a+g+N)*3,U=(w*D+g)*3;
e[U+0]=t[J+0];e[U+1]=t[J+1];e[U+2]=t[J+2]}}var H=e,f=e.length,j=S.raw.SgJ(p),I=1/j;for(var L=0;L<f;L+=3){e[L]=Math.min(1,H[L]*I);
e[L+1]=Math.min(1,H[L+1]*I);e[L+2]=Math.min(1,H[L+2]*I)}S.raw.IO(3,p,e,D,P);var C=p.fd,v=D,o=P;if(C==1||C==9){}else{var Z=S.raw.l$(C,D,P),U=0;
v=Z[0];o=Z[1];var B=e.slice(0);for(var w=0;w<o;w++)for(var g=0;g<v;g++){var s=Z[2]*g+Z[3]*w+Z[4],q=Z[5]*g+Z[6]*w+Z[7],J=(q*D+s)*3;
e[U]=B[J];e[U+1]=B[J+1];e[U+2]=B[J+2];U+=3}}return{Yz:e,YS:v,YN:o}};S.raw.l$=function(p,a,R){var Q=a,t=R;
if(p==3)return[a,R,-1,0,a-1,0,-1,R-1];else if(p==6)return[R,a,0,1,0,-1,0,R-1];else if(p==8)return[R,a,0,-1,a-1,1,0,0];
else throw"unknown orientation "+p};S.raw.Iy=function(p,a,R,Q){var t=p.Yz,N=Math.round(t.length/3),K=CE.SpV(Q[0],Q[1]),T=S.raw.SNE(R,K),d=S.MA.multiply(S.MA.Rf,T),y=Math.pow(2,Q[2]+(R.t50730?R.t50730[0]:0));
d=S.MA.multiply(d,S.MA.dH(y,y,y));var E=R.t50728,k=[E[1]/E[0],E[2]/E[0],E[0]/E[1],E[2]/E[1],E[0]/E[2],E[1]/E[2]],D=new Float64Array(1e3);
for(var P=0;P<1e3;P++){var e=P*(1/999);e=P==999?1:S.lt(P*(1/999));e=S.raw.PG.Sgo(e,Q[3]/100);D[P]=e}var Y=Date.now();
for(var P=0;P<N;P++){var O=P<<2,W=O-P,w=t[W],g=t[W+1],J=t[W+2];if(g>=.92){var U=Math.min(w,J);if(U==w){g=Math.max(g,k[0]*w);
J=Math.max(J,k[1]*w)}else{w=Math.max(w,k[4]*J);g=Math.max(g,k[5]*J)}}var H=d[0]*w+d[1]*g+d[2]*J,f=d[4]*w+d[5]*g+d[6]*J,j=d[8]*w+d[9]*g+d[10]*J;
if(H<0)H=0;else if(H>1)H=1;if(f<0)f=0;else if(f>1)f=1;if(j<0)j=0;else if(j>1)j=1;H=D[~~(H*999)];f=D[~~(f*999)];
j=D[~~(j*999)];a[O]=~~(.5+H*255);a[O+1]=~~(.5+f*255);a[O+2]=~~(.5+j*255)}};S.raw.PG={Sgo:function(p,a){var R=.5-.5*Math.cos(p*3.2),Q=0;
if(a>0){var t=p*.2;Q=t*p+(1-t)*R}else{var N=Math.pow(p,.33);Q=(1-N)*N+N*(p+(p-R)*.63)}var K=Math.abs(a);
return K*Q+(1-K)*p},SBQ:function(p,a){var R=0;if(a>0){var Q=p*1.47,t=Math.pow(p,2.4);R=Math.min(1,t*p+(1-t)*Q)}else{var Q=p*.68,t=Math.pow(p,3);
R=t*p*.5+(1-t)*Q}var N=Math.abs(a);return N*R+(1-N)*p},SBw:function(p,a){var R=0;if(a>0){var Q=Math.pow(p,.3),t=p;
R=(1-p)*Q+p*t}else{var Q=Math.pow(p,2.5),N=p,t=p;R=Math.min(1,(1-N)*Q+N*t)}var K=Math.abs(a);return K*R+(1-K)*p}};
S.raw.Sgv=function(p){var a=p.width,R=p.height,Q=a*R*p.t277,t=new Uint16Array(Q),N=null,K=0;S.raw.SNQ(p,t);
S.raw.IO(1,p,t,a,R);if(p.t50712){N=p.t50712;K=N.length-1;if(N[K]>65535)throw"too big values"}var T=S.raw.lM(p),d=S.raw.sI(p);
if(N==null)for(var y=0;y<Q;y++)t[y]=Math.max(0,t[y]-T);else for(var y=0;y<Q;y++){var E=t[y];if(E>K)E=K;
E=N[E];t[y]=Math.max(0,E-T)}return t};S.raw.lM=function(p){var a=p.t50714,R=a?a[0]:0,Q=p.t50715,t=p.t50716;
if(Q)R+=Q[0];if(t)R+=t[0];return Math.round(R)};S.raw.sI=function(p){var a=null,R=0;if(p.t50712){a=p.t50712;
R=a.length-1}var Q=p.t50717[0];if(a)Q=Math.min(Q,a[R]);return Q};S.raw.SgJ=function(p){var a=S.raw.lM(p),R=S.raw.sI(p);
return R-a};S.raw.SNQ=function(p,a){var R=a.length,Q=p.data,t=p.t258[0];if(t!=16&&t!=14&&t!=12&&t!=10&&t!=8)throw"Unsupported Bits Per Sample:"+t;
t=Math.round(Q.length*8/R);if(t==16&&p.isLE){S.$M(Q,a);return}for(var N=0;N<R;N+=2){var K=0,T=0,d=0;
if(t==16){K=N<<1;T=Q[K]<<8|Q[K+1];d=Q[K+2]<<8|Q[K+3]}else if(t==14){var y=N*14,E=y>>>3,k=Q[E]<<24|Q[E+1]<<16|Q[E+2]<<8|Q[E+3];
if((y&7)==0){T=k>>>18;d=k>>>4&16383}else{T=k>>>14&16383;d=k&16383}}else if(t==12){K=N+(N>>>1);T=Q[K]<<4|Q[K+1]>>4;
d=(Q[K+1]&15)<<8|Q[K+2]}else if(t==10){var y=N*10,E=y>>>3;if((y&7)==0){T=(Q[E]<<2|Q[E+1]>>6)&1023;d=(Q[E+1]<<4|Q[E+2]>>4)&1023}else{T=(Q[E]<<6|Q[E+1]>>2)&1023;
d=(Q[E+1]<<8|Q[E+2]>>0)&1023}}else if(t==8){K=N;T=Q[K];d=Q[K+1]}a[N]=T;a[N+1]=d}};S.raw.IO=function(p,a,R,Q,t){var N=a["t"+[51008,51009,51022][p-1]],E=0;
if(N==null)return;var K=Q*t,T=A.m,d=A.zT,y=new Uint8Array(N),k=A.m(y,E);E+=4;for(var D=0;D<k;D++){var P=T(y,E);
E+=4;var e=T(y,E);E+=4;var Y=T(y,E);E+=4;var O=T(y,E);E+=4;if(!1){}else if(P==1&&p==3){var W=E,w=T(y,W);
W+=4;var g=d(y,W);W+=8;var J=d(y,W);W+=8;var U=d(y,W);W+=8;var H=d(y,W);W+=8;var f=d(y,W);W+=8;var j=d(y,W);
W+=8;W+=(w-1)*8*6;var I=d(y,W);W+=8;var L=d(y,W);W+=8;var C=I*Q,v=L*t,o=Math.max(C,Q-C),Z=Math.max(v,t-v),B=Math.sqrt(o*o+Z*Z),s=1/B,q=R.slice(0);
for(var F=0;F<t;F++)for(var b=0;b<Q;b++){var G=(b+.5-C)*s,u=(F+.5-v)*s,h=G*G+u*u,z=g+J*h+U*(h*h)+H*(h*h)*h,r=f*(2*G*u)+j*(h+2*G*G),i=j*(2*G*u)+f*(h+2*u*u),gg=~~(C+B*(z*G+r)),gC=~~(v+B*(z*u+i)),gd=(gC*Q+gg)*3,gY=(F*Q+b)*3;
R[gY]=q[gd];R[gY+1]=q[gd+1];R[gY+2]=q[gd+2]}}else if(P==3&&p==3){var W=E,gN=d(y,W);W+=8;var gS=d(y,W);
W+=8;var M=d(y,W);W+=8;var Cj=d(y,W);W+=8;var gs=d(y,W);W+=8;var I=d(y,W);W+=8;var L=d(y,W);W+=8;var C=I*Q,v=L*t,o=Math.max(C,Q-C),Z=Math.max(v,t-v),B=Math.sqrt(o*o+Z*Z),s=1/B;
for(var F=0;F<t;F++)for(var b=0;b<Q;b++){var G=(b+.5-C)*s,u=(F+.5-v)*s,h=G*G+u*u,gl=1+(gN+(gS+(M+(Cj+gs*h)*h)*h)*h)*h,gY=(F*Q+b)*3;
R[gY]=gl*R[gY];R[gY+1]=gl*R[gY+1];R[gY+2]=gl*R[gY+2]}}else if(P==4&&p==1){var W=E,gR=T(y,W);W+=4;var ge=T(y,W);
W+=4;for(var So=0;So<K;So++)if(R[So]==gR)R[So]=R[So-2]+R[So+2]>>1}else if(P==5&&p==1){var W=E,gq=T(y,W);
W+=4;var gH=T(y,W);W+=4;var gx=T(y,W);W+=4;for(var So=0;So<gH;So++){var g$=T(y,W);W+=4;var gy=T(y,W);
W+=4;var So=g$*Q+gy;R[So]=R[So-2]+R[So+2]>>1}}else if(P==7&&p==1){var W=E,SZ=A.mm(y,W);W+=16;var dU=T(y,W);
W+=4;var gz=T(y,W);W+=4;var gX=T(y,W),gJ=T(y,W+4);W+=8;var SR=T(y,W);W+=4;var gF=new Uint16Array(SR);
for(var So=0;So<SR;So++)gF[So]=A.rt(y,W+2*So);var gv=SZ.C,SU=SZ.T;for(var F=0;F<SU;F+=gX)for(var b=0;
b<gv;b+=gJ){var So=(SZ.y+F)*Q+(SZ.x+b);R[So]=gF[R[So]]}}else if(P==9&&p==2){var W=E,SZ=A.mm(y,W),go=!0;
W+=16;var dU=T(y,W);W+=4;var gz=T(y,W);W+=4;var gX=T(y,W),gJ=T(y,W+4);W+=8;var ga=T(y,W),Sg=T(y,W+4);
W+=8;var gO=d(y,W),SC=d(y,W+8);W+=16;var gk=d(y,W),Np=d(y,W+8);W+=16;var SO=T(y,W);W+=4;if(SO!=1)throw"more than one map plane";
var NZ=ga*Sg,gD=new Float32Array(NZ);for(var gI=0;gI<NZ;gI++)gD[gI]=A.jr(y,W+gI*4);for(var gI=0;gI<NZ;
gI++)if(gD[gI]!=1)go=!1;if(!go){var gv=SZ.C,SU=SZ.T,NS=.9999*(Sg-1)/gv,NK=.9999*(ga-1)/SU;for(var F=0;
F<SU;F+=gX)for(var b=0;b<gv;b+=gJ){var So=(SZ.y+F)*Q+(SZ.x+b),gP=b*NS,NX=F*NK,Nd=Math.floor(gP),Ni=Math.floor(NX),NH=gP-Nd,NE=NX-Ni,gY=Ni*Sg+Nd,NJ=gD[gY]*(1-NH)+gD[gY+1]*NH,Nl=gD[gY+Sg]*(1-NH)+gD[gY+1+Sg]*NH,NL=NJ*(1-NE)+Nl*NE;
R[So]=~~(R[So]*NL+.5)}}}else console.log("Unknown opcode "+P+" in OpcodeList"+p+". Length: "+O);E+=O}};
S.raw.SNE=function(p,a){var R=CE.RL(a),Q=S.raw.s$(p,a),t=S.MA.zw(Q),N=CE.SYZ(R,CE.RL(CE.SpG)),K=S.MA.multiply(N,t);
return K};S.raw.SpZ=function(p){var a=p.t50728.slice(0),Q=1;a.push(0);var R={x:.34567,y:.3585};do{var t=S.MA.zw(S.raw.s$(p,R)),N=S.MA.Oz(t,a),K=CE.Spn(N);
Q=Math.abs(R.x-K.x)+Math.abs(R.y-K.y);R=K}while(Q>1e-7);return R};S.raw.s$=function(p,a){var R=CE.Rz(a),Q=S.raw.Spo,t=p.t50779?p.t50779[0]:0,N=Q(p.t50721,p.t50722,p.t50778[0],t,R.wg),K=Q(p.t50723,p.t50724,p.t50778[0],t,R.wg);
K=K||[1,0,0,0,1,0,0,0,1];var T=p.t50727?[p.t50727[0],0,0,0,p.t50727[1],0,0,0,p.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return S.MA.multiply(S.MA.Gs(T),S.MA.multiply(S.MA.Gs(K),S.MA.Gs(N)))};S.raw.Spo=function(p,a,R,Q,t){if(!p&&!a){return null}else if(p&&!a){return p}else if(t<R){return p}else if(t>Q){return a}else{var N=(1/t-1/Q)/(1/R-1/Q),K=1-N,T=[];
for(var d=0;d<9;d++)T[d]=p[d]*N+a[d]*K;return T}};var CE={};CE.SpG={x:.34567,y:.3585};CE.sh=[{D:0,_s:.18006,Lr:.26352,GY:-.24341},{D:10,_s:.18066,Lr:.26589,GY:-.25479},{D:20,_s:.18133,Lr:.26846,GY:-.26876},{D:30,_s:.18208,Lr:.27119,GY:-.28539},{D:40,_s:.18293,Lr:.27407,GY:-.3047},{D:50,_s:.18388,Lr:.27709,GY:-.32675},{D:60,_s:.18494,Lr:.28021,GY:-.35156},{D:70,_s:.18611,Lr:.28342,GY:-.37915},{D:80,_s:.1874,Lr:.28668,GY:-.40955},{D:90,_s:.1888,Lr:.28997,GY:-.44278},{D:100,_s:.19032,Lr:.29326,GY:-.47888},{D:125,_s:.19462,Lr:.30141,GY:-.58204},{D:150,_s:.19962,Lr:.30921,GY:-.70471},{D:175,_s:.20525,Lr:.31647,GY:-.84901},{D:200,_s:.21142,Lr:.32312,GY:-1.0182},{D:225,_s:.21807,Lr:.32909,GY:-1.2168},{D:250,_s:.22511,Lr:.33439,GY:-1.4512},{D:275,_s:.23247,Lr:.33904,GY:-1.7298},{D:300,_s:.2401,Lr:.34308,GY:-2.0637},{D:325,_s:.24792,Lr:.34655,GY:-2.4681},{D:350,_s:.25591,Lr:.34951,GY:-2.9641},{D:375,_s:.264,Lr:.352,GY:-3.5814},{D:400,_s:.27218,Lr:.35407,GY:-4.3633},{D:425,_s:.28039,Lr:.35577,GY:-5.3762},{D:450,_s:.28863,Lr:.35714,GY:-6.7262},{D:475,_s:.29685,Lr:.35823,GY:-8.5955},{D:500,_s:.30505,Lr:.35907,GY:-11.324},{D:525,_s:.3132,Lr:.35968,GY:-15.628},{D:550,_s:.32129,Lr:.36011,GY:-23.325},{D:575,_s:.32931,Lr:.36038,GY:-40.77},{D:600,_s:.33724,Lr:.36051,GY:-116.45}];
CE.Rz=function(p){var a=CE.sh,R=2*p.x/(1.5-p.x+6*p.y),Q=3*p.y/(1.5-p.x+6*p.y),t=0,N=0,K=0;for(;K<31;
K++){t=Q-a[K].Lr-a[K].GY*(R-a[K]._s);if(K>0&&t<0){break}N=t}while(K>=a.length)K--;t/=Math.sqrt(1+a[K].GY*a[K].GY);
N/=Math.sqrt(1+a[K-1].GY*a[K-1].GY);var T=N/(N-t),d=1e6/((a[K].D-a[K-1].D)*T+a[K-1].D),y=R-((a[K]._s-a[K-1]._s)*T+a[K-1]._s),E=Q-((a[K].Lr-a[K-1].Lr)*T+a[K-1].Lr),k=Math.sqrt(1+a[K].GY*a[K].GY),D=1/k,P=a[K].GY/k,e=Math.sqrt(1+a[K-1].GY*a[K-1].GY),Y=1/e,O=a[K-1].GY/e,W=(D-Y)*T+Y,w=(P-O)*T+O,g=Math.sqrt(W*W+w*w);
W/=g;w/=g;var J=(y*W+E*w)*-3e3;return{wg:d,bu:J}};CE.SpV=function(p,a){var R=CE.sh,Q=1e6/p,t=1;for(;
t<31;t++){if(Q<R[t].D){break}}var N=(R[t].D-Q)/(R[t].D-R[t-1].D),K=(R[t-1]._s-R[t]._s)*N+R[t]._s,T=(R[t-1].Lr-R[t].Lr)*N+R[t].Lr,d=Math.sqrt(1+R[t].GY*R[t].GY),y=1/d,E=R[t].GY/d,k=Math.sqrt(1+R[t-1].GY*R[t-1].GY),D=1/k,P=R[t-1].GY/k,e=(D-y)*N+y,Y=(P-E)*N+E,O=Math.sqrt(e*e+Y*Y);
e/=O;Y/=O;K+=e*a/-3e3;T+=Y*a/-3e3;return{x:1.5*K/(K-4*T+2),y:T/(K-4*T+2)}};CE.Spn=function(p){var a=p[0]+p[1]+p[2];
return{x:p[0]/a,y:p[1]/a}};CE.RL=function(p){return{x:p.x/p.y,y:1,il:(1-p.x-p.y)/p.y}};CE.SYZ=function(p,a){var R=S.MA.Gs([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),Q=[p.x,p.y,p.il,0],t=[a.x,a.y,a.il,0];
Q=S.MA.Oz(R,Q);t=S.MA.Oz(R,t);var N=t[0]/Q[0],K=t[1]/Q[1],T=t[2]/Q[2],d=S.MA.Gs([N,0,0,0,K,0,0,0,T]),y=S.MA.zw(R);
return S.MA.multiply(S.MA.multiply(y,d),R)};S.raw.GB={};S.raw.Iv=function(p){p*=8;var a=[8,10,12,14,16];
for(var R in S.raw.JK){var Q=S.raw.JK[R];if(Q.length==4)continue;var t=Q[4],N=Q[5];for(var K=0;K<a.length;
K++)if(t*N*a[K]==p)return[R,a[K]]}var T=[[4e3,3e3]];for(var K=0;K<T.length;K++){var Q=T[K],t=Q[0],N=Q[1];
for(var K=0;K<a.length;K++)if(t*N*a[K]==p)return[Q,a[K]]}return null};S.raw.SYN=function(p){var p=new Uint8Array(p);
for(var a=0;a<p.length;a+=2){var R=p[a];p[a]=p[a+1];p[a+1]=R}var Q=S.raw.Iv(p.length),t=S.raw.JK[Q[0]];
if(t==null)t=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,Q[0][0],Q[0][1]];var N=t[4],K=t[5],T=Math.max(t[2],116),d={data:p,fd:1,width:N,height:K,t256:[N],t257:[K],t258:[Q[1]],t277:[1],t33421:[2,2],t33422:S.raw.Ig[t[1]],t50706:[1,2,0,0],t50714:[T,T,T,T],t50717:[t[3]],t50721:t[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var a=0;a<9;a++)d.t50721[a]/=1e4;return d};S.raw.Id=function(p){if(p==null||p.length==0||typeof p[0]=="number")return p;
var a=[];for(var R=0;R<p.length;R++)a[R]=p[R][1]==0?0:p[R][0]/p[R][1];return a};S.raw.Ig=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
S.raw.normalize=function(p,a){if(p.t50706!=null){var R=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Q=0;Q<R.length;Q++)if(p["t"+R[Q]]!=null)p["t"+R[Q]]=S.raw.Id(p["t"+R[Q]]);return}var t=p.t258[0],N=p.exifIFD,a=new Uint8Array(a);
p.t50706=[1,2,0,0];var K=p.t272[0].trim();if(K.indexOf(" ")==-1)K=p.t271[0].trim()+" "+K;p.t50708=[K];
var T=S.raw.JK,d=T[K.toLowerCase()];if(d==null)for(var y in T)if(K.toLowerCase().startsWith(y))d=T[y];
if(d==null)throw K;var E=d[2];p.t50714=[E,E,E,E];p.t50717=[d[3]];p.t50721=d[0].slice(0);for(var Q=0;
Q<9;Q++)p.t50721[Q]=p.t50721[Q]*(1/1e4);p.t50723=[1,0,0,0,1,0,0,0,1];if(p.t50728==null)p.t50728=[.35,1,.6];
p.t50778=[17];if(p.t271[0].startsWith("SONY")){var k=UTIF["_bin"+(p.isLE?"LE":"BE")],D=p.t28688,g;if(JSON.stringify(D)!="[8000,10400,12900,14100]")console.log(D);
if(D){var P=[0,0,0,0,0,4095],e=new Uint16Array(16385);for(var Q=0;Q<4;Q++){var Y=D[Q]>>>2;P[Q+1]=Y;if(Y>4095)throw"e"}for(var Q=0;
Q<16385;Q++)e[Q]=Q;for(var Q=0;Q<5;Q++)for(var O=P[Q]+1;O<=P[Q+1];O++)e[O]=e[O-1]+(1<<Q);var W=a.length*8<p.width*p.height*t;
if(W)p.t50712=e}else console.log("no curve");var w=p.dngPrvt;if(w){var J=w.t29184[0],U=w.t29185[0],H=(p.isLE?A.vk:A.m)(w.t29217,0),f=new Uint32Array(a.slice(J,J+(U&4294967292)).buffer),j=new Uint32Array(U>>>2);
S.raw.SYp(f,j,U>>>2,H);var I=new Uint8Array(J+U);I.set(new Uint8Array(j.buffer),J);var L=[];UTIF._readIFD(k,I,J,L,0,!1);
var C=L.pop(),v=C.t29458;p.t50728=[v[1]/v[0],1,v[1]/v[3]];p.t50730=[.5];var o=C.t29891;p.t50829=[o[1],o[0],o[3],o[2]]}else if(N.makerNote&&N.makerNote.t8208){var g=N.makerNote,Z=g.t8208,B=Z.length,s=0,q=new Uint8Array(256);
for(var Q=249;Q<256;Q++)q[Q]=Q;for(var Q=0;Q<249;Q++)q[Q*Q*Q%249]=Q;for(var Q=0;Q<B;Q++)Z[Q]=q[Z[Q]];
if(B==6604)s=612;else throw"e";var v=[];for(var Q=0;Q<3;Q++)v.push(A.tf(Z,s+Q*2));console.log(v);p.t50728=[v[1]/v[0],1,v[1]/v[2]]}else console.log("no white balance");
if(p.width*p.height*1.5==p.t279[0]){E=E>>>2;p.t50714=[E,E,E,E];p.t50717=[d[3]>>>2]}}else if(p.t271[0].startsWith("Canon")){var a=p.data,F=a.slice(0),b=p.t50752,G=[],h=0;
if(b==null||b[0]==0&&b[1]==0)G.push(p.width);else{for(var Q=0;Q<b[0];Q++)G.push(b[1]);G.push(b[2])}var u=p.width*2;
for(var z=0;z<G.length;z++){var r=G[z],i=2*h,gg=2*r;for(var gC=0;gC<p.height;gC+=2){var gd=gC*u+i,gY=p.height*i+(gC>>1)*gg*2;
for(var Q=0;Q<gg;Q++){a[gd+Q]=F[gY+Q];a[gd+Q+u]=F[gY+Q+gg]}}h+=r}var g=N.makerNote;if(g.t16385){var gN=g.t224,Cj=0;
if(gN){p.t50719=[gN[5],gN[6]];p.t50720=[gN[7]+1-gN[5],gN[8]+1-gN[6]]}var gS=g.t16385,M=gS.length;if(M==582)Cj=1;
else if(M==653)Cj=2;else if(M==796)Cj=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(M)!=-1)Cj=4;
else if(M==5120){Cj=5;gS=new Int16Array(gS.slice(0).buffer)}else if(M==1273||M==1275)Cj=6;else if([1312,1313,1316,1506].indexOf(M)!=-1)Cj=7;
else if([1560,1592,1353,1602].indexOf(M)!=-1)Cj=8;else throw"e"+M;var gs=gS[0],gl=[null,[25,166],[34,286],[63,196],[63],[71,gs==-4?333:264],[63,251],[63,gs==10?504:728],[63,326]],s=gl[Cj][0],gR=gl[Cj][1];
if(Cj==4){if(gS[0]==2)gR=231;else if(gS[0]==3)gR=231;else if(gS[0]==4)gR=231;else if(gS[0]==5)gR=231;
else if(gS[0]==6)gR=231;else if(gS[0]==7)gR=231;else if(gS[0]==9)gR=231;else throw"e"}p.t50728=[gS[s+1]/gS[s],1,gS[s+1]/gS[s+3]];
var E=gR==null?1024:gS[gR];p.t50714=[E,E,E,E]}else{p.t50728=[.4,1,.6]}}else if(p.t271[0].startsWith("NIKON")){var g=N.makerNote,ge=p.isLE?A.tf:A.eh,gy=0,SZ=0,SR,gk=0;
if(g.t61){var So=g.t61,gq=[];for(var Q=0;Q<4;Q++)gq[Q]=So[Q]/Math.pow(2,14-t);p.t50714=gq}if(g.t3585){var gH=g.t3585,Q=0,J=22;
while(J<gH.length&&Q!=-4){var gx=A.vk(gH,J);J+=4;J+=14;Q=A.vk(gH,J)-4;J+=4;if(gx==1990472198){if(gH[J]!=0)throw"Flip"}if(gx==1990472199){var g$=A.tf(gH,J);
if(g$==0)p.fd=1;else if(g$==270)p.fd=8;else throw"e "+g$}J+=Q}}if(g.t183){var dU=g.t183,gz=[];for(var Q=0;
Q<6;Q++)gz.push(ge(dU,16+Q*2));gy=gz[0];SZ=gz[1]}if(g.t3614){var gX=g.t3614;gy=A.vk(gX,8);SZ=A.vk(gX,12)}if(gy!=0){if(gy<SZ){var gJ=gy;
gy=SZ;SZ=gJ}var h=p.width-gy>>>1,gC=p.height-SZ>>>1;p.t50829=[gC,h,gC+SZ,h+gy]}if(g.t12){var gF=S.raw.Id(g.t12);
SR=[1/gF[0],1,1/gF[1]]}else if(g.t151){var gv=S.raw.SYc(g,151),SU=gv[0],ga=gv[1],Sg=gv[2];if(SU=="0100"&&ga>=80)throw"e";
else if(SU=="0103"&&ga>=26){var gO=[];for(var Q=0;Q<4;Q++)gO.push(ge(Sg,16+Q*2));SR=[gO[1]/gO[0],1,gO[3]/gO[2]]}else if(SU=="0204"&&ga>=564||SU=="0205"&&ga>=284){var J=SU=="0204"?6:14,gO=[];
for(var Q=0;Q<4;Q++)gO.push(ge(Sg,J+Q*2));SR=[gO[1]/gO[0],1,gO[1]/gO[3]]}else throw"e"}else console.log("no white balance info");
if(K=="NIKON D1")SR=[1,1,1];if(SR)p.t50728=SR;var SC=g.t150?g.t150:g.t140;if(SC){var Np=SC[gk++],SO=SC[gk++],gI;
if(Np==73||SO==88)gk+=2110;gk+=8;var NZ=1<<t&32767,gD=ge(SC,gk);gk+=2;var e=[];if(gD>1)gI=Math.floor(NZ/(gD-1));
if(Np==68&&SO==32&&gI>0){for(Q=0;Q<gD;Q++){e[Q*gI]=ge(SC,gk);gk+=2}for(Q=0;Q<NZ;Q++)e[Q]=Math.floor((e[Q-Q%gI]*(gI-Q%gI)+e[Q-Q%gI+gI]*(Q%gI))/gI)}else if(Np!=70&&gD<=16385){NZ=gD;
for(var Q=0;Q<gD;Q++)e[Q]=ge(SC,gk+2*Q);gk+=2*gD}if(e.length!=0)p.t50712=new Uint16Array(e)}}else if(K.startsWith("FujiFilm")){}else alert("Unknown camera "+K)};
S.raw.SYp=function(p,a,R,Q){if(0==R)return;var t=new Uint32Array(128),N=new Uint8Array(t.buffer),K=127,T=0,d=0;
for(var K=0;K<4;K++)t[K]=Q=(Q*15625>>>0)*3125+1>>>0;t[3]=t[3]<<1|(t[0]^t[2])>>>31;for(var K=4;K<127;
K++)t[K]=(t[K-4]^t[K-2])<<1|(t[K-3]^t[K-1])>>>31;for(var K=0;K<127;K++)t[K]=A.m(N,K*4);for(;R>0;R--){t[K&127]=t[K+1&127]^t[K+1+64&127];
var y=t[K&127],E=p[T];E^=y;a[d]=E;T++;d++;K++}};S.raw.SYs=function(p,a){var R=A.GG(a,0,4),Q=S.raw.Sls;
for(var t=0;t<Q.length;t++)if(Q[t][0]==p&&R.startsWith(Q[t][1])&&(Q[t][2]==0||Q[t][2]==a.length))return Q[t];
throw"e"};S.raw.SYu=function(p){if(p.t29==null)return[];var a=S.raw.Sle,R=S.raw.Slo,Q=p.t29[0],t=0,T=0;
for(var N=0;N<Q.length;N++){var K=Q.charCodeAt(N);t=t*10+(48<=K&&K<=57?K-48:K%10)}var d=p.t167[0];for(var N=0;
N<4;N++)T^=d>>>(N<<3)&255;var y=a[t&255],E=R[T&255];return[y,E,96]};S.raw.SYc=function(p,a){var R=p["t"+a],Q=R.length,t=S.raw.SYs(a,R),N=A.GG(R,0,4),K,T=t[4];
if(T==null)K=R.slice(4);else{K=new Uint8Array(Q-T);var d=S.raw.SYu(p),y=d[0],E=d[1],k=d[2];for(var D=0;
D<K.length;D++){E=E+y*k++&255;K[D]=R[T++]^E}}return[N,Q,K]};S.raw.Sls=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
S.raw.Sle=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
S.raw.Slo=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
S.raw.JK={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
S.fn={};S.fn.fn=function(p,a,R,Q,t){if(Q==null)Q=3;if(t==null)t==!0;var N=p.C,K=p.T,T=1/N,d=N*K,y=Date.now(),E=!1,k=S.fn.IP(R,N,K,255,128),D=S.fn.IP(R,N,K,0,128),KI=0;
if(E)console.log("extract contours",Date.now()-y);y=Date.now();var P=function(SO,NZ){var gD=SO<<2,gI=NZ<<2;
return a[gD]+a[gD+1]+a[gD+2]-(a[gI]+a[gI+1]+a[gI+2])};k.sort(P);D.sort(P);var e=S.p(d),Y=S.p(d),O=[],W=new Uint32Array(N*K);
W.fill(4294967295);for(var w=0;w<d;w++)if(R[w]==0)Y[w]=255;else if(R[w]==255)e[w]=255;else{W[w]=O.length;
O.push(w)}var g=k.length,J=D.length,U=O.length;function H(SO,NZ,gD,gI){var go=SO.length,NS=new Array(go*2);
for(var w=0;w<go;w++){var F=SO[w],b=~~(F*gI),G=F-b*gD,SC=F<<2;NS[w*2]=G<<16|b;NS[w*2+1]=NZ[SC]<<16|NZ[SC+1]<<8|NZ[SC+2]}return NS}var f=H(k,a,N,T),j=H(D,a,N,T),I=H(O,a,N,T);
if(E)console.log("Itemize",Date.now()-y,"Unknown:",U,g,J);y=Date.now();var L=S.style.IS(e,N,K,!0),C=S.style.IS(Y,N,K,!0),v=new Array(U),o=new Array(U),Z=new Array(U),B=new Array(U),s=new Array(U);
if(E)console.log("Dist transform",Date.now()-y);y=Date.now();var q=S.fn.Ly;for(var w=0;w<U;w++){var F=O[w],b=~~(F*T),G=F-b*N,u=L[F<<1],h=L[(F<<1)+1],z=Math.sqrt(u*u+h*h),r=C[F<<1],i=C[(F<<1)+1],gg=Math.sqrt(r*r+i*i);
v[w]=1/z;o[w]=1/gg;var gC=Math.floor(S.O.JQ(F*17)*g),gd=Math.floor(S.O.JQ(F*19)*J);Z[w]=gC;B[w]=gd;s[w]=q(I[w*2],I[w*2+1],f[gC*2],f[gC*2+1],j[gd*2],j[gd*2+1],v[w],o[w],1e9)}var gY=[-N-1,-N,-N+1,-1,1,N-1,N,N+1];
while(Math.floor(Math.max(g,J)*Math.pow(.5,KI))>1)KI++;for(var gN=0;gN<Q;gN++){var gS=0;for(var w=0;
w<U;w++){var F=O[w],b=~~(F*T),G=F-b*N,M=v[w],Cj=o[w],gs=I[w*2],gl=I[w*2+1],gR=s[w],gC=Z[w],gd=B[w],g$=1;
if(b!=0&&G!=0&&G!=N-1&&b!=K-1)for(var ge=0;ge<8;ge++){var So=W[F+gY[ge]];if(So==4294967295)continue;
var gq=Z[So],gH=B[So];if(gq==gC&&gH==gd)continue;var gx=q(gs,gl,f[gq*2],f[gq*2+1],j[gH*2],j[gH*2+1],M,Cj,gR);
if(gx<gR){gR=gx;gC=gq;gd=gH}}for(var gy=0;gy<KI;gy++){var SZ=~~(g*g$),dU=~~(J*g$);g$*=.5;var gz=S.O.JQ(F+gN*17+gy*31),gX=S.O.JQ(F+gN*29+gy*63),gJ=Math.max(0,gC-SZ),SR=Math.min(gC+SZ,g-1),gF=Math.max(0,gd-dU),gv=Math.min(gd+dU,J-1),gq=gJ+~~(gz*(SR-gJ)),gH=gF+~~(gX*(gv-gF)),gx=q(gs,gl,f[gq*2],f[gq*2+1],j[gH*2],j[gH*2+1],M,Cj,gR);
if(gx<gR){gR=gx;gC=gq;gd=gH}}s[w]=gR;Z[w]=gC;B[w]=gd;gS+=gR}}if(E)console.log(gS);if(E)console.log("iterations",Date.now()-y);
y=Date.now();var SU=R.slice(0);for(var w=0;w<U;w++){var ga=S.fn.alpha(I[w*2+1],f[Z[w]*2+1],j[B[w]*2+1]);
SU[O[w]]=~~(.5+255*ga)}SU=S.mx.SsZ(SU,a,new x(0,0,N,K),16,.01*.01);if(E)console.log("guided filter",Date.now()-y);
y=Date.now();if(t)for(var w=0;w<d;w++)if(R[w]==255||R[w]==0)SU[w]=R[w];var Sg=a.slice(0);for(var w=0;
w<U;w++){var gO=O[w],gC=k[Z[w]],gR=s[w],SC=gO<<2,gk=SU[gO],Np=(gk>=250?gO:gC)<<2;Sg[SC]=a[Np];Sg[SC+1]=a[Np+1];
Sg[SC+2]=a[Np+2]}S.RA(SU,Sg,3);if(E)console.log(Date.now()-y);y=Date.now();return Sg};S.fn.Ly=function(p,a,R,Q,t,N,K,T,d){var y=p>>>16,E=p&65535,k=y-(R>>>16),D=E-(R&65535),P=y-(t>>>16),e=E-(t&65535),Y=Math.sqrt(k*k+D*D)*K,O=Math.sqrt(P*P+e*e)*T;
if(Y+O>=d)return 1e9;var W=S.fn.SlU(a,Q,N);return W+Y+O};S.fn.SlU=function(p,a,R){var Q=p>>>16,t=p>>>8&255,N=p&255,K=a>>>16,T=a>>>8&255,d=a&255,y=R>>>16,E=R>>>8&255,k=R&255,D=S.fn.alpha(p,a,R),P=Q-(D*K+(1-D)*y),e=t-(D*T+(1-D)*E),Y=N-(D*d+(1-D)*k);
return Math.sqrt(P*P+e*e+Y*Y)};S.fn.alpha=function(p,a,R){var Q=p>>>16,t=p>>>8&255,N=p&255,K=a>>>16,T=a>>>8&255,d=a&255,y=R>>>16,E=R>>>8&255,k=R&255,D=K-y,P=T-E,e=d-k,Y=Q-y,O=t-E,W=N-k,w=D*D+P*P+e*e,g=w==0?.5:(Y*D+O*P+W*e)/w;
return Math.max(0,Math.min(1,g))};S.fn.SBA=function(p){};S.fn.IP=function(p,a,R,Q,t){var N=[],K=a-1,T=R-1;
for(var d=1;d<T;d++)for(var y=1;y<K;y++){var E=d*a+y;if(p[E]==Q&&(p[E-a-1]==t||p[E-a]==t||p[E-a+1]==t||(p[E-1]==t||p[E+1]==t)||(p[E+a-1]==t||p[E+a]==t||p[E+a+1]==t)))N.push(E)}return N};
S.mx={};S.mx.SBn=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=S.mx.ed,y=S.p(T*4),E;S.wp(y,4294967295);
var k=R,D=p,P=a,e=Q;S.RA(p,y,0);E=S.ML(y,R);E=S.ML(E.Yz,E.rect);k=E.rect;e=Q>>>2;console.log(k,e);D=S.p(k.u());
S.vh(E.Yz,D,0);S.RA(a,y,0);E=S.ML(y,R);E=S.ML(E.Yz,E.rect);P=S.p(k.u());S.vh(E.Yz,P,0);var Y=S.mx.Slb(D,P,k,e,t),O=Y[0],W=Y[1],w=new x(0,0,k.C*2,k.T*2);
O=d(O,k,w,!0);O=d(O,w,R,!0);W=d(W,k,w,!0);W=d(W,w,R,!0);var g=S.p(T);for(var J=0;J<T;J++)g[J]=Math.max(0,Math.min(255,Math.floor(.5+(O[J]*a[J]+255*W[J]))));
return g};S.mx.ed=function(p,a,R,Q){var t=R.C,N=R.T,K=a.C,T=a.T,d=S.mx.Fe,y=new Float32Array(t*N);for(var E=0;
E<T;E++){var k=(E+E)*t;for(var D=0;D<K;D++){if(!0||D==0||E==0||D==K-1||E==T-1)y[k]=y[k+1]=y[k+t]=y[k+t+1]=p[E*K+D];
else{y[k]=d(D+.25,E+.25,p,K,T);y[k+1]=d(D+.75,E+.25,p,K,T);y[k+t]=d(D+.25,E+.75,p,K,T);y[k+t+1]=d(D+.75,E+.75,p,K,T)}k+=2}}return y};
S.mx.Fe=function(p,a,R,Q,t){p-=.499999;a-=.499999;var N=Math.floor(p),K=Math.floor(a),T=K*Q+N,d=p-N,y=a-K,E=(1-y)*(1-d),k=(1-y)*d,D=y*(1-d),P=y*d;
if(R[T]==null||R[T+Q+1]==null){console.log(p,a,Q,t);throw"e"}return E*R[T+0]+k*R[T+1]+D*R[T+Q+0]+P*R[T+Q+1]};
S.mx.Slb=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=S.mx.er,y=S.mx.p,E=S.blur.ST,k=S.mx.IJ,a=d(a),p=d(p),D=y(T);
E(a,D,R,Q);var P=y(T);E(p,P,R,Q);var e=y(T);k(a,a,e);E(e,e,R,Q);var Y=y(T);k(a,p,Y);E(Y,Y,R,Q);var O=y(T),W=y(T);
for(var w=0;w<T;w++){var g=D[w],J=P[w],U=e[w]-g*g,H=Y[w]-g*J,f=H/(U+t),j=J-f*g;O[w]=f;W[w]=j}var I=y(T);
E(O,I,R,Q);var L=y(T);E(W,L,R,Q);return[I,L]};S.mx.SsZ=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=S.mx.ed,y=Date.now(),E=!1,k=R,D=p,P=a,e=Q;
k=new x(0,0,N>>>2,K>>>2);e=Q>>>2;D=S.mx.SsM(p,N,K);P=S.mx.SRN(a,N,K);if(E)console.log(Date.now()-y);
y=Date.now();var Y=S.mx.SRF(D,P,k,e,t),O=Y[0],W=Y[1],w=Y[2],g=Y[3];if(E)console.log(Date.now()-y);y=Date.now();
var J=S.p(T);for(var U=0;U<K;U++)for(var H=0;H<N;H++){var f=U*N+H,j=(U>>>2)*(N>>>2)+(H>>>2),I=f<<2,L=O[j]*a[I]+W[j]*a[I+1]+w[j]*a[I+2]+g[j]*255;
J[f]=Math.max(0,Math.min(255,~~(.5+L)))}if(E)console.log(Date.now()-y);y=Date.now();return J};S.mx.SsM=function(p,a,R){var Q=a>>>2,t=R>>>2,N=S.p(a*R);
for(var K=0;K<t;K++)for(var T=0;T<Q;T++)N[K*Q+T]=p[K*a+T<<2];return N};S.mx.SRN=function(p,a,R){var Q=a>>>2,t=R>>>2,N=S.p(a*R*4);
for(var K=0;K<t;K++)for(var T=0;T<Q;T++){var d=K*Q+T<<2,y=K*a+T<<4;N[d]=p[y];N[d+1]=p[y+1];N[d+2]=p[y+2];
N[d+3]=p[y+3]}return N};S.mx.SRF=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=S.mx.er,y=S.mx.p,E=S.blur.ST,k=S.mx.IJ,p=d(p),D=new S.LV(N*K);
S.Pi(a,D);var a=[d(D.D),d(D.X),d(D.N)],P=S.mx.SRO(p,a,R,Q,t),e=y(T);E(p,e,R,Q);var Y=y(T);k(a[0],p,Y);
E(Y,Y,R,Q);var O=y(T);k(a[1],p,O);E(O,O,R,Q);var W=y(T);k(a[2],p,W);E(W,W,R,Q);var w=y(T),g=y(T),J=y(T),U=y(T);
for(var H=0;H<T;H++){var f=e[H],j=P.wl[H],I=P.w$[H],L=P.wx[H],C=Y[H]-j*f,v=O[H]-I*f,o=W[H]-L*f;w[H]=P.Sin[H]*C+P.wy[H]*v+P.wU[H]*o;
g[H]=P.wy[H]*C+P.Syc[H]*v+P.wO[H]*o;J[H]=P.wU[H]*C+P.wO[H]*v+P.SoH[H]*o;U[H]=f-w[H]*j-g[H]*I-J[H]*L}E(w,w,R,Q);
E(g,g,R,Q);E(J,J,R,Q);E(U,U,R,Q);return[w,g,J,U]};S.mx.SRO=function(p,a,R,Q,t){var N=R.C,K=R.T,T=N*K,d=S.mx.p,y=S.blur.ST,E=S.mx.IJ,k={};
k.wl=d(T);y(a[0],k.wl,R,Q);k.w$=d(T);y(a[1],k.w$,R,Q);k.wx=d(T);y(a[2],k.wx,R,Q);var D=d(T);E(a[0],a[0],D);
y(D,D,R,Q);var P=d(T);E(a[0],a[1],P);y(P,P,R,Q);var e=d(T);E(a[0],a[2],e);y(e,e,R,Q);var Y=d(T);E(a[1],a[1],Y);
y(Y,Y,R,Q);var O=d(T);E(a[1],a[2],O);y(O,O,R,Q);var W=d(T);E(a[2],a[2],W);y(W,W,R,Q);k.Sin=D;k.wy=P;
k.wU=e;k.Syc=Y;k.wO=O;k.SoH=W;for(var w=0;w<T;w++){var g=k.wl[w],J=k.w$[w],U=k.wx[w],H=D[w]-g*g+t,f=P[w]-g*J,j=e[w]-g*U,I=Y[w]-J*J+t,L=O[w]-J*U,C=W[w]-U*U+t,v=I*C-L*L,o=L*j-f*C,Z=f*L-I*j,B=H*C-j*j,s=j*f-H*L,q=H*I-f*f,F=v*H+o*f+Z*j,b=1/F;
k.Sin[w]=v*b;k.wy[w]=o*b;k.wU[w]=Z*b;k.Syc[w]=B*b;k.wO[w]=s*b;k.SoH[w]=q*b}return k};S.mx.p=function(p){return new Float32Array(p)};
S.mx.er=function(p){var a=p.length,R=new Float32Array(a);for(var Q=0;Q<a;Q++)R[Q]=p[Q]*(1/255);return R};
S.mx.IJ=function(p,a,R){for(var Q=0;Q<p.length;Q++)R[Q]=p[Q]*a[Q]};S.Cv={};S.Cv.It=function(p,a,R,Q){var t=p[a]-R[Q],N=p[a+1]-R[Q+1],K=p[a+2]-R[Q+2];
return Math.sqrt(t*t+N*N+K*K)*(1/441.7)};S.Cv.getSelection=function(p,a,R){var Q=a*R,t=S.p(Q),N=!1,K=Math.round(R*.7),T=1,d=new Uint32Array(12),y=S.p(12);
for(var E=0;E<K;E++)for(var k=0;k<a;k++){if(k<T||E<T||k>a-T-1||E>R-T-1){var D=E*a+k,P=D<<2,e=0;if(E<T)e=4;
else if(k>a-T-1)e=8;d[e]+=p[P];d[e+1]+=p[P+1];d[e+2]+=p[P+2];d[e+3]++;t[D]=255}}for(var D=0;D<12;D+=4)for(var Y=0;
Y<3;Y++)y[D+Y]=d[D+Y]/d[D+3];var O=new Float32Array(Q);for(var D=0;D<Q;D++){var P=D*4,W=S.Cv.It(p,P,y,0),w=S.Cv.It(p,P,y,4),g=S.Cv.It(p,P,y,8),J=Math.max(W,Math.max(w,g));
O[D]=W+w+g-J}S.Cv.Ia(O);var U=Date.now(),H=new Float32Array(Q),f=[],j=S.p(Q);for(var D=0;D<3;D++){S.vh(p,j,D);
var I=new Uint16Array(Q);f.push(I);S.Cv.SRn(j,t,a,R,I)}if(N)console.log("MBD",Date.now()-U);U=Date.now();
for(var D=0;D<Q;D++)H[D]=f[0][D]+f[1][D]+f[2][D];S.Cv.Ia(H);for(var D=0;D<Q;D++)H[D]+=.4*O[D];var L=a>>>1,K=R>>>1,C=1/Math.sqrt(L*L+K*K);
for(var E=0;E<R;E++)for(var k=0;k<a;k++){var v=k-L,o=E-K,Z=1-Math.sqrt(v*v+o*o)*C;H[E*a+k]*=Z}if(N)console.log("Centeredness",Date.now()-U);
U=Date.now();for(var D=0;D<Q;D++)t[D]=H[D]*255;var B=Math.round(a/120),s=Math.round(B*.8);if(N)console.log(B,s);
S.eF.st(t,j,a,R,B,S.eF.sw,[]);t.set(j);if(N)console.log("erosion",Date.now()-U);U=Date.now();for(var D=0;
D<Q;D++)H[D]=t[D];S.Cv.Ia(H);var q=S.p(256);for(var D=0;D<256;D++)q[D]=256/(1+Math.exp(-20*(D/255-.5)));
for(var D=0;D<Q;D++){var F=~~(H[D]*255+.5);t[D]=q[F]}if(N)console.log("Simoid",Date.now()-U);U=Date.now();
return t};S.Cv.Ia=function(p){var a=p.length,R=0;for(var Q=0;Q<a;Q++)R=Math.max(R,p[Q]);var t=1/R;for(var Q=0;
Q<a;Q++)p[Q]=p[Q]*t};S.Cv.SRn=function(p,a,R,Q,t){var N=R*Q,K=p.slice(0),T=p.slice(0);for(var d=0;d<N;
d++)t[d]=a[d]==255?0:65535;S.Cv.ef(p,T,K,t,R,Q);S.Cv.Hd(p,T,K,t,R,Q);S.Cv.ef(p,T,K,t,R,Q);S.Cv.Hd(p,T,K,t,R,Q);
return t};S.Cv.ef=function(p,a,R,Q,t,N){for(var K=1;K<t;K++)S.Cv.FL(K,-1,p,a,R,Q);for(var T=1;T<N;T++){S.Cv.FL(T*t,-t,p,a,R,Q);
for(var K=1;K<t;K++){var d=T*t+K;S.Cv.FL(d,-1,p,a,R,Q);S.Cv.FL(d,-t,p,a,R,Q)}}};S.Cv.Hd=function(p,a,R,Q,t,N){for(var K=t-2;
K>=0;K--)S.Cv.FL(t*N-t+K,1,p,a,R,Q);for(var T=N-2;T>=0;T--){S.Cv.FL(T*t+t-1,t,p,a,R,Q);for(var K=t-2;
K>=0;K--){var d=T*t+K;S.Cv.FL(d,1,p,a,R,Q);S.Cv.FL(d,t,p,a,R,Q)}}};S.Cv.FL=function(p,a,R,Q,t,N){var K=p+a,T=R[p],d=Q[K],y=t[K];
if(d<T)d=T;else if(T<y)y=T;var E=d-y;if(N[K]!=65535&&E<N[p]){N[p]=E;Q[p]=d;t[p]=y}};S.ds={};S.ds.filter=function(p,a,R,Q){var t=a.C,N=a.T,K=t*N,T=Q[0],d=Q[1],y=Q[2],E=Q[3],k=Q[4],D=Q[5],P=Q[6],e=Date.now(),Y=new Float32Array(t*N*4);
S.ds.SIT(p,t,N,Y);var O=Math.ceil(T*Math.sqrt(-2*Math.log(.1))),W=new ArrayBuffer(K*4),w=new Float32Array(W),g=new Float32Array(K),J=new Float32Array(K);
for(var U=0;U<K;U++){var H=U*4;w[U]=Y[H];g[U]=Y[H+1];J[U]=Y[H+2]}S.blur.AC(w,w,a,O*1/2.4,2);S.blur.AC(g,g,a,O*1/2.4,2);
S.blur.AC(J,J,a,O*1/2.4,2);for(var U=0;U<K;U++){var H=U*4;Y[H]=w[U];Y[H+1]=g[U];Y[H+2]=J[U]}var f=new Uint8Array(W);
for(var U=0;U<K;U++){var H=U*4,j=U*4,w=Y[H],g=Y[H+1],J=Y[H+2],I=Math.sqrt((w-J)*(w-J)+4*g*g),L=(w+J+I)*.5,C=(w+J-I)*.5,v=C-J,o=g,Z=v*v+o*o;
if(Z!=0){var B=Math.sqrt(Z),s=1/B;v*=s;o*=s}f[j]=128+127*v;f[j+1]=128+127*o}var q=1.3*d+2,F=E*(2/10),b=p.slice();
if(_.KZ){var G=new Float32Array([1/t,1/N]),u=_.xK(0,t,N);u.set(b);var h=_.xK(1,t,N);h.set(f);_.UZ(u,a);
if(k){u.qw(a);_.filter.Qj({type:_.filter.BF,Wg:G,SxA:1/y,SiN:F},u.iG)}u.qw(a);_.filter.Qj({type:_.filter.Kh,wv:h.CD,Wg:G,SWY:q,SOY:2},u.iG);
if(k){u.qw(a);_.filter.Qj({type:_.filter.BM,Wg:G,SiY:new Float32Array(P),Si$:D},u.iG)}u.get(R)}else{if(k)S.ds.Ip(1/y,F,b,t,N);
S.ds.Kh(b,R,f,t,N,q);if(k)S.ds.SIR(t,N,R,P,D)}var z=K*4;for(var U=3;U<z;U+=4)R[U]=p[U]};S.ds.Kh=function(p,a,R,Q,t,N){var K=Math.ceil(2*N),T=-1/(2*N*N),d=[],y=1;
for(var E=0;E<K+20;E++)d[E]=Math.exp(E*E*T);var k=[0,0,0,0];for(var D=0;D<t;D++){for(var P=0;P<Q;P++){var e=D*Q+P,Y=e*4,O=1,W=p[Y],w=p[Y+1],g=p[Y+2],J=p[Y+3],U=(R[Y]-128)*(1/127),H=(R[Y+1]-128)*(1/127),f=U,j=H,I=P==0?.51:.49,L=D==0?.51:.49;
for(var E=0;E<2;E++){var C=P+I,v=D+L,o=0;while(o<K){if(C<.5||Q-.5<C||v<.5||t-.5<v)break;var Z=~~C,B=~~v,s=B*Q+Z,q=s*4,F=(R[q]-128)*(1/127),b=(R[q+1]-128)*(1/127);
if(F*f+b*j<0){F=-F;b=-b}f=F;j=b;C+=y*F;v+=y*b;if(C<.5||Q-.5<C||v<.5||t-.5<v)break;var G=~~C,u=~~v,h=u*Q+G<<2;
o+=y;var z=d[~~o];S.L.jT(C,v,p,Q,t,k);W+=k[0]*z;w+=k[1]*z;g+=k[2]*z;J+=k[3]*z;O+=z}f=-U;j=-H}var r=1/O;
a[Y]=~~(.5+W*r);a[Y+1]=~~(.5+w*r);a[Y+2]=~~(.5+g*r);a[Y+3]=~~(.5+J*r)}}};S.ds.SIR=function(p,a,R,Q,t){for(var N=0;
N<a;N++)for(var K=0;K<p;K++){var T=N*p+K<<2,d=1+S.ds.SIy(K,N,R,p,a,Q)*t;R[T]=Math.max(0,Math.min(255,R[T]*d));
R[T+1]=Math.max(0,Math.min(255,R[T+1]*d));R[T+2]=Math.max(0,Math.min(255,R[T+2]*d))}};S.ds.SIy=function(p,a,R,Q,t,N){var K=R[(a*Q+Math.max(0,p-1))*4+3],T=R[(a*Q+Math.min(Q-1,p+1))*4+3],d=R[(Math.max(0,a-1)*Q+p)*4+3],y=R[(Math.min(t-1,a+1)*Q+p)*4+3],E=.7,k=(T-K)*(1/255),D=.7,P=(y-d)*(1/255),e=-k*D,Y=-E*P,O=E*D,W=Math.sqrt(e*e+Y*Y+O*O),w=1/W,g=e*w,J=Y*w,U=O*w,H=N[0]*g+N[1]*J+N[2]*U;
return H};S.ds.Ip=function(p,a,R,Q,t){function N(T,y,E){return Math.max(y,Math.min(E,T))}for(var K=0;
K<t;K++)for(var T=0;T<Q;T++){var d=S.ds.SIJ(T+.5,K+.5,p,a);R[(K*Q+T)*4+3]=Math.max(0,Math.min(255,d*255))}};
S.ds.SIJ=function(p,a,R,Q){function t(j,I,L){return(1-L)*j+L*I}var N=(p+613)*R,K=(a+117)*R,T=~~N,d=~~K,y=N-T,E=K-d,k=Math.sin(11),D=Math.cos(T)*k,P=Math.cos(T+1)*k,e=Math.cos(d)*k,Y=Math.cos(d+1)*k,O=S.ds.hash(D,e),W=S.ds.hash(P,e),w=S.ds.hash(D,Y),g=S.ds.hash(P,Y),J=t(O,W,y),U=t(w,g,y),H=t(J,U,E);
H=H<.5?0:1;var f=H+Q*S.ds.hash(Math.cos(N)*k,Math.cos(K)*k);return f*(1/3)};S.ds.hash=function(p,a){var R=Math.sin(p*11.697096+a*73.32456)*12157.47691;
return R-Math.floor(R)};S.ds.SIT=function(p,a,R,Q){var t=[-1,0,1,-2,0,2,-1,0,1],N=[-1,-2,-1,0,0,0,1,2,1],K=a-1,T=R-1,d=a*4;
for(var y=1;y<T;y++)for(var E=1;E<K;E++){var k=y*a+E,D=k*4,P=S.ds.FR(p,D,d,t),e=S.ds.FR(p,D,d,N),Y=S.ds.FR(p,D+1,d,t),O=S.ds.FR(p,D+1,d,N),W=S.ds.FR(p,D+2,d,t),w=S.ds.FR(p,D+2,d,N);
Q[D]=P*P+Y*Y+W*W;Q[D+1]=P*e+Y*O+W*w;Q[D+2]=e*e+O*O+w*w}S.ds.SIP(Q,a,R)};S.ds.FR=function(p,a,R,Q){return p[a-R-4]*Q[0]+p[a-R]*Q[1]+p[a-R+4]*Q[2]+p[a-4]*Q[3]+p[a]*Q[4]+p[a+4]*Q[5]+p[a+R-4]*Q[6]+p[a+R]*Q[7]+p[a+R+4]*Q[8]};
S.ds.SIP=function(p,a,R){function Q(d,y,E){var k=y*4,D=E*4;d[D]=d[k];d[D+1]=d[k+1];d[D+2]=d[k+2]}var t=a-1,N=R-1;
Q(p,a+1,0);Q(p,2*a-2,a-1);for(var K=1;K<t;K++)Q(p,a+K,K);for(var T=1;T<N;T++){Q(p,T*a+1,T*a);Q(p,T*a+a-2,T*a+a-1)}for(var K=1;
K<t;K++)Q(p,(R-2)*a+K,(R-1)*a+K);Q(p,(T-2)*a+1,(T-1)*a);Q(p,(T-1)*a-2,T*a-1)};S.yS={};S.yS.IQ=function(p,a,R,Q){var t=p[a*2],N=p[a*2+1],K=p[R*2],T=p[R*2+1],d=p[Q*2],y=p[Q*2+1];
return t*T+K*y+d*N-d*T-K*N-t*y};S.yS.zK=function(p,a){var R=[],Q=[],t=[],N={};for(var K=0;K<a.length;
K+=3){var T=~~(K*(1/3)),d=a[K+0],y=a[K+1],E=a[K+2],k=S.yS.IQ(p,d,y,E);if(k>0){var D=y;y=E;E=D}var P=N[E+"-"+y],e=N[y+"-"+d],Y=N[d+"-"+E],O=[E,P,T,null],W=[y,e,T,O],w=[d,Y,T,W];
O[3]=w;if(P)P[1]=O;if(e)e[1]=W;if(Y)Y[1]=w;N[E+"-"+d]=w;N[d+"-"+y]=W;N[y+"-"+E]=O;R[d]=W;t[K]=W;R[y]=O;
t[K+1]=O;R[E]=w;t[K+2]=w;Q[T]=W}return{WN:R,Wr:Q,zd:t}};S.yS.SIV=function(p){var a=[],R=p.Wr;for(var Q=0;
Q<R.length;Q++){var t=R[Q];a.push(t[0]);t=t[3];a.push(t[0]);t=t[3];a.push(t[0])}return a};S.yS.Sed=function(p,a,R,Q){var t=p[a*2],N=p[a*2+1],K=p[R*2],T=p[R*2+1],d=p[Q*2],y=p[Q*2+1],E=K-t,k=T-N,D=d-t,P=y-N,e=E*(t+K)+k*(N+T),Y=D*(t+d)+P*(N+y),O=2*(E*(y-T)-k*(d-K));
if(Math.abs(O)<1e-5){var W=Math.min(t,K,d),w=Math.min(N,T,y),g=(Math.max(t,K,d)-W)*.5,J=(Math.max(N,T,y)-w)*.5;
return[W+g,w+J,g*g+J*J,1]}var U=(P*e-k*Y)/O,H=(E*Y-D*e)/O,g=U-t,J=H-N;return[U,H,g*g+J*J,0]};S.yS.SeI=function(p,a,R){var Q=R[1],t=R[3],N=t[3],K=Q[3],T=K[3],d=R[2],y=Q[2],E=R[0],k=Q[0],D=t[0],P=K[0],e=S.yS.Sed(p,k,P,D),Y=p[E*2]-e[0],O=p[E*2+1]-e[1],W=Y*Y+O*O>e[2]&&e[3]==0&&S.yS.IQ(p,P,E,D)<0&&S.yS.IQ(p,D,k,P)<0;
if(W){R[0]=D;Q[0]=P;R[3]=N;N[3]=K;K[3]=R;Q[3]=T;T[3]=t;t[3]=Q;t[2]=y;K[2]=d;a.Wr[y]=T;a.Wr[d]=N;a.WN[k]=K;
a.WN[E]=t}return W};S.yS.sX=function(p,a,R){var Q=p[a*2]-p[R*2],t=p[a*2+1]-p[R*2+1];return Math.sqrt(Q*Q+t*t)};
S.yS.Sea=function(p,a,R){var Q=R[1],t=R[3],N=t[3],K,T,d=R[2],y,E=R[0],k=N[0],D=t[0],P;if(Q){K=Q[3];T=K[3];
y=Q[2];P=K[0]}var e=p.length>>>1;p[2*e]=(p[2*k]+p[2*E])*.5;p[2*e+1]=(p[2*k+1]+p[2*E+1])*.5;if(!0){var Y=d,O=R,W=a.Wr.length,w=[e,null,Y,O],g=[D,w,W,N];
w[1]=g;var J=[e,null,W,g];t[3]=w;N[3]=J;N[2]=W;a.Wr[Y]=t;a.Wr[W]=J;a.WN[E]=t;a.WN[D]=N;a.zd.push(w,g,J)}if(Q){var U=y,H=Q,f=W+1;
J[1]=H,H[1]=J;var j=[e,null,U,H],I=[P,j,f,T];j[1]=I;var L=[e,O,f,I];O[1]=L;K[3]=j;T[3]=L;T[2]=f;a.Wr[U]=K;
a.Wr[f]=T;a.WN[k]=K;a.WN[P]=T;a.zd.push(j,I,L)}a.WN[e]=O};S.yS.zC=function(p,a){var R=0;while(!0){var Q=R;
for(var t=0;t<a.zd.length;t++){var N=a.zd[t];if(N[1]==null)continue;var K=S.yS.SeI(p,a,N);if(K){R++;
break}}if(Q==R)break}return R!=0};S.yS.SeQ=function(p,a,R,Q){var t=0;for(var N=0;N<Q;N++){var K=null,T=0;
for(var d=0;d<a.zd.length;d++){var y=a.zd[d],E=S.yS.sX(p,y[0],y[3][3][0])*(y[1]?1:2);if(E>T){K=y;T=E}}if(T>R){S.yS.Sea(p,a,K);
t++}}return t!=0};S.yS.SeP=function(p,a){var R=[],P=0;for(var Q=0;Q<p.length;Q++)R.push(0);for(var Q=0;
Q<a.zd.length;Q++){var t=a.zd[Q],N=t[0],K=t[3][3][0],T=p[N*2],d=p[N*2+1],y=p[K*2],E=p[K*2+1],k=T-y,D=d-E;
R[N*2]+=-k;R[N*2+1]+=-D;R[K*2]+=k;R[K*2+1]+=D}for(var Q=0;Q<p.length;Q+=2){var e=Q>>>1,Y=a.WN[e],t=Y,O=!0;
do{if(t[1]==null){O=!1;break}t=t[1][3]}while(t!=Y);if(O){var W=.02;p[Q]+=W*R[Q];p[Q+1]+=W*R[Q+1];P+=W*(R[Q]*R[Q]+R[Q+1]*R[Q+1])}}return P};
S.yS.SHZ=function(p,a,R){var Q=S.s.wh(p),t=S.yS.zK(p,a);S.yS.zC(p,t);for(var N=0;N<300;N++){var K=!1,T=!1;
K=S.yS.SeQ(p,t,R,5);if(K)T=S.yS.zC(p,t);var d=S.yS.SeP(p,t);if(!K&&!T&&d<1e-4){break}}return S.yS.SIV(t)};
S.GH={};S.GH.zL=function(p){var a=p.bP,R=p.zF,Q=p.eG,t=p.wD,N=p.YT,K=p.kr,T=p.rd,d=S.EF.Gp,g,J,U=0;function y(M){var Cj=new Array(M);
for(var Y=0;Y<M;Y++)Cj[Y]=0;return Cj}var E=R.length>>>1,k=y(a.wm*2),D=y(a.wm),P=y(a.wm),e=Date.now();
for(var Y=0;Y<p.iI.length;Y++){var O=a.Sii+Y,W=a.Xs*(K[Y*2]+T[Y*2]),w=a.Xs*(K[Y*2+1]+T[Y*2+1]);k[O*2]=W;
k[O*2+1]=w;D[O]=W;P[O]=w}a.Siy.Rn(t,a.Siu.Gp(k),.01,g,J);for(var Y=0;Y<a.SJw.zd.length;Y++){var H=a.SJw.zd[Y],f=H[3][3][0],j=H[0],I=H[3][0],L=H[1]?H[1][3][0]:I;
if(H[1]&&f>j)continue;var C=R[f*2],v=R[f*2+1],o=R[j*2],Z=R[j*2+1],B=t[f*2],s=t[f*2+1],q=t[j*2],F=t[j*2+1],b=t[I*2],G=t[I*2+1],u=t[L*2],h=t[L*2+1],z=[B,s,q,F,b,G];
if(H[1])z.push(u,h);var r=d(a.SiP[U],z),i=r[0],gg=r[1],gC=1/Math.sqrt(i*i+gg*gg);i*=gC;gg*=gC;var gd=o-C,gY=Z-v;
D[U]=i*gd+gg*gY;P[U]=-gg*gd+i*gY;U++}var gN=new Array(E),gS=new Array(E);for(var Y=0;Y<E;Y++){gN[Y]=N[Y*2];
gS[Y]=N[Y*2+1]}a.SJm.Rn(gN,a.Sdz.Gp(D),.5);a.SJm.Rn(gS,a.Sdz.Gp(P),.5);for(var Y=0;Y<E;Y++){N[Y*2]=gN[Y];
N[Y*2+1]=gS[Y]}};S.GH.zJ=function(p){var a=p.zF,R=p.eG,Q=p.iI,t=S.EF.multiply,N=Date.now(),K=S.yS.zK(a,R),T=a.length>>>1,d=0,Y=0,gg=1e3;
for(var y=0;y<K.zd.length;y++)d+=K.zd[y][1]?.5:1;var E=d+Q.length,k=[],D=new S.ol(E*2,T*2),P=new S.ol(E,T),e=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],O=[],W=[];
for(var y=0;y<K.zd.length;y++){var w=K.zd[y],g=w[3][3][0],J=w[0],U=w[3][0],H=w[1]?w[1][3][0]:U;if(w[1]&&g>J)continue;
var f=a[g*2],j=a[g*2+1],I=a[J*2],L=a[J*2+1],C=a[U*2],v=a[U*2+1],o=a[H*2],Z=a[H*2+1],B=[[f,j,1,0],[j,-f,0,1],[I,L,1,0],[L,-I,0,1],[C,v,1,0],[v,-C,0,1]];
if(w[1])B.push([o,Z,1,0],[Z,-o,0,1]);var s=S.EF.NJ(B),q=t(linear.invert(t(s,B)),s);q.pop();q.pop();k.push(q);
var F=I-f,b=L-j,G=e[w[1]?1:0];G=S.EF.Ai(G,t([[F,b],[b,-F]],q));var u=[g*2,g*2+1,J*2,J*2+1,U*2,U*2+1,H*2,H*2+1],h=w[1]?8:6,z=[];
for(var r=0;r<h;r++)z.push([u[r],G[0][r],G[1][r]]);z.sort(function(M,Cj){return M[0]-Cj[0]});for(var i=0;
i<2;i++){for(var r=0;r<h;r++){O[r]=z[r][0];W[r]=z[r][1+i]}D._c(W,O,h)}if(g<J)P._c([-1,1],[g,J],2);else P._c([1,-1],[J,g],2);
Y++}for(var y=0;y<Q.length;y++){var gC=Q[y];D._c([gg],[gC*2],1);D._c([gg],[gC*2+1],1);P._c([gg],[gC],1)}var gd=D.NJ(),gY=gd.R_(gd),gN=P.NJ(),gS=gN.R_(gN);
return{Sii:d,wm:E,Siu:gd,Siy:gY,Sdz:gN,SJm:gS,SJw:K,SiP:k,Xs:gg}};S.GH.SHN=function(p,a,R,Q,t){var N=new x(0,0,a,R),K=S.p(N.u());
S.vh(p,K,3);S.round(K,70);var T=S.Pv(K,N),d=[.1,.065,.035][Q]*Math.max(T.C,T.T),y=t+1,E=a+y*2,k=R+y*2,D=new x(-y,-y,E,k),P=S.p(D.u());
S.JG(K,N,P,D);var e=P.slice(0);for(var Y=0;Y<t;Y++){for(var O=1;O<k-1;O++){for(var W=1;W<E-1;W++){var w=O*E+W;
e[w]=P[w-E]|P[w-1]|P[w]|P[w+1]|P[w+E]}}var g=e;e=P;P=g}var J=pl.Iw(P,E,k,Math.round(T.u()*5e-4)),U=pl.h$(J),H=new gh(1,0,0,1,-y,-y);
for(var w=0;w<U.length;w++){var f=U[w];S.s.t(f.path.r,H,f.path.r);f.zF=S.GH.SHX(f.path);f.eG=S.s.SxQ(f.zF);
f.eG=S.yS.SHZ(f.zF,f.eG,d)}return U};S.GH.SHX=function(p){var a=[],R=p.r,Q=p.$.length-1,t=0,N=0;for(var K=0;
K<Q;K++){var T=K*6,d=R[T+6]-R[T+0],y=R[T+7]-R[T+1],E=Math.ceil(Math.sqrt(d*d+y*y));for(var k=0;k<E;k++){var D=k/E,P=1-D,e=P*P*P*R[T+0]+3*P*P*D*R[T+2]+3*P*D*D*R[T+4]+D*D*D*R[T+6],Y=P*P*P*R[T+1]+3*P*P*D*R[T+3]+3*P*D*D*R[T+5]+D*D*D*R[T+7];
a.push(e,Y);t=e;N=Y}}a=S.s.RG(a,1);var O=[],W=a.length;for(var T=0;T<W;T+=2){var Y=a.pop(),e=a.pop();
O.push(e,Y)}return O};S.GH.SHF=function(p,a,R,Q){function t(I,L,C,v,o){var Z=o[I*2]-o[L*2],B=o[I*2+1]-o[L*2+1],s=Math.sqrt(Z*Z+B*B);
if(C[I].indexOf(L)==-1){C[I].push(L);v[I].push(s)}if(C[L].indexOf(I)==-1){C[L].push(I);v[L].push(s)}}var N=p.length>>>1,K=new Array(N);
if(R.length==0){K.fill(0);return K}var T=new Array(N),d=new Array(N);for(var y=0;y<N;y++){T[y]=[];d[y]=[]}for(var y=0;
y<a.length;y+=3){t(a[y],a[y+1],T,d,p);t(a[y],a[y+2],T,d,p);t(a[y+1],a[y+2],T,d,p)}var E=new Float64Array(N*2),k=new Uint32Array(N*2);
E.fill(1e9);var D=new Uint8Array(N);for(var P=0;P<R.length;P++){D.fill(0);var e=["---",[0,R[P]]];while(e.length!=1){var Y=S.ck.SIs(e),O=Y[0],W=Y[1];
if(D[W]==1)continue;var w=W<<1;if(O<E[w]){E[w+1]=E[w];k[w+1]=k[w];E[w]=O;k[w]=P}else if(O<E[w+1]){E[w+1]=O;
k[w+1]=P}D[W]=1;var g=T[W],J=d[W];for(var y=0;y<g.length;y++){var U=g[y];if(D[U]!=1){S.ck.SIK(e,[O+J[y],U])}}}}for(var y=0;
y<N;y++){var w=y<<1,H=E[w],f=E[w+1],j=1/(H+f);K[y]=(1-H*j)*Q[k[w]]+(1-f*j)*Q[k[w+1]]}return K};S.GH.SqC=function(p){var a={$:[],r:[]},R=[p];
while(R.length!=0){var Q=R.pop(),t=Q.a_;if(Q.SiV instanceof Array||Q.SyN instanceof Array){a.$.push("M","L","L","L","Z");
a.r.push(t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3])}else R.push(Q.SiV,Q.SyN)}return a};S.GH.PX=function(p,a,R,Q,t,N,K){var T=R.C,d=R.T,y=Math.round(K.length/3),E=new Array(y);
for(var k=0;k<y;k++)E[k]=k;E.sort(function(P,e){return N[K[P*3]]-N[K[e*3]]});for(var k=0;k<y;k++){var D=E[k]*3;
S.GH.SHQ(K[D]*2,K[D+1]*2,K[D+2]*2,Q,t,p,a,T,d)}};S.GH.SHQ=function(p,a,R,Q,t,N,K,T,d){var y=S.GH.LN,E=[p,a,R,1.2,1.2,1.2,0],k=[0,0,0,0],D=t[p],P=t[p+1],e=t[a],Y=t[a+1],O=t[R],W=t[R+1],w=Math.max(0,Math.min(T-1,Q[p])),g=Math.max(0,Math.min(T-1,Q[a])),J=Math.max(0,Math.min(T-1,Q[R])),U=Math.max(0,Math.min(d-1,Q[p+1])),H=Math.max(0,Math.min(d-1,Q[a+1])),f=Math.max(0,Math.min(d-1,Q[R+1])),j=e-D,I=Y-P,L=O-D,C=W-P,v=1/(j*C-L*I+1e-9),o=Math.max(0,Math.floor(Math.min(D,e,O))),Z=Math.min(T,Math.ceil(Math.max(D,e,O))),B=Math.max(0,Math.floor(Math.min(P,Y,W))),s=Math.min(d,Math.ceil(Math.max(P,Y,W)));
for(var q=B;q<s;q++)for(var F=o;F<Z;F++){var b=F+.5-D,G=q+.5-P,u=(b*C-L*G)*v,h=(j*G-b*I)*v;if(u>=0&&h>=0&&u+h<=1){var z=1-u-h,r=w*z+g*u+J*h,i=U*z+H*u+f*h;
S.L.jT(r,i,N,T,d,k);S.GH.SHw(k,K,q*T+F<<2)}}};S.GH.SHw=function(p,a,R){var Q=a[R],t=a[R+1],N=a[R+2],K=a[R+3],T=1-p[3]*(1/255);
a[R]=~~(.5+p[0]+Q*T);a[R+1]=~~(.5+p[1]+t*T);a[R+2]=~~(.5+p[2]+N*T);a[R+3]=~~(.5+p[3]+K*T)};S.GH.LN=function(){var p=function(R,Q,t,N){var K=N[0],T=N[1],d=N[2],y=R[K+0],E=R[K+1],k=R[T+0],D=R[T+1],P=R[d+0],e=R[d+1],Y=k-y,O=D-E,W=P-y,w=e-E,g=Q-y,J=t-E,U=Y*w-W*O,H=1/(U+1e-9),f=(g*w-W*J)*H,j=(Y*J-g*O)*H;
if(f>=0&&j>=0&&f+j<=1){N[3]=1-f-j;N[4]=f;N[5]=j;return 1}return 0},a=function(R,Q,t,N){var K=[0,0,0,0,0,0];
for(var T=0;T<Q.length;T+=3){K[0]=Q[T]*2;K[1]=Q[T+1]*2;K[2]=Q[T+2]*2;if(p(R,t,N,K)==1)return!0}return!1};
return{Sgs:p,Syr:a}}();S.Lt={};S.Lt.SHG=function(p,a,R,Q,t){var N=S.Lt.Lq(p.buffer,a,R).it,K=Date.now(),T=new Uint32Array(N.length);
for(var d=0;d<N.length;d++)T[d]=N[d].CI;var y=UPNG.quantize.getKDtree(new Uint8Array(T.buffer),Q),E=[a,1,-a,-1,a+1,-a+1,-a-1,a-1,a+a,2,-a-a,-2,a+a-1,a+a+1,a+2,-a+2,-a-a+1,-a-a-1,-a-2,a-2,a+a+2,-a-a+2-a-a-2,a+a-2],k=new Uint8Array(a*R),D=p;
for(var P=0;P<R;P++)for(var e=0;e<a;e++){var d=P*a+e<<2,Y=D[d]*(1/255),O=D[d+1]*(1/255),W=D[d+2]*(1/255),w=D[d+3]*(1/255),g=S.Lt.Jp(y,Y,O,W,w,t);
if(g==null){var J=[],U=0;while(U<20){var H=P*a+e+E[U]<<2,f=D[H]*(1/255),j=D[H+1]*(1/255),I=D[H+2]*(1/255),L=D[H+3]*(1/255),C=S.Lt.Jp(y,f,j,I,L,.005);
if(C!=null){if(J.indexOf(C)==-1){J.push(C);C.zs=1}else C.zs++}U++}J.sort(function(w,W){return W.zs-w.zs});
while(J.length!=0&&J[J.length-1].zs<3)J.pop();if(J.length==0)g=S.Lt.Jp(y,Y,O,W,w,100);else if(J.length==1)g=J[0];
else if(J.length==2){var v=J[0],o=J[1],Z=v.est.q,B=o.est.q,s=B[0]-Z[0],q=B[1]-Z[1],F=B[2]-Z[2],b=B[3]-Z[3],G=Y-Z[0],u=O-Z[1],h=W-Z[2],z=w-Z[3],r=s*s+q*q+F*F+b*b,i=G*G+u*u+h*h+z*z,gg=(G*s+u*q+h*F+z*b)/r,gC=i-gg*gg*r;
if(gC<.5)g=gg<.5?v:o;else{g=S.Lt.Jp(y,Y,O,W,w,100)}}else{var v=J[0],o=J[1],gd=J[2],Z=v.est.q,B=o.est.q,gY=gd.est.q,gN=Z[0]-gY[0],gS=Z[1]-gY[1],M=Z[2]-gY[2],Cj=Z[3]-gY[3],gs=B[0]-gY[0],gl=B[1]-gY[1],gR=B[2]-gY[2],ge=B[3]-gY[3],So=gY[0]-Y,gq=gY[1]-O,gH=gY[2]-W,gx=gY[3]-w,g$=gN*gN+gS*gS+M*M+Cj*Cj,gy=gN*gs+gS*gl+M*gR+Cj*ge,SZ=So*gN+gq*gS+gH*M+gx*Cj,dU=gN*gs+gS*gl+M*gR+Cj*ge,gz=gs*gs+gl*gl+gR*gR+ge*ge,gX=So*gs+gq*gl+gH*gR+gx*ge,gJ=1/(gy*dU-g$*gz),gg=(gz*SZ-gX*gy)*gJ,SR=(gX*g$-SZ*dU)*gJ,gF=1-gg-SR,gv=Math.max(gg,SR,gF);
if(gv==gg)g=v;else if(gv==SR)g=o;else g=gd}}k[d>>2]=g.ind}return{eG:k,it:y[1]}};S.Lt.Lq=function(p,a,R){var Q=[],t={},N=a-1,K=R-1,T=0,d=new Uint32Array(p),y=[-a-1,-a,-a+1,-1,1,a-1,a,a+1,a+a,2,-a-a,-2,a+a-1,a+a+1,a+2,-a+2,-a-a+1,-a-a-1,-a-2,a-2,a+a+2,-a-a+2-a-a-2,a+a-2];
for(var E=1;E<K;E++)for(var k=1;k<N;k++){var D=E*a+k,P=d[D],e=!0;for(var Y=0;Y<8;Y++)e=e&&d[D+y[Y]]==P;
if(e){T++;var O=t[P];if(O==null){t[P]=Q.length;Q.push({CI:P,Tg:1})}else Q[O].Tg++}}return{it:Q,Sys:T}};
S.Lt.Jp=function(p,a,R,Q,t,N){var K=UPNG.quantize.getNearest(p[0],a,R,Q,t);return S.Lt.Sfd(K,a,R,Q,t)<N?K:null};
S.Lt.Sfd=function(p,a,R,Q,t){var N=p.est.q,K=a-N[0],T=R-N[1],d=Q-N[2],y=t-N[3];return K*K+T*T+d*d+y*y};
S.Lt.Sqg=function(p,a,R,Q){var t=S.Lt.SfL(p,a,R,Q),N=t.eG,K=t.it,T=t.SyL,d=UPNG.quantize.getKDtree(new Uint8Array(T.buffer.slice(0)),200),y=[];
for(var E=0;E<K.length;E++){var k=K[E].WJ,D=k[0],P=k[1],e=k[2],Y=k[3];if(Math.min(D,P,e,Y)<0)throw"e";
var O=UPNG.quantize.getNearest(d[0],D/255,P/255,e/255,Y/255);y.push(d[1].indexOf(O))}for(var E=0;E<a*R;
E++)N[E]=y[N[E]];return{eG:N,it:d[1]}};S.Lt.SfL=function(p,a,R,Q){var t=a*R,N=2*t,K=S.Lt.Sf$(p,a,R),T=65535+1,d=new Uint32Array(T),k=0;
for(var y=0;y<N;y++)d[K[y]]++;var E=new Uint32Array(T);for(var y=0;y<T;y++){E[y]=k;k+=d[y]}var D=new Uint32Array(N);
for(var y=0;y<N;y++){var P=K[y];D[E[P]]=y;E[P]++}var e=new UnionFind(t),Y=new Uint16Array(t),O=new Uint32Array(t);
for(var y=0;y<t;y++)O[y]=1;var W=t,w=1e5/(Q*10);for(var g=0;g<N;g++){var J=D[g],U=K[J];if(U==65535)continue;
var y=J>>1,H=y+((J&1)==0?1:a),f=e.find(y),j=e.find(H),I=Math.min(Y[f]+w/Math.sqrt(O[f]),Y[j]+w/Math.sqrt(O[j]));
if(f!=j&&U<=I){e.link(y,H);W--;var L=e.find(y);O[L]=O[f]+O[j];Y[L]=U}}var C=[],v={},o=new Uint16Array(t);
for(var y=0;y<t;y++){var L=e.find(y),Z=v[L];if(Z==null){v[L]=Z=C.length;C.push({Tg:0,WJ:[0,0,0,0]})}C[Z].Tg++;
for(var H=0;H<4;H++)C[Z].WJ[H]+=p[(y<<2)+H];o[y]=Z}var B=new Uint32Array(C.length);for(var y=0;y<C.length;
y++){var Z=C[y];for(var H=0;H<4;H++)Z.WJ[H]=Math.round(Z.WJ[H]/Z.Tg);B[y]=Z.WJ[3]<<24|Z.WJ[2]<<16|Z.WJ[1]<<8|Z.WJ[0]}return{eG:o,it:C,SyL:B}};
S.Lt.Sf$=function(p,a,R){var Q=new Uint16Array(a*R*2);for(var t=0;t<R;t++)for(var N=0;N<a;N++){var K=t*a+N;
Q[K+K]=N<a-1?S.Lt.LM(p,K,K+1):65535;Q[K+K+1]=t<R-1?S.Lt.LM(p,K,K+a):65535}return Q};S.Lt.LM=function(p,a,R){var Q=a<<2,t=R<<2,N=p[Q],K=p[Q+1],T=p[Q+2],d=p[Q+3],y=p[t],E=p[t+1],k=p[t+2],D=p[t+3],P=N-y,e=K-E,Y=T-k,O=d-D;
return P*P+e*e+Y*Y+O*O>>2};S.Lt.Lh=function(){function p(W,w,g,J,U,H){var f=[],j=H,I=H,L=H>>>2;for(var C=0;
C<U;C++)for(var v=0;v<J;v++){var o=~~((v+.5)*j),Z=~~((C+.5)*I),B=1e9,s=Math.max(0,o-L),q=Math.min(w,o+L+1),F=Math.max(0,Z-L),b=Math.min(g,Z+L+1);
for(var G=F;G<b;G++)for(var u=s;u<q;u++){var h=a(W,w,u,G);if(h<B){o=u;Z=G;B=h}}var z=(Z*w+o)*4;f.push(W[z],W[z+1],W[z+2],o,Z)}return f}function a(W,w,g,J){var U=(J*w+g)*4,H=w*4,f=R(W,U-4,U)+R(W,U,U+4),j=R(W,U-H,U)+R(W,U,U+H);
return f+j}function R(W,w,g){var J=W[w]-W[g],U=W[w+1]-W[g+1],H=W[w+2]-W[g+2];return J*J+U*U+H*H}var Q=0,t=0;
function N(W,w,g,J){t++;if(J<Q)Q=J;W[J].push(w,g)}function K(W){t--;while(W[Q].length==0)Q++}function T(W,w,g){Q=0;
t=0;var J=w*g,U=Math.round(Math.min(w,g)/50),B=0,s=16;if(U==0)U=1;var H=30/U,f=Math.floor(w/U),j=Math.floor(g/U),I=f*j;
if(I>65535)throw I;var L=new Uint16Array(J);for(var C=0;C<J;C++)L[C]=65535;var v=p(W,w,g,f,j,U),o=[];
for(var C=0;C<1e3+g;C++)o.push([]);var Z=[0,1,0,-1,-1,0,1,0],q=Math.min(j,5),F=new Uint32Array(I*6);
for(var b=0;b<j;b+=q){var G=Math.min(b+q+1,j);for(var u=b;u<G;u++)for(var h=0;h<f;h++){var C=u*f+h,z=C*5,r=v[z+4]<<16|v[z+3];
N(o,r,C,v[z+4]>>>s)}var i=Math.min(g,G*U);if(b+q>=j)i=g;while(t!=0){K(o);var gg=o[Q].pop(),gC=o[Q].pop(),gd=gC>>>16,gY=gC&65535,C=gd*w+gY;
if(L[C]==65535){var gN=gg*6,gS=C<<2;L[C]=gg;F[gN]+=W[gS];F[gN+1]+=W[gS+1];F[gN+2]+=W[gS+2];F[gN+3]+=gY;
F[gN+4]+=gd;F[gN+5]++;var M=gd>>>s;if(gd!=i-1&&L[C+w]==65535)N(o,gd+1<<16|gY,gg,d(W,w,H,gY,gd+1,F,gN)+M);
if(gd!=0&&L[C-w]==65535)N(o,gd-1<<16|gY,gg,d(W,w,H,gY,gd-1,F,gN)+M);if(gY!=0&&L[C-1]==65535)N(o,gd<<16|gY-1,gg,d(W,w,H,gY-1,gd,F,gN)+M);
if(gY!=w-1&&L[C+1]==65535)N(o,gd<<16|gY+1,gg,d(W,w,H,gY+1,gd,F,gN)+M)}}if(i!=gd){var Cj=(b+q)*f;F.fill(0,Cj*6,(Cj+f)*6);
for(var gd=(b+q-2)*U;gd<i;gd++)for(var gY=0;gY<w;gY++){var C=gd*w+gY;if(L[C]>=Cj){L[C]=65535}}}}return{eG:L,xM:I,zI:F}}S.Lt.Ix=function(W,w,g,J,U){var H=W.xM,f=w*g,j=W.zI,I=W.eG,L=P(J,I,H,f),C=new UnionFind(H),F=0;
for(var v=1;v<g;v++)for(var o=1;o<w;o++){var Z=v*w+o,B=I[Z],s=0;if((s=I[Z-1])!=B&&L[s]==L[B]&&y(j,0,B*6,s*6)<U)C.link(B,s);
if((s=I[Z-w])!=B&&L[s]==L[B]&&y(j,0,B*6,s*6)<U)C.link(B,s)}var q=new Uint16Array(H);q.fill(65535);var b=new Uint16Array(H);
for(var Z=0;Z<H;Z++){var G=C.find(Z);if(q[G]==65535)q[G]=F++;b[Z]=q[G]}var u=new Uint16Array(f);for(var Z=0;
Z<f;Z++)u[Z]=b[I[Z]];return{eG:u,xM:F}};S.Lt.SCk=function(W,w,g,J){var U=S.p(g),H=w.length,f=0;for(var j=0;
j<H&&f!=3;j++){var I=J[j];if(I==0||I==255){var L=w[j],C=2-(I>>>7);U[L]=f=U[L]|C}}return f!=3};function d(W,w,g,J,U,H,f){var j=(U*w+J)*4,I=H[f+5],L=1/I,C=W[j]*I-H[f],v=W[j+1]*I-H[f+1],o=W[j+2]*I-H[f+2],Z=J*I-H[f+3],B=U*I-H[f+4],s=Math.sqrt(C*C+v*v+o*o),q=Math.sqrt(Z*Z+B*B);
return~~((s+g*q)*L+.5)}function y(W,w,g,J){var U=1/W[g+5],H=1/W[J+5],f=W[g]*U-W[J]*H,j=W[g+1]*U-W[J+1]*H,I=W[g+2]*U-W[J+2]*H,L=W[g+3]*U-W[J+3]*H,C=W[g+4]*U-W[J+4]*H,v=Math.sqrt(f*f+j*j+I*I),o=Math.sqrt(L*L+C*C);
return~~(v+w*o+.5)}function E(W,w,g){var J=S.cQ(W,new x(0,0,w,g)),U=J.rect.C,H=J.rect.T,f=T(J.Yz,U,H),j=f.eG,I=Date.now(),L=new Uint16Array(w*g);
L.fill(65535);for(var C=0;C<H;C++){for(var v=0;v<U;v++){var o=C*U+v,Z=(C<<1)*w+(v<<1),B=j[o];if(j[o-U]!=B||j[o-1]!=B||j[o+1]!=B||j[o+U]!=B)B=65535;
L[Z]=B;L[Z+1]=B;L[Z+w]=B;L[Z+w+1]=B}}f.eG=L;return f}function k(W,w){var g=0,J=W.length;while(g!=J&&W[g]!=w)g+=2;
return g==J?-1:g}function D(W,w){if(w==W.length-2){W.pop();W.pop()}else{W[w+1]=W.pop();W[w]=W.pop()}}S.Lt.SyX=function(W,w,g,J,U){var H=new Uint32Array(U*4400),a=[];
for(var f=0;f<U;f++)a.push([]);for(var j=0;j<g;j++)for(var I=0;I<w;I++){var f=j*w+I,L=f<<2,C=J[f],v=0,o=W[L]>>>4,Z=W[L+1]>>>4,B=W[L+2]>>>4;
H[C*4400+(o<<8|Z<<4|B)]++;H[C*4400+4096]++;H[C*4400+4100+(o<<4|Z)]++;H[C*4400+4360+o]++;if(I!=0&&(v=J[f-1])!=C&&k(a[C],v)==-1){a[C].push(v,0);
a[v].push(C,0)}if(j!=0&&(v=J[f-w])!=C&&k(a[C],v)==-1){a[C].push(v,0);a[v].push(C,0)}}for(var f=0;f<U;
f++){var B=a[f];for(var s=0;s<B.length;s+=2)B[s+1]=O(H,f,B[s])}return[H,a]};function P(W,w,g,J){var U=S.p(g);
for(var H=0;H<J;H++){var f=W[H];if(f==0||f==255)U[w[H]]=2-(f>>>7)}return U}S.Lt.SyF=function(W,w,g,J,U,H,f){var j=w*g,I=f[0],a=f[1],L=new UnionFind(J),C=P(U,W,J,j),v=-1,Z=!0,B=0;
for(var o=0;o<J;o++)if(C[o]==1){if(v==-1)v=o;else L.link(o,v)}if(v==-1){for(var o=0;o<j;o++)H[o]=U[o]==255?255:0;
return}while(Z){while(Z){Z=!1;for(var o=0;o<J;o++){if(C[o]==0){var s=e(a[o]);if(C[s]==1){C[o]=C[s];Z=!0;
L.link(o,s)}}}}Z=!0;B=0;while(Z){Z=!1;for(var o=0;o<J;o++){if(C[o]==0){var s=e(a[o]);if(C[s]==0){var q=o*4400,F=s*4400;
for(var b=0;b<4400;b+=2){I[q+b]+=I[F+b];I[q+b+1]+=I[F+b+1]}Y(a,I,o,s);B++;C[s]=3;Z=!0;L.link(o,s)}}}}Z=B!=0}var G=L.find(v);
for(var o=0;o<J;o++)C[o]=L.find(o)==G?255:0;for(var o=0;o<j;o++){H[o]=C[W[o]]}for(var o=0;o<j;o++){var s=U[o];
if(s==0||s==255)H[o]=s}};function e(W){var w=0,g=0,J=W.length;for(var U=0;U<J;U+=2){var H=W[U+1];if(H>g){g=H;
w=U}}return W[w]}function Y(a,W,w,g){var J=a[w],U=a[g];D(J,k(J,g));D(U,k(U,w));for(var H=0;H<U.length;
H+=2){var f=U[H],j=a[f];D(j,k(j,g));if(k(j,w)==-1){j.push(w,0);J.push(f,0)}}for(var H=0;H<J.length;H+=2){var f=J[H],j=a[f],I=O(W,w,f);
J[H+1]=I;j[k(j,w)+1]=I}}function O(W,w,g){var J=0,U=4096,H=w*4400,f=g*4400;for(var j=0;j<16;j++){if(W[H+4360+j]==0||W[f+4360+j]==0)continue;
for(var I=0;I<16;I++){var L=j<<4|I;if(W[H+4100+L]==0||W[f+4100+L]==0)continue;var C=H+(L<<4),v=f+(L<<4);
for(var o=0;o<16;o++)J+=Math.sqrt(W[C+o]*W[v+o])}}var Z=J/Math.sqrt(W[H+U]*W[f+U]);return~~(999.99999*Z)}return T}();
var pl=function(){function p(){this.u=0;this.FW=0;this.qk={};this.go=[];this.bV=1e5;this.bb=1e5;this.b_=-1;
this.bc=-1;this.color=0}function a(t){this.Y$=t;this.CY=new Array(t);this.CI=new Array(t*6);this.SgW=0;
this.oS=new Array(t*2);this.alpha=new Array(t);this._N=new Array(t);this._Y=new Array(t)}function R(t,N,K,T){function d(W,w,t,N){return t[N*w+W]}function y(O){var j=t.length;
while(O<j&&t[O]==0)O++;return O<j?O:-1}function E(W,w,j){for(var O=2;O<5;O++){var I=0;for(var L=-O+1;
L<=O-1;L++){I+=d(W+L,w+O-1,t,N)==j?1:-1;I+=d(W+O-1,w+L-1,t,N)==j?1:-1;I+=d(W+L-1,w-O,t,N)==j?1:-1;I+=d(W-O,w+L,t,N)==j?1:-1}if(I>0)return 1;
else if(I<0)return 0}return 0}function k(j,e){var Y=new p,W=j,w=e,I=0,L=1,C;Y.color=t[e*N+j];Y.sign=d(j,e,t,N)==Y.color?"+":"-";
while(1){Y.go.push(W,w);if(W>Y.b_)Y.b_=W;if(W<Y.bV)Y.bV=W;if(w>Y.bc)Y.bc=w;if(w<Y.bb)Y.bb=w;Y.FW++;W+=I;
w+=L;Y.u-=W*L;if(W==j&&w==e)break;var v=d(W+(I+L-1>>1),w+(L-I-1>>1),t,N)==Y.color,o=d(W+(I-L-1>>1),w+(L+I-1>>1),t,N)==Y.color;
if(o&&!v){if(T.ze=="right"||T.ze=="black"&&Y.sign=="+"||T.ze=="white"&&Y.sign=="-"||T.ze=="majority"&&E(W,w,Y.color)||T.ze=="minority"&&!E(W,w,Y.color)){C=I;
I=-L;L=C}else{C=I;I=L;L=-C}}else if(o){C=I;I=-L;L=C}else if(!v){C=I;I=L;L=-C}}return Y}var D=0,P=[];
while(!0){var D=y(D);if(D==-1)break;var e=Math.floor(D/N),Y=k(D-e*N,e);for(var O=0;O<Y.go.length-2;O+=2){var W=Y.go[O],w=Y.go[O+1],g=w*N+W;
if(W==Y.go[O+2]&&w+1==Y.go[O+3]&&t[g]!=0)pl.fill(g,t,N,0)}if(Y.u>T.Syn)P.push(Y)}for(var O=0;O<P.length;
O++)P[O].parent=-1;var J=Date.now();for(var O=1;O<P.length;O++){var U=P[O];for(var H=O-1;H>=0;H--){var f=P[H];
if(U.bV<f.bV||U.b_>f.b_||U.bb<f.bb||U.bc>f.bc)continue;if(!pl.SfO(f.go,U.go[0]+.5,U.go[1]+.5))continue;
U.parent=H;break}}return P}function Q(t,N){function K(I,L,C,v,o){this.x=I;this.y=L;this.rg=C;this.ro=v;
this.lf=o}function T(I,L){return(L+I)%L}function d(I,L,C,v){return I*v-C*L}function y(I,L,C,v){return I*C+L*v}function E(I,L,C){if(I<=C)return I<=L&&L<C;
else return I<=L||L<C}function k(I,L,C){var v=0;v+=L*I[0]*L;v+=L*I[1]*C;v+=L*I[2];v+=C*I[3]*L;v+=C*I[4]*C;
v+=C*I[5];v+=I[6]*L;v+=I[7]*C;v+=I[8];return v}function D(I,L,C){return L+I*(C-L)}function P(I,L,C,v){var o=Math.sign(C-I),Z=-Math.sign(v-L);
return o*(C-I)-Z*(v-L)}function e(I,L){return Math.sqrt(I*I+L*L)}function Y(I,L,C,v,o){var Z=1-I;return Z*Z*Z*L+3*(Z*Z*I)*C+3*(I*I*Z)*v+I*I*I*o}function O(I,L,C,v,o,Z,B,s){var q=d(I,L,B,s),F=d(C,v,B,s),b=d(o,Z,B,s),G=q-2*F+b,u=-2*q+2*F,h=q,z=u*u-4*G*h;
if(G==0||z<0)return-1;var r=Math.sqrt(z),i=(-u+r)/(2*G),gg=(-u-r)/(2*G);if(i>=0&&i<=1)return i;else if(gg>=0&&gg<=1)return gg;
else return-1}function W(j){var f,I,L;j.zz=j.go[0];j.SCj=j.go[1];j.wu=[];var C=j.wu;C.push(new K(0,0,0,0,0));
for(f=0;f<j.FW;f++){I=j.go[f<<1]-j.zz;L=j.go[(f<<1)+1]-j.SCj;C.push(new K(C[f].x+I,C[f].y+L,C[f].rg+I*L,C[f].ro+I*I,C[f].lf+L*L))}}function w(j){var I=j.FW,L=j.go,C,v=new Array(I),o=new Array(I),Z=new Array(4),B,s,q,F,b,G,u,h,z,r,i,f,gg,gC,gd,gY,gN,gS,M=0;
j.zq=new Array(I);for(f=I-1;f>=0;f--){if(L[f<<1]!=L[M<<1]&&L[(f<<1)+1]!=L[(M<<1)+1])M=f+1;o[f]=M}for(f=I-1;
f>=0;f--){var Cj=T(f+1,I)<<1;Z[0]=Z[1]=Z[2]=Z[3]=0;C=(3+3*(L[Cj]-L[f<<1])+(L[Cj+1]-L[(f<<1)+1]))/2;Z[C]++;
B=0;s=0;q=0;F=0;M=o[f];gC=f;while(1){i=0;C=(3+3*Math.sign(L[M*2]-L[gC*2])+Math.sign(L[M*2+1]-L[gC*2+1]))/2;
Z[C]++;if(Z[0]&&Z[1]&&Z[2]&&Z[3]){v[f]=gC;i=1;break}z=L[M*2]-L[f*2];r=L[M*2+1]-L[f*2+1];if(d(B,s,z,r)<0||d(q,F,z,r)>0){break}if(Math.abs(z)<=1&&Math.abs(r)<=1){}else{b=z+(r>=0&&(r>0||z<0)?1:-1);
G=r+(z<=0&&(z<0||r<0)?1:-1);if(d(B,s,b,G)>=0){B=b;s=G}b=z+(r<=0&&(r<0||z<0)?1:-1);G=r+(z>=0&&(z>0||r<0)?1:-1);
if(d(q,F,b,G)<=0){q=b;F=G}}gC=M;M=o[gC];if(!E(M,f,gC)){break}}if(i==0){u=Math.sign(L[M*2]-L[gC*2]);h=Math.sign(L[M*2+1]-L[gC*2+1]);
z=L[gC*2]-L[f*2];r=L[gC*2+1]-L[f*2+1];gd=d(B,s,z,r);gY=d(B,s,u,h);gN=d(q,F,z,r);gS=d(q,F,u,h);gg=1e7;
if(gY<0){gg=Math.floor(gd/-gY)}if(gS>0){gg=Math.min(gg,Math.floor(-gN/gS))}v[f]=T(gC+gg,I)}}gg=v[I-1];
j.zq[I-1]=gg;for(f=I-2;f>=0;f--){if(E(f+1,v[f],gg)){gg=v[f]}j.zq[f]=gg}for(f=I-1;E(T(f+1,I),gg,j.zq[f]);
f--){j.zq[f]=gg}}function g(j){function I(j,f,L){var o=j.FW,z=j.go,r=j.wu,i,gg,gC,gd,gY,v,gN,gS,h,M,Cj,gs,gl,gR,ge=0;
if(L>=o){L-=o;ge=1}if(ge==0){i=r[L+1].x-r[f].x;gg=r[L+1].y-r[f].y;gd=r[L+1].ro-r[f].ro;gC=r[L+1].rg-r[f].rg;
gY=r[L+1].lf-r[f].lf;v=L+1-f}else{i=r[L+1].x-r[f].x+r[o].x;gg=r[L+1].y-r[f].y+r[o].y;gd=r[L+1].ro-r[f].ro+r[o].ro;
gC=r[L+1].rg-r[f].rg+r[o].rg;gY=r[L+1].lf-r[f].lf+r[o].lf;v=L+1-f+o}Cj=(z[f<<1]+z[L<<1])/2-z[0];gs=(z[(f<<1)+1]+z[(L<<1)+1])/2-z[1];
gR=z[L<<1]-z[f<<1];gl=-(z[(L<<1)+1]-z[(f<<1)+1]);gN=(gd-2*i*Cj)/v+Cj*Cj;gS=(gC-i*gs-gg*Cj)/v+Cj*gs;h=(gY-2*gg*gs)/v+gs*gs;
M=gl*gl*gN+2*gl*gR*gS+gR*gR*h;return Math.sqrt(M)}var f,L,C,v,o=j.FW,Z=new Array(o+1),B=new Array(o+1),s=new Array(o),q=new Array(o+1),F=new Array(o+1),b=new Array(o+1),G,u,h;
for(f=0;f<o;f++){h=T(j.zq[T(f-1,o)]-1,o);if(h==f){h=T(f+1,o)}if(h<f){s[f]=o}else{s[f]=h}}L=1;for(f=0;
f<o;f++){while(L<=s[f]){q[L]=f;L++}}f=0;for(L=0;f<o;L++){F[L]=f;f=s[f]}F[L]=o;C=L;f=o;for(L=C;L>0;L--){b[L]=f;
f=q[f]}b[0]=0;Z[0]=0;for(L=1;L<=C;L++){for(f=b[L];f<=F[L];f++){u=-1;for(v=F[L-1];v>=q[f];v--){G=I(j,v,f)+Z[v];
if(u<0||G<u){B[f]=v;u=G}}Z[f]=u}}j.WG=C;j.SgQ=new Array(C);for(f=o,L=C-1;f>0;L--){f=B[f];j.SgQ[L]=f}}function J(j){function I(j,f,G,s,q,So){var v=j.FW,gq=j.wu,gH=0,h;
while(G>=v){G-=v;gH+=1}while(f>=v){f-=v;gH-=1}while(G<0){G+=v;gH-=1}while(f<0){f+=v;gH+=1}var gx=gq[G+1].x-gq[f].x+gH*gq[v].x,g$=gq[G+1].y-gq[f].y+gH*gq[v].y,gy=gq[G+1].ro-gq[f].ro+gH*gq[v].ro,SZ=gq[G+1].rg-gq[f].rg+gH*gq[v].rg,dU=gq[G+1].lf-gq[f].lf+gH*gq[v].lf,u=G+1-f+gH*v;
s[So]=gx/u;s[So+1]=g$/u;var gz=(gy-gx*gx/u)/u,gX=(SZ-gx*g$/u)/u,gJ=(dU-g$*g$/u)/u,SR=(gz+gJ+Math.sqrt((gz-gJ)*(gz-gJ)+4*gX*gX))/2;
gz-=SR;gJ-=SR;if(Math.abs(gz)>=Math.abs(gJ)){h=Math.sqrt(gz*gz+gX*gX);if(h!=0){q[So]=-gX/h;q[So+1]=gz/h}}else{h=Math.sqrt(gJ*gJ+gX*gX);
if(h!=0){q[So]=-gJ/h;q[So+1]=gX/h}}if(h==0){q[So]=q[So+1]=0}}var L=j.WG,C=j.SgQ,v=j.FW,o=j.go,Z=j.zz,B=j.SCj,s=new Array(L*2),q=new Array(L*2),F=new Array(L),b=new Array(3),f,G,u,h,gg,gC,gd,gY,gN,gS,M;
j.qk=new a(L);for(f=0;f<L;f++){G=C[T(f+1,L)];G=T(G-C[f],v)+C[f];s[f<<1]=0;s[(f<<1)+1]=0;q[f<<1]=0;q[(f<<1)+1]=0;
I(j,C[f],G,s,q,f<<1)}for(f=0;f<L;f++){F[f]=[0,0,0,0,0,0,0,0,0];var z=q[f<<1]*q[f<<1]+q[(f<<1)+1]*q[(f<<1)+1],r=1/z;
if(z!=0){b[0]=q[(f<<1)+1];b[1]=-q[f<<1];b[2]=-b[1]*s[(f<<1)+1]-b[0]*s[f<<1];for(h=0;h<3;h++){F[f][h*3+0]=b[h]*b[0]*r;
F[f][h*3+1]=b[h]*b[1]*r;F[f][h*3+2]=b[h]*b[2]*r}}}var i=[0,0,0,0,0,0,0,0,0];for(f=0;f<L;f++){i[0]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=0;
var Cj=o[C[f]<<1]-Z,gs=o[(C[f]<<1)+1]-B,gl=0,gR=0;G=T(f-1,L);for(h=0;h<9;h+=3){i[h+0]=F[G][h+0]+F[f][h+0];
i[h+1]=F[G][h+1]+F[f][h+1];i[h+2]=F[G][h+2]+F[f][h+2]}while(1){var ge=i[0]*i[4]-i[1]*i[3];if(ge!=0){gl=(-i[2]*i[4]+i[5]*i[0])/ge;
gR=(i[2]*i[3]-i[5]*i[0])/ge;break}if(i[0]>i[4]){b[0]=-i[1];b[1]=i[0]}else if(i[4]){b[0]=-i[4];b[1]=i[3]}else{b[0]=1;
b[1]=0}var z=b[0]*b[0]+b[1]*b[1],r=1/z;b[2]=-b[1]*gs-b[0]*Cj;for(h=0;h<3;h++){i[h*3+0]+=b[h]*b[0]*r;
i[h*3+1]+=b[h]*b[1]*r;i[h*3+2]+=b[h]*b[2]*r}}gg=Math.abs(gl-Cj);gC=Math.abs(gR-gs);if(gg<=.5&&gC<=.5){j.qk.oS[f<<1]=gl+Z;
j.qk.oS[(f<<1)+1]=gR+B;continue}gd=k(i,Cj,gs);gN=Cj;gS=gs;if(i[0]!=0){for(M=0;M<2;M++){gR=gs-.5+M;gl=-(i[1]*gR+i[2])/ i[0];
gg=Math.abs(gl-Cj);gY=k(i,gl,gR);if(gg<=.5&&gY<gd){gd=gY;gN=gl;gS=gR}}}if(i[4]!=0){for(M=0;M<2;M++){gl=Cj-.5+M;
gR=-(i[3]*gl+i[5])/ i[4];gC=Math.abs(gR-gs);gY=k(i,gl,gR);if(gC<=.5&&gY<gd){gd=gY;gN=gl;gS=gR}}}for(h=0;
h<2;h++){for(u=0;u<2;u++){gl=Cj-.5+h;gR=gs-.5+u;gY=k(i,gl,gR);if(gY<gd){gd=gY;gN=gl;gS=gR}}}j.qk.oS[f<<1]=gN+Z;
j.qk.oS[(f<<1)+1]=gS+B}}function U(j){var I=j.qk.Y$,L=j.qk,f,C,v,o,Z,B,s,q,F;for(f=0;f<I;f++){C=T(f+1,I);
v=T(f+2,I);var b=L.oS[f<<1],G=L.oS[(f<<1)+1],u=L.oS[v<<1],h=L.oS[(v<<1)+1],z=L.oS[C<<1],r=L.oS[(C<<1)+1],i=D(.5,u,z),gg=D(.5,h,r);
Z=P(b,G,u,h);if(Z!=0){o=d(z-b,r-G,u-b,h-G)/Z;o=Math.abs(o);B=o>1?1-1/o:0;B=B*(1/.75)}else{B=4/3}L._N[C]=B;
var gC=3*C<<1;if(B>=N.Sop){L.CY[C]=0;L.CI[gC+0]=L.CI[gC+1]=0;L.CI[gC+2]=z;L.CI[gC+3]=r;L.CI[gC+4]=i;
L.CI[gC+5]=gg}else{if(B<.55){B=.55}else if(B>1){B=1}var gd=.5+.5*B;L.CY[C]=1;L.CI[gC]=D(gd,b,z);L.CI[gC+1]=D(gd,G,r);
L.CI[gC+2]=D(gd,u,z);L.CI[gC+3]=D(gd,h,r);L.CI[gC+4]=i;L.CI[gC+5]=gg}L.alpha[C]=B;L._Y[C]=.5}L.Sos=1}function H(j){function I(){this.zM=0;
this.wP=0;this.wV=0;this.wb=0;this.w_=0;this.GY=0;this.IH=0;this.alpha=0}function L(j,f,b,gF,gv,gY,gN){var v=j.qk.Y$,SU=j.qk.CI,ga=j.qk.oS;
if(f==b)return 1;var Sg=f,z=T(f+1,v),gO=T(Sg+1,v),gy=ga[f<<1],SZ=ga[(f<<1)+1],SC=ga[z<<1],gk=ga[(z<<1)+1],Np=gY[gO];
if(Np==0)return 1;var SO=e(gy-SC,SZ-gk);for(Sg=gO;Sg!=b;Sg=gO){var gO=T(Sg+1,v),NZ=T(Sg+2,v),gD=ga[gO<<1],gI=ga[(gO<<1)+1],go=ga[NZ<<1],NS=ga[(NZ<<1)+1];
if(gY[gO]!=Np)return 1;if(Math.sign(d(SC-gy,gk-SZ,go-gD,NS-gI))!=Np)return 1;if(y(SC-gy,gk-SZ,go-gD,NS-gI)<SO*e(gD-go,gI-NS)*-.999847695156)return 1}var NK=T(f,v)*3+2<<1,gP=T(f+1,v)<<1,NX=T(b,v)<<1,Nd=T(b,v)*3+2<<1,ge=SU[NK],So=SU[NK+1],Ni=ga[gP],NH=ga[gP+1],NE=ga[NX],NJ=ga[NX+1],Nl=SU[Nd],NL=SU[Nd+1],gS=ga[0],M=ga[1];
NK=b*3+2<<1;var py=SU[NK],SJ=SU[NK+1],r=gN[b]-gN[f];r-=d(py-gS,SJ-M,py-gS,SJ-M)/2;if(f>=b){r+=gN[v]}var Nz=Ni-ge,NQ=NH-So,No=NE-ge,Ss=NJ-So,Nt=Nl-ge,gj=NL-So,NI=d(Nz,NQ,No,Ss),Si=d(Nz,NQ,Nt,gj),Kl=d(No,Ss,Nt,gj),CP=NI+Kl-Si;
if(Si==NI)return 1;var gd=Kl/(Kl-CP),gC=Si/(Si-NI),pz=Si*gd/2;if(pz==0)return 1;var KA=r/pz,i=2-Math.sqrt(4-KA/.3);
gF.wP=D(gd*i,ge,Ni);gF.wV=D(gd*i,So,NH);gF.wb=D(gC*i,Nl,NE);gF.w_=D(gC*i,NL,NJ);gF.alpha=i;gF.GY=gd;
gF.IH=gC;Ni=gF.wP;NH=gF.wV;NE=gF.wb;NJ=gF.w_;gF.zM=0;for(Sg=T(f+1,v);Sg!=b;Sg=gO){gO=T(Sg+1,v);var dq=ga[Sg<<1],S$=ga[(Sg<<1)+1],gD=ga[gO<<1],gI=ga[(gO<<1)+1];
gd=O(Ni-ge,NH-So,NE-Ni,NJ-NH,Nl-NE,NL-NJ,gD-dq,gI-S$);if(gd<-.5)return 1;var SS=Y(gd,ge,Ni,NE,Nl),NF=Y(gd,So,NH,NJ,NL),SO=e(gD-dq,gI-S$);
if(SO==0)return 1;var N$=d(gD-dq,gI-S$,SS-dq,NF-S$)/SO;if(Math.abs(N$)>gv)return 1;if(y(gD-dq,gI-S$,SS-dq,NF-S$)<0||y(dq-gD,S$-gI,SS-gD,NF-gI)<0){return 1}gF.zM+=N$*N$}for(Sg=f;
Sg!=b;Sg=gO){gO=T(Sg+1,v);var NK=Sg*3+2<<1,gP=gO*3+2<<1,Kq=SU[NK],SX=SU[NK+1],pZ=SU[gP],Ki=SU[gP+1];
gd=O(Ni-ge,NH-So,NE-Ni,NJ-NH,Nl-NE,NL-NJ,pZ-Kq,Ki-SX);if(gd<-.5)return 1;var SS=Y(gd,ge,Ni,NE,Nl),NF=Y(gd,So,NH,NJ,NL),SO=e(pZ-Kq,Ki-SX);
if(SO==0)return 1;var N$=d(pZ-Kq,Ki-SX,SS-Kq,NF-SX)/SO,Se=d(pZ-Kq,Ki-SX,ga[gO<<1]-Kq,ga[(gO<<1)+1]-SX)/SO;
Se*=.75*j.qk.alpha[gO];if(Se<0){N$=-N$;Se=-Se}if(N$<Se-gv)return 1;if(N$<Se){gF.zM+=(N$-Se)*(N$-Se)}}return 0}var C=j.qk,v=C.Y$,o=C.oS,Z=new Array(v+1),B=new Array(v+1),s=new Array(v+1),q=new Array(v+1),F,f,b,G,u=new I,h,z,r,i,gg,gC,gd,gY=new Array(v),gN=new Array(v+1);
for(f=0;f<v;f++){if(C.CY[f]=="CURVE"){var gS=o[T(f-1,v)<<1],M=o[(T(f-1,v)<<1)+1],Cj=o[f<<1],gs=o[(f<<1)+1],gl=o[T(f+1,v)<<1],gR=o[(T(f+1,v)<<1)+1];
gY[f]=Math.sign(d(Cj-gS,gs-M,gl-Cj,gR-gs))}else{gY[f]=0}}r=0;gN[0]=0;var ge=C.oS[0],So=C.oS[1];for(f=0;
f<v;f++){z=T(f+1,v);if(C.CY[z]=="CURVE"){i=C.alpha[z];var gq=f*3+2<<1,gH=z*3+2<<1,gx=C.CI[gq],g$=C.CI[gq+1],gy=o[z<<1],SZ=o[(z<<1)+1],dU=C.CI[gH],gz=C.CI[gH+1];
r+=.3*i*(4-i)*d(gy-gx,SZ-g$,dU-gx,gz-g$)/2;r+=d(gx-ge,g$-So,dU-ge,gz-So)/2}gN[f+1]=r}Z[0]=-1;B[0]=0;
s[0]=0;for(b=1;b<=v;b++){Z[b]=b-1;B[b]=B[b-1];s[b]=s[b-1]+1;for(f=b-2;f>=0;f--){G=L(j,f,T(b,v),u,N.So$,gY,gN);
if(G){break}if(s[b]>s[f]+1||s[b]==s[f]+1&&B[b]>B[f]+u.zM){Z[b]=f;B[b]=B[f]+u.zM;s[b]=s[f]+1;q[b]=u;u=new I}}}F=s[v];
gg=new a(F);gC=new Array(F);gd=new Array(F);b=v;for(f=F-1;f>=0;f--){var gX=T(b,v),gJ=f*3+0<<1,SR=gX*3+0<<1;
if(Z[b]==b-1){gg.CY[f]=C.CY[gX];gg.CI[gJ]=C.CI[SR];gg.CI[gJ+1]=C.CI[SR+1];gg.CI[gJ+2]=C.CI[SR+2];gg.CI[gJ+3]=C.CI[SR+3];
gg.CI[gJ+4]=C.CI[SR+4];gg.CI[gJ+5]=C.CI[SR+5];gg.oS[f<<1]=C.oS[gX<<1];gg.oS[(f<<1)+1]=C.oS[(gX<<1)+1];
gg.alpha[f]=C.alpha[gX];gg._N[f]=C._N[gX];gg._Y[f]=C._Y[gX];gC[f]=gd[f]=1}else{gg.CY[f]="CURVE";gg.CI[gJ]=q[b].wP;
gg.CI[gJ+1]=q[b].wV;gg.CI[gJ+2]=q[b].wb;gg.CI[gJ+3]=q[b].w_;gg.CI[gJ+4]=C.CI[SR+4];gg.CI[gJ+5]=C.CI[SR+5];
gg.oS[f<<1]=D(q[b].IH,C.CI[SR+4],o[gX<<1]);gg.oS[(f<<1)+1]=D(q[b].IH,C.CI[SR+5],o[(gX<<1)+1]);gg.alpha[f]=q[b].alpha;
gg._N[f]=q[b].alpha;gC[f]=q[b].IH;gd[f]=q[b].GY}b=Z[b]}for(f=0;f<F;f++){z=T(f+1,F);gg._Y[f]=gC[f]/(gC[f]+gd[z])}gg.Sos=1;
j.qk=gg}for(var f=0;f<t.length;f++){var j=t[f];W(j);w(j);g(j);J(j);U(j);if(N.Sog)H(j)}}return{Syh:R,Sy_:Q}}();
pl.Iw=function(p,a,R,Q){var t={ze:"minority",Syn:Q,Sog:!0,Sop:1,So$:.2},N=pl.Syh(p,a,R,t);pl.Sy_(N,t);
return N};pl.h$=function(p){var a=[];for(var R=0;R<p.length;R++){var Q=p[R],t=Q.qk,N=["M"],K=[t.CI[(t.Y$-1)*6+4],t.CI[(t.Y$-1)*6+5]];
for(var T=0;T<t.Y$;T++){var d=T*6;if(t.CY[T]==1){N.push("C");for(var y=0;y<6;y++)K.push(t.CI[d+y])}else if(t.CY[T]==0){N.push("L");
for(var y=2;y<4;y++)K.push(t.CI[d+y])}}N.push("Z");a.push({parent:Q.parent,color:Q.color,path:{r:K,$:N}})}return a};
pl.SqN=function(p,a,R,Q,t){function N(Y){function O(d){var e="C "+(Y.CI[d*3+0<<1]*a).toFixed(1)+" "+(Y.CI[(d*3+0<<1)+1]*a).toFixed(1)+",";
e+=(Y.CI[d*3+1<<1]*a).toFixed(1)+" "+(Y.CI[(d*3+1<<1)+1]*a).toFixed(1)+",";e+=(Y.CI[d*3+2<<1]*a).toFixed(1)+" "+(Y.CI[(d*3+2<<1)+1]*a).toFixed(1)+" ";
return e}function W(d){var J="L "+(Y.CI[d*3+1<<1]*a).toFixed(1)+" "+(Y.CI[(d*3+1<<1)+1]*a).toFixed(1)+" ";
J+=(Y.CI[d*3+2<<1]*a).toFixed(1)+" "+(Y.CI[(d*3+2<<1)+1]*a).toFixed(1)+" ";return J}var w=Y.Y$,d,g="M"+(Y.CI[(w-1)*3+2<<1]*a).toFixed(1)+" "+(Y.CI[((w-1)*3+2<<1)+1]*a).toFixed(1)+" ";
for(d=0;d<w;d++){if(Y.CY[d]==1){g+=O(d)}else if(Y.CY[d]==0){g+=W(d)}}return g}var R=R*a,Q=Q*a,K=p.length,T=[];
for(var d=0;d<256;d++)T.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var y="<svg id=\"svg\" version=\"1.1\" width=\""+R+"\" height=\""+Q+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var d=0;d<K;d++){var E=t[p[d].color-1].SNS.Gw;if((E>>>24&255)==0)continue;y+="<path d=\"";var k=p[d].qk;
y+=N(k);var D=E>>0&255,P=E>>8&255,e=E>>16&255,E="rgb("+D+","+P+","+e+")";y+="\" fill=\""+E+"\" fill-rule=\"evenodd\"/>"}y+="</svg>";
return y};pl.SfO=function(p,a,R){var Q=p.length>>1,t,N=p[2*Q-3]-R,K=p[2*Q-2]-a,T=p[2*Q-1]-R,d=T>N,E=0;
for(var y=0;y<Q;y++){t=K;N=T;K=p[2*y]-a;T=p[2*y+1]-R;if(N==T)continue;d=T>N}for(var y=0;y<Q;y++){t=K;
N=T;K=p[2*y]-a;T=p[2*y+1]-R;if(N<0&&T<0)continue;if(N>0&&T>0)continue;if(t<0&&K<0)continue;if(N==T&&Math.min(t,K)<=0)return!0;
if(N==T)continue;var k=t+(K-t)*-N/(T-N);if(k==0)return!0;if(k>0)E++;if(N==0&&d&&T>N)E--;if(N==0&&!d&&T<N)E--;
d=T>N}return(E&1)==1};pl.fill=function(p,a,R,Q){var t=a[p],N=[p],K=0;while(K<N.length){var T=N[K];K++;
a[T]=Q;if(a[T-R]==t){N.push(T-R);a[T-R]=254}if(a[T-1]==t){N.push(T-1);a[T-1]=254}if(a[T+1]==t){N.push(T+1);
a[T+1]=254}if(a[T+R]==t){N.push(T+R);a[T+R]=254}}};var _={};_.KZ=!1;_.Lj=!1;_.hQ=!1;_.Xd=document.createElement("canvas");
_.XC=null;_.JY=null;_.qW=0;(function(){var p={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},a;
if(!a)a=_.Xd.getContext("webgl",p);if(!a)a=_.Xd.getContext("experimental-webgl",p);if(a){_.KZ=!0;_.Lj=!0;
_.XC=a;_.JY=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,_.JY);a.disable(a.BLEND);a.disable(a.DEPTH_TEST);
var R=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,R);a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW);
a.enableVertexAttribArray(0);a.vertexAttribPointer(0,2,a.FLOAT,!1,0,0)}}());_.Sqp=function(p){p=p.replace(/\s\s+/g," ");
p=p.replace(/; /g,";");p=p.replace(/} /g,"}");p=p.replace(/ }/g,"}");p=p.replace(/{ /g,"{");p=p.replace(/ {/g,"{");
p=p.replace(/= /g,"=");p=p.replace(/ =/g,"=");p=p.replace(/\| /g,"|");p=p.replace(/ \|/g,"|");return p};
_.Sft=function(p){var a=_.XC;if(p>a.getParameter(a.MAX_TEXTURE_SIZE)){_.KZ=!1;alert("Disabling WebGL")}};
_.hu=function(p,a){return new Float32Array([(p.x-a.x)/a.C,(p.y-a.y)/a.T,p.C/a.C,p.T/a.T])};_.KQ=function(){return this.Xd};
_.UZ=function(p,a){var R=_.XC;R.bindFramebuffer(R.FRAMEBUFFER,_.JY);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,p.CD,0);
R.viewport(0,0,p.C,p.T);if(a){R.enable(R.SCISSOR_TEST);R.scissor(a.x,a.y,a.C,a.T)}else R.disable(R.SCISSOR_TEST)};
_.Bd=function(p,a,R){if(R)throw"error";var Q=_.XC;Q.disable(Q.SCISSOR_TEST);Q.bindFramebuffer(Q.FRAMEBUFFER,null);
Q.viewport(0,0,p,a);if(R){Q.enable(Q.SCISSOR_TEST);Q.scissor(R.x,R.y,Math.round(R.C),Math.round(R.T))}else Q.disable(Q.SCISSOR_TEST)};
_.clear=function(){var p=_.XC;p.clearColor(0,0,0,0);p.clear(p.COLOR_BUFFER_BIT)};_.Ms=function(p,a){if(a==null)a=0;
var R=(a>>>0&255)==0,Q=(a>>>8&255)==0,t=(a>>>16&255)==0,N=(a>>>24&255)==0,K=(p>>>0&255)*(1/255),T=(p>>>8&255)*(1/255),d=(p>>>16&255)*(1/255),y=(p>>>24&255)*(1/255),E=_.XC;
E.colorMask(R,Q,t,N);E.clearColor(K,T,d,y);E.clear(E.COLOR_BUFFER_BIT);E.colorMask(!0,!0,!0,!0)};_.lD=function(p,a,R,Q,t){var N=a.Yl(Q);
if(t)N=N.Yl(t);if(N.RJ())return;var K=_.XC;_.UZ(p);K.bindTexture(K.TEXTURE_2D,R.CD);K.copyTexSubImage2D(K.TEXTURE_2D,0,N.x-Q.x,N.y-Q.y,N.x-a.x,N.y-a.y,N.C,N.T)};
_.xK=function(p,a,R){var Q=_.Bg[p];if(Q==null||Q.C!=a||Q.T!=R){if(Q)Q.delete();Q=new _.LV(a,R)}_.Bg[p]=Q;
return Q};_.Bg=[];_.mY=function(){this.wj=null;this.z_=null};_.mY.tS=null;_.mY.prototype.zi=function(p){if(this.z_)return;
this.z_={};var a=_.XC,R=this.wj,Q=this.z_;for(var t=0;t<p.length;t++){var N=p[t];Q[N]=a.getUniformLocation(R,N)}};
_.mY.prototype.xd=function(){};_.mY.prototype.xZ=function(p){var a=_.XC;for(var R=0;R<p.length;R+=2){a.uniform1i(p[R],R>>>1);
a.activeTexture(a["TEXTURE"+(R>>>1)]);a.bindTexture(a.TEXTURE_2D,p[R+1])}a.activeTexture(a.TEXTURE0)};
_.mY.prototype.rM=function(p,a){var R=_.XC,Q=R.createShader(R.FRAGMENT_SHADER);R.shaderSource(Q,p);R.compileShader(Q);
if(!R.getShaderParameter(Q,R.COMPILE_STATUS))console.log(R.getShaderInfoLog(Q));var t=R.createShader(R.VERTEX_SHADER);
R.shaderSource(t,a);R.compileShader(t);if(!R.getShaderParameter(t,R.COMPILE_STATUS))console.log(R.getShaderInfoLog(t));
var N=R.createProgram();R.attachShader(N,t);R.attachShader(N,Q);R.linkProgram(N);if(!R.getProgramParameter(N,R.LINK_STATUS))console.log("Could not initialise shaders");
this.wj=N};_.mY.prototype.xl=function(){if(_.mY.tS!=this){_.XC.useProgram(this.wj);_.mY.tS=this}};_.xI=function(p,a){_.qO++;
_.qW+=p*a;if(_.hQ)console.log("GL.Channels instances: "+_.qO+", memory: "+_.qW);var R=_.XC;this.C=p;
this.T=a;this.CD=R.createTexture();this.iG=null;this.Jr(this.CD,p,a)};_.xI.prototype.Jr=function(p,a,R){var Q=_.XC;
Q.bindTexture(Q.TEXTURE_2D,p);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.NEAREST);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE);
Q.texImage2D(Q.TEXTURE_2D,0,Q.ALPHA,a,R,0,Q.ALPHA,Q.UNSIGNED_BYTE,null)};_.xI.prototype.set=function(p){var a=_.XC;
a.bindTexture(a.TEXTURE_2D,this.CD);a.pixelStorei(a.UNPACK_ALIGNMENT,1);a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.C,this.T,0,a.ALPHA,a.UNSIGNED_BYTE,p);
a.pixelStorei(a.UNPACK_ALIGNMENT,4)};_.xI.prototype.delete=function(){var p=_.XC;if(this.CD){p.deleteTexture(this.CD);
_.qO--;_.qW-=this.C*this.T}if(_.hQ)if(_.hQ)console.log("GL.Channels instances: "+_.qO+", memory: "+_.qW*4)};
_.qO=0;_.LV=function(p,a,R){if(R==null)R=!1;_.qO++;_.qW+=p*a*4;if(_.hQ)console.log("GL.Channels instances: "+_.qO+", memory: "+_.qW);
var Q=_.XC;this.SoE=R;this.C=p;this.T=a;this.CD=Q.createTexture();this.iG=null;this.Jr(this.CD,p,a)};
_.LV.prototype.set=function(p,a){var R=_.XC;R.disable(R.SCISSOR_TEST);R.bindTexture(R.TEXTURE_2D,this.CD);
if(p==null||p instanceof Uint8Array){var Q=this.C*this.T;if(a==null||a.u()*10>Q)R.texImage2D(R.TEXTURE_2D,0,R.RGBA,this.C,this.T,0,R.RGBA,R.UNSIGNED_BYTE,p);
else{var t=S.p(a.u()*4);S.gW(p,new x(0,0,this.C,this.T),t,a);R.texSubImage2D(R.TEXTURE_2D,0,a.x,a.y,a.C,a.T,R.RGBA,R.UNSIGNED_BYTE,t)}}else R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,p)};
_.LV.prototype.get=function(p){var a=_.XC;_.UZ(this);a.readPixels(0,0,this.C,this.T,a.RGBA,a.UNSIGNED_BYTE,p)};
_.LV.prototype.qw=function(p){if(p.RJ())return;var a=_.XC;if(this.iG==null){this.iG=a.createTexture();
this.Jr(this.iG,this.C,this.T);_.qO++;_.qW+=this.C*this.T*4}a.bindFramebuffer(a.FRAMEBUFFER,_.JY);a.bindTexture(a.TEXTURE_2D,this.iG);
if(p){var R=Math.max(p.x,0),Q=Math.max(p.y,0);a.copyTexSubImage2D(a.TEXTURE_2D,0,R,Q,R,Q,p.C,p.T)}else a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,this.C,this.T,0)};
_.LV.prototype.Jr=function(p,a,R){var Q=_.XC;Q.bindTexture(Q.TEXTURE_2D,p);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,this.SoE?Q.LINEAR:Q.NEAREST);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE);Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,a,R,0,Q.RGBA,Q.UNSIGNED_BYTE,null)};
_.LV.prototype.delete=function(){var p=_.XC;if(this.CD){p.deleteTexture(this.CD);_.qO--;_.qW-=this.C*this.T*4}if(this.iG){p.deleteTexture(this.iG);
_.qO--;_.qW-=this.C*this.T*4}if(_.hQ)if(_.hQ)console.log("GL.Channels instances: "+_.qO+", memory: "+_.qW)};
_.LV.prototype.clone=function(){var p=_.XC,a=new _.LV(this.C,this.T);_.UZ(this);p.bindTexture(p.TEXTURE_2D,a.CD);
p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,0,0,this.C,this.T,0);return a};_.Wo={SfT:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",SzY:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",IE:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Up:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Bq:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",ob:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",lv:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",XP:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",Szh:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",UY:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",Szo:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",MZ:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",B$:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",NZ:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",QK:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",QU:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Xa:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Hv:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",wk:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",WM:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
_.sD={AF:{},tW:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
_.sD.Qj=function(p,a){var R=gA.$I,Q=[R.Ng,R.$f,R.$z,R.$J,R.$t,R.$o,R.$v,R.DO].indexOf(p.type),t=_.sD.AF[p.type];
if(t==null)t=_.sD.AF[p.type]=new _.AF[Q];t.xl();t.xd(a,p);_.XC.drawArrays(_.XC.TRIANGLES,0,6)};_.AF=[];
_.AF[0]=function(){_.mY.call(this);this.AZ={};var p="\t\t\tprecision mediump float;\t\t\t"+_.Wo.lv+"\t\t\t"+_.Wo.IE+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[0].prototype=new _.mY;_.AF[0].prototype.xd=function(p,a){var R={D:a.LH,X:a.kG,N:a.Hr,Eu:S.p(a.LH.length)},Q=R.D.length;
if(this.AZ["m"+Q]==null){this.AZ["m"+Q]={SoP:new _.LV(Q,1),Yz:S.p(Q*4)}}var t=this.AZ["m"+Q];S.Pe(R,t.Yz,0);
var N=t.SoP;N.set(t.Yz);this.zi(["source","map","toGray","presLum"]);var K=_.XC,T=this.z_;K.uniform1f(T.toGray,a.yM?1:0);
K.uniform1f(T.presLum,a.yx?1:0);this.xZ([T.source,p,T.map,N.CD])};_.AF[1]=function(){_.mY.call(this);
this.Sgw=new _.LV(256,1);this.SgA=S.p(256*4);var p="\t\t\t\tprecision mediump float;\t\t\t\t"+_.Wo.QU+"\t\t\t\t"+_.Wo.NZ+"\t\t\t\t"+_.Wo.QK+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[1].prototype=new _.mY;_.AF[1].prototype.xd=function(p,a){S.Pe({D:a.Sp_,X:a.wc,N:a.SlA,Eu:S.p(256)},this.SgA);
this.Sgw.set(this.SgA);this.zi(["source","map","cfa","cfb","colorize"]);var R=_.XC,Q=this.z_;R.uniform1f(Q.cfa,a.SsJ);
R.uniform1f(Q.cfb,a.AS);R.uniform1i(Q.colorize,a.SRC);this.xZ([Q.source,p,Q.map,this.Sgw.CD])};_.AF[2]=function(){_.mY.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+_.Wo.QU+"\t\t\t"+_.Wo.Xa+"\t\t\t"+_.Wo.Hv+"\t\t\t"+_.Wo.NZ+"\t\t\t"+_.Wo.QK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[2].prototype=new _.mY;_.AF[2].prototype.xd=function(p,a){this.zi(["source","vib","sat"]);
var R=_.XC,Q=this.z_;R.uniform1f(Q.vib,a.L_[0]/100);R.uniform1f(Q.sat,a.L_[1]/100);this.xZ([Q.source,p])};
_.AF[3]=function(){_.mY.call(this);var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[3].prototype=new _.mY;_.AF[3].prototype.xd=function(p,a){this.zi(["source","trf"]);
var R=_.XC,Q=this.z_;R.uniformMatrix4fv(Q.trf,!1,new Float32Array(S.MA.NJ(a.EF)));this.xZ([Q.source,p])};
_.AF[4]=function(){_.mY.call(this);var p="\t\t\tprecision mediump float; \t\t\t"+_.Wo.wk+"\t\t\t"+_.Wo.QU+"\t\t\t"+_.Wo.QK+"\t\t\t"+_.Wo.NZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[4].prototype=new _.mY;_.AF[4].prototype.xd=function(p,a){this.zi(["source","mnm","mxm","shift","lim"]);
var R=_.XC,Q=this.z_;R.uniform3fv(Q.mnm,new Float32Array(a.YM));R.uniform3fv(Q.mxm,new Float32Array(a.YX));
R.uniform3fv(Q.shift,new Float32Array(a.shift));R.uniform1f(Q.lim,a.Wn);this.xZ([Q.source,p])};_.AF[5]=function(){_.mY.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+_.Wo.IE+"\t\t\t"+_.Wo.Up+"\t\t\t"+_.Wo.Bq+"\t\t\t"+_.Wo.NZ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[5].prototype=new _.mY;_.AF[5].prototype.xd=function(p,a){this.zi(["source","cfs"]);
var R=_.XC,Q=this.z_;R.uniform3fv(Q.cfs,a.XQ);this.xZ([Q.source,p])};_.AF[6]=function(){_.mY.call(this);
var p="\t\t\tprecision mediump float;\t\t\t"+_.Wo.QU+"\t\t\t"+_.Wo.Up+"\t\t\t"+_.Wo.Bq+"\t\t\t"+_.Wo.NZ+"\t\t\t"+_.Wo.QK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[6].prototype=new _.mY;_.AF[6].prototype.xd=function(p,a){this.zi(["source","wght","prms"]);
var R=_.XC,Q=this.z_,t=[a.bu,a.SRp,a.lv,a.SRz,a.zz,a.SRx];R.uniform1fv(Q.wght,new Float32Array(a.SRW));
R.uniform1fv(Q.prms,new Float32Array(t));this.xZ([Q.source,p])};_.AF[7]=function(){_.mY.call(this);this.AN={};
var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.rM(p,_.sD.tW)};_.AF[7].prototype=new _.mY;_.AF[7].prototype.xd=function(p,a){this.zi(["source","lut","N"]);
var R=_.XC,Q=this.z_,t=a.Tg,N=a.UJ;if(this.AN["m"+t]==null)this.AN["m"+t]=new _.LV(t,t*t);var K=this.AN["m"+t];
K.set(N);R.uniform1f(Q.N,t);this.xZ([Q.source,p,Q.lut,K.CD]);R.activeTexture(R.TEXTURE1);var T=R.LINEAR;
R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,T);R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,T);
R.activeTexture(R.TEXTURE0)};_.filter={U_:{},tW:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",BM:0,BF:1,Kh:2,By:3};
_.filter.Qj=function(p,a){var R=_.filter,Q=[R.BM,R.BF,R.Kh,R.By].indexOf(p.type),t=_.filter.U_[p.type];
if(t==null)t=_.filter.U_[p.type]=new _.U_[Q];t.xl();t.xd(a,p);_.XC.drawArrays(_.XC.TRIANGLES,0,6)};_.U_=[0,0,0,0,0,0,0];
_.U_[3]=function(){_.mY.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.rM(V.PE(p),V.PE(_.filter.tW))};_.U_[3].prototype=new _.mY;_.U_[3].prototype.xd=function(p,a){this.zi("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var R=_.XC,Q=this.z_;R.uniform2fv(Q.iwh,a.Wg);R.uniform1f(Q.tdep,a.SUN);R.uniform1f(Q.rrad,a.SUY);R.uniform2fv(Q.spec,a.SUX);
R.uniform3fv(Q.nois,a.SUT);R.uniformMatrix4fv(Q.poly0,!1,a.SUa);R.uniformMatrix4fv(Q.poly1,!1,a.SUD);
this.xZ([Q.source,p])};_.U_[0]=function(){_.mY.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.rM(V.PE(p),V.PE(_.filter.tW))};_.U_[0].prototype=new _.mY;_.U_[0].prototype.xd=function(p,a){this.zi(["source","iwh","ld","shine"]);
var R=_.XC,Q=this.z_;R.uniform2fv(Q.iwh,a.Wg);R.uniform3fv(Q.ld,a.SiY);R.uniform1f(Q.shine,a.Si$);this.xZ([Q.source,p,Q.tang,a.wv])};
_.U_[1]=function(){_.mY.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.rM(V.PE(p),V.PE(_.filter.tW))};_.U_[1].prototype=new _.mY;_.U_[1].prototype.xd=function(p,a){this.zi(["source","iwh","isc","bristle"]);
var R=_.XC,Q=this.z_;R.uniform2fv(Q.iwh,a.Wg);R.uniform1f(Q.isc,a.SxA);R.uniform1f(Q.bristle,a.SiN);
this.xZ([Q.source,p])};_.U_[2]=function(){_.mY.call(this);var p="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.rM(V.PE(p),V.PE(_.filter.tW))};_.U_[2].prototype=new _.mY;_.U_[2].prototype.xd=function(p,a){this.zi(["source","tang","iwh","sigma","expo"]);
var R=_.XC,Q=this.z_;R.uniform2fv(Q.iwh,a.Wg);R.uniform1f(Q.sigma,a.SWY);R.uniform1f(Q.expo,a.SOY);this.xZ([Q.source,p,Q.tang,a.wv]);
var t=R.LINEAR;R.activeTexture(R.TEXTURE0);R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,t);R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,t);
R.activeTexture(R.TEXTURE0)};_.O={};_.O.Im={};_.O.Iu=null;_.O.Ib=null;_.O.I_=null;_.O.Bo=function(p,a,R,Q,t,N,K,T){if(T==null)T=gB.vr();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(p)==-1){K=K*T.fill;T.fill=1;T.style=!1}var d=p+(T.Ws?"1":"");
if(_.O.Im[d]==null)_.O.Im[d]=new _.O.Fi(p,T.Ws!=null);var y=_.O.Im[d],E=R.Yl(t).Yl(N);E.offset(-t.x,-t.y);
if(E.RJ())return;var k=_.XC;_.UZ(Q,E);Q.qw(E);y.xl();y.xd(a.CD,Q.iG,_.hu(R,t),K,T.fill,T.style?1:0,T.Wl?1:0,T.Ws?new Float32Array(T.Ws):null);
k.drawArrays(k.TRIANGLES,0,6)};_.O.JL=function(p,a,R,Q,t,N,K,T,d,y){if(_.O.Iu==null)_.O.Iu=new _.O.Ku(!0,!0);
if(_.O.Ib==null)_.O.Ib=new _.O.Ku(!0,!1);if(_.O.I_==null)_.O.I_=new _.O.Ku(!1,!0);var E=y?1:0,k=p?t?_.O.Iu:_.O.Ib:_.O.I_,D=a?a.Yl(Q).Yl(T):Q.Yl(T);
if(D.RJ())return;D.offset(-Q.x,-Q.y);var P=_.XC;_.UZ(R,D);R.qw(D);k.xl();if(p==null)k.xd(null,R.iG,t.CD,_.hu(Q,Q),_.hu(N,Q),K/255,d,E);
else if(t)k.xd(p.CD,R.iG,t.CD,_.hu(a,Q),_.hu(N,Q),K/255,d,E);else k.xd(p.CD,R.iG,null,_.hu(a,Q),null,K/255,d,E);
P.drawArrays(P.TRIANGLES,0,6)};_.O.SqM=function(p,a,R){if(_.O.SRD==null)_.O.SRD=new _.O.Ic;var Q=_.O.SRD,t=new x(0,0,p.C,p.T),N=_.XC;
_.UZ(a);a.qw(t);Q.xl();Q.xd(t,p.CD,a.iG,R.CD);N.drawArrays(N.TRIANGLES,0,6)};_.O.PG={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
_.O.Fi=function(p,a){_.mY.call(this);var R="\t\t\tprecision mediump float;\t\t\t"+_.Wo.IE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(a?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+_.Wo.ob+"\t\t\t"+_.Wo.lv+"\t\t\t"+_.Wo.XP+"\t\t\t"+_.Wo.SfT+"\t\t\t"+_.Wo.SzY+"\t\t\t"+_.Wo.Szh+"\t\t\t"+_.Wo.UY+"\t\t\t"+_.Wo.Szo+"\t\t\t"+_.Wo.MZ+"\t\t\t"+_.Wo.hash+"\t\t\t"+(a?_.Wo.WM:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+_.O.PG[p]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",Q="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(p=="diss")R+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else R+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(a?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.rM(R,Q)};_.O.Fi.prototype=new _.mY;_.O.Fi.prototype.xd=function(p,a,R,Q,t,N,K,T){this.zi("srct alpha source target fill style keepBGA blIf".split(" "));
var d=_.XC,y=this.z_;d.uniform4fv(y.srct,R);d.uniform1f(y.alpha,Q);d.uniform1f(y.fill,t);d.uniform1f(y.style,N);
d.uniform1f(y.keepBGA,K);if(T)d.uniform4fv(y.blIf,T);this.xZ([y.source,p,y.target,a])};_.O.Ku=function(p,a){_.mY.call(this);
this.SNJ=p;this.Ap=a;var R="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+_.Wo.B$+"\t\t\t"+_.Wo.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(p?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(a?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(p?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.rM(R,Q)};_.O.Ku.prototype=new _.mY;_.O.Ku.prototype.xd=function(p,a,R,Q,t,N,K,T){if(this.Ap)this.zi("srct wrct wcolor awg dissv source target weight".split(" "));
else this.zi(["srct","awg","dissv","source","target"]);var d=_.XC,y=this.z_;d.uniform4fv(y.srct,Q);if(this.Ap){d.uniform4fv(y.wrct,t);
d.uniform1f(y.wcolor,N)}d.uniform1f(y.awg,K);d.uniform1f(y.dissv,T);var E=[y.source,p,y.target,a];if(this.Ap)E.push(y.weight,R);
this.xZ(E)};_.O.Ic=function(){_.mY.call(this);var p="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",a="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.rM(p,a)};_.O.Ic.prototype=new _.mY;_.O.Ic.prototype.xd=function(p,a,R,Q){this.zi(["rct","prev","next","alpha"]);
var t=_.XC,N=this.z_;t.uniform4fv(N.rct,[0,0,1,1]);this.xZ([N.prev,a,N.next,R,N.alpha,Q])};function dR(){}dR.Hi=function(p){var a=new Uint8Array(p),R=0,Q={mp:[],rw:[],list:[]},t=A.rt(a,R);
R+=2;if(t<=2){return dR.SzP(a)}var N=A.rt(a,R);R+=2;var K=A.GG(a,R,8);R+=8;var T=A.m(a,R);R+=4;if(T>0)Q.mp=dR.BW(a,R,T,N,t);
R+=T;var d=A.GG(a,R,8);R+=8;var y=A.m(a,R);R+=4;if(y>0)Q.rw=dR.JB(a,R,y);R+=y;var E=A.GG(a,R,8);R+=8;
var k=A.m(a,R);R+=4;if(k>0){var D={};gb.Rj(a,D,R+4);Q.list=D.Brsh.v}R+=k;var P=Q.list;for(var e=0;e<P.length;
e++){de.GB.check(P[e].v)}return Q};dR.wt=function(p,a){p.v.Nm.v=a};dR.SzP=function(p){var a={mp:[],rw:[],list:[]},R=0,Q=A.rt(p,R);
R+=2;var t=A.rt(p,R);R+=2;for(var N=0;N<t;N++){var K=A.rt(p,R);R+=2;var T=A.m(p,R);R+=4;var d=R;if(K==2){var y={};
a.mp.push(y);var E=A.m(p,d);d+=4;var k=A.rt(p,d);d+=2;if(Q==2){var D=A.Oj(p,d);d+=4+D.length*2+2}y.id=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f";
d++;d+=8;y.I=A.mm(p,d);d+=16;var P=A.rt(p,d);d+=2;var e=p[d];d++;y.channel=SN.CV(!1,P,p,y.I.C,y.I.T,d,e);
var Y=de.Rq(y.id),O=Y.Brsh.v;O.Dmtr.v.val=y.I.C;O.Spcn.v.val=k;a.list.push({t:"Objc",v:Y})}R+=T}return a};
dR.sm=function(p){var a=new Cq,R=0,Q=0;A.Pm(a,R,6);R+=2;A.Pm(a,R,2);R+=2;A.Rv(a,R,"8BIMsamp");R+=8;R+=4;
Q=R;R=dR.BO(a,R,p.mp);A.GR(a,Q-4,R-Q);A.Rv(a,R,"8BIMpatt");R+=8;R+=4;Q=R;R=dR.JX(a,R,p.rw);A.GR(a,Q-4,R-Q);
var t={classID:"null",Brsh:{t:"VlLs",v:p.list}};A.Rv(a,R,"8BIMdesc");R+=8;R+=4;Q=R;A.GR(a,R,16);R+=4;
R+=gb.oQ(a,t,R);A.GR(a,Q-4,R-Q);return a.data.slice(0,R).buffer};dR.BW=function(p,a,R,Q,t){var N=A.m,K=A.mm,T=a+R,d=[];
while(a<T){var y={};d.push(y);var E=N(p,a);a+=4;var k=a,D=A.xm(p,a);a+=D.length;y.id=D.GS;if(Q==1){a+=9;
y.I=K(p,a);a+=16}else{a+=7;var P=N(p,a);a+=4;y.I=K(p,a);a+=16;var e=N(p,a);a+=4;a+=e*4;var Y=N(p,a);
a+=4;var O=N(p,a);a+=4;var W=K(p,a);a+=16}var w=A.rt(p,a);a+=2;var g=p[a];a+=1;y.channel=SN.CV(!1,w,p,y.I.C,y.I.T,a,g);
if(E%4!=0)E+=4-E%4;a=k+E}return d};dR.BO=function(p,a,R){var Q=A.GR,t=A.js;for(var N=0;N<R.length;N++){var K=R[N],T=a+4,y=56,k=1;
a+=4;A.gC(p,a,K.id);a+=K.id.length+2;p.rm(a,1);p.data[a]=1;a+=3;Q(p,a,3);a+=4;var d=a;a+=4;t(p,a,K.I);
a+=16;Q(p,a,y);a+=4;a+=y*4;Q(p,a-4,1);var E=a;a+=4;Q(p,a,8);a+=4;t(p,a,K.I);a+=16;A.Pm(p,a,8);a+=2;p.rm(a,1);
p.data[a]=k;a++;p.rm(a,K.I.u()*2);a=SN.JP(K.channel,p.data,K.I.C,K.I.T,a,k);p.rm(a,8);a+=8;var D=a-T;
Q(p,T-4,D);Q(p,d,D-49);Q(p,E,D-305);if(D%4!=0)a+=4-D%4}return a};dR.JB=function(p,a,R){var Q=a+R,t=[];
while(a<Q){var N={},K=A.m(p,a);a+=4;var T=a;a=St.BQ(p,a,N);if(!N.I.RJ())t.push(N);if(K%4!=0)K+=4-K%4;
a=T+K}return t};dR.JX=function(p,a,R){for(var Q=0;Q<R.length;Q++){var t=R[Q];a+=4;var N=a;a=St.Bw(p,a,t);
var K=a-N;A.GR(p,N-4,K);if(K%4!=0)N+=4-K%4;a=N+K}return a};function dW(){}dW.Hi=function(p){var a=new Uint8Array(p),R=[],Q=0,t=A.rt(a,Q);
Q+=2;if(t!=4){throw"Unknown version of curves: "+t}var N=A.rt(a,Q);Q+=2;for(var K=0;K<N;K++){var T=dW.Bv(a,Q);
Q+=2+2*T.length;R.push(T)}if(Q==a.length)return R;var d=A.GG(a,Q,4);Q+=4;var y=A.rt(a,Q);Q+=2;var E=A.rt(a,Q);
Q+=2;if(E!=0)throw"extra curves for channels";return R};dW.CS=function(p,a,R){var Q=a,t=[],N=p[a];a+=3;
var K=A.m(p,a);a+=4;for(var T=0;T<4;T++){var d=K>>>T&1;if(d){if(N==0){var y=dW.Bv(p,a);a+=2+2*y.length}else{var y=dW.SLn(p,a);
a+=256}t.push(y)}else t.push(N==0?[0,0,255,255]:dW.Szj())}var E=gw.gD("curv");for(var T=0;T<4;T++){if(N==0){var k=t[T],D=[];
for(var P=0;P<k.length;P+=2)D.push(S.ps.mi(k[P],k[P+1],!0));dW.Gq(E,T,D)}else dW.Gq(E,T,t[T])}return E};
dW.Szj=function(){var p=[];for(var a=0;a<256;a++)p.push(a);return p};dW.Gq=function(p,a,R){var Q=dO.eS("CrvA",a);
if(R.length<256)Q.Crv={t:"VlLs",v:R};else{Q.Mpng={t:"VlLs",v:[]};for(var t=0;t<256;t++)Q.Mpng.v[t]={t:"long",v:R[t]}}Q={t:"Objc",v:Q};
var N=p.Adjs.v,K=dO.M$(N,a);if(K==-1)N.push(Q);else N[K]=Q};dW.Vq=function(p,a){var R=p.Adjs.v,Q=dO.M$(R,a);
if(Q==-1){if(R.length==0||R[0].v.Crv)return[S.ps.mi(0,0,!0),S.ps.mi(255,255,!0)];var t=[];for(var N=0;
N<256;N++)t.push(N);return t}var K=R[Q].v,T=K.Crv;if(T)return T.v;var t=[];for(var N=0;N<256;N++)t.push(K.Mpng.v[N].v);
return t};dW.Bv=function(p,a){var R=[],Q=A.rt(p,a);a+=2;for(var t=0;t<Q;t++){var N=A.rt(p,a);a+=2;var K=A.rt(p,a);
a+=2;R.push(K,N)}return R};dW.SLa=function(p,a,R){var Q=R.length/2;A.Pm(p,a,Q);a+=2;for(var t=0;t<Q;
t++){A.Pm(p,a,R[t*2+1]);a+=2;A.Pm(p,a,R[t*2+0]);a+=2}};dW.SLn=function(p,a){var R=[];for(var Q=0;Q<256;
Q++)R.push(p[a+Q]);return R};dW.SBC=function(p,a,R){p.rm(a,256);for(var Q=0;Q<256;Q++)p.data[a+Q]=R[Q]};
dW.Cr=function(p,a,R){var Q=[];for(var t=0;t<4;t++){var N=dW.Vq(R,t);if(N.length==256)Q.push(N);else{var K=[];
for(var T=0;T<N.length;T++)K.push(N[T].v.Hrzn.v,N[T].v.Vrtc.v);Q.push(K)}}var d=a,y=Q[0].length==256?1:0;
p.rm(a,3);p.data[a]=y;p.data[a+1]=0;p.data[a+2]=1;a+=3;A.GR(p,a,15);a+=4;for(var t=0;t<4;t++){var E=Q[t];
if(y==0){dW.SLa(p,a,E);a+=2+2*E.length}else{dW.SBC(p,a,E);a+=256}}return a-d};function Sj(){}Sj.CS=function(p,a,R){var Q={},t=A.rt(p,a);
a+=2;Q._I=p[a]==1;a++;a++;Q.zE=[A.eh(p,a),A.eh(p,a+2),A.eh(p,a+4)];a+=6;Q.LC=[A.eh(p,a),A.eh(p,a+2),A.eh(p,a+4)];
a+=6;Q.Jy=[];for(var N=0;N<6;N++){var K={};K.yj=[A.eh(p,a),A.eh(p,a+2),A.eh(p,a+4),A.eh(p,a+6)];a+=8;
K.E$=[A.eh(p,a),A.eh(p,a+2),A.eh(p,a+4)];a+=6;Q.Jy.push(K)}var T=gw.gD("hue2"),d=Q;if(T.Clrz==null)T.Clrz={t:"bool",v:!1};
T.Clrz.v=d._I;for(var N=0;N<7;N++){var y=N==0?d._I?d.zE:d.LC:d.Jy[N-1];Sj.Gq(T,N,y)}return T};Sj.SBp=function(p){return{classID:"Hst2",H:{t:"long",v:p[0]},Strt:{t:"long",v:p[1]},Lght:{t:"long",v:p[2]}}};
Sj.M$=function(p,a){for(var R=0;R<p.length;R++){var Q=p[R].v.LclR;if(a==0&&Q==null||Q!=null&&Q.v==a)return R}return-1};
Sj.Gq=function(p,a,R){var Q=a==0?R:R.E$,t=Sj.SBp(Q);if(a!=0){var N=R.yj;t.LclR={t:"long",v:a},t.BgnR={t:"long",v:N[0]};
t.BgnS={t:"long",v:N[1]};t.EndS={t:"long",v:N[2]};t.EndR={t:"long",v:N[3]}}t={t:"Objc",v:t};var K=p.Adjs.v,T=Sj.M$(K,a);
if(T==-1)K.push(t);else K[T]=t};Sj.Vq=function(p,a){var R=p.Adjs.v,Q=Sj.M$(R,a);if(Q==-1){if(a==0)return[0,0,0];
else return[{yj:[315,345,15,45],E$:[0,0,0]},{yj:[15,45,75,105],E$:[0,0,0]},{yj:[75,105,135,165],E$:[0,0,0]},{yj:[135,165,195,225],E$:[0,0,0]},{yj:[195,225,255,285],E$:[0,0,0]},{yj:[255,285,315,345],E$:[0,0,0]}][a-1]}var t=R[Q].v,N=[t.H.v,t.Strt.v,t.Lght.v];
if(a==0)return N;return{E$:N,yj:[t.BgnR.v,t.BgnS.v,t.EndS.v,t.EndR.v]}};Sj.Cr=function(p,a,R){var Q={_I:R.Clrz.v,Jy:[]};
Q.zE=Q.LC=Sj.Vq(R,0);for(var t=1;t<7;t++)Q.Jy.push(Sj.Vq(R,t));var N=2+2+12+6*14,K=p.data;p.rm(a,N);
A.JJ(K,a,2);a+=2;K[a]=Q._I?1:0;a++;a++;A.tp(K,a+0,Q.zE[0]);A.tp(K,a+2,Q.zE[1]);A.tp(K,a+4,Q.zE[2]);a+=6;
A.tp(K,a+0,Q.LC[0]);A.tp(K,a+2,Q.LC[1]);A.tp(K,a+4,Q.LC[2]);a+=6;for(var t=0;t<6;t++){var T=Q.Jy[t].yj,d=Q.Jy[t].E$;
A.tp(K,a+0,T[0]);A.tp(K,a+2,T[1]);A.tp(K,a+4,T[2]);A.tp(K,a+6,T[3]);a+=8;A.tp(K,a+0,d[0]);A.tp(K,a+2,d[1]);
A.tp(K,a+4,d[2]);a+=6}return N};function dO(){}dO.Hi=function(p){var a=new Uint8Array(p),R=2,Q=[];for(var t=0;
t<29;t++){var N=[];Q.push(N);for(var K=0;K<5;K++)N.push(A.rt(a,R+t*10+K*2))}R+=29*10;if(R<a.length){var T=A.GG(a,R,4);
R+=4;var d=A.rt(a,R);R+=2;var y=A.rt(a,R);R+=2;var E=y-29;for(var t=0;t<E;t++){var N=[];Q.push(N);for(var K=0;
K<5;K++)N.push(A.rt(a,R+t*10+K*2))}}var k=gw.gD("levl");for(var t=0;t<4;t++)dO.Gq(k,t,Q[t]);return k};
dO.eS=function(p,a){var R=["Cmps","Rd","Grn","Bl"],Q={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:R[a]}}]};
return{classID:p,Chnl:Q}};dO.M$=function(p,a){var R={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Q=0;Q<p.length;
Q++){var t=p[Q].v,N=R[t.Chnl.v[0].v.enum];if(N==a)return Q}return-1};dO.Gq=function(p,a,R){var Q=dO.eS("LvlA",a);
Q.Inpt={t:"VlLs",v:[{t:"long",v:R[0]},{t:"long",v:R[1]}]};Q.Otpt={t:"VlLs",v:[{t:"long",v:R[2]},{t:"long",v:R[3]}]};
Q.Gmm={t:"doub",v:R[4]/100};Q={t:"Objc",v:Q};var t=p.Adjs.v,N=dO.M$(t,a);if(N==-1)t.push(Q);else t[N]=Q};
dO.Vq=function(p,a){var R=[0,255,0,255,100],Q=p.Adjs.v,t=dO.M$(Q,a);if(t==-1)return R;var N=Q[t].v;if(N.Inpt){R[0]=N.Inpt.v[0].v;
R[1]=N.Inpt.v[1].v}if(N.Otpt){R[2]=N.Otpt.v[0].v;R[3]=N.Otpt.v[1].v}if(N.Gmm){R[4]=Math.round(N.Gmm.v*100)}return R};
dO.sm=function(p,a){var R=[],t=0;for(var Q=0;Q<4;Q++)R.push(dO.Vq(a,Q));while(R.length<29)R.push([0,255,0,255,100]);
p.rm(0,2+10*29);A.JJ(p.data,t,2);t+=2;for(var Q=0;Q<29;Q++){var N=R[Q];for(var K=0;K<5;K++)A.JJ(p.data,t+Q*10+K*2,N[K])}t+=29*10;
if(R.length==29)return t;p.rm(t,8+10*(R.length-29));A.XX(p.data,t,"Lvls");t+=4;A.JJ(p.data,t,3);t+=2;
A.JJ(p.data,t,R.length);t+=2;var T=R.length-29;for(var Q=0;Q<T;Q++){var N=R[29+Q];for(var K=0;K<5;K++)A.JJ(p.data,t+Q*10+K*2,N[K])}t+=10*T;
return t};function rR(){}rR.Hi=function(p){var a=new Uint8Array(p),R=2,Q={_L:[],tN:[]},t=A.GG(a,R,4);
R+=4;var N=A.rt(a,R);R+=2;var K=A.m(a,R);R+=4;Q._L=dR.JB(a,R,K);R+=K;var T=A.m(a,R);R+=4;for(var d=0;
d<T;d++){var y=A.m(a,R);R+=4;var E=R,k={ox:{},jd:{}};Q.tN.push(k);R+=4;R+=gb.Rj(a,k.ox,R);R+=4;R+=gb.Rj(a,k.jd,R);
R=E+y;var D=k.jd.blendOptions,P=k.jd.Lefx;if(D&&Object.keys(D.v).length>1){}if(P){if(P.v.masterFXSwitch==null)P.v.masterFXSwitch={t:"bool",v:!0};
pC.Ju(P.v)}}return Q};rR.wt=function(p,a){p.ox.Nm.v=a};rR.sm=function(p){var a=new Cq,R=0;A.Pm(a,R,2);
R+=2;A.Rv(a,R,"8BSL");R+=4;A.Pm(a,R,3);R+=2;var Q=R;R+=4;R=dR.JX(a,R,p._L);A.GR(a,Q,R-Q-4);var t=p.tN.length;
A.GR(a,R,t);R+=4;for(var N=0;N<t;N++){R+=4;var K=R,T=p.tN[N];A.GR(a,R,16);R+=4;R+=gb.oQ(a,T.ox,R);var d=T.jd.Lefx;
if(d){T.jd.Lefx=JSON.parse(JSON.stringify(d));pC.eC(T.jd.Lefx.v)}A.GR(a,R,16);R+=4;R+=gb.oQ(a,T.jd,R);
if(d)T.jd.Lefx=d;A.GR(a,K-4,R-K)}return a.data.slice(0,R).buffer};function dJ(){}dJ.CS=function(p,a,R){var Q=A.rt(p,a);
a+=2;var t={};t.AY=A.rt(p,a)==1;a+=2;t.Ar=[];for(var N=0;N<10;N++){var K=[];t.Ar.push(K);for(var T=0;
T<4;T++)K.push(A.eh(p,a+T*2));a+=8}var d=gw.gD("selc");d.Mthd.v.CrcM=t.AY?"Absl":"Rltv";for(var N=1;
N<10;N++)dJ.Gq(d,N-1,t.Ar[N]);return d};dJ.Jw="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
dJ.eS=function(p,a){var R=["Cmps","Rd","Grn","Bl"],Q={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:R[a]}}]};
return{classID:p,Chnl:Q}};dJ.M$=function(p,a){var R=dJ.Jw;for(var Q=0;Q<p.length;Q++){var t=p[Q].v,N=R.indexOf(t.Clrs.v.Clrs);
if(N==a)return Q}return-1};dJ.Gq=function(p,a,R){var Q=["Cyn","Mgnt","Ylw","Blck"],t={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:dJ.Jw[a]}}};
for(var N=0;N<4;N++)t[Q[N]]={t:"UntF",v:{type:"#Prc",val:R[N]}};t={t:"Objc",v:t};var K=p.ClrC.v,T=dJ.M$(K,a);
if(T==-1)K.push(t);else K[T]=t};dJ.Vq=function(p,a){var R=[0,0,0,0],Q=p.ClrC.v,t=dJ.M$(Q,a);if(t==-1)return R;
var N=["Cyn","Mgnt","Ylw","Blck"];for(var K=0;K<4;K++)if(Q[t].v[N[K]])R[K]=Q[t].v[N[K]].v.val;return R};
dJ.Cr=function(p,a,R){var Q={AY:R.Mthd.v.CrcM=="Absl",Ar:[[0,0,0,0]]};for(var t=0;t<9;t++)Q.Ar.push(dJ.Vq(R,t));
p.rm(a,84);A.JJ(p.data,a,1);a+=2;A.JJ(p.data,a,Q.AY?1:0);a+=2;for(var t=0;t<10;t++){var N=Q.Ar[t];for(var K=0;
K<4;K++)A.tp(p.data,a+K*2,N[K]);a+=8}return 84};function Ck(){}Ck.gD=function(){return{a_:new x(0,0,50,50),ox:"",ts:"play",G:S.d.y$.PL([.1,.1,.9,.5,.1,.9],0)}};
Ck.Hi=function(p){p=new Uint8Array(p);var a=0,R=[],Q=Date.now(),t=A.GG(p,0,4);a+=4;var N=A.m(p,a);a+=4;
var K=A.m(p,a);a+=4;for(var T=0;T<K;T++){var d=A.Oj(p,a);a+=d.length*2+4+2;if((d.length&1)==0)a+=2;var y=A.m(p,a);
a+=4;var E=A.m(p,a);a+=4;var k=a,D=A.xm(p,k).GS;k+=D.length+1;var P=A.mm(p,k);k+=16;var e=Ck.JE(p,k,E-(k-a)),Y=S.d.mD(e),O=S.s.wh(Y),W=1/O.C,w=1/O.T;
S.d.xv(e,new gh(W,0,0,w,-O.x*W,-O.y*w));R.push({ts:d,ox:D,G:e,a_:P});a+=E}return R};Ck.wt=function(p,a){p.ts=a};
Ck.sm=function(p){var a=new Cq,R=0;A.Rv(a,R,"cush");R+=4;A.GR(a,R,2);R+=4;A.GR(a,R,p.length);R+=4;for(var Q=0;
Q<p.length;Q++){var t=p[Q],N=t.ts+"\0";A.Jf(a,R,N);R+=4+N.length*2;if((N.length&1)==1)R+=2;A.GR(a,R,1);
R+=4;R+=4;var K=R;A.gC(a,R,t.ox);R+=t.ox.length+1;A.js(a,R,t.a_);R+=16;a.rm(R,t.G.length*26);Ck.eK(a.data,R,t.G,1,1);
R+=t.G.length*26;var T=R-K;if((T&3)!=0)T+=4-(T&3);A.GR(a,K-4,T);R=K+T}return a.data.slice(0,R).buffer};
Ck.JE=function(p,a,R,Q,t){if(Q==null)Q=1;if(t==null)t=1;var N=A.eh,K=A.Sh_,T=[],d=Math.floor(R/26);for(var y=0;
y<d;y++){var E=a+y*26,k={},D=0;T.push(k);k.type=N(p,E);E+=2;if(k.type==6){D=24}if(k.type==8){k.all=N(p,E);
E+=2;D=22}if(k.type==0||k.type==3){k.length=N(p,E);E+=2;k.gu=N(p,E);E+=2;k.Xt=N(p,E);E+=2;k.Uc=A.m(p,E);
E+=4;k.Wd=A.m(p,E);E+=4;D=10}if(k.type==1||k.type==2||k.type==4||k.type==5){var P,e;e=K(p,E);E+=4;P=K(p,E);
E+=4;k.Xe=new X(P*Q,e*t);e=K(p,E);E+=4;P=K(p,E);E+=4;k.i=new X(P*Q,e*t);e=K(p,E);E+=4;P=K(p,E);E+=4;
k.k$=new X(P*Q,e*t);D=0}for(var Y=0;Y<D;Y++)if(p[E+Y]!=0){console.log("Unexpected non-zero byte!",k,Y,p[E+Y])}}return T};
Ck.eK=function(p,a,R,Q,t){var N=A.tp,K=A.qe,T=R.length;for(var d=0;d<T;d++){var y=a+d*26,E=R[d];N(p,y,E.type);
y+=2;if(E.type==6){}if(E.type==8)N(p,y,E.all);if(E.type==0||E.type==3){N(p,y,E.length);y+=2;N(p,y,E.gu);
y+=2;N(p,y,E.Xt);y+=2}if(E.type==1||E.type==2||E.type==4||E.type==5){K(p,y,E.Xe.y/t);y+=4;K(p,y,E.Xe.x/Q);
y+=4;K(p,y,E.i.y/t);y+=4;K(p,y,E.i.x/Q);y+=4;K(p,y,E.k$.y/t);y+=4;K(p,y,E.k$.x/Q);y+=4}}};function YB(){}YB.Hi=function(p){var a=new Uint8Array(p),R=[],Q=0;
Q=YB.Bt(a,Q,R);if(Q+3<a.length){R=[];Q=YB.Bt(a,Q,R)}return R};YB.Bt=function(p,a,R){var Q=A.rt,t=A.eh,N=Q(p,a);
a+=2;var K=Q(p,a);a+=2;for(var T=0;T<K;T++){var d=YB.mq(p,a);a+=10;if(N==2){d.QV=A.Oj(p,a);a+=4+d.QV.length*2+2}R.push(d)}return a};
YB.mq=function(p,a){var R=A.rt,Q=A.eh,t=R(p,a),P=null;a+=2;var N=R(p,a);a+=2;var K=R(p,a);a+=2;var T=R(p,a);
a+=2;var d=R(p,a);a+=2;var y=1/65535,E=255/65535,k=100/65535,D=255/1e4;if(t==0)P={D:N*E,X:K*E,N:T*E};
else if(t==1){P=S.Hv(N*y,K*y,T*y);P.D*=255;P.X*=255;P.N*=255}else if(t==2)P=S.e.gc({classID:"CMYC",Cyn:{t:"doub",v:100-N*k},Mgnt:{t:"doub",v:100-K*k},Ylw:{t:"doub",v:100-T*k},Blck:{t:"doub",v:100-d*k}});
else if(t==7){var e=S.cT(N/100,Q(p,a-6)/100,Q(p,a-4)/100);P=e}else if(t==8){P={D:255-N*D,X:255-K*D,N:255-T*D}}else throw"e "+t+", ";
return P};YB.sm=function(p){var a=new Cq,R=0,Q=A.Pm;Q(a,R,2);R+=2;Q(a,R,p.length);R+=2;for(var t=0;t<p.length;
t++){var N=p[t];a.rm(R,10);YB.CQ(a.data,R,N);R+=10;var K=(N.QV?N.QV:"")+"\0";A.Jf(a,R,K);R+=4+K.length*2}return a.data.slice(0,R).buffer};
YB.wt=function(p,a){p.QV=a};YB.CQ=function(p,a,R){var Q=65535/255,t=A.JJ;t(p,a,0);t(p,a+2,Math.round(R.D*Q));
t(p,a+4,Math.round(R.X*Q));t(p,a+6,Math.round(R.N*Q));t(p,a+8,0)};function dT(){}dT.Hi=function(p){var a=new Uint8Array(p),R=4,Q={};
Q.LS=A.Oj(a,R);R+=4+Q.LS.length*2+2;Q.exp=a[R++]==1;Q.c=[];var t=A.m(a,R);R+=4;for(var N=0;N<t;N++){var K={};
Q.c.push(K);K.Yo=A.rt(a,R);R+=2;K.shift=a[R++]==1;K.SRc=a[R++]==1;K.color=A.rt(a,R);R+=2;K.LS=A.Oj(a,R);
R+=4+K.LS.length*2+2;K.exp=a[R++]==1;K.c=[];var KI=A.m(a,R);R+=4;for(var T=0;T<KI;T++){var d={};K.c.push(d);
d.exp=a[R++]==1;d.J=a[R++]==1;d.SIl=a[R++]==1;d.SIv=a[R++];var y=A.GG(a,R,4);R+=4;if(y=="TEXT"){d.zt=dT.CP(a,R);
R+=4+d.zt.length}else if(y=="long"){d.zt=A.GG(a,R,4);R+=4}else throw"e";d._B=dT.CP(a,R);R+=4+d._B.length;
var E=A.Cd(a,R);R+=4;if(E==-1){d.UD={};var k=gb.Rj(a,d.UD,R);R+=k}}}console.log(Q);var D=new Uint8Array(dT.sm(Q));
for(var N=0;N<D.length;N++)if(D[N]!=a[N]){console.log(D.length,a.length);var P=4*(N>>>2)-16;console.log(A.te(a,P,64));
console.log(A.te(D,P,64));console.log(a.slice(P,P+64));console.log(D.slice(P,P+64));throw N}console.log(Q);
return[Q]};dT.CP=function(p,a){var R=A.m(p,a);return A.GG(p,a+4,R)};dT.Ba=function(p,a,R){A.GR(p,a,R.length);
A.Rv(p,a+4,R)};dT.sm=function(p){var a=new Cq,R=0;A.GR(a,R,16);R+=4;A.Jf(a,R,p.LS+"\0");R+=4+p.LS.length*2+2;
a.rm(R,1);a.data[R++]=p.exp?1:0;var Q=p.c.length;A.GR(a,R,Q);R+=4;for(var t=0;t<Q;t++){var N=p.c[t];
A.Pm(a,R,N.Yo);R+=2;a.rm(R,2);a.data[R++]=N.shift?1:0;a.data[R++]=N.SRc?1:0;A.Pm(a,R,N.color);R+=2;A.Jf(a,R,N.LS+"\0");
R+=4+N.LS.length*2+2;a.rm(R,1);a.data[R++]=N.exp?1:0;var KI=N.c.length;A.GR(a,R,KI);R+=4;for(var K=0;
K<KI;K++){var T=N.c[K];a.rm(R,4);a.data[R++]=T.exp?1:0;a.data[R++]=T.J?1:0;a.data[R++]=T.SIl?1:0;a.data[R++]=T.SIv;
var d=T.zt=="LqFy"||T.zt=="Avrg"||T.zt=="GEfc"||T.zt=="PbPl";A.Rv(a,R,d?"long":"TEXT");R+=4;if(!d){dT.Ba(a,R,T.zt);
R+=4+T.zt.length}else{A.Rv(a,R,T.zt);R+=4}dT.Ba(a,R,T._B);R+=4+T._B.length;A.X_(a,R,T.UD?-1:0);R+=4;
if(T.UD){var y=gb.oQ(a,T.UD,R);R+=y}}}return a.data.slice(0,R).buffer};function Y_(){}Y_.Hi=function(p){var a=new Uint8Array(p),R=0,Q=A.m(a,R),d;
R+=4;var t=A.GG(a,R,8);R+=8;var N=A.vk(a,R);R+=4;var K=A.vk(a,R);R+=4;var T=A.vk(a,R);R+=4;if(Q==2){d=new Float32Array(p,32,p.byteLength-32>>>2)}else if(Q==3||Q==4){d=new Float32Array(K*T*2);
var y=0,E=0,k=!0;R=Q==3?32:16+8+40;while(R<a.length){var D=A.vk(a,R);R+=4;if(k)E+=D;else{for(var P=0;
P<D;P++){d[y+E+P<<1]=A.H$(a,R);d[(y+E+P<<1)+1]=A.H$(a,R+4);R+=8}E+=D}k=!k;if(D!=0&&E==K){y+=K;E=0;k=!0;
if(y==K*T)break}}}else throw"unknown Mesh version: "+Q;return{Xs:K,hZ:T,map:d}};Y_.MM=function(p){var a=p.Xs,R=p.hZ,Q=p.map,t=new Uint8Array(32+R*a*8+R*8),N=0,K=0;
A.ye(t,N,3);N+=4;A.XX(t,N,"yfqLhseM");N+=8;A.tK(t,N,2);N+=4;A.tK(t,N,a);N+=4;A.tK(t,N,R);N+=4;A.tK(t,N,0);
N+=4;A.tK(t,N,1);N+=4;for(var T=0;T<R;T++){A.tK(t,N,0);N+=4;A.tK(t,N,a);N+=4;for(var d=0;d<a;d++){A.HX(t,N,Q[K]);
A.HX(t,N+4,Q[K+1]);K+=2;N+=8}}return t.buffer};function lY(){}lY.Hi=function(p){var a=new Uint8Array(p),R=0,Q=A.GG(a,R,4);
R+=4;var t=A.rt(a,R);R+=2;var N=A.m(a,R);R+=4;var K=[];for(var T=0;T<N;T++){var d=A.m(a,R);R+=4;var y={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
K.push(y);var E=A.Oj(a,R);y.Nm.v=E;R+=4+E.length*2+2;var k=A.rt(a,R);R+=2;var D=A.rt(a,R);R+=2;for(var P=0;
P<D;P++){var e=S.ps.mi(0,0,!0);e.v.Vrtc.v=A.rt(a,R);R+=2;e.v.Hrzn.v=A.rt(a,R);R+=2;y.Crv.v.push(e)}if(d==1){}else if(d==2){for(var P=0;
P<D;P++){y.Crv.v[P].v.Cnty.v=a[R]==1;R+=1}}else throw"error";var Y=A.m(a,R);R+=4;var O=A.m(a,R);R+=4}return K};
lY.wt=function(p,a){p.Nm.v=a};lY.sm=function(p){var a=new Cq,R=0;A.Rv(a,R,"8BFS");R+=4;A.Pm(a,R,1);R+=2;
A.GR(a,R,p.length);R+=4;for(var Q=0;Q<p.length;Q++){A.GR(a,R,2);R+=4;var t=p[Q];A.Jf(a,R,t.Nm.v+"\0");
R+=4+t.Nm.v.length*2+2;A.Pm(a,R,2);R+=2;var N=t.Crv.v.length;A.Pm(a,R,N);R+=2;for(var K=0;K<N;K++){var T=t.Crv.v[K];
A.Pm(a,R,T.v.Vrtc.v);R+=2;A.Pm(a,R,T.v.Hrzn.v);R+=2}a.rm(R,N);for(var K=0;K<N;K++){a.data[R]=t.Crv.v[K].v.Cnty.v;
R++}A.GR(a,R,0);R+=4;A.GR(a,R,0);R+=4}return a.data.slice(0,R).buffer};function St(){}St.Hi=function(p){var a=new Uint8Array(p),R=4,Q=A.rt(a,R);
R+=2;var t=A.m(a,R);R+=4;var N=[];for(var K=0;K<t;K++){var T={};N.push(T);R=St.BQ(a,R,T)}return N};St.wt=function(p,a){p.name=a};
St.sm=function(p){var a=new Cq,R=0;A.Rv(a,R,"8BPT");R+=4;A.Pm(a,R,1);R+=2;A.GR(a,R,p.length);R+=4;for(var Q=0;
Q<p.length;Q++){R=St.Bw(a,R,p[Q])}return a.data.slice(0,R).buffer};St.BQ=function(p,a,R){var Q=A.m(p,a);
a+=4;if(Q!=1)alert("Unknown version of pattern");var t=A.m(p,a);a+=4;if(t!=1&&t!=2&&t!=3)console.log("Unsupported mode of pattern: "+t);
var N=A.rt(p,a);a+=2;var K=A.rt(p,a);a+=2;R.I=new x(0,0,K,N);R.name=A.Oj(p,a);a+=4+2*R.name.length+2;
var T=p[a];a++;R.id=A.GG(p,a,T);a+=R.id.length;var d=-1;if(t==2){d=a;a+=3*256+4}var y=new S.LV(K*N);
a=St.SBr(p,a,y);if(t==2){for(var E=0;E<y.D.length;E++){var k=3*y.D[E];y.D[E]=p[d+k+0];y.X[E]=p[d+k+1];
y.N[E]=p[d+k+2]}}R.Yz=S.p(R.I.u()*4);S.Pe(y,R.Yz);return a};St.Bw=function(p,a,R){A.GR(p,a,1);a+=4;A.GR(p,a,3);
a+=4;A.Pm(p,a,R.I.T);a+=2;A.Pm(p,a,R.I.C);a+=2;A.Jf(p,a,R.name+"\0");a+=4+2*R.name.length+2;A.GO(p,a,R.id.length);
a++;A.Rv(p,a,R.id);a+=R.id.length;var Q=new S.LV(R.I.u());S.Pi(R.Yz,Q);a=St.SBs(p,a,Q,R);return a};St.SBr=function(p,a,R){var Q=a,t={I:null,mC:[],SID:null,LF:null},N=A.m(p,a);
a+=4;var K=A.m(p,a);a+=4;t.I=A.mm(p,a);a+=16;var T=A.m(p,a);a+=4;for(var d=0;d<T+2;d++){var y=A.m(p,a);
a+=4;if(y==0)continue;var E=A.m(p,a);a+=4;if(E==0)continue;var k=A.m(p,a);a+=4;var D=A.mm(p,a);a+=16;
var P=A.rt(p,a);a+=2;var e=p[a];a++;var Y=SN.CV(!1,k,p,D.C,D.T,a,e);if(d<T)t.mC.push(Y);if(d==T)t.SID=Y;
if(d==T+1)t.LF=Y;a+=E-23}if(!t.I.RJ()){if(t.mC[0])R.D=t.mC[0];if(t.mC[1])R.X=t.mC[1];else R.X=S.clone(t.mC[0]);
if(t.mC[2])R.N=t.mC[2];else R.N=S.clone(t.mC[0]);if(t.LF)R.Eu=t.LF;else S.set(R.Eu,255)}return a};St.SBs=function(p,a,R,Q){var t=a,N={I:Q.I,mC:[R.D,R.X,R.N],SID:null,LF:R.Eu};
A.GR(p,a,3);a+=4;A.GR(p,a,0);a+=4;A.js(p,a,N.I);a+=16;A.GR(p,a,24);a+=4;for(var K=0;K<24+2;K++){var T=a,d=K<3||K==25?1:0;
A.GR(p,a,d);a+=4;if(d==0)continue;A.GR(p,a,0);a+=4;A.GR(p,a,8);a+=4;A.js(p,a,N.I);a+=16;A.Pm(p,a,8);
a+=2;A.GO(p,a,1,1);a++;var y=K<3?N.mC[K]:N.LF;p.rm(a,Q.I.u()+2);a=SN.JP(y,p.data,Q.I.C,Q.I.T,a,1);A.GR(p,T+4,a-T-8)}A.GR(p,t+4,a-t-8);
return a};function pT(){}pT.Hi=function(p){var a=new Uint8Array(p),R=0,Q=A.GG(a,R,4);R+=4;var t=A.rt(a,R);
R+=2;var N=[];if(t<=3){var K=A.rt(a,R);R+=2;for(var T=0;T<K;T++){var d=a[R++],y=A.GG(a,R,d);R+=d;var E=pT.BD(a,R,y),k=E[0];
R=E[1];N.push(k);R+=6}}else{var E={},D=gb.Rj(a,E,R+4),P=E.GrdL.v;for(var T=0;T<P.length;T++)N[T]=P[T].v.Grad.v}return N};
pT.wt=function(p,a){p.Nm.v=a};pT.sm=function(p){var a=new Cq,R=0;A.Rv(a,R,"8BGR");R+=4;A.Pm(a,R,5);R+=2;
A.GR(a,R,16);R+=4;var Q={classID:"null",GrdL:{t:"VlLs",v:[]}},t=Q.GrdL.v;for(var N=0;N<p.length;N++)t[N]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:p[N]}}};
R+=gb.oQ(a,Q,R);return a.data.slice(0,R).buffer};pT.BD=function(p,a,R){var Q={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:R},Trns:{t:"VlLs",v:[]}},t=A.rt(p,a);
a+=2;if(t==0)throw"e";for(var N=0;N<t;N++){var K=A.m(p,a),T=A.m(p,a+4),d=YB.mq(p,a+8),y={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:d.D},Grn:{t:"doub",v:d.X},Bl:{t:"doub",v:d.N}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:K},Mdpn:{t:"long",v:T}}};
Q.Clrs.v.push(y);a+=20}var E=A.rt(p,a);a+=2;for(var N=0;N<E;N++){var K=A.m(p,a),T=A.m(p,a+4),k=A.rt(p,a+8),y={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*k/255)}},Lctn:{t:"long",v:K},Mdpn:{t:"long",v:T}}};
Q.Trns.v.push(y);a+=10}return[Q,a]};pT.SBH=function(p,a,R){var Q=R.Clrs.v.length;A.Pm(p,a,Q);a+=2;for(var t=0;
t<Q;t++){var N=R.Clrs.v[t];A.GR(p,a,N.v.Lctn.v);A.GR(p,a+4,N.v.Mdpn.v);A.Pm(p,a+8,0);var K=S.e.HW(S.e.gc(N.v.Clr.v)),T=[K.Rd.v,K.Grn.v,K.Bl.v,0];
for(var d=0;d<4;d++)A.Pm(p,a+10+d*2,Math.round(65535*(T[d]/255)));a+=20}var y=R.Trns.v.length;A.Pm(p,a,y);
a+=2;for(var t=0;t<y;t++){var N=R.Trns.v[t];A.GR(p,a,N.v.Lctn.v);A.GR(p,a+4,N.v.Mdpn.v);A.Pm(p,a+8,Math.round(255*N.v.Opct.v.val/100));
a+=10}return a};function rE(){}rE.Hi=function(p){var a=new Uint8Array(p),R=[],Q=[],t=[],N=0,K=A.GG(a,N,4);
N+=4;var T=A.m(a,N);N+=4;var d=A.m(a,N);N+=4;while(N<a.length){var y=A.GG(a,N,4);N+=4;var E=A.GG(a,N,4);
N+=4;var k=A.m(a,N);N+=4;if(E=="tppa"){Q=dR.JB(a,N,k);N+=k}else if(E=="tpbd"){t=dR.BW(a,N,k,1,1);N+=k}else if(E=="tptp"){var D=A.m(a,N);
N+=4;for(var P=0;P<D;P++){var e=A.Oj(a,N);N+=6+e.length*2;N+=4;var Y={};N+=gb.Rj(a,Y,N);R.push([e,Y])}while((N&3)!=0)N++}else{console.log(a.slice(N-8,N+64));
console.log(A.GG(a,N-8,64));throw E}}return{mp:t,rw:Q,list:R}};rE.wt=function(p,a){p[0]=a};rE.sm=function(p){var a=new Cq,R=0;
A.Rv(a,R,"8BTP");R+=4;A.GR(a,R,3);R+=4;A.GR(a,R,1);R+=4;var Q=[p.rw,p.mp,p.list];for(var t=0;t<3;t++){if(Q[t].length==0)continue;
A.Rv(a,R,"8BIM");R+=4;var N=["tppa","tpbd","tptp"][t];A.Rv(a,R,N);R+=4;var K=R;R+=4;if(N=="tppa"){R=dR.JX(a,R,p.rw)}else if(N=="tpbd"){R=dR.BO(a,R,p.mp)}else if(N=="tptp"){A.GR(a,R,p.list.length);
R+=4;for(var T=0;T<p.list.length;T++){var d=p.list[T];A.Jf(a,R,d[0]+"\0");R+=6+d[0].length*2;A.GR(a,R,16);
R+=4;R+=gb.oQ(a,d[1],R)}}A.GR(a,K,R-K-4);while((R&3)!=0)R++;a.rm(R,0)}return a.data.slice(0,R).buffer};
function dg(){}dg.Hi=function(p,a){var R=new Uint8Array(p),Q;if(A.m(R,0)==R.length)Q="icc";else if(R[0]=="<".charCodeAt(0))Q="look";
else if(A.HY(R,"LUT_3D_SIZE")!=-1)Q="cube";else Q="3DL";if(Q!="icc"){var t=dg.SqZ(R,Q),N=dg.SBJ(t[0],t[1]);
R=N}var K=[];for(var T=0;T<R.length;T++)K.push(R[T]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:a?a:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:K}}]};
dg.sm=function(p){var a=p[0],R=new Uint8Array(a.profile.v);return R.buffer};dg.wt=function(p,a){p.Nm.v=a};
dg.SBJ=function(p,a){var R=new Cq,Q=128;R.rm(0,128);var t=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var N=0;N<t.length;N++)R.data[N]=t[N];var K=["desc","A2B0"],T=K.length,d=128+4+T*12;A.GR(R,Q,T);
Q+=4;for(var y=0;y<T;y++){var E=K[y];A.Rv(R,Q,E);Q+=4;A.GR(R,Q,d);Q+=4;var k=d;if(E=="desc"){A.Rv(R,k,"mluc");
k+=4;k+=4;A.GR(R,k,1);k+=4;A.GR(R,k,12);k+=4;A.Rv(R,k,"enUS");k+=4;var D="ICC by Photopea\0",P=D.length*2+2;
A.GR(R,k,P);k+=4;A.GR(R,k,28);k+=4;R.rm(k,P);for(var N=0;N<D.length;N++)R.data[k+N*2+1]=D.charCodeAt(N);
k+=P}if(E=="A2B0"){A.Rv(R,k,"mAB ");k+=4;k+=4;R.rm(k,4);R.data[k]=3;R.data[k+1]=3;k+=4;R.rm(k,4*5);k+=4*3;
A.GR(R,k,k+8-d);k+=4;k+=4;R.rm(k,20);R.data[k]=p;R.data[k+1]=p;R.data[k+2]=p;k+=16;R.data[k]=2;k+=4;
var e=p*p*p*3;R.rm(k,e*2);for(var N=0;N<e;N++)A.JJ(R.data,k+N*2,Math.max(0,Math.min(65535,Math.round(a[N]*65535))));
k+=e*2}var Y=k-d;while((Y&3)!=0)Y++;A.GR(R,Q,Y);Q+=4;d+=Y}A.GR(R,0,d);return R.data.slice(0,d)};dg.SqZ=function(p,a){a="LUTFormat"+a.toUpperCase();
var R=[],Q=0,t=A.ng(p,0,p.length),N="";for(var K=0;K<p.length&&N=="";K++){if(p[K]==10)N="\n";else if(p[K]==13){N="\r";
if(p[K+1]==10)N+="\n"}}if(a=="LUTFormatCUBE"){var T=t.split(N);for(var K=0;K<T.length;K++){if(T[K]==""||T[K][0]=="#")continue;
var d=T[K].split(" "),y=d[0];if(y=="LUT_3D_SIZE"){Q=parseInt(d[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(y)!=-1)continue;
R.push(parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]))}R=dg.BG(Q,R)}else if(a=="LUTFormat3DL"){var T=t.split(N),E=1/4095;
for(var K=0;K<T.length;K++){var k=T[K];if(k==""||k=="3DMESH"||k.startsWith("Mesh")||k[0]=="#")continue;
var d=k.split(" "),y=d[0];if(Q==0){Q=d.length;continue}R.push(parseFloat(d[0])*E,parseFloat(d[1])*E,parseFloat(d[2])*E)}}else if(a=="LUTFormatLOOK"){var D=new DOMParser,P=D.parseFromString(t,"text/xml"),e=P.getElementsByTagName("LUT")[0],Y=e.children[0].textContent;
Q=parseInt(JSON.parse(Y));var O=e.children[1].textContent;O=O.replace(/"/g,"").replace(/\s/g,"");var W=3*Q*Q*Q,w=W*4,g=new Uint8Array(w);for(var K=0;K<w;K++){var J=O.charCodeAt(K*2),U=O.charCodeAt(K*2+1),H=J<58?J-48:J-55,f=U<58?U-48:U-55;g[K]=(H<<4)+f}for(var K=0;K<W;K++)R.push(A.H$(g,K<<2));R=dg.BG(Q,R)}else throw a;return[Q,R]};dg.BG=function(p,a){var R=[],Q=p*p*p;for(var t=0;t<Q;t++)R.push(0,0,0);for(var N=0;N<p;N++)for(var K=0;K<p;K++)for(var T=0;T<p;T++){var t=3*(T+K*p+N*p*p),d=3*(N+K*p+T*p*p);R[d]=a[t];R[d+1]=a[t+1];R[d+2]=a[t+2]}return R};function gb(){}gb.Rj=function(p,a,R,Q,t){var N=R,K;if(t==null)t=0;var T=A.m(p,R);if(T==0){K="";R+=4}else{K=A.Oj(p,R);R+=4+2*K.length+2}if(K!="")a.__name=K;a.classID=gb.Fw(p,R);if(Q)console.log("\t".repeat(t),"- reading descriptor",a.classID,R);R+=gb.Fu(p,R);var d=A.Cd(p,R);R+=4;for(var y=0;y<d;y++){var E=gb.Fw(p,R);R+=gb.Fu(p,R);var k=gb.BE(p,R,Q,t);a[E]=k;R+=k.size;delete k.size}return R-N};gb.oQ=function(p,a,R,Q){var t=R,N=a.__name;if(N==null)N="";N+="\0";A.Jf(p,R,N);R+=4+2*N.length;gb.Fn(p,R,a.classID);R+=gb.Fu(p.data,R);A.X_(p,R,Object.keys(a).length-1-(a.__name==null?0:1));R+=4;for(var K in a){if(K=="classID")continue;if(K=="__name")continue;gb.Fn(p,R,K);R+=gb.Fu(p.data,R);R+=gb.Bm(p,R,a[K])}return R-t};gb.BE=function(p,a,R,Q){var t=a,N=A.GG(p,a,4);a+=4;var K={size:0,t:N,v:null};if(R)console.log("\t".repeat(Q),"reading key",N,t);switch(N){case"obj ":case"VlLs":K.v=[];var T=A.m(p,a);a+=4;for(var d=0;d<T;d++){var y=gb.BE(p,a,R,Q+1);a+=y.size;delete y.size;K.v.push(y)}break;case"UntF":K.v={type:A.GG(p,a,4),val:A.zT(p,a+4)};a+=12;break;case"doub":K.v=A.zT(p,a);a+=8;break;case"bool":K.v=p[a]==1;a+=1;break;case"long":K.v=A.Cd(p,a);a+=4;break;case"comp":K.v=A.Cd(p,a+4);a+=8;break;case"Objc":K.v={};var E=gb.Rj(p,K.v,a,R,Q+1);a+=E;break;case"TEXT":var k=A.m(p,a);if(k==0){K.v="";a+=4}else{K.v=A.Oj(p,a);a+=4+K.v.length*2+2}break;case"enum":var D=gb.Fw(p,a);a+=gb.Fu(p,a);var P=gb.Fw(p,a);a+=gb.Fu(p,a);K.v={};K.v[D]=P;break;case"tdta":var e=A.Cd(p,a);a+=4;K.v=[];for(var d=0;d<e;d++)K.v.push(p[a+d]);a+=e;break;case"ObAr":var Y=A.m(p,a);a+=4;var O=A.Oj(p,a);a+=4+2*O.length+2;if(O!="")throw O;var W=gb.Fw(p,a);a+=4+Math.max(4,W.length);K.v={classID:W,arr:[]};var w=A.m(p,a);a+=4;for(var d=0;d<w;d++){var W=gb.Fw(p,a);a+=4+Math.max(4,W.length);var D=A.GG(p,a,4);a+=4;var g=A.GG(p,a,4);a+=4;var J={id:W,type:D,uID:g,arr:[]};K.v.arr.push(J);var U=A.m(p,a,4);a+=4;for(var H=0;H<U;H++){var f=A.zT(p,a);a+=8;J.arr.push(f)}}break;case"Pth ":var j=a,e=A.m(p,a);a+=4;var I=A.GG(p,a,4);a+=4;var L=A.vk(p,a);a+=4;var C=A.ShK(p,a);a+=4+C.length*2;K.v={sig:I,pth:C};break;case"Clss":case"type":case"rele":var C=A.Oj(p,a);a+=4+C.length*2+2;var v=gb.Fw(p,a);a+=4+Math.max(4,v.length);K.v={classID:v};if(C!="")K.v.__name=C;if(N=="rele"){K.v.val=A.Cd(p,a);a+=4}break;case"prop":case"Enmr":case"indx":case"name":var o=gb.Jm[N],C=A.Oj(p,a);a+=4+C.length*2+2;if(C.length!=0){console.log(N,C);throw"e"}K.v={};for(var d=0;d<o.length;d++){var v=gb.Fw(p,a);a+=4+Math.max(4,v.length);K.v[o[d]]=v}if(N=="name"){var C=A.Oj(p,a);a+=4+C.length*2+2;K.v.val=C}if(N=="indx"){K.v.val=A.m(p,a);a+=4}break;case"alis":var e=A.m(p,a);a+=4;K.v=A.GG(p,a,e);a+=e;break;default:{console.log("unknown oskey: "+N+", "+t);throw"e";return K}}if(R){console.log("\t".repeat(Q),K.v);console.log("\t".repeat(Q),"======",a)}K.size=a-t;return K};gb.Jm={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};gb.Bm=function(p,a,R){var Q=a,t=R.t;R=R.v;A.Rv(p,a,t);a+=4;switch(t){case"obj ":case"VlLs":A.X_(p,a,R.length);a+=4;for(var N=0;N<R.length;N++){var K=gb.Bm(p,a,R[N]);a+=K}break;case"UntF":A.Rv(p,a,R.type);A.bC(p,a+4,R.val);a+=12;break;case"doub":A.bC(p,a,R);a+=8;break;case"bool":A.GO(p,a,R?1:0,1);a+=1;break;case"long":A.X_(p,a,R);a+=4;break;case"comp":A.X_(p,a+4,R);a+=8;break;case"Objc":var K=gb.oQ(p,R,a);a+=K;break;case"TEXT":A.Jf(p,a,R+"\0");a+=4+R.length*2+2;break;case"enum":var T=Object.keys(R)[0],d=R[T];gb.Fn(p,a,T);a+=gb.Fu(p.data,a);gb.Fn(p,a,d);a+=gb.Fu(p.data,a);break;case"tdta":A.GR(p,a,R.length);a+=4;A.ip(p,a,R);a+=R.length;break;case"ObAr":A.GR(p,a,R.arr[0].arr.length);a+=4;A.Jf(p,a,"\0");a+=6;gb.Fn(p,a,R.classID);a+=4+Math.max(4,R.classID.length);A.GR(p,a,R.arr.length);a+=4;for(var y=0;y<R.arr.length;y++){var E=R.arr[y];gb.Fn(p,a,E.id);a+=4+Math.max(4,E.id.length);A.Rv(p,a,E.type);a+=4;A.Rv(p,a,E.uID);a+=4;A.GR(p,a,E.arr.length);a+=4;for(var N=0;N<E.arr.length;N++){A.bC(p,a,E.arr[N]);a+=8}}break;case"Pth ":var k=R.pth.length*2+4+8;A.GR(p,a,k);a+=4;A.Rv(p,a,R.sig);a+=4;A.Fj(p,a,k);a+=4;A.Shs(p,a,R.pth);a+=R.pth.length*2+4;break;case"Clss":case"type":case"rele":var D=R.__name;if(D==null)D="";A.Jf(p,a,D+"\0");a+=4+D.length*2+2;var P=R.classID;gb.Fn(p,a,P);a+=4+Math.max(4,P.length);if(t=="rele"){A.X_(p,a,R.val);a+=4}break;case"prop":case"Enmr":case"indx":case"name":var e=gb.Jm[t];A.GR(p,a,1);a+=6;for(var y=0;y<e.length;y++){var P=R[e[y]];gb.Fn(p,a,P);a+=4+Math.max(4,P.length)}if(t=="name"){A.Jf(p,a,R.val+"\0");a+=4+R.val.length*2+2}if(t=="indx"){A.GR(p,a,R.val);a+=4}break;case"alis":var k=R.length;A.GR(p,a,k);a+=4;A.Rv(p,a,R);a+=k;break;default:console.log("unknown oskey: "+t);a=Q;break}return a-Q};gb.Fw=function(p,a){var R=A.Cd(p,a);if(R>1e3)throw"e";if(R==0)R=4;return A.GG(p,a+4,R).trim()};gb.Fu=function(p,a){var R=A.Cd(p,a);return R==0?8:4+R};gb.Fn=function(p,a,R){var Q="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),t=4<R.length||Q.indexOf(R)!=-1;A.X_(p,a,t?R.length:0);A.Rv(p,a+4,R);if(R.length<4&&!t){var N="";for(var K=R.length;K<4;K++)N+=" ";A.Rv(p,a+4+R.length,N)}};gb.SqK=function(p){var a={};for(var R in p){if(R=="classID")a[R]=p[R];else if(R=="__name")a[R]=p[R];else a[R]=gb.Bu(p[R])}return a};gb.Bu=function(p){if(p.GY=="Objc")return gb.SqK(p.v);else if(p.GY=="VlLs"){var a=[];for(var R=0;R<p.v.length;R++)a.push(gb.Bu(p.v[R]));return a}else if(p.GY=="UntF")return p.v.val;else return p.v};function pC(){}pC.BP=function(p,a,R,Q,t,N){while(a<R){var K=A.GG(p,a,4);a+=4;if(K!="8BIM"&&K!="8B64"){console.log("layer information signature error! "+K,"PSB = "+t);alert("Error in PSD file: wrong signature.");return R}var T=A.GG(p,a,4);a+=4;var d=A.Cd(p,a);a+=4;if(t&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(T)!=-1){d=d<<32|A.Cd(p,a);a+=4}if(t&&["pths"].indexOf(T)!=-1){d=d<<32|A.Cd(p,a);a+=4}var y=["lrFX","PlLd"];if(y.indexOf(T)!=-1){if(d%4!=0)d+=4-d%4;a+=d;continue}switch(T){case"iOpa":Q[T]=p[a];break;case"brst":Q[T]=[1,1,1];for(var E=0;E<d;E+=4)Q[T][A.m(p,a+E)]=0;break;case"knko":Q[T]=p[a];break;case"infx":Q[T]=p[a];break;case"clbl":Q[T]=p[a];break;case"lmgm":Q[T]=p[a];break;case"vmgm":Q[T]=p[a];break;case"lyid":Q[T]=A.m(p,a);break;case"lsct":Q[T]={type:A.m(p,a)};if(d>=12)Q[T].bQ=A.GG(p,a+8,4);break;case"lsdk":Q.lsct={type:A.m(p,a)};break;case"lyvr":Q[T]=A.m(p,a);break;case"lnsr":var k={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};Q[T]=A.GG(p,a,4);break;case"lspf":Q[T]=A.m(p,a);break;case"lclr":Q[T]=A.rt(p,a);break;case"luni":Q[T]=A.cj(p,a);break;case"fxrp":Q[T]=new X(A.zT(p,a),A.zT(p,a+8));break;case"artb":case"artd":Q[T]={};gb.Rj(p,Q[T],a+4);break;case"SoCo":Q[T]={};gb.Rj(p,Q[T],a+4);break;case"GdFl":Q[T]={};gb.Rj(p,Q[T],a+4);pC.el(Q[T],T);break;case"PtFl":Q[T]={};gb.Rj(p,Q[T],a+4);pC.el(Q[T],T);break;case"CgEd":var D=Q.brit=gw.gD("brit"),P={};gb.Rj(p,P,a+4);D.Brgh.v=P.Brgh?P.Brgh.v:0;D.Cntr.v=P.Cntr?P.Cntr.v:0;D.useLegacy.v=P.useLegacy?P.useLegacy.v:0;break;case"brit":if(Q.brit==null){var D=Q.brit=gw.gD("brit"),P={};D.Brgh.v=A.eh(p,a);D.Cntr.v=A.eh(p,a+2);D.useLegacy.v=!1}break;case"levl":var e=p.buffer.slice(a,a+d);Q[T]=dO.Hi(e);break;case"curv":Q[T]=dW.CS(p,a,d);break;case"expA":var Y=A.rt(p,a),O=Q[T]=gw.gD("expA");O.Exps.v=A.jr(p,a+2);O.Ofst.v=A.jr(p,a+6);O.gammaCorrection.v=A.jr(p,a+10);break;case"vibA":Q[T]={};gb.Rj(p,Q[T],a+4);break;case"hue2":Q[T]=Sj.CS(p,a,d);break;case"blnc":var O=Q[T]=gw.gD(T);O.PrsL.v=p[a+18]==1;var W=["ShdL","MdtL","HghL"];for(var E=0;E<3;E++)for(var w=0;w<3;w++)O[W[E]].v[w].v=A.eh(p,a+E*6+w*2);break;case"blwh":var g={};gb.Rj(p,g,a+4);var O=gw.gD(T),J="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var E=0;E<J.length;E++){O[J[E]]=g[J[E]];delete g[J[E]]}Q[T]=O;break;case"phfl":var O=Q[T]=gw.gD(T),U=O.Clr.v,Y=A.rt(p,a);if(Y==3){var H=[A.m(p,a+2),A.m(p,a+6),A.m(p,a+10)],f=32768,j=S.cO(H[0]/f,H[1]/f,H[2]/f);U.Lmnc.v=j.Oe;U.A.v=j.Eu;U.B.v=j.N}if(Y==2){var I=A.rt(p,a+2);if(I!=7)throw"e";U.Lmnc.v=A.eh(p,a+4)/100;U.A.v=A.eh(p,a+6)/100;U.B.v=A.eh(p,a+8)/100}var L=a+2+(Y==3?12:10);O.Dnst.v=A.m(p,L);L+=4;O.PrsL.v=p[L]==1;break;case"mixr":var C={yW:A.rt(p,a+2)==1,Z:[]};for(var E=0;E<20;E++)C.Z.push(A.eh(p,a+4+E*2));Q[T]=gA.SHB(C);break;case"clrL":case"rplc":Q[T]={};gb.Rj(p,Q[T],a+6);break;case"nvrt":Q[T]={};break;case"post":Q[T]=gw.gD("post");Q[T].Lvls.v=A.rt(p,a);break;case"thrs":Q[T]=gw.gD("thrs");Q[T].Lvl.v=A.rt(p,a);break;case"grdm":var v={rev:p[a+2]==1,Sem:p[a+3]==1},o=a+4,Z=A.cj(p,o);o+=4+Z.length*2;var B=pT.BD(p,o,Z),s=B[0];o=B[1];var q=A.rt(p,o);o+=2;s.Intr.v=A.rt(p,o);o+=2;var F=A.rt(p,o);o+=2;v.mode=A.rt(p,o);o+=2;v.IV=A.m(p,o);o+=4;v.Se_=A.rt(p,o)==1;o+=2;v.Sej=A.rt(p,o)==1;o+=2;v.SfW=A.m(p,o);o+=4;v.Sfw=A.rt(p,o);o+=2;v.Al=[];for(var E=0;E<4;E++)v.Al.push(A.rt(p,o+E*2));o+=8;v.As=[];for(var E=0;E<4;E++)v.As.push(A.rt(p,o+E*2));o+=8;var b=A.rt(p,o);o+=2;var G=gw.gD("grdm");G.Rvrs.v=v.rev;G.Grad.v=s;Q[T]=G;break;case"selc":Q[T]=dJ.CS(p,a,d);break;case"vmsk":case"vsms":var u=Q.vmsk=new l.IC,h=A.Cd(p,a+4),z=(h>>0&1)==1;u.XI=(h>>1&1)==0;u.isEnabled=(h>>2&1)==0;u.G=Ck.JE(p,a+8,d-8,N.C,N.T);break;case"shmd":Q[T]={};var r=A.m(p,a),L=a+4;for(var E=0;E<r;E++){var K=A.GG(p,L,4);L+=4;var i=A.GG(p,L,4);L+=4;L+=4;var gg=A.m(p,L);L+=4;if(i=="cust"||i=="cmls"||i=="extn"||i=="mlst"){var gC=A.m(p,L);if(gC!=16)L+=4;var g={};gb.Rj(p,g,L+4,!1);Q[T][i]=g;if(i=="cmls")gf.$Y.SYb(Q[T][i])}else{console.log("unknown shmd key: "+i+", size: "+gg)}L+=gg}break;case"shpa":var Y=A.m(p,a),gd=A.m(p,a+4);if(gd!=0)console.log("some patterns present!");break;case"TySh":var gY=Q[T]={},Y=A.rt(p,a);gY.t=A.Xj(p,a+2);var gN=A.rt(p,a+2+48);gY.oi={};var gS=gb.Rj(p,gY.oi,a+56),M=gK.SYw();for(var Cj in M)if(gY.oi[Cj]==null)gY.oi[Cj]=M[Cj];gY.oJ={};var gs=gb.Rj(p,gY.oJ,a+56+gS+6);gY.Yf=A.SxC(p,a+56+gS+6+gs);gY.KY=CD.Hi(gY.oi.EngineData.v);gK.SMA(gY.KY.EngineDict.StyleRun.RunArray);if(gY.KY.ResourceDict==null)gY.KY.ResourceDict=JSON.parse(JSON.stringify(gY.KY.DocumentResources));delete gY.oi.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var gl=A.m(p,a),gR=A.m(p,a+4);Q.lmfx={};var gS=gb.Rj(p,Q.lmfx,a+8);pC.Ju(Q.lmfx);break;case"FMsk":Q[T]=A.xn(p,a,d);break;case"Txt2":Q[T]={};Q[T].raw=A.xn(p,a,d);Q[T].AX=Kw.Hi(Q[T].raw);break;case"Patt":Q[T]=dR.JB(p,a,d);break;case"SoLd":var ge=A.GG(p,a,4),So=A.m(p,a+4),gq=A.m(p,a+8);Q[T]={};var gH=gb.Rj(p,Q[T],a+12);if(Q[T].nonAffineTransform==null)Q[T].nonAffineTransform=JSON.parse(JSON.stringify(Q[T].Trnf));var gx=Q[T].filterFX;if(gx){var g$=gx.v.filterFXList.v;for(var E=0;E<g$.length;E++){var gy=g$[E].v,SZ=gy.filterID;if(SZ&&SZ.v==993)gy.filterID.v=689;if(SZ&&SZ.v==1031)gy.filterID.v=693;if(SZ&&SZ.v==902)gy.filterID.v=898}}break;case"vstk":case"pths":var So=A.m(p,a);Q[T]={};var gH=gb.Rj(p,Q[T],a+4);break;case"vscg":var i=A.GG(p,a,4),So=A.m(p,a+4);Q[i]={};var gH=gb.Rj(p,Q[i],a+8);pC.el(Q[i],i);break;case"vogk":var dU=A.m(p,a),So=A.m(p,a+4);Q[T]={};var gH=gb.Rj(p,Q[T],a+8);Q[T]=Q[T].keyDescriptorList.v;for(var E=0;E<Q[T].length;E++){}break;case"lnk2":case"lnkD__":case"lnk3__":Q[T]=[];var o=a;while(o<a+d){var gz=new l.lY;Q[T].push(gz);var F=A.jY(p,o);o+=8;var gX=o;gz.type=A.GG(p,o,4);o+=4;if(gz.type!="liFD"){alert("Unknown Linked Layer type: "+gz.type);break;throw gz.type}gz.LT=A.m(p,o);o+=4;var gJ=A.xm(p,o);o+=1+gJ.GS.length;gz.HN=gJ.GS;gz.Lf=A.Oj(p,o);o+=4+gz.Lf.length*2+2;gz.Fb=A.GG(p,o,4);o+=4;gz.Av=A.GG(p,o,4);o+=4;var SR=A.jY(p,o);o+=8;gz.open=p[o];o+=1;if(gz.open!=0){var gF={},gS=gb.Rj(p,gF,o+4);if(gS%4!=0)gS+=4-gS%4;console.log(gF);o+=gS+4}gz.open=0;gz.raw=A.xn(p,o,SR);o=gX+F;if(F%4!=0)o+=4-F%4}break;case"FEid":var o=a;Q[T]=[];var gv=o+d,Y=A.m(p,o);o+=4;while(o<gv){o+=4;var F=A.m(p,o);o+=4;var B={};Q[T].push(B);B.id=A.xm(p,o).GS;o+=B.id.length+1;var Y=A.m(p,o);o+=4;o+=4;var SU=A.m(p,o);o+=4;B.rect=A.mm(p,o);o+=16;var ga=A.m(p,o);o+=4;var Sg=A.m(p,o);o+=4;var gO=new S.LV(0);for(var E=0;E<Sg+2;E++){var SC=A.m(p,o);o+=4;if(SC!=0){o+=4;var gk=A.m(p,o),Np=null;o+=4;if(E<3||E==25)Np=SN.ez(!0,ga,p,B.rect.C,B.rect.T,o,gk);if(E==0)gO.D=Np;if(E==1)gO.X=Np;if(E==2)gO.N=Np;if(E==25)gO.Eu=Np;o+=gk}}B.buffer=S.p(B.rect.u()*4);S.Pe(gO,B.buffer);S.Uo(B);var SO=p[o];o++;if(SO!=0){B.n=new l.TU;B.n.rect=A.mm(p,o);o+=16;o+=4;var NZ=A.m(p,o);o+=4;B.n.channel=SN.ez(!0,ga,p,B.n.rect.C,B.n.rect.T,o,NZ);B.n.color=255;B.n.dT();o+=NZ}if(F%4!=0)o+=4-F%4}break;case"Lr16":Nh.xf(N,p,a);break;default:console.log("unknown layer tag: "+T+", size: "+d);break}var gD="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(gD.indexOf(T)==-1)if(d%4!=0)console.log("size not multiple of 4!!!",T);if(T!="luni"&&T!="TySh"&&T!="tySh"&&T!="lfx2")if(d%4!=0)d+=4-d%4;a+=d}var gI=[];for(var E=0;E<gI.length;E++)delete Q[gI[E]];return a};pC.BV=function(p,a,R,Q){for(var t in R)if(R[t]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+t+"\" tag was present with a null value.");
delete R[t]}for(var t in R){A.Rv(p,a,"8BIM");a+=4;var N=a,K=0;A.Rv(p,a,t);a+=4;A.X_(p,a,0);a+=4;switch(t){case"iOpa":A.GO(p,a,R[t],1);
K=4;break;case"brst":K=0;for(var T=0;T<3;T++)if(R[t][T]==0){A.GR(p,a+K,T);K+=4}break;case"knko":A.GO(p,a,R[t],1);
K=4;break;case"infx":A.GO(p,a,R[t],1);K=4;break;case"clbl":A.GO(p,a,R[t],1);K=4;break;case"lmgm":A.GO(p,a,R[t],1);
K=4;break;case"vmgm":A.GO(p,a,R[t],1);K=4;break;case"lyid":A.GR(p,a,R[t]);K=4;break;case"lsct":A.GR(p,a,R[t].type);
K=4;if(R[t].bQ){A.Rv(p,a+4,"8BIM");A.Rv(p,a+8,R[t].bQ);K=12}break;case"lyvr":A.GR(p,a,R[t]);K=4;break;
case"lnsr":A.Rv(p,a,R[t]);K=4;break;case"lspf":A.GR(p,a,R[t]);K=4;break;case"lclr":A.Pm(p,a,R[t]);K=8;
break;case"luni":A.Jf(p,a,R[t]);K=4+2*R[t].length;break;case"fxrp":A.bC(p,a,R[t].x);A.bC(p,a+8,R[t].y);
K=16;break;case"artb":case"artd":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;break;case"SoCo":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;
break;case"GdFl":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;break;case"PtFl":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;
break;case"CgEd":var d={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},y=d,E=R[t];
y.Brgh.v=E.Brgh.v;y.Cntr.v=E.Cntr.v;y.useLegacy.v=E.useLegacy.v;A.GR(p,a,16);K=gb.oQ(p,d,a+4)+4;break;
case"brit":p.rm(a,8);K=8;break;case"levl":var k=new Cq;K=dO.sm(k,R[t]);A.ip(p,a,k.data);break;case"curv":K=dW.Cr(p,a,R[t]);
break;case"expA":K=14;p.rm(a,14);A.JJ(p.data,a,1);A.hS(p.data,a+2,R[t].Exps.v);A.hS(p.data,a+6,R[t].Ofst.v);
A.hS(p.data,a+10,R[t].gammaCorrection.v);break;case"vibA":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;break;case"hue2":K=Sj.Cr(p,a,R[t]);
break;case"blnc":K=19;p.rm(a,K);var D=["ShdL","MdtL","HghL"];for(var T=0;T<3;T++){var P=R[t][D[T]].v;
for(var e=0;e<3;e++)P.push(A.tp(p.data,a+T*6+e*2,P[e].v))}p.data[a+18]=R[t].PrsL.v?1:0;break;case"blwh":var d={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Y="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var T=0;T<Y.length;T++){d[Y[T]]=R[t][Y[T]]}A.GR(p,a,16);K=gb.oQ(p,d,a+4)+4;break;case"phfl":A.Pm(p,a,2);
var O=R[t].Clr.v;A.Pm(p,a+2,7);A.Pm(p,a+4,Math.round(O.Lmnc.v*100));A.Pm(p,a+6,Math.round(O.A.v*100));
A.Pm(p,a+8,Math.round(O.B.v*100));A.Pm(p,a+10,0);var W=a+2+10;p.rm(W,5);A.ye(p.data,W,R[t].Dnst.v);W+=4;
p.data[W]=R[t].PrsL.v?1:0;W++;K=W-a;break;case"mixr":K=44;p.rm(a,K);var w=gA.DV(R[t]);A.JJ(p.data,a,1);
A.JJ(p.data,a+2,w.yW?1:0);for(var T=0;T<20;T++)A.tp(p.data,a+4+T*2,w.Z[T]);break;case"clrL":case"rplc":A.Pm(p,a,1);
A.GR(p,a+2,16);K=gb.oQ(p,R[t],a+6)+6;break;case"nvrt":K=0;break;case"post":A.Pm(p,a,R[t].Lvls.v);K=2;
break;case"thrs":A.Pm(p,a,R[t].Lvl.v);K=2;break;case"grdm":var g={rev:R[t].Rvrs.v,Sem:!1,mode:0,IV:867527939,Se_:!1,Sej:!0,SfW:2048,Sfw:3,Al:[0,0,0,0],As:[32768,32768,32768,32768]},J=R[t].Grad.v;
p.rm(a,4);A.JJ(p.data,a,1);p.data[a+2]=g.rev?1:0;p.data[a+3]=g.Sem?1:0;var U=a+4;A.Jf(p,U,J.Nm.v);U+=4+J.Nm.v.length*2;
U=pT.SBH(p,U,J);A.Pm(p,U,2);U+=2;A.Pm(p,U,J.Intr.v);U+=2;A.Pm(p,U,32);U+=2;A.Pm(p,U,g.mode);U+=2;A.GR(p,U,g.IV);
U+=4;A.Pm(p,U,g.Se_?1:0);U+=2;A.Pm(p,U,g.Sej?1:0);U+=2;A.GR(p,U,g.SfW);U+=4;A.Pm(p,U,g.Sfw);U+=2;for(var T=0;
T<4;T++)A.Pm(p,U+T*2,g.Al[T]);U+=8;for(var T=0;T<4;T++)A.Pm(p,U+T*2,g.As[T]);U+=8;U+=2;K=U-a;break;case"selc":K=dJ.Cr(p,a,R[t]);
break;case"FMsk":A.ip(p,a,R[t]);K=R[t].length;break;case"Txt2":var H=new Cq,f=Kw.MM(R[t].AX,H),j=S.p(f,!0);
for(var T=0;T<f;T++)j[T]=H.data[T];A.ip(p,a,j);K=j.length;break;case"vmsk":var I=R[t],L=0;A.GR(p,a,3);
if(!I.XI)L+=1<<1;if(!I.isEnabled)L+=1<<2;A.GR(p,a+4,L);K=8;var C=I.G.length;p.rm(a+8,C*26);Ck.eK(p.data,a+8,I.G,Q.C,Q.T);
K+=C*26;break;case"shmd":A.GR(p,a,Object.keys(R[t]).length);var W=a+4;for(var v in R[t]){A.Rv(p,W,"8BIM");
W+=4;A.Rv(p,W,v);W+=4;A.GR(p,W,0);W+=4;A.GR(p,W,0);W+=4;A.GR(p,W,16);W+=4;var o=gb.oQ(p,R[t][v],W);if(o%4!=0)o+=4-o%4;
A.GR(p,W-8,o+4);W+=o}K=W-a;break;case"TySh":var W=a;A.t$(p,W,1);W+=2;var Z=R[t],H=new Cq;Z.KY.DocumentResources=JSON.parse(JSON.stringify(Z.KY.ResourceDict));
var f=CD.MM(Z.KY,H),j=S.p(f,!0);for(var T=0;T<f;T++)j[T]=H.data[T];Z.oi.EngineData={t:"tdta",v:j};var B=Z.KY.EngineDict.Editor.Text;
Z.oi.Txt.v=B.substring(0,B.length-1);A.SxK(p,W,Z.t);W+=48;A.t$(p,W,50);W+=2;A.GR(p,W,16);W+=4;W+=gb.oQ(p,Z.oi,W);
A.t$(p,W,1);W+=2;A.GR(p,W,16);W+=4;W+=gb.oQ(p,Z.oJ,W);A.SxF(p,W,Z.Yf);W+=16;K=W-a;break;case"lmfx":A.GR(p,a,0);
A.GR(p,a+4,16);var d=JSON.parse(JSON.stringify(R[t])),s=!1;pC.eC(d);for(var T=0;T<gZ.lV.length;T++)if(d[gZ.lV[T]]!=null)s=!0;
A.Rv(p,N,s?"lmfx":"lfx2");K=gb.oQ(p,d,a+8)+8;break;case"Patt":var W=dR.JX(p,a,R[t]);K=W-a;break;case"SoLd":A.Rv(p,a,"soLD");
A.GR(p,a+4,4);A.GR(p,a+8,16);K=gb.oQ(p,R[t],a+12)+12;break;case"vstk":case"pths":A.GR(p,a,16);K=gb.oQ(p,R[t],a+4)+4;
break;case"vscg__":A.Rv(p,a,R[t].key);A.GR(p,a+4,16);K=gb.oQ(p,R[t].Z,a+8)+8;break;case"vogk":A.GR(p,a,1);
A.GR(p,a+4,16);S.lm.SxZ(R[t]);for(var T=0;T<R[t].length;T++){var q=R[t][T].v.keyOriginResolution;if(q)q.v=Q.po}var F={classID:"null",keyDescriptorList:{t:"VlLs",v:R[t]}};
K=gb.oQ(p,F,a+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var U=a;for(var T=0;T<R[t].length;T++){var b=R[t][T],G=U;
A.Hq(p,U,0);U+=8;A.Rv(p,U,b.type);U+=4;A.GR(p,U,b.LT);U+=4;p.rm(U,1);p.data[U]=b.HN.length;U++;A.Rv(p,U,b.HN);
U+=b.HN.length;A.Jf(p,U,b.Lf+"\0");U+=4+b.Lf.length*2+2;A.Rv(p,U,b.Fb);U+=4;A.Rv(p,U,b.Av);U+=4;A.Hq(p,U,b.raw.length);
U+=8;p.rm(U,1);p.data[U]=b.open;U++;A.ip(p,U,b.raw);U+=b.raw.length;A.GR(p,U,1);U+=4;U+=11;var u=U-G-8;
A.Hq(p,G,u);if(u%4!=0){p.rm(U,4-u%4);U+=4-u%4}}K=U-a;break;case"FEid":var U=a;A.GR(p,U,3);U+=4;for(var h=0;
h<R[t].length;h++){var z=R[t][h];U+=4;var r=U;U+=4;A.gC(p,U,z.id);U+=z.id.length+1;A.GR(p,U,1);U+=4;
U+=4;var i=U;U+=4;A.js(p,U,z.rect);U+=16;A.GR(p,U,8);U+=4;A.GR(p,U,24);U+=4;var gg=new S.LV(z.rect.u());
S.Pi(z.buffer,gg);for(var T=0;T<24+2;T++){var gC=null;if(T==0)gC=gg.D;if(T==1)gC=gg.X;if(T==2)gC=gg.N;
if(T==25)gC=gg.Eu;A.GR(p,U,gC!=null?1:0);U+=4;if(gC!=null){U+=4;var gd=U;U+=4;p.rm(U,z.rect.u()+2);U=SN.et(gC,p.data,z.rect.C,z.rect.T,U,3);
A.GR(p,gd,U-(gd+4))}}A.GR(p,i,U-(i+4));p.rm(U,1);p.data[U]=z.n?1:0;U++;if(z.n!=null){var gY=z.n.rect,gN=z.n.channel;
gY=z.rect;gN=S.p(gY.u());S.set(gN,z.n.color);S.JG(z.n.channel,z.n.rect,gN,gY);A.js(p,U,gY);U+=16;U+=4;
var gS=U;U+=4;p.rm(U,gY.u()+2);U=SN.et(gN,p.data,gY.C,gY.T,U,3);A.GR(p,gS,U-(gS+4))}var u=U-(r+4);A.GR(p,r,u);
if(u%4!=0)U+=4-u%4}K=U-a;break;default:console.log("unknown layer tag: "+t+", size: "+K);a-=12;continue}var M=["Txt2","artd","extd","luni","pths"];
if(M.indexOf(t)==-1)if(K%4!=0)K+=4-K%4;A.X_(p,a-4,K);if(t!="luni"&&t!="TySh")if(K%4!=0)K+=4-K%4;a+=K}return a};
pC.Ju=function(p){for(var a=0;a<gZ.order.length;a++){var R=gZ.order[a],Q=gZ.lV[a];if(p[Q]==null)p[Q]={t:"VlLs",v:[]};
if(p[R]!=null){p[Q].v.push(p[R]);delete p[R]}var t=[];for(var N=0;N<p[Q].v.length;N++){var K=p[Q].v[N];
if(K.v.present==null||K.v.present.v==!0)t.push(K)}p[Q].v=t}};pC.eC=function(p){for(var a=0;a<gZ.order.length;
a++){var R=gZ.order[a],Q=gZ.lV[a],t=p[Q].v.length;if(t==0){delete p[Q];continue}if(t==1){p[R]=p[Q].v[0];
delete p[Q];continue}}};pC.el=function(p,a){if(a=="GdFl"){if(p.Angl==null)p.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(p.Algn==null)p.Algn={v:!0,t:"bool"};if(p.Scl==null)p.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(p.Ofst==null)p.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(p.Rvrs==null)p.Rvrs={v:!1,t:"bool"};if(p.Dthr==null)p.Dthr={v:!1,t:"bool"}}if(a=="PtFl"){if(p.Algn==null)p.Algn={v:!0,t:"bool"};
if(p.Scl==null)p.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(p.phase==null)p.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
pC.clone=function(p,a){var R={};if(p=="TySh"){R.t=a.t.clone();R.oi=JSON.parse(JSON.stringify(a.oi));
R.oJ=JSON.parse(JSON.stringify(a.oJ));R.Yf=a.Yf.clone();R.KY=JSON.parse(JSON.stringify(a.KY));if(a.add)R.add={vmsk:a.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(a.add.vogk))};
return R}else if(p=="fxrp")return a.clone();else if(p=="vmsk")return a.clone();else return JSON.parse(JSON.stringify(a))};
function pr(p,a){}pr.Hi=function(p,a,R,Q){Q=pr.SqL(p,a,R,Q);return Q};pr.MM=function(p,a,R,Q,t){Q=pr.Sqq(p,a,R,Q,t);
return Q};pr.SqL=function(p,a,R,Q){var t=Q;p.rect=A.mm(R,Q);Q+=16;var N=A.rt(R,Q);Q+=2;p.Lw=[];var K=a.Sv;
for(var T=0;T<N;T++){p.Lw[T]={id:A.eh(R,Q),length:(K?A.jY:A.m)(R,Q+2)};Q+=K?10:6}var d=A.GG(R,Q,4);Q+=4;
if(d!="8BIM"){console.log("Invalid Blend mode signature: "+d);alert("Error in Photoshop file: wrong signature.");
throw"e"}p.bQ=A.GG(R,Q,4);Q+=4;p.opacity=R[Q];Q+=1;p.$L=R[Q]==1;Q+=1;p.KN=R[Q];Q+=1;if(R[Q]!=0)console.log("error in filler!");
Q+=1;var y=A.m(R,Q);Q+=4;var E=Q;Q=pr.SqX(p,R,Q);Q=pr.Sqm(p,R,Q);var k=A.xm(R,Q);p.name=k.GS;Q+=k.length;
if(k.length%4!=0)Q+=4-k.length%4;Q=pC.BP(R,Q,E+y,p.add,K,a);if(p.AR){var D=p.AR;if(p.mg()){p.mg().Hu=D[0];
p.mg().Ge=D[1]}if(p.add.vmsk){p.add.vmsk.Hu=D[2];p.add.vmsk.Ge=D[3]}}if(p.add.lsct){if(p.add.lsct.bQ)p.bQ=p.add.lsct.bQ;
p.add.lsct=p.add.lsct.type}return Q};pr.Sqq=function(p,a,R,Q,t){var N=Q;A.js(R,Q,p.rect);Q+=16;var K=p.SSb();
A.Pm(R,Q,K.length);Q+=2;t.push(Q);for(var T=0;T<K.length;T++){A.t$(R,Q,K[T]);A.GR(R,Q+2,0);Q+=6}A.Rv(R,Q,"8BIM");
Q+=4;A.Rv(R,Q,p.bQ);Q+=4;A.GO(R,Q,p.opacity,1);Q+=1;A.GO(R,Q,p.$L?1:0,1);Q+=1;A.GO(R,Q,p.KN,1);Q+=1;
A.GO(R,Q,0,1);Q+=1;var d=Q;A.GR(R,Q,0);Q+=4;var y=Q;Q=pr.SqW(p,R,Q);Q=pr.S$L(p,R,Q);var E=A.gC(R,Q,p.name.slice(0,255));
Q+=E;if(E%4!=0)Q+=4-E%4;if(p.add.lsct){p.add.lsct={type:p.add.lsct};if(p.bQ=="pass"){p.add.lsct.bQ="pass";
p.bQ="norm"}}if(p.bQ=="pass")p.add.lsct={type:p.add.lsct,bQ:"pass"};if(p.add.brit)p.add.CgEd=p.add.brit;
Q=pC.BV(R,Q,p.add,a);delete p.add.CgEd;if(p.add.lsct){if(p.add.lsct.bQ)p.bQ=p.add.lsct.bQ;p.add.lsct=p.add.lsct.type}var k=Q-y;
A.GR(R,d,k);return Q};pr.SqX=function(p,a,R){var Q=A.m(a,R);R+=4;if(Q==0)return R;var t=R;p.n=new l.TU;
p.n.rect=A.mm(a,R);R+=16;p.n.color=a[R];R+=1;var N=pr.Bc(p.n,a,R);R+=1;if(N){var K=!1,d=255,y=0,E=255,k=0;
for(var T=0;T<p.Lw.length;T++)if(p.Lw[T].id==-3)K=!0;if(K){p.zA=pr.Bk(a,R);R+=18}var D=R,P=a[R];R++;
if(P>>0&1){d=a[R];R++}if(P>>1&1){y=A.zT(a,R);R+=8}if(P>>2&1){E=a[R];R++}if(P>>3&1){k=A.zT(a,R);R+=8}if((R-D&1)==1)R++;
p.AR=[d,y,E,k]}else{if(Q==20)R+=2;else{p.zA=pr.Bk(a,R);R+=18}}return t+Q};pr.SqW=function(p,a,R){A.GR(a,R,0);
R+=4;if(p.n==null)return R;var Q=R,t=!0;A.GR(a,R,0);A.js(a,R,p.n.rect);R+=16;A.GO(a,R,p.n.color);R+=1;
pr.Bj(p.n,a,R,t);R+=1;if(t){if(p.zA){pr.SqO(a,R,p.zA);R+=18}A.GO(a,R,15);R+=1;var N=p.mg(),K=p.add.vmsk;
A.GO(a,R,N?N.Hu:255);R+=1;A.bC(a,R,N?N.Ge:0);R+=8;A.GO(a,R,K?K.Hu:255);R+=1;A.bC(a,R,K?K.Ge:0);R+=8;
R++;A.GR(a,Q-4,R-Q)}return R};pr.Bk=function(p,a){var R=new l.TU;pr.Bc(R,p,a);a+=1;R.color=p[a];a+=1;
R.rect=A.mm(p,a);a+=16;return R};pr.SqO=function(p,a,R){pr.Bj(R,p,a,!1);a+=1;A.GO(p,a,R.color);a+=1;
A.js(p,a,R.rect);a+=16};pr.Bc=function(p,a,R){var Q=a[R];p.XI=(Q>>0&1)==0;p.isEnabled=(Q>>1&1)==0;p.Yh=(Q>>3&1)==1;
return Q>>4&1};pr.Bj=function(p,a,R,Q){var t=0;if(!p.XI)t+=1<<0;if(!p.isEnabled)t+=1<<1;if(p.Yh)t+=1<<3;
if(Q)t+=1<<4;A.GO(a,R,t)};pr.Sqm=function(p,a,R){var Q=A.m(a,R);R+=4;if(Q==0)return R;if(Q!=5*8)console.log("unexpected Layer Blending Ranges content, size:",Q);
for(var t=0;t<Q;t++)p.SP[t]=a[R+t];return R+40};pr.S$L=function(p,a,R){A.GR(a,R,p.SP.length);R+=4;a.rm(R,40);
for(var Q=0;Q<40;Q++){a.data[R+Q]=p.SP[Q]}return R+40};function SN(){}SN.Hi=function(p,a,R,Q){Q=SN.S$x(a.Sv,a._q,a.LP,p,R,Q);
return Q};SN.sm=function(p,a,R,Q,t){R=SN.S$T(p,a,R,Q,t);return R};SN.S$x=function(p,a,R,Q,t,N){var K=Q.Lw,T={},d=N;
for(var y=0;y<K.length;y++){var E=K[y],k=E.id,D=E.length,P;if(k==-3)P=Q.zA.rect;else if(k==-2)P=Q.n.rect;
else P=Q.rect;var e=SN.ez(p,a,t,P.C,P.T,N,D);N+=D;if(k==-3)Q.zA.channel=e;else if(k==-2)Q.n.channel=e;
else T["c"+k]=e}var Y=new S.LV(0);Y.Eu=null;if(R==3){Y.D=T.c0;Y.X=T.c1;Y.N=T.c2;Y.Eu=T["c-1"]}else if(R==1){Y.D=T.c0;
Y.X=T.c0;Y.N=T.c0;Y.Eu=T["c-1"]}else if(R==4){var O=T.c0,W=T.c1,w=T.c2,g=T.c3,J=O.length,U=1/255;for(var y=0;
y<J;y++){var H=O[y],f=W[y],j=w[y],I=g[y]*U;O[y]=Math.round(H*I);W[y]=Math.round((.2*H+.8*f)*I);w[y]=Math.round((.2*f+.8*j)*I)}Y.D=O;
Y.X=W;Y.N=w;Y.Eu=T["c-1"];console.log("converting from CMYK to RGB")}if(Y.D==null)Y.D=S.p(0);if(Y.Eu==null&&Y.D!=null){Y.Eu=S.clone(Y.D);
S.set(Y.Eu,255)}if(Y.X==null)Y.X=Y.D.slice(0);if(Y.N==null)Y.N=Y.D.slice(0);Q.buffer=S.p(Math.max(0,Q.rect.u()*4));
S.Pe(Y,Q.buffer);return N};SN.S$T=function(p,a,R,Q,t){var N=p.SSb(),K=new S.LV(p.rect.u());S.Pi(p.buffer,K);
for(var T=0;T<N.length;T++){var d=N[T],y,E;if(d==-3)y=p.zA.rect;else if(d==-2)y=p.n.rect;else y=p.rect;
if(d==-3)E=p.zA.channel;if(d==-2)E=p.n.channel;if(d==-1)E=K.Eu;if(d==0)E=K.D;if(d==1)E=K.X;if(d==2)E=K.N;
a.rm(R,y.u()*3+4);var k=R;R=SN.et(E,a.data,y.C,y.T,R,t[1]?3:1);var D=R-k;if(D%2!=0){D+=D%2;R++}A.ye(a.data,Q+T*6+2,D)}return R};
SN.ez=function(p,a,R,Q,t,N,K){var T=A.rt(R,N);N+=2;return SN.CV(p,a,R,Q,t,N,T,K-2)};SN.et=function(p,a,R,Q,t,N){A.tp(a,t,N);
t+=2;t=SN.JP(p,a,R,Q,t,N);return t};SN.CV=function(p,a,R,Q,t,N,K,T){var d,y=Q*t*(a>>>3),E=y&3,k=y+(E==0?0:4-E);
if(K>3){console.log("unknown compression: "+K,Q,t,Q*t,T);K=0}if(K==0){if(N+k<=R.length)d=R.slice(N,N+k);
else{d=S.p(y);for(var D=0;D<y;D++)d[D]=R[N+D]}N+=y}else if(K==1){d=S.p(y);var P=p?4:2,e=SN.qZ(R,d,Q,t,N,N+P*t,P);
N+=P*t+e}else if(K==2||K==3){var Y=new Uint8Array(R.buffer,N+2,T-6),O=pako.inflateRaw(Y);if(K==3){if(a==8)for(var W=0;
W<t;W++){var w=W*Q+1,g=w+Q-1,J=O[w-1];for(var U=w;U<g;U++){J+=O[U];O[U]=J&255}}else for(var W=0;W<t;
W++){var w=W*Q+1,g=w+Q-1,J=O[2*w-2]<<8|O[2*w-1];for(var U=w;U<g;U++){var H=U<<1;J+=O[H]<<8|O[H+1];O[H]=J>>>8;
O[H+1]=J&255}}}if(O.length==k)d=O;else{d=S.p(k);for(var D=0;D<O.length;D++)d[D]=O[D]}}if(a==16){var f=S.p(Q*t);
for(var D=0;D<y;D+=2)f[D>>>1]=d[D];d=f}return d};SN.JP=function(p,a,R,Q,t,N){var K=R*Q;if(N==0)for(var T=0;
T<K;T++)a[t++]=p[T];else if(N==1){var d=SN.qS(p,a,R,Q,t,t+2*Q);t+=2*Q+d}else if(N==2||N==3){if(N==3){var y=new Uint8Array(p.length);
for(var E=0;E<Q;E++){var k=E*R+1,D=k+R-1,P=p[k-1];y[k-1]=P;for(var e=k;e<D;e++){y[e]=p[e]+(256-P)&255;
P=p[e]}}p=y}a[t]=120;a[t+1]=156;t+=2;var Y=pako.deflateRaw(p,{SpW:4});A.$e(a,t,Y);t+=Y.length+4}else console.log("Unknown compression: "+N);
return t};SN.qZ=function(p,a,R,Q,t,N,K){var T=N,d=Q|0;if(K==2)for(var y=0;y<d;y++){var E=A.rt(p,t+(y<<1));
SN.eT(p,N,E,a,y*R,R);N+=E}else for(var y=0;y<d;y++){var E=A.m(p,t+(y<<2));SN.eT(p,N,E,a,y*R,R);N+=E}return N-T};
SN.qS=function(p,a,R,Q,t,N){var K=N;for(var T=0;T<Q;T++){var d=SN.SMZ(p,T*R,R,a,N);A.JJ(a,t+T*2,d);N+=d}return N-K};
SN.SMZ=function(p,a,R,Q,t){var N,K,T,d,y,E,k;d=a+R;for(T=a,K=t;R>0;T=N,R-=E){k=R<128?R:128;if(T<=d-3&&p[T+1]==p[T+0]&&p[T+2]==p[T+0]){for(N=T+3;
N<T+k&&p[N]==p[T+0];)++N;E=N-T;Q[K++]=1+256-E;Q[K++]=p[T+0]}else{for(N=T;N<T+k;)if(N<=d-3&&p[N+1]==p[N+0]&&p[N+2]==p[N+0])break;
else++N;E=N-T;Q[K++]=E-1;for(var D=0;D<E;D++)Q[K+D]=p[T+D];K+=E}}return K-t};SN.eT=function(p,a,R,Q,t,N){for(var K=0;
K<R;){var T=p[a++];if(T>=128){var d=p[a++],y=t+(257-T);while(t+1<y){Q[t++]=Q[t++]=d}if(t<y)Q[t++]=d;
K+=2}else{for(var E=0;E<=T;E++)Q[t+E]=p[a+E];a+=T+1;t+=T+1;K+=1+1+T}}};function Nh(){}Nh.Hi=function(p,a){a.Sv=!1;
a._q=8;var R=new Uint8Array(p),Q=0,t=0,i,M=0,ge=!1,So=!0,gq=!1,gH=0;t=Nh.ew(a,R,Q);Q=t;t=Nh.SMI(a,R,Q);
Q=t;t=Nh.SMH(a,R,Q);Q=t;t=Nh.SMz(a,R,Q);Q=t;t=Nh.SXQ(a,R,Q);Q=t;if(a.M.length==0){var N=a.hX();N.xJ("Background");
a.M.push(N);N.buffer=S.clone(a.buffer);N.rect=new x(0,0,a.C,a.T)}if(a.yV.r1005){a.po=A.Sh$(a.yV.r1005,0)}if(a.yV.r1026){var R=a.yV.r1026;
for(var K=0;K<R.length;K+=2){var t=a.M[K>>>1];if(t)t.dI=A.rt(R,K)}}if(a.yV.r1032){var R=a.yV.r1032,T=A.m(R,12);
for(var K=0;K<T;K++){var d=R[16+K*5+4],y=A.Cd(R,16+K*5)/32;a.zk[d].push(y)}}delete a.yV.r1036;delete a.yV.r1039;
if(a.yV.r1050){var E=A.m,k=a.yV.r1050,D=A.m(k,0);if(D==6){var P=4,e=A.mm(k,P);P+=16;var Y=A.cj(k,P);
P+=4+Y.length*2;var O=E(k,P);P+=4;var W=a.GD;for(var K=0;K<O;K++){var w=m.rG.Sep(),J;W.push(w);w=w.v;
w.sliceID.v=E(k,P);P+=4;w.groupID.v=E(k,P);P+=4;var g=E(k,P);P+=4;if(g==1){J=E(k,P);P+=4}var Y=A.cj(k,P);
P+=4+Y.length*2;var U=E(k,P);P+=4;var H=[E(k,P),E(k,P+4),E(k,P+8),E(k,P+12)];P+=16;m.rG.Sl(W,W.length-1,H);
var f=w.url.v=A.cj(k,P);P+=4+f.length*2;var j=w.null.v=A.cj(k,P);P+=4+j.length*2;var I=w.Msge.v=A.cj(k,P);
P+=4+I.length*2;var L=w.altTag.v=A.cj(k,P);P+=4+L.length*2;w.cellTextIsHTML.v=k[P]==1;P++;var C=w.cellText.v=A.cj(k,P);
P+=4+C.length*2;var v=E(k,P);P+=4;var o=E(k,P);P+=4;var Z=k.slice(P,P+4);P+=4;if(g!=2)W.pop()}}else if(D==8){var B={};
gb.Rj(k,B,8,!1);var k=a.GD=B.slices.v;for(var K=0;K<k.length;K++){if(k[K].v.origin.v.ESliceOrigin!="userGenerated"){k.splice(K,1);
K--}}}}if(a.yV.r1058){var s=a.yV.r1058,q=UTIF.decode(s.buffer,{parseMN:!1,debug:!1});Nu.Jd(q[0],a.SE);
delete a.yV.r1058}if(a.yV.r1060){var F=A.ng(a.yV.r1060);Nu.SRk(F,a.SE);delete a.yV.r1060}if(a.yV.r1065){var R=a.yV.r1065;
a.FA={};gb.Rj(R,a.FA,4,!1)}if(a.yV.r1069){var R=a.yV.r1069,b=[];for(var K=2;K<R.length;K+=4){var J=A.m(R,K);
for(var G=0;G<a.M.length;G++){var t=a.M[G];if(t.add.lyid==J&&t.add.lsct!=3)b.push(G)}}a.V=b}if(a.yV.r1025){var u=a.yV.r1025;
delete a.yV.r1025;var h=Ck.JE(u,0,u.length,a.C,a.T),z=new l.IC;z.G=h;a.pU[0]=SF.gg("Working Path",{vmsk:z})}var r=a.add.pths;
delete a.add.pths;var gg=a.yV.r3000;if(gg){i={};gb.Rj(gg,i,4,!1);delete a.yV.r3000}for(var gC=0;gC<=997;
gC++){var gd="r"+(2e3+gC),u=a.yV[gd];if(u==null)break;var h=Ck.JE(u,0,u.length,a.C,a.T),gY=r?r.pathList.v[gC].v.pathUnicodeName.v:"Path "+gC,gN=i?i.keyRootDescriptorList.v[gC].v.keyDescriptorList.v:l.YH(h),z=new l.IC;
z.G=h;a.pU[gC+1]=SF.gg(gY,{vmsk:z,vogk:gN});delete a.yV[gd]}delete a.Sv;var gS=new x(0,0,a.C,a.T),Cj=a.add.Txt2,gs=Cj;
if(gs){gs=gs.AX;if(gs._DocumentResources==null)gs=Nm.Shd(gs)}if(Cj&&Cj.AX._DocumentResources!=null){var gl="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),gR=Cj.AX._DocumentResources._TextFrameSet._Resources;
for(var K=0;K<gR.length;K++){}}for(var K=0;K<a.M.length;K++){var t=a.M[K],gx=t.add.lsct,g$=t.add.vmsk,gy=t.mg();
if(gx==Ns.iL)gH++;else if(gx==Ns.hI||gx==Ns.AH)gH--;if(t.name==""){t.name="Layer "+(K+1);gq=!0}if(gq&&t.sc()&&t.bQ=="norm")t.bQ="pass";
if(t.kF()&&t.iW(a).n){var SZ=t.iW(a);SZ.n.isEnabled=t.add.SoLd.filterFX.v.filterMaskEnable.v}if(g$&&t.xP()){var dU=gZ.up.default;
if(t.add.vstk==null)t.add.vstk=JSON.parse(JSON.stringify(dU));else{var gz="strokeStyleLineDashSet";if(t.add.vstk[gz]==null)t.add.vstk[gz]=JSON.parse(JSON.stringify(dU[gz]))}}if(g$&&(t.add.vogk==null||S.d.zX(g$.G)!=t.add.vogk.length))t.YH();
if(gy==null&&t.n!=null){if(t.n.Yh==!1){t.n.Yh=!0;t.zA=t.n.clone()}else{g$.zA=t.n;g$.Ol=!1;t.n.Ge=g$.Ge;
t.n.Hu=g$.Hu}}if(gy!=null&&g$!=null&&(gy.Ge+g$.Ge!=0||gy.Hu+g$.Hu!=2*255))t.WU(a);var gX=t.add.artb;
if(gX&&gX.artboardBackgroundType==null)gX.artboardBackgroundType={t:"long",v:1};if(gX&&gH!=0)delete t.add.artb;
var gJ=t.add.vstk;if(t.xP()&&(t.rect.RJ()||g$&&g$.Ge!=0||gJ&&!gJ.fillEnabled.v&&(!gJ.strokeEnabled.v||gJ.strokeStyleLineWidth.v.val==0)))t.Dj(a);
if(t.add.TySh){ge=!0;if(!t.rect.RJ())So=!1}if(t.add.TySh&&gs){var SR=t.add.TySh.KY,gF=gK.rj(SR),gv=SR.EngineDict.ParagraphRun.RunArray,SU=gs._DocumentObjects._TextObjects;
if(SU.length<=M){console.log("Txt2 incomplete");continue}SU=SU[M]._Model._ParagraphRun._RunArray;var ga=Math.min(SU.length,gv.length);
for(var G=0;G<ga;G++){var Sg=gv[G].ParagraphSheet.Properties,gO=gs._DocumentResources._ParagraphSheetSet._Resources,SC=SU[G]._RunData._ParagraphSheet;
if(typeof SC=="string")SC=gO[parseInt(SC.slice(1))]._Resource;var gk=SC._Parent==null?SC:gO[parseInt(SC._Parent.slice(1))]._Resource,Np=SC._Features._ParagraphDirection;
if(Np==null)Np=gk._Features._ParagraphDirection;if(Np)Sg._Direction=parseInt(Np.slice(1))}var SO=gs._DocumentResources,NZ=SO._TextFrameSet._Resources,gD=NZ[M]._Resource,gI=gD._Data,go=new gh(1,0,0,1,0,0);
if(gD._0){var NS=parseFloat(gD._0[0].slice(1)),NK=parseFloat(gD._0[1].slice(1));go.translate(NS,NK)}if(gF){go.translate(gF[0],gF[1]);
gK.Dn(SR,[0,0,gF[2]-gF[0],gF[3]-gF[1]])}else{if(gD._Bezier&&gD._Bezier._Points){var h=gD._Bezier._Points,NS=parseFloat(h[0].slice(1)),NK=parseFloat(h[1].slice(1));
if(NS!=0||NK!=0){go.translate(NS,NK)}}}if(gD._Data&&gD._Data._FrameMatrix){var gP=gD._Data._FrameMatrix;
gP=gP.map(function(Ni){return parseFloat(Ni.slice(1))});go.concat(new gh(gP[0],gP[1],gP[2],gP[3],gP[4],gP[5]))}go.concat(t.add.TySh.t);
t.add.TySh.t=go;M++;var U=gI._Type?parseInt(gI._Type.slice(1)):0;if(U==2||U==1&&gI._PathData._Spacing=="i-3"){var NX=function(Ni){return parseFloat(Ni.slice(1))},h=gD._Bezier._Points.map(NX);
if(gF)S.s.t(h,new gh(1,0,0,1,-gF[0],-gF[1]),h);var Nd=gI._PathData._Reversed;SR.Curve={Points:h,TextOnPathTRange:gI._TextOnPathTRange.map(NX),Reversed:Nd==null?!1:Nd};
t.add.TySh.add={vmsk:new l.IC,vogk:null};gK.SS(t.add.TySh)}}}gf.$Y.qM(a,!0)};Nh.MM=function(p,a,R){gf.$Y.wG(p);
gf.$Y.qM(p,!1);var Q=[],t=[],N=[],K=[],T=[],L=16,gC=0;for(var d=0;d<p.M.length;d++){var y=p.M[d];if(y.kF()&&y.iW(p).n){y.add.SoLd.filterFX.v.filterMaskEnable.v=y.iW(p).n.isEnabled}if(y.add.SoLd){t.push(y.add.SoLd.Idnt.v);
N.push(y.add.SoLd.placed.v)}if(y.add.TySh){var E=y.add.TySh.KY,k=gK.Ez(E);y.add.TySh.oi.TextIndex={t:"long",v:Q.length};
Q.push(E);if(k==2)gK.RU(y.add.TySh)}if(y.add.PtFl)K.push(y.add.PtFl.Ptrn.v.Idnt.v);if(y.add.lmfx){for(var D=0;
D<gZ.lV.length;D++){var P=y.add.lmfx[gZ.lV[D]].v;for(var e=0;e<P.length;e++)if(P[e].v.Ptrn)K.push(P[e].v.Ptrn.v.Idnt.v)}}var Y=y.add.vstk;
if(Y&&Y.strokeStyleContent.v.classID=="patternLayer"){K.push(Y.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(y.xP()){T[d]=[y.rect,y.buffer];
y.rect=new x;y.buffer=S.p(0)}}if(Q.length>0){var O=p.add.Txt2?p.add.Txt2.AX:null;p.add.Txt2={};p.add.Txt2.AX=Sr.SXW(Q,null,O)}var W=p.add.lnk2;
if(W){var w=p.add.lnk2=[];for(var d=0;d<W.length;d++)if(t.indexOf(W[d].HN)!=-1)w.push(W[d]);if(w.length==0)delete p.add.lnk2}var g=p.add.FEid;
if(g){var J=p.add.FEid=[];for(var d=0;d<g.length;d++)if(N.indexOf(g[d].id)!=-1)J.push(g[d]);if(J.length==0)delete p.add.FEid}var U=p.add.Patt;
if(U){var H=p.add.Patt=[];for(var d=0;d<U.length;d++)if(K.indexOf(U[d].id)!=-1)H.push(U[d])}p.yV.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
A.qs(p.yV.r1005,0,p.po);A.qs(p.yV.r1005,8,p.po);if(p.zu()){p.yV.r1022=new Uint8Array([0,3+p.Mn.length-1,0])}else delete p.yV.r1022;
p.yV.r1026=new Uint8Array(p.M.length*2);for(var d=0;d<p.M.length;d++)A.JJ(p.yV.r1026,d*2,p.M[d].dI);
var f=p.zk,j=f[0].length+f[1].length,I=p.yV.r1032=S.p(16+5*j,!0);A.ye(I,0,1);A.ye(I,4,576);A.ye(I,8,576);
A.ye(I,12,j);for(var d=0;d<2;d++)for(var e=0;e<f[d].length;e++){A.wE(I,L,Math.round(f[d][e]*32));I[L+4]=d;
L+=5}delete p.yV.r1045;delete p.yV.r1006;delete p.yV.r1077;var C=new Cq;L=0;var v=new Uint8Array(4+(1+p.Mn.length)*13);
v[3]=1;v[6]=v[7]=255;v[15]=100;v[16]=1;for(var d=0;d<1+p.Mn.length;d++){var o=p.Mn[d-(d==0?0:1)],Z=(d==0?"Transparency":o.name)+"\0";
A.Jf(C,L,Z);L+=4+Z.length*2;if(d!=0){var B=4+d*13;YB.CQ(v,B,o.dV);v[B+11]=o.BS;v[B+12]=o.yH}}p.yV.r1045=C.data.slice(0,L);
p.yV.r1077=v;for(var d=0;d<p.GD.length;d++)p.GD[p.GD.length-d-1].v.sliceID.v=2+d*3;var s={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:p.GD}},C=new Cq;
A.GR(C,0,8);A.GR(C,4,16);var q=gb.oQ(C,s,8);p.yV.r1050=C.data.slice(0,q+8);var C=new Cq;A.GR(C,0,16);
var q=gb.oQ(C,p.FA,4);p.yV.r1065=C.data.slice(0,q+4);var F=p.V;I=p.yV.r1069=S.p(2+F.length*4,!0);A.JJ(I,0,F.length);
for(var d=0;d<F.length;d++)A.ye(I,2+4*d,p.M[F[d]].add.lyid);delete p.yV.r1058;delete p.yV.r1060;if(Object.keys(p.SE).length!=0){var b=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
Nu.xz(p.SE,b[0],R[0]&&R[1]);p.yV.r1058=new Uint8Array(UTIF.encode(b));var G=Nu.SIg(p.SE);p.yV.r1060=A.gd(G)}var u=[],h=[];
for(var d=0;d<p.pU.length;d++){var z=p.pU[d],r=z.add.vmsk.G;if(d==0&&r.length==2)continue;var i=S.p(r.length*26);
Ck.eK(i,0,r,p.C,p.T);var gg=d==0?1025:2e3+d-1;p.yV["r"+gg]=i;if(d!=0){u.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:z.name}}});
h.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:z.add.vogk}}})}}if(u.length!=0){p.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:u}};
h={classID:"null",keyRootDescriptorList:{t:"VlLs",v:h}};var C=new Cq;A.GR(C,0,16);var q=gb.oQ(C,h,4);
p.yV.r3000=C.data.slice(0,q+4)}else{delete p.add.pths;delete p.yV.r3000}gC=Nh.SMR(p,a,gC);gC=Nh.SMe(p,a,gC);
gC=Nh.SMf(p,a,gC);gC=Nh.SML(p,a,gC,R);gC=Nh.SXu(p,a,gC,R[0]);var gd=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var d=0;d<gd.length;d++)delete p.yV["r"+gd[d]];for(var d=0;d<p.M.length;d++){var y=p.M[d];if(y.xP()){y.rect=T[d][0];
y.buffer=T[d][1]}}if(W)p.add.lnk2=W;if(g)p.add.FEid=g;if(U)p.add.Patt=U;gf.$Y.qM(p,!0);return gC};Nh.ew=function(p,a,R){var Q=A.GG(a,R,4);
R+=4;if(Q!="8BPS")alert("invalid header signature: "+Q);var t=A.rt(a,R);R+=2;p.Sv=t==2;if(t!=1&&t!=2)alert("invalid version: "+t);
R+=6;p.Bl=A.rt(a,R);R+=2;p.T=A.Cd(a,R);R+=4;p.C=A.Cd(a,R);R+=4;p._q=A.rt(a,R);R+=2;p.LP=A.rt(a,R);R+=2;
return R};Nh.SMR=function(p,a,R){a.rm(0,64);A.XX(a.data,R,"8BPS");R+=4;A.JJ(a.data,R,1);R+=2;A.ye(a.data,R,0);
R+=4;A.JJ(a.data,R,0);R+=2;A.JJ(a.data,R,4+p.Mn.length);R+=2;A.wE(a.data,R,p.T);R+=4;A.wE(a.data,R,p.C);
R+=4;A.JJ(a.data,R,8);R+=2;A.JJ(a.data,R,3);R+=2;return R};Nh.SMI=function(p,a,R){var Q=A.Cd(a,R);R+=4;
if(Q!=0)p._$=a.slice(R,R+Q);R+=Q;return R};Nh.SMe=function(p,a,R){A.X_(a,R,0);R+=4;return R};Nh.SMH=function(p,a,R){var Q=A.m(a,R),t=0;
R+=4;var N=[];while(t<Q){var K=A.GG(a,R+t,4);t+=4;var T=A.rt(a,R+t);t+=2;var d=A.xm(a,R+t);t+=d.length;
if(K!="8BIM"){N.push(T);console.log("Unknown Image Resources signature: "+K+", ID: "+T)}var y=A.m(a,R+t);
t+=4;if(p.yV["r"+T]!=null)console.log("--- two resources with same ID");p.yV["r"+T]=A.xn(a,R+t,y);t+=y+(y&1)}for(var E=0;
E<N.length;E++)delete p.yV["r"+N[E]];return R+Q};Nh.SMf=function(p,a,R){var Q=R,K=0;R+=4;var t=[];for(var N in p.yV){t.push(parseInt(N.slice(1)))}t.sort(function(D,P){return D-P});
for(var T=0;T<t.length;T++){A.Rv(a,R+K,"8BIM");K+=4;var d=t[T];A.Pm(a,R+K,d);K+=2;var y=A.gC(a,R+K,"");
K+=y;var E=p.yV["r"+d],k=E.length;A.GR(a,R+K,k);K+=4;A.ip(a,R+K,E);K+=k;if(k%2==1)K++}A.GR(a,Q,K);return R+K};
Nh.SMz=function(p,a,R){var Q=R,t,N=p.Sv?8:4;if(p.Sv)t=A.jY(a,R);else t=A.m(a,R);R+=N;if(t==0)return Q+N;
R=Nh.SMB(p,a,R);R=Nh.SXN(p,a,R);R=pC.BP(a,R,Q+N+t,p.add,p.Sv,p);return Q+N+t};Nh.SML=function(p,a,R,Q){var t=R;
A.GR(a,R,0);R+=4;R=Nh.SMV(p,a,R,Q);R=Nh.SXt(p,a,R);R=pC.BV(a,R,p.add,p);A.GR(a,t,R-t-4);return R};Nh.SMB=function(p,a,R){var Q,t=p.Sv?8:4;
if(p.Sv)Q=A.jY(a,R);else Q=A.m(a,R);R+=t;if(Q!=0)Nh.xf(p,a,R);return R+Q};Nh.xf=function(p,a,R){var Q=A.eh(a,R);
R+=2;var t=Math.abs(Q);for(var N=0;N<t;N++){var K=new l;R=pr.Hi(K,p,a,R);p.M[N]=K}var T=new x(0,0,p.C,p.T);
for(var N=0;N<t;N++){var d=p.M[N];R=SN.Hi(d,p,a,R);var y=d.rect.u(),E=d.rect.Yl(T),k=E.u()/y;if(y>2e3*3e3&&k<.5){var D=S.p(E.u()*4);
S.gW(d.buffer,d.rect,D,E);d.buffer=D;d.rect=E;alert("Removing hidden parts of layers")}}};Nh.SMV=function(p,a,R,Q){var t=R;
A.GR(a,R,0);R+=4;var N=p.M.length;A.Pm(a,R,-N);R+=2;var K=[];for(var T=0;T<N;T++)R=pr.MM(p.M[T],p,a,R,K);
for(var T=0;T<N;T++)R=SN.sm(p.M[T],a,R,K[T],Q);var d=R-t-4;if(d%2!=0)d++;A.GR(a,t,d);return t+d+4};Nh.SXN=function(p,a,R){var Q=A.m(a,R);
R+=4;R+=Q;return R};Nh.SXt=function(p,a,R){var Q=A.GR(a,R,0);R+=4;return R};Nh.SXQ=function(p,a,R){var Q=p.LP,t="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),N=[1,1,1,3,4,1,1,3],K,Y;
if(Q!=3){if(Q==1||Q==2||Q==4)alert("Project will be converted from "+t[Q]+" to "+t[3]+" mode.");else{alert("Color mode "+t[Q]+" is not supported yet :(")}}if(p.yV.r1045){K=[];
var T=p.yV.r1045,d=0;while(d<T.length){var y=A.Oj(T,d);K.push(y);d+=4+2+y.length*2}}var E=N[Q]+(K==null||K[0]=="Transparency"?1:0),k=p.C,D=p.T,P=k*D,e=A.rt(a,R);
R+=2;p.buffer=S.p(P*4);S.wp(p.buffer,4278190080);var O=R;for(var W=0;W<p.Bl;W++){if(e==0){Y=SN.CV(p.Sv,p._q,a,k,D,R,e);
R+=P*(p._q>>>3)}else if(e==1){Y=S.p(P);var w=p.Sv?4:2;if(W==0)R+=p.Bl*D*w;R+=SN.qZ(a,Y,k,D,O+W*D*w,R,w)}else{console.log("unknown compression of image data: ",e);
return}if(W<E){S.RA(Y,p.buffer,W);if(p.Bl==1&&W==0){S.RA(Y,p.buffer,1);S.RA(Y,p.buffer,2)}}else{var g=new l.TU,J=W-E,U=W-N[p.LP];
g.name=K?K[U]:"Alpha";if(g.name=="Quick Mask"){g.oB=!0;p.JO.push(J)}g.rect=new x(0,0,k,D);g.channel=Y;
g.color=0;g.dT();p.Mn[J]=g;if(p.yV.r1077){var T=p.yV.r1077.slice(4+U*13);g.dV=YB.mq(T,0);g.BS=T[11];
g.yH=T[12];if(g.yH==2)g.oB=!0}}}p.Bl=4;if(p.LP==2)for(var H=0;H<P;H++){var f=H*4,j=p.buffer[f];p.buffer[f]=p._$[0+j];
p.buffer[f+1]=p._$[256+j];p.buffer[f+2]=p._$[512+j]}return R};Nh.SXu=function(p,a,R,Q){var t=1,N=16,K=p.C,T=p.T,y,E;
A.Pm(a,R,t);R+=2;var d=K*T;if(!Q){E=new S.LV(K*T);S.Pi(p.buffer,E);var k=E.D,D=E.X,P=E.N,e=E.Eu;for(var Y=0;
Y<d;Y++){var O=e[Y]*(1/255);k[Y]=~~(k[Y]*O+255*(1-O));D[Y]=~~(D[Y]*O+255*(1-O));P[Y]=~~(P[Y]*O+255*(1-O))}}else y=S.p(d);
var W=[y,y,y,y];if(!Q)W=[E.D,E.X,E.N,E.Eu];for(var Y=0;Y<p.Mn.length;Y++){W.push(p.Mn[Y].iQ(new x(0,0,p.C,p.T)))}var w=R;
for(var g=0;g<W.length;g++){a.rm(R,K*T+4);y=W[g];if(t==0||t==2||t==3)R=SN.JP(y,a.data,K,T,R,t);else{if(g==0)R+=W.length*T*2;
var J=R;R+=SN.qS(y,a.data,K,T,w+g*T*2,R)}}return R};function CD(){}CD.Hi=function(p){var a={};CD.tZ(p,a,0,0);
return a};CD.MM=function(p,a){var R=0;R=CD.tl(p,a,R,0);return R};CD.tZ=function(p,a,R,Q){while(p[R]!="<".charCodeAt(0))R++;
R+=2;while(!0){if(p[R]=="/".charCodeAt(0)){R++;var t=A.indexOf(p," ".charCodeAt(0),R,R+50),N=A.indexOf(p,"\n".charCodeAt(0),R,R+50);
if(N==-1)N=Infinity;if(t==-1)t=Infinity;var K=Math.min(N,t),T=A.GG(p,R,K-R),d=CD.Cn(p,K+1,Q+1,T);a[T]=d.Z;
R=K+1;R+=d.size}else if(p[R]==">".charCodeAt(0)){R+=2;break}else{var y=p[R];if(y==10||y==9||y==32)R++;
else{console.log("unknown byte: "+y+", char: "+String.fromCharCode(y),R);R++}}}return R};CD.tl=function(p,a,R,Q){A.Rv(a,R,"<<\n");
R+=3;var t=CD.SXP;for(var N in p){A.GO(a,R,"\t".charCodeAt(0),Q+1);R+=Q+1;A.Rv(a,R,"/"+N);R+=1+N.length;
if(t(p[N])||p[N]instanceof Array){A.Rv(a,R," ");R++}else{A.Rv(a,R,"\n");R++;A.GO(a,R,"\t".charCodeAt(0),Q+1);
R+=Q+1}R=CD.gS(p[N],a,R,Q+1);A.Rv(a,R,"\n");R++}A.GO(a,R,"\t".charCodeAt(0),Q);R+=Q;A.Rv(a,R,">>");R+=2;
return R};CD.Cn=function(p,a,R,Q){var t=a,N={size:0,Z:0};while(!0){while(p[a]==" ".charCodeAt(0)||p[a]=="\t".charCodeAt(0)||p[a]=="\n".charCodeAt(0))a++;
if(p[a]=="<".charCodeAt(0)){N.Z={};a=CD.tZ(p,N.Z,a,R+1);break}else if(p[a]=="(".charCodeAt(0)){a+=3;
var K=a;while(!0){if(p[K-1]!="\\".charCodeAt(0)&&p[K]==")".charCodeAt(0)&&(p[K+1]=="\n".charCodeAt(0)||p[K+1]==" ".charCodeAt(0)))break;
else K++}N.Z=A.qg(p,a,K);a=K+2;break}else if(p[a]=="[".charCodeAt(0)){a++;N.Z=[];while(p[a]==" ".charCodeAt(0)||p[a]=="\t".charCodeAt(0)||p[a]=="\n".charCodeAt(0))a++;
while(p[a]!="]".charCodeAt(0)){var T=CD.Cn(p,a,R+1,Q);N.Z.push(T.Z);a+=T.size;while(p[a]==" ".charCodeAt(0)||p[a]=="\t".charCodeAt(0)||p[a]=="\n".charCodeAt(0))a++}a++;
break}else{var d=A.indexOf(p," ".charCodeAt(0),a,a+50),y=A.indexOf(p,"\n".charCodeAt(0),a,a+50);if(y==-1)y=Infinity;
if(d==-1)d=Infinity;var E=A.GG(p,a,Math.min(d,y)-a).trim(),k=parseFloat(E);if(!isNaN(k)){N.Z=parseFloat(E);
a=Math.min(d,y)+1;break}else if(E=="true"||E=="false"){N.Z=E=="true";a=Math.min(d,y)+1;break}else if(E=="null"||E=="NaN"){N.Z=0;
a=Math.min(d,y)+1;break}else{console.log("unknown identifier: "+E);throw"e"}a=Math.min(d,y)+1}}N.size=a-t;
return N};CD.gS=function(p,a,R,Q){if(p instanceof Array){var t=p.length==0||typeof p[0]=="number";if(t){A.Rv(a,R,"[ ");
R+=2;for(var N=0;N<p.length;N++){var K=p[N]+" ";A.Rv(a,R,K);R+=K.length}A.Rv(a,R,"]");R+=1}else{A.Rv(a,R,"[\n");
R+=2;for(var N=0;N<p.length;N++){A.GO(a,R,"\t".charCodeAt(0),Q);R+=Q;R=CD.gS(p[N],a,R,Q);A.Rv(a,R,"\n");
R++}A.GO(a,R,"\t".charCodeAt(0),Q);R+=Q;A.Rv(a,R,"]");R+=1}}else if(p instanceof Object){R=CD.tl(p,a,R,Q)}else if(typeof p=="string"){A.Rv(a,R,"(");
R++;A.GO(a,R,254);R++;A.GO(a,R,255);R++;R=A.qN(a,R,p);A.Rv(a,R,")");R+=1}else{var K=p+"";A.Rv(a,R,K);
R+=K.length}return R};CD.SXP=function(p){var a=typeof p;return a=="string"||a=="number"||a=="boolean"};
function Kw(){}Kw.Hi=function(p){var a={};Kw.qd(p,a,0,0);return a};Kw.MM=function(p,a){var R=0;A.Rv(a,R," ");
R++;R=Kw.qK(p,a,R,0);R--;a.rm(R,2);a.data[R]=a.data[R+1]=0;R+=2;return R};Kw.tZ=function(p,a,R,Q){while(p[R]!="<".charCodeAt(0)){R++;
console.log("\u0161ipka")}R+=2;R=Kw.qd(p,a,R,Q);return R};Kw.tl=function(p,a,R,Q){A.Rv(a,R,"<< ");R+=3;
R=Kw.qK(p,a,R,Q);A.Rv(a,R,">>");R+=2;return R};Kw.xh=function(p){return p==9||p==10||p==32};Kw.qd=function(p,a,R,Q){while(!0){while(Kw.xh(p[R])||p[R]==0)R++;
if(R>=p.length)break;if(p[R]=="/".charCodeAt(0)){R++;var t=R;while(!Kw.xh(p[t]))t++;var N=A.GG(p,R,t-R);
R=t+1;var K=Kw.Cn(p,R,Q,N);a["_"+N]=K.Z;R+=K.size}else if(p[R]==">".charCodeAt(0)){R+=2;break}else{var T=p[R];
console.log(A.GG(p,R,R+100));console.log("unknown byte: "+T+", char: "+String.fromCharCode(T)+", offset: "+R);
R++;throw"e";return-1}}return R};Kw.qK=function(p,a,R,Q){for(var t in p){var N=t.substring(1,t.length);
A.Rv(a,R,"/"+N);R+=1+N.length;A.Rv(a,R," ");R++;R=Kw.gS(p[t],a,R,Q+1);A.Rv(a,R," ");R++}return R};Kw.Cn=function(p,a,R,Q){var t=a,N={type:"",size:0,Z:0};
while(Kw.xh(p[a]))a++;if(p[a]=="<".charCodeAt(0)){N.type="Object";N.Z={};a=Kw.tZ(p,N.Z,a,R+1)}else if(p[a]=="(".charCodeAt(0)){N.type="String";
a++;if(p[a]==")".charCodeAt(0)){N.Z="s";a++}else{a+=2;var K=a,KI=0;while(!0){if(p[K]==")".charCodeAt(0)&&p[K-1]!="\\".charCodeAt(0))break;
else K+=1}N.Z="s"+A.qg(p,a,K);a=K+2}}else if(p[a]=="[".charCodeAt(0)){a++;N.Z=[];N.type="Array";while(Kw.xh(p[a]))a++;
while(p[a]!="]".charCodeAt(0)){var T=Kw.Cn(p,a,R+1,Q);if(T==-1)return-1;N.Z.push(T.Z);a+=T.size;delete T.size;
while(Kw.xh(p[a]))a++}a++}else{var d=a;while(!Kw.xh(p[d]))d++;var y=A.GG(p,a,d-a),E=parseFloat(y);if(!isNaN(E)&&y.indexOf(".")!=-1){N.type="Float";
var k=parseFloat(y);N.Z="f"+k}else if(!isNaN(E)&&y.indexOf(".")==-1){N.type="Integer";N.Z="i"+parseInt(y)}else if(y=="true"||y=="false"){N.type="Boolean";
N.Z=y=="true"}else if(y.charAt(0)=="/"){N.type="BString";N.Z=y}else{console.log("unknown value",JSON.stringify(y));
throw"e"}a=d+1}N.size=a-t;return N};Kw.SFS=function(p){if(p==Math.round(p))return p+".0";var a=p.toFixed(5);
if(0<p&&p<1)a=a.substring(1,a.length);if(-1<p&&p<0)a="-"+a.substring(2,a.length);return a};Kw.gS=function(p,a,R,Q){var t=typeof p=="string"?p.charAt(0):"";
if(p instanceof Array){A.Rv(a,R,"[ ");R+=2;for(var N=0;N<p.length;N++){R=Kw.gS(p[N],a,R,Q);A.Rv(a,R," ");
R++}A.Rv(a,R,"]");R+=1}else if(p instanceof Object){R=Kw.tl(p,a,R,Q)}else if(t=="s"){A.Rv(a,R,"(");R++;
A.GO(a,R,254);R++;A.GO(a,R,255);R++;R=A.qN(a,R,p.substring(1));A.Rv(a,R,")");R++}else if(t=="/"){A.Rv(a,R,p);
R+=p.length}else if(t=="f"){var K=parseFloat(p.substring(1)),T=Kw.SFS(K);A.Rv(a,R,T);R+=T.length}else if(t=="i"){A.Rv(a,R,p.substring(1));
R+=p.length-1}else{var T=p+"";A.Rv(a,R,T);R+=T.length}return R};function X(p,a){if(!p)p=0;if(!a)a=0;
this.x=p;this.y=a}X.prototype.add=function(p){return new X(this.x+p.x,this.y+p.y)};X.prototype.clone=function(){return new X(this.x,this.y)};
X.prototype.cI=function(p){this.x=p.x;this.y=p.y};X.prototype.xA=function(p){return this.x==p.x&&this.y==p.y};
X.prototype.normalize=function(p){var a=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=p/a;this.y*=p/a};
X.prototype.offset=function(p,a){this.x+=p;this.y+=a};X.prototype.YY=function(p,a){this.x=p;this.y=a};
X.prototype.Ai=function(p){return new X(this.x-p.x,this.y-p.y)};X.Hz=function(p,a){return X.SFz(p.x,p.y,a.x,a.y)};
X.Ra=function(p,a,R){return new X(p.x+R*(a.x-p.x),p.y+R*(a.y-p.y))};X.SFf=function(p,a){return new X(p*Math.cos(a),p*Math.sin(a))};
X.SFz=function(p,a,R,Q){return Math.sqrt((R-p)*(R-p)+(Q-a)*(Q-a))};X.eA={};X.Pk={};X.eA.create=function(){var p=new Float32Array(4);
return p};X.Pk.create=function(p){var a=new Float32Array(16);a[0]=a[5]=a[10]=a[15]=1;if(p)X.Pk.set(p,a);
return a};X.eA.add=function(p,a,R){R[0]=p[0]+a[0];R[1]=p[1]+a[1];R[2]=p[2]+a[2];R[3]=p[3]+a[3]};X.eA.set=function(p,a){a[0]=p[0];
a[1]=p[1];a[2]=p[2];a[3]=p[3]};X.Pk.set=function(p,a){a[0]=p[0];a[1]=p[1];a[2]=p[2];a[3]=p[3];a[4]=p[4];
a[5]=p[5];a[6]=p[6];a[7]=p[7];a[8]=p[8];a[9]=p[9];a[10]=p[10];a[11]=p[11];a[12]=p[12];a[13]=p[13];a[14]=p[14];
a[15]=p[15]};X.Pk.multiply=function(p,a,R){var Q=p[0],t=p[1],N=p[2],K=p[3],T=p[4],d=p[5],y=p[6],E=p[7],k=p[8],D=p[9],P=p[10],e=p[11],Y=p[12],O=p[13],W=p[14],w=p[15],g=a[0],J=a[1],U=a[2],H=a[3];
R[0]=g*Q+J*T+U*k+H*Y;R[1]=g*t+J*d+U*D+H*O;R[2]=g*N+J*y+U*P+H*W;R[3]=g*K+J*E+U*e+H*w;g=a[4];J=a[5];U=a[6];
H=a[7];R[4]=g*Q+J*T+U*k+H*Y;R[5]=g*t+J*d+U*D+H*O;R[6]=g*N+J*y+U*P+H*W;R[7]=g*K+J*E+U*e+H*w;g=a[8];J=a[9];
U=a[10];H=a[11];R[8]=g*Q+J*T+U*k+H*Y;R[9]=g*t+J*d+U*D+H*O;R[10]=g*N+J*y+U*P+H*W;R[11]=g*K+J*E+U*e+H*w;
g=a[12];J=a[13];U=a[14];H=a[15];R[12]=g*Q+J*T+U*k+H*Y;R[13]=g*t+J*d+U*D+H*O;R[14]=g*N+J*y+U*P+H*W;R[15]=g*K+J*E+U*e+H*w;
return R};X.Pk.inverse=function(p,a){var R=p[0],Q=p[1],t=p[2],N=p[3],K=p[4],T=p[5],d=p[6],y=p[7],E=p[8],k=p[9],D=p[10],P=p[11],e=p[12],Y=p[13],O=p[14],W=p[15],w=R*T-Q*K,g=R*d-t*K,J=R*y-N*K,U=Q*d-t*T,H=Q*y-N*T,f=t*y-N*d,j=E*Y-k*e,I=E*O-D*e,L=E*W-P*e,C=k*O-D*Y,v=k*W-P*Y,o=D*W-P*O,Z=w*o-g*v+J*C+U*L-H*I+f*j;
if(!Z){return null}Z=1/Z;a[0]=(T*o-d*v+y*C)*Z;a[1]=(t*v-Q*o-N*C)*Z;a[2]=(Y*f-O*H+W*U)*Z;a[3]=(D*H-k*f-P*U)*Z;
a[4]=(d*L-K*o-y*I)*Z;a[5]=(R*o-t*L+N*I)*Z;a[6]=(O*J-e*f-W*g)*Z;a[7]=(E*f-D*J+P*g)*Z;a[8]=(K*v-T*L+y*j)*Z;
a[9]=(Q*L-R*v-N*j)*Z;a[10]=(e*H-Y*J+W*w)*Z;a[11]=(k*J-E*H-P*w)*Z;a[12]=(T*I-K*C-d*j)*Z;a[13]=(R*C-Q*I+t*j)*Z;
a[14]=(Y*g-e*U-O*w)*Z;a[15]=(E*U-k*g+D*w)*Z;return a};X.Pk.Sqy=function(p,a,R){var Q=a[0],t=a[1];R[0]=Q*p[0]+t*p[4]+p[12];
R[1]=Q*p[1]+t*p[5]+p[13]};X.Pk.SqJ=function(p,a,R){var Q=a[0],t=a[1],N=a[2],K=a[3];R[0]=p[0]*Q+p[4]*t+p[8]*N+p[12]*K;
R[1]=p[1]*Q+p[5]*t+p[9]*N+p[13]*K;R[2]=p[2]*Q+p[6]*t+p[10]*N+p[14]*K;R[3]=p[3]*Q+p[7]*t+p[11]*N+p[15]*K};
function gh(p,a,R,Q,t,N){if(typeof p==="undefined"){p=1;a=0;R=0;Q=1;t=0;N=0}this.Eu=p;this.N=a;this.CI=R;
this.$B=Q;this.NE=t;this.GV=N}gh.prototype.Of=function(){return Math.sqrt(Math.abs(this.Eu*this.$B-this.N*this.CI))};
gh.prototype.qC=function(){var p=this,a=function(R){return Math.abs(R)<1e-9?0:R};p.Eu=a(p.Eu);p.N=a(p.N);
p.CI=a(p.CI);p.$B=a(p.$B);p.NE=a(p.NE);p.GV=a(p.GV)};gh.prototype.Ci=function(p){return new X(p.x*this.Eu+p.y*this.CI+this.NE,p.x*this.N+p.y*this.$B+this.GV)};
gh.prototype.translate=function(p,a){this.NE+=p;this.GV+=a};gh.prototype.rotate=function(p){var a=new gh(Math.cos(p),-Math.sin(p),Math.sin(p),Math.cos(p),0,0);
this.concat(a)};gh.prototype.scale=function(p,a){var R=new gh(p,0,0,a,0,0);this.concat(R)};gh.prototype.concat=function(p){this.cI(new gh(this.Eu*p.Eu+this.N*p.CI,this.Eu*p.N+this.N*p.$B,this.CI*p.Eu+this.$B*p.CI,this.CI*p.N+this.$B*p.$B,this.NE*p.Eu+this.GV*p.CI+p.NE,this.NE*p.N+this.GV*p.$B+p.GV))};
gh.prototype.zw=function(){var p=this.Eu*this.$B-this.N*this.CI;this.cI(new gh(this.$B/p,-this.N/p,-this.CI/p,this.Eu/p,(this.CI*this.GV-this.$B*this.NE)/p,(this.N*this.NE-this.Eu*this.GV)/p))};
gh.prototype.clone=function(){return new gh(this.Eu,this.N,this.CI,this.$B,this.NE,this.GV)};gh.prototype.cI=function(p){this.Eu=p.Eu;
this.N=p.N;this.CI=p.CI;this.$B=p.$B;this.NE=p.NE;this.GV=p.GV};function A(){}A.tR=function(p){var a="";
for(var R=3;R>=0;R--)a+=String.fromCharCode(p>>R*8&255);return a};A.SFq=function(p){var a=0;for(var R=p.length-1;
R>=0;R--)a|=p.charCodeAt(R)<<(3-R)*8;return a};A.indexOf=function(p,a,R,Q){if(R==null)R=0;if(Q==null)Q=p.length;
Q=Math.min(Q,p.length);for(var t=R;t<Q;t++)if(p[t]==a)return t;return-1};A.HY=function(p,a,R){if(R==null)R=0;
if(typeof a=="string"){var Q=[];for(var t=0;t<a.length;t++)Q.push(a.charCodeAt(t));a=Q}for(var t=R;t<p.length;
t++){var N=!0;for(var K=0;K<a.length;K++)if(a[K]!=p[t+K]){N=!1;break}if(N)return t}return-1};A.qg=function(p,a,R){var Q=[],N="";
while(a<R){var t=p[a++];if(t=="\\".charCodeAt(0))Q.push(p[a++]);else Q.push(t)}for(var K=0;K<Q.length;
K+=2)N+=String.fromCharCode(Q[K]<<8|Q[K+1]);return N};A.SFM=function(p,a,R){var Q=new Uint8Array(2);
for(var t=0;t<R.length;t++){A.JJ(Q,0,R.charCodeAt(t));if(Q[0]==")".charCodeAt(0)||Q[0]=="(".charCodeAt(0)||Q[0]=="\\".charCodeAt(0)){p[a]="\\".charCodeAt(0);
a++}p[a]=Q[0];a++;if(Q[1]==")".charCodeAt(0)||Q[1]=="(".charCodeAt(0)||Q[1]=="\\".charCodeAt(0)){p[a]="\\".charCodeAt(0);
a++}p[a]=Q[1];a++}return a};A.qN=function(p,a,R){p.rm(a,4*R.length);return A.SFM(p.data,a,R)};A.qp=function(p,a,R){var Q="";
for(var t=0;t<R;t++){var N=p[a++]|p[a++]<<8;Q+=String.fromCharCode(N)}return Q};A.HH=function(p,a,R){var Q="";
for(var t=0;t<R;t++){var N=p[a++]<<8|p[a++];Q+=String.fromCharCode(N)}return Q};A.SFX=function(p,a,R){for(var Q=0;
Q<R.length;Q++){var t=R.charCodeAt(Q);A.xx(p,a+2*Q,t)}};A.qY=function(p,a,R){for(var Q=0;Q<R.length;
Q++){var t=R.charCodeAt(Q);A.JJ(p,a+2*Q,t)}};A.Sqc=function(p,a,R){p.rm(a,2*R.length);A.qY(p.data,a,R)};
A.ShZ=function(p,a,R){var Q=[],t=0,N=0;R+=a;while(a<R){t=p[a++];if((t&128)==0)N=t;else if((t&224)==192){N=(t&31)<<6;
t=p[a++];N|=t&63}else if((t&240)==224){N=(t&15)<<12;t=p[a++];N|=(t&63)<<6;t=p[a++];N|=t&63}else if((t&248)==240){N=(t&7)<<18;
t=p[a++];N|=(t&63)<<12;t=p[a++];N|=(t&63)<<6;t=p[a++];N|=t&63}else throw"e";Q.push(N)}return Q};A.qr=window.TextDecoder?new window.TextDecoder("utf8"):null;
A.ng=function(p,a,R){if(a==null)a=0;if(R==null)R=p.length;if(A.qr&&a==0&&R==p.length)return A.qr.decode(p);
var Q=A.ShZ(p,a,R),t=Q.length;for(var N=0;N<t;N++)Q[N]=String.fromCharCode(Q[N]);return Q.join("")};
A.ql=window.TextEncoder?new window.TextEncoder("utf8"):null;A.gd=function(p){if(A.ql)return A.ql.encode(p);
var a=new Uint8Array(p.length*4),R=A.VK(p,a,0);return a.slice(0,R)};A.VK=function(p,a,R){var Q=p.length,t=0;
for(var N=0;N<Q;N++){var K=p.charCodeAt(N);if((K&4294967295-(1<<7)+1)==0){a[R+t]=K;t++}else if((K&4294967295-(1<<11)+1)==0){a[R+t]=192|K>>6;
a[R+t+1]=128|K>>0&63;t+=2}else if((K&4294967295-(1<<16)+1)==0){a[R+t]=224|K>>12;a[R+t+1]=128|K>>6&63;
a[R+t+2]=128|K>>0&63;t+=3}else if((K&4294967295-(1<<21)+1)==0){a[R+t]=240|K>>18;a[R+t+1]=128|K>>12&63;
a[R+t+2]=128|K>>6&63;a[R+t+3]=128|K>>0&63;t+=4}else throw"e"}return t};A.HB=function(p,a){var R=A.m(p,a),Q=A.ng(p,a+4,R-1);
return{IH:Q,Xi:4+R}};A.ShK=function(p,a){var R=A.vk(p,a),Q=A.qp(p,a+4,R);return Q};A.cj=function(p,a){var R=A.m(p,a),Q=A.HH(p,a+4,R);
return Q};A.Oj=function(p,a){var R=A.m(p,a),Q=A.HH(p,a+4,R-1);return Q};A.Shp=function(p,a,R){A.tK(p,a,R.length);
a+=4;A.SFX(p,a,R)};A.Shl=function(p,a,R){A.ye(p,a,R.length);a+=4;A.qY(p,a,R)};A.Jf=function(p,a,R){p.rm(a,4+2*R.length);
A.Shl(p.data,a,R)};A.Shs=function(p,a,R){p.rm(a,4+2*R.length);A.Shp(p.data,a,R)};A.te=function(p,a,R){var Q=[];
for(var t=0;t<R;t++)Q.push(String.fromCharCode(p[a+t]));return Q};A.S$F=function(p,a,R){var Q=!1,t=p.length-R.length;
for(var N=a;N<t;N++){for(var K=0;K<R.length;K++){if(p[N+K]!=R.charCodeAt(K))break;if(K==R.length-1)return N}}};
A.GG=function(p,a,R){var Q="";for(var t=0;t<R;t++)Q+=String.fromCharCode(p[a+t]);return Q};A.XX=function(p,a,R){for(var Q=0;
Q<R.length;Q++)p[a+Q]=R.charCodeAt(Q)};A.Rv=function(p,a,R){p.rm(a,R.length);A.XX(p.data,a,R)};A.She=function(p,a,R){var Q="";
for(var t=0;t<R;t++){var N=p[a+t];if(N<10)Q+="  ";else if(N<100)Q+=" ";Q+=N+", "}return Q};A.rt=function(p,a){return p[a]<<8|p[a+1]};
A.JJ=function(p,a,R){p[a]=R>>8&255;p[a+1]=R&255};A.Pm=function(p,a,R){p.rm(a,4);A.JJ(p.data,a,R)};A.Sh$=function(p,a){var R=A.rt(p,a),Q=A.rt(p,a+2);
return R+Q*(1/65536)};A.qs=function(p,a,R){var Q=Math.floor(R),t=Math.floor((R-Q)*65536);A.JJ(p,a,Q);
A.JJ(p,a+2,t)};A.Fk=function(p,a){return p[a+1]<<8|p[a]};A.xx=function(p,a,R){p[a+1]=R>>8&255;p[a]=R&255};
A.xt=function(p,a,R){p.rm(a,4);A.xx(p.data,a,R)};A.eh=function(p,a){A.tP[0]=p[a+1];A.tP[1]=p[a];return A.HQ[0]};
A.tf=function(p,a){A.tP[0]=p[a];A.tP[1]=p[a+1];return A.HQ[0]};A.tp=A.JJ;A.t$=A.Pm;A.Cd=function(p,a){A.Gv[0]=p[a+3];
A.Gv[1]=p[a+2];A.Gv[2]=p[a+1];A.Gv[3]=p[a];return A.bz[0]};A.wE=function(p,a,R){A.bz[0]=R;p[a+3]=A.Gv[0];
p[a+2]=A.Gv[1];p[a+1]=A.Gv[2];p[a+0]=A.Gv[3]};A.X_=function(p,a,R){p.rm(a,4);A.wE(p.data,a,R)};A.tJ=function(p,a,R,Q){R[Q+0]=p[a+0];
R[Q+1]=p[a+1];R[Q+2]=p[a+2];R[Q+3]=p[a+3]};A.vk=function(p,a){A.tJ(p,a,A.Gv,0);return A.$H[0]};A.tK=function(p,a,R){A.$H[0]=R;
A.tJ(A.Gv,0,p,a)};A.Fj=function(p,a,R){p.rm(a,4);A.tK(p.data,a,R)};A.qR=function(p,a){A.tJ(p,a,A.Gv,0);
return A.bz[0]};A.Shv=function(p,a,R){A.bz[0]=R;A.tJ(A.Gv,0,p,a)};A.S$a=function(p,a,R){p.rm(a,4);A.Shv(p.data,a,R)};
A.m=function(p,a){var R=p[a]*(256*256*256)+(p[a+1]<<16|p[a+2]<<8|p[a+3]);return R};A.ye=function(p,a,R){p[a]=R>>24&255;
p[a+1]=R>>16&255;p[a+2]=R>>8&255;p[a+3]=R>>0&255};A.GR=function(p,a,R){p.rm(a,4);A.ye(p.data,a,R)};A.jY=function(p,a){return A.m(p,a)<<32|A.m(p,a+4)};
A.ShT=function(p,a,R){A.ye(p,a,R>>16>>16);A.ye(p,a+4,R&4294967295)};A.Hq=function(p,a,R){p.rm(a,8);A.ShT(p.data,a,R)};
A.zT=function(p,a){var R=new Uint8Array(8);for(var Q=0;Q<8;Q++)R[Q]=p[a+7-Q];var t=new Float64Array(R.buffer);
return t[0]};A.Shm=function(p,a){var R=new Uint8Array(8);for(var Q=0;Q<8;Q++)R[Q]=p[a+Q];var t=new Float64Array(R.buffer);
return t[0]};A.VY=function(p,a,R){var Q=new Float64Array(1);Q[0]=R;var t=new Uint8Array(Q.buffer);for(var N=0;
N<4;N++){var K=t[N];t[N]=t[7-N];t[7-N]=K}for(var N=0;N<8;N++)p[a+N]=t[N]};A.bC=function(p,a,R){p.rm(a,8);
A.VY(p.data,a,R)};A.jr=function(p,a){A.Gv[0]=p[a+3];A.Gv[1]=p[a+2];A.Gv[2]=p[a+1];A.Gv[3]=p[a+0];return A.tV[0]};
A.H$=function(p,a){A.Gv[0]=p[a+0];A.Gv[1]=p[a+1];A.Gv[2]=p[a+2];A.Gv[3]=p[a+3];return A.tV[0]};A.hS=function(p,a,R){A.tV[0]=R;
p[a+0]=A.Gv[3];p[a+1]=A.Gv[2];p[a+2]=A.Gv[1];p[a+3]=A.Gv[0]};A.S$u=function(p,a,R){p.rm(a,4);A.hS(p.data,a,R)};
A.HX=function(p,a,R){A.tV[0]=R;p[a+0]=A.Gv[0];p[a+1]=A.Gv[1];p[a+2]=A.Gv[2];p[a+3]=A.Gv[3]};A.S$j=function(p,a,R){p.rm(a,4);
A.HX(p.data,a,R)};A.Sh_=function(p,a){var R=A.Cd(p,a),Q=R*(1/(1<<24));return Q};A.qe=function(p,a,R){var Q=Math.floor(R*(1<<24));
A.wE(p,a,Q)};A.SMP=function(p,a,R){p.rm(a,4);A.qe(p.data,a,R)};A.xm=function(p,a){var R=p[a],Q=A.GG(p,a+1,R);
R+=1-R%2;return{GS:Q,length:R+1}};A.Shj=function(p,a,R){var Q=R.length;p[a]=Q;A.XX(p,a+1,R);if(Q%2==0){p[a+1+Q]=0;
++Q}return Q+1};A.gC=function(p,a,R){p.rm(a,R.length+2);return A.Shj(p.data,a,R)};A.Xj=function(p,a){var R=new gh;
R.Eu=A.zT(p,a+0*8);R.N=A.zT(p,a+1*8);R.CI=A.zT(p,a+2*8);R.$B=A.zT(p,a+3*8);R.NE=A.zT(p,a+4*8);R.GV=A.zT(p,a+5*8);
return R};A.x_=function(p,a,R){A.VY(p,a+0*8,R.Eu);A.VY(p,a+1*8,R.N);A.VY(p,a+2*8,R.CI);A.VY(p,a+3*8,R.$B);
A.VY(p,a+4*8,R.NE);A.VY(p,a+5*8,R.GV)};A.SxK=function(p,a,R){p.rm(a,48);A.x_(p.data,a,R)};A.SxC=function(p,a){var R=A.jr(p,a),Q=A.jr(p,a+4),t=A.jr(p,a+8),N=A.jr(p,a+12);
return new x(R,Q,t-R,N-Q)};A.SxX=function(p,a,R){A.hS(p,a,R.x);A.hS(p,a+4,R.y);A.hS(p,a+8,R.x+R.C);A.hS(p,a+12,R.y+R.T)};
A.SxF=function(p,a,R){p.rm(a,16);A.SxX(p.data,a,R)};A.mm=function(p,a){var R=A.Cd(p,a),Q=A.Cd(p,a+4),t=A.Cd(p,a+8),N=A.Cd(p,a+12);
return new x(Q,R,N-Q,t-R)};A.qx=function(p,a,R){A.wE(p,a,R.y);A.wE(p,a+4,R.x);A.wE(p,a+8,R.y+R.T);A.wE(p,a+12,R.x+R.C)};
A.js=function(p,a,R){p.rm(a,16);A.qx(p.data,a,R)};A.xn=function(p,a,R){var Q=new Uint8Array(R);for(var t=0;
t<R;t++)Q[t]=p[a+t];return Q};A.$e=function(p,a,R){p.set(R,a)};A.ip=function(p,a,R){p.rm(a,R.length);
A.$e(p.data,a,R)};A.Sxw=function(p,a,R,Q){if(!Q)Q=1;for(var t=0;t<Q;t++)p[a+t]=R};A.GO=function(p,a,R,Q){if(!Q)Q=1;
p.rm(a,Q);A.Sxw(p.data,a,R,Q)};A.HQ=new Int16Array(1);A.tP=new Uint8Array(A.HQ.buffer);A.bz=new Int32Array(1);
A.$H=new Uint32Array(A.bz.buffer);A.Gv=new Uint8Array(A.bz.buffer);A.tV=new Float32Array(A.bz.buffer);
function x(p,a,R,Q){if(!p)p=0;if(!a)a=0;if(!R)R=0;if(!Q)Q=0;this.x=p;this.y=a;this.C=R;this.T=Q}x.prototype.u=function(){return this.C*this.T};
x.prototype.clone=function(){return new x(this.x,this.y,this.C,this.T)};x.prototype.contains=function(p,a){return p>=this.x&&p<=this.x+this.C&&(a>=this.y&&a<=this.y+this.T)};
x.prototype.lp=function(p){return this.contains(p.x,p.y)};x.prototype.tT=function(p){return this.x<=p.x&&this.y<=p.y&&p.x+p.C<=this.x+this.C&&p.y+p.T<=this.y+this.T};
x.prototype.cI=function(p){this.x=p.x;this.y=p.y;this.C=p.C;this.T=p.T};x.prototype.xA=function(p){return this.x==p.x&&this.y==p.y&&this.C==p.C&&this.T==p.T};
x.prototype.vj=function(p,a){this.x-=p;this.y-=a;this.C+=2*p;this.T+=2*a};x.prototype.SMk=function(p){this.vj(p.x,p.y)};
x.prototype.Yl=function(p){var a=Math.max(this.x,p.x),R=Math.max(this.y,p.y),Q=Math.min(this.x+this.C,p.x+p.C),t=Math.min(this.y+this.T,p.y+p.T);
if(Q<a||t<R)return new x;else return new x(a,R,Q-a,t-R)};x.prototype.jv=function(p){if(p.y+p.T<this.y||p.x>this.x+this.C||p.y>this.y+this.T||p.x+p.C<this.x)return!1;
return!0};x.prototype.RJ=function(){return this.C<=0||this.T<=0};x.prototype.offset=function(p,a){this.x+=p;
this.y+=a};x.prototype.MQ=function(p){this.offset(p.x,p.y)};x.prototype.SXY=function(){this.x=this.y=this.C=this.T=0};
x.prototype.YY=function(p,a,R,Q){this.x=p;this.y=a;this.C=R;this.T=Q};x.prototype.hT=function(p){if(this.RJ())return p.clone();
if(p.RJ())return this.clone();var a=this.clone();a.Sxj(p);return a};x.WX=new Float32Array(2);x.prototype.Sxj=function(p){if(p.RJ())return;
if(this.RJ()){this.cI(p);return}this.TR(p.x,p.y);this.TR(p.x+p.C,p.y+p.T)};x.prototype.TR=function(p,a){var R=Math.min(this.x,p),Q=Math.min(this.y,a);
this.C=Math.max(this.x+this.C,p)-R;this.T=Math.max(this.y+this.T,a)-Q;this.x=R;this.y=Q};x.prototype.SXr=function(p,a,R,Q){if(this.C==0&&this.T==0)this.Sig(p,a);
else this.TR(p,a);this.TR(R,Q)};x.prototype.Sig=function(p,a){this.x=p;this.y=a;this.C=this.T=0};function NB(){}NB.Hi=function(p,a){var R=new Uint8Array(p),Q=0,t=A.GG(R,Q,9),T=4,d=100;
Q+=9;var N=A.GG(R,Q,4);Q+=4;Q++;a.C=A.m(R,Q);Q+=4;a.T=A.m(R,Q);Q+=4;var K=A.m(R,Q);Q+=4;if(K!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(N)==-1){d=A.m(R,Q);Q+=4;if(parseInt(N.slice(1))>=7){d=d}else alert("Unknown XCF version: "+N);
T=8}var y={};Q=NB.HD(R,Q,y);var E=[];Q=NB.Hw(R,Q,E,T);var k=[];Q=NB.Hw(R,Q,k,T);a.YW=0;for(var D=0;D<E.length;
D++)NB.Sip(R,E[D],a,y,T,d);while(a.YW>0){a.M.push(a.Df());a.YW--}a.M.reverse();delete a.YW;a.buffer=S.p(a.C*a.T*4);
if(a.M.length==0)console.log("No layers!!!");for(var D=0;D<k.length;D++){var P=NB.ou(R,k[D],y,T,d);if(P.Lz[pd.Syy])a.S={channel:P.Ed,rect:new x(0,0,a.C,a.T)}}};
NB.Sip=function(p,a,R,Q,t,N){var K=R.hX(),T=A.m(p,a),k=0;a+=4;var d=A.m(p,a);a+=4;K.rect=new x(0,0,T,d);
var y=A.m(p,a);a+=4;var E=A.HB(p,a);a+=E.Xi;K.xJ(E.IH);var D={};a=NB.HD(p,a,D);if(D[pd.OT]){var P=D[pd.OT];
k=P.length/4-1}if(D[pd.HG]){K.rect.x=A.Cd(D[pd.HG],0);K.rect.y=A.Cd(D[pd.HG],4)}if(D[pd.Wm]){K.opacity=A.m(D[pd.Wm],0)}if(D[pd.SyD]){K.add.lsct=Ns.hI;
K.rect=new x(0,0,0,0);K.buffer=S.p(0);K.KN=24}if(D[pd.Ov]){var e=A.m(D[pd.Ov],0);K.bQ=pd.SyV[e];if(K.sc()&&K.bQ=="norm")K.bQ="pass"}if(D[pd.OJ]){if(A.m(D[pd.OJ],0)==0)K.KN+=2}if(D[pd.Ow]){var Y=A.m(D[pd.Ow],0);
K.add.lsct=Y&1==1?Ns.hI:Ns.AH}if(D[pd.HE]){var O=D[pd.HE];for(var W in O){var w=O[W];if(W=="gimp-text-layer"){var g=NB.Siq(w),J=g.text,U=g.font,H=g.color,f=g["font-size"];
if(J==null&&g.markup){var j=new DOMParser,I=j.parseFromString(g.markup,"image/svg+xml");while(I.firstChild!=null&&I.firstChild.tagName!=null){I=I.firstChild;
var L=I.getAttribute("font"),C=I.getAttribute("foreground"),v=I.getAttribute("size");if(L!=null)U=L;
if(C!=null){C=CSS.mq(C);H=[1,C.D/255,C.X/255,C.N/255]}if(v!=null){f=""+parseFloat(v)/245}}J=I.textContent}K.add.lnsr="rend";
K.add.TySh=gK.oG(0,0);K.add.TySh.Yf=new x(0,0,100,100);K.add.TySh.t=new gh(1,0,0,1,K.rect.x,K.rect.y);
var o=K.add.TySh.KY;gK.uC(o,0,J);var Z=gK.dJ(o,0,0),B=g.justify,s=g["line-spacing"];if(H)Z.RW.FillColor={Type:1,Values:[1,parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])]};
if(f){f=Math.round(parseFloat(f));Z.RW.FontSize=f;K.add.TySh.t.GV+=Math.min(17,f*.17)}if(s){s=Math.round(parseFloat(s)+Z.RW.FontSize*1.2);
Z.RW.Leading=s;Z.RW.AutoLeading=!1}if(B)Z.uq.Justification=["left","right","center","fill"].indexOf(B);
if(U&&U!="Sans-serif"){var q=U.toLowerCase(),F="bold italic semi extra regular condensed light".split(" "),b=q.length;
for(var G=0;G<F.length;G++){var u=q.indexOf(F[G]);if(u!=-1&&u<b&&q[u-1]==" ")b=u}if(b!=q.length)U=U.slice(0,b-1).split(" ").join("")+"-"+U.slice(b).split(" ").join("");
gK.rl(Z,U)}gK.mv(o,0,J.length,Z);var h=g["box-width"],z=g["box-height"],r=h?parseFloat(h):K.rect.C,i=z?parseFloat(z):K.rect.T;
gK.mW(o,1);gK.Dn(o,[0,0,Math.ceil(r),Math.ceil(i)])}else console.log("Unknown property "+W)}}while(R.YW>k){R.M.push(R.Df());
R.YW--}R.YW=k;if(K.add.lsct==Ns.hI||K.add.lsct==Ns.AH)R.YW++;var gg=t==4?A.m:A.jY;if(K.iF()){K.buffer=S.p(K.rect.u()*4);
var gC=new S.LV(K.rect.u()),gd=gg(p,a);a+=t;var gY=gg(p,a);a+=t;NB.Wq(p,gd,gC,Q,t,N);S.Pe(gC,K.buffer);
if(gY!=0){K.n=new l.TU;K.n.color=0;K.n.rect=K.rect.clone();K.n.channel=NB.ou(p,gY,Q,t,N).Ed;if(D[pd.Ot])K.n.isEnabled=A.m(D[pd.Ot],0)==1}}R.M.push(K)};
NB.Siq=function(p){var a="("+A.ng(p,0,p.length-1)+")",R=[],Q={};NB.F$(a,1,R);NB.Sih(R,Q);return Q};NB.Sih=function(p,a){for(var R=0;
R<p.length;R++){var Q=p[R],t=Q[0];if(Q.length==2)a[t]=Q[1];else a[t]=Q.slice(1)}};NB.F$=function(p,a,R){while(!0){if(a>=p.length)throw"e";
var Q=p.charAt(a);a++;if(Q=="("){var t=[];a=NB.F$(p,a,t);R.push(t)}else if(Q==" "||Q=="\n"||Q=="\r"){}else if(Q==")")return a;
else if(Q=="\""){var N=a;while(!0){var K=p[a];a++;if(K=="\"")break;if(K=="\\")a++}R.push(JSON.parse(p.slice(N-1,a)))}else{var N=a-1;
while(p[a]!=" "&&p[a]!=")")a++;R.push(p.slice(N,a))}}};NB.ou=function(p,a,R,Q,t){var N=A.m(p,a);a+=4;
var K=A.m(p,a);a+=4;var T=A.HB(p,a);a+=T.Xi;var d={};a=NB.HD(p,a,d);var y=new S.LV(N*K),E=Q==4?A.m:A.jY,k=E(p,a);
a+=Q;NB.Wq(p,k,y,R,Q,t);return{Ed:y.D,Lz:d}};NB.Wq=function(p,a,R,Q,t,N){var K=A.m(p,a);a+=4;var T=A.m(p,a);
a+=4;var d=A.m(p,a);a+=4;var y=t==4?A.m:A.jY,E=y(p,a);a+=t;NB.Sio(p,E,R,Q,d,t,N)};NB.Sio=function(p,a,R,Q,t,N,K){var T=A.m(p,a),E=0,w=0;
a+=4;var d=A.m(p,a);a+=4;var y=new x(0,0,T,d);if(K==100)E=1;else if(K==150)E=1;else if(K==600)E=4;else alert("unsupported bit depth "+K);
var k=t/E,E=Math.round(t/k),D=[];a=NB.Hw(p,a,D,N);var P=new S.LV(64*64*E),e=new x,Y=Q[pd.SyU][0],O=[P.D,P.X,P.N,P.Eu];
if(k==3)S.set(P.Eu,255);var W=Date.now();for(var g=0;g<d;g+=64)for(var J=0;J<T;J+=64){var U=Math.min(T-J,64),H=Math.min(d-g,64),f=U*H;
e.YY(J,g,U,H);NB.Syp(p,D[w++],f*E,Y,k,O);if(K==600){var j=NB.SiW(),I=new Uint32Array(1),L=new Float32Array(I.buffer);
for(var C=0;C<k;C++){var v=O[C];for(var o=0;o<f;o++){I[0]=v[o]<<24|v[f+o]<<16|v[(f<<1)+o]<<8|v[(f<<1)+f+o]<<0;
var Z=L[0];if(Z<0)Z=0;else if(Z>1)Z=1;v[o]=j[~~(.5+Z*1e3)]}}}S.lD(P,e,R,y)}};NB.SiW=function(){var p=NB.SUG;
if(p!=null)return p;p=NB.SUG=new Uint8Array(1001);for(var a=0;a<1001;a++)p[a]=~~(.49+255*S.lt(a*.001));
return p};NB.Syp=function(p,a,R,Q,t,N){if(Q==1){for(var K=0;K<t;K++){var T=N[K],d=0;while(d<R){var y=p[a];
a++;if(y<127){var E=p[a];a++;y++;for(var k=0;k<y;k++)T[d+k]=E}else if(y==127){var D=p[a];a++;var P=p[a];
a++;var E=p[a];a++;y=D<<8|P;for(var k=0;k<y;k++)T[d+k]=E}else if(y==128){var D=p[a];a++;var P=p[a];a++;
y=D<<8|P;for(var k=0;k<y;k++)T[d+k]=p[a+k];a+=y}else{y=256-y;for(var k=0;k<y;k++)T[d+k]=p[a+k];a+=y}d+=y}}}else if(Q==2){var e=pako.inflate(p.slice(a)),Y=Math.round(e.length/R);
for(var k=0;k<R;k++){var O=k*Y;N[0][k]=e[O];N[1][k]=e[O+1];N[2][k]=e[O+2];N[3][k]=Y==3?255:e[O+3]}}else alert("Unknown compression "+Q)};
NB.Hw=function(p,a,R,Q){var t=Q==4?A.m:A.jY;while(!0){var N=t(p,a);a+=Q;if(N==0)break;else R.push(N)}return a};
NB.HD=function(p,a,R){while(!0){var Q=A.m(p,a);a+=4;var t=A.m(p,a);a+=4;if(Q==pd.Syz)break;else if(Q==pd.HE)R[Q]=NB.SyH(p,a,a+t);
else R[Q]=A.xn(p,a,t);a+=t}return a};NB.SyH=function(p,a,R){var Q={};while(a<R){var t=A.HB(p,a);a+=t.Xi;
var N=A.m(p,a);a+=4;if(N!=1)console.log("unknown flags",N);var K=A.m(p,a);a+=4;Q[t.IH]=A.xn(p,a,K);a+=K}return Q};
var pd={Syz:0,SXV:1,SFY:2,SFs:3,Syy:4,SFe:5,Wm:6,Ov:7,OJ:8,SFh:9,SFo:10,Ot:11,SFU:12,SFA:13,SFu:14,HG:15,SFP:16,SyU:17,ShV:18,Sxd:19,Sxg:20,HE:21,SxN:22,SxM:23,Sir:24,Sib:25,SyK:26,Syw:27,SyA:28,SyD:29,OT:30,Ow:31,Syj:32,SoZ:33,Sor:34,SoR:35,Soz:36,SoL:37,Sow:38,SoD:0,SoV:1,Sob:2,So_:3,Son:1,Sok:2,SUd:0,SUe:1,SUf:1};
pd.SyV="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function NR(){}NR.Hi=function(p,a){var R=NR,Q=Sp.parse(p),N=0;if(Q.pages.length>1)console.log(Q.pages.length,"pages");
var t=[],K=new x;for(var T=0;T<Q.pages.length;T++){var d=Q.pages[T],y=d.layers,E=R.wh(y,T),D=!1;if(E.u()>8e3*8e3||E.C>3e4||E.T>3e4){R.OA(y,!0);
var k=R.wh(y,T);if(k.u()>=E.u())R.OA(y,!1)}E=R.wh(y,T);for(var P=0;P<y.length;P++){var e=y[P];if(R.hd(e)=="artboard")D=!0}if(!D){console.log("no artboard");
var Y={};for(var O in d)Y[O]=d[O];Y._class="group";d.layers=[Y]}t.push(E.clone());if(E.RJ())continue;
E.x=0;E.y=N;N+=E.T+200;K=K.hT(E)}var W={};if(Q.foreignSymbols)for(var w=0;w<Q.foreignSymbols.length;
w++){var g=Q.foreignSymbols[w].symbolMaster;W[g.symbolID]={_M:g}}R.OD(Q.pages,W,a);for(var J in W){var e=W[J]._M,U=R.OG(e.layers)}var H=NR.Hj(K,8192*8192);
a.YO=!0;a.C=Math.round(K.C/H);a.T=Math.round(K.T/H);a.buffer=S.p(a.C*a.T*4);a.RZ(Q.pages[0].layers.length);
a.lB={};a._X=[];N=0;for(var T=0;T<Q.pages.length;T++){var f=Q.pages[T],E=t[T],j=new gh(H,0,0,H,E.x,E.y-N);
R.fN(f.layers,a,j,Q,W,{},[]);N+=E.T+200}delete a.lB;delete a._X;if(H!=1)alert("File scaled down "+H+"x")};
NR.SUL=0;NR.hd=function(p){return p._class?p._class:p.$class};NR.Hj=function(p,a){var R=1;while(Math.round(p.C/R)*Math.round(p.T/R)>a)R++;
if(R!=1&&!window.confirm("Your image is quite large ("+p.C+" x "+p.T+" px).\n"+"Press OK to scale it down "+R+"x, or Cancel to keep the size."))R=1;
return R};NR.wh=function(p,a){var R=[],Q=NR;for(var t=0;t<p.length;t++){var N=p[t],K=Q.mm(N.frame);if(a==0||Q.hd(N)=="artboard")R.push(K)}return S.rect.ve(R)};
NR.OA=function(p,a){var R=[],Q=NR;for(var t=0;t<p.length;t++){var N=p[t],K=Q.mm(N.frame);K.C+=150;K.T+=150;
R.push(K)}var T=S.rect.ve(R);S.rect.Six(R,a);var d=S.rect.ve(R);if(d.u()*1.5<T.u()||T.C>3e4&&d.C<=3e4||T.T>3e4&&d.T<=3e4){alert("Re-arranging artboards");
for(var t=0;t<p.length;t++){var y=R[t],N=p[t],E=N.frame;E.x=y.x;E.y=y.y}}};NR.OD=function(p,a,R){var Q=NR;
for(var t=0;t<p.length;t++){var N=p[t],K=Q.hd(N);if(["page","artboard","group"].indexOf(K)!=-1)Q.OD(N.layers,a,R);
else if(K=="symbolMaster")a[N.symbolID]={_M:N}}};NR.OG=function(p){var a=NR;for(var R=0;R<p.length;R++){var Q=p[R],t=a.hd(Q),N=null;
if(["page","artboard","group"].indexOf(t)!=-1)N=a.OG(Q.layers);if(t=="symbolMaster"||t=="symbolInstance")N=Q;
if(N!=null)return N}return null};NR.fN=function(p,a,R,Q,t,N,K){var T=NR,d=[];for(var y=0;y<p.length;
y++){var E=p[y],k=E.frame?T.mm(E.frame):null,D=E.style,w="",j=null,I=!1;if(D==null){console.log("no styles")}var P=T.Qe(E,R),e=T.hd(E),Y=e=="shapeGroup"||e=="shapePath"||e=="rectangle"||e=="oval"||e=="triangle",O=["page","artboard","group"].indexOf(e)!=-1;
if(e=="shapeGroup"){for(var W=0;W<E.layers.length;W++)if(T.hd(E.layers[W])=="shapeGroup")O=!0}var g=E.exportOptions;
if(g){var J=g.exportFormats;if(J==null)J=g.sizes;if(e!="artboard"&&(J&&J.length!=0)){var U=J[0].scale}}var H=a.hX();
H.mt(E.isVisible);var f=E.name;if(!(typeof f=="string"))f=e;H.xJ(w+f.slice(0,250));if(D!=null)j=T.Soo(Q,a,D,k,P,H.getName(),Y||e=="artboard"||O);
if(e=="rectangle"&&D&&D.fills&&D.fills[0]){var L=D.fills[0];if(L.fillType==4&&L.patternFillType>1&&L.image!=null)I=!0}if(E.shouldBreakMaskChain){while(d.length!=0)T.TN(d.pop(),a)}if(O){H.add.lsct=E.layerListExpandedType==2?Ns.hI:Ns.AH;
H.bQ="pass";H.KN=24;H.mt(E.isVisible);a.M.push(a.Df());if(e=="artboard"){var C=k.clone(),v=P.Of();C.x=-Math.floor(P.NE/v);
C.y=-Math.floor(P.GV/v);C.C=Math.floor(C.C/v);C.T=Math.floor(C.T/v);H.dU(C);var o=E.backgroundColor;
H.add.artb.Clr={t:"Objc",v:S.e.HW({D:255*o.red,X:255*o.green,N:255*o.blue})};H.add.artb.artboardBackgroundType={t:"long",v:4}}T.fN(E.layers,a,P,Q,t,N,K)}else if(Y&&!I){H.add.vmsk=new l.IC;
H.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));H.add.vstk.strokeEnabled.v=!1;H.add.vogk=[];var Z=j!=null&&j.frameFXMulti.v.length==1,B=D?D.fills:null,s=D?T.OE(Q,B,k,P,H.getName(),a,T.fp(K,E.do_objectID+"_image")):[];
if(s.length==0){if(Z)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=0;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:0,X:0,N:0})}}}else{var q=s[0],F=null,b=null;
if(q.type=="SoFi"){F="SoCo";b=gZ.Yw}if(q.type=="GrFl"){F="GdFl";b=gZ.aH}if(q.type=="patternFill"){F="PtFl";
b=gZ.QN}if(F!=null){H.add[F]={classID:"null"};for(var W=0;W<b.length;W++){var G=b[W];H.add[F][G]=q.Z.v[G]}var u=q.Z.v.Opct.v.val;
if(Z&&u==0)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=Math.round(255*u/100)}}H.KN|=16;H.add.vmsk.G=T.FZ(E.layers?E.layers:[E],E.layers?P:R,H.add.vogk);
var h=D?D.blur:null;if(h&&h.isEnabled&&h.type<=1)H.add.vmsk.Ge=h.radius;if(H.add.vmsk.G.length==2){console.log("shape with no content:",H.getName())}if(Z){var z=j.frameFXMulti.v[0].v,r=H.add.vstk,i=D.borders[0];
j.frameFXMulti.v=[];gB.SKL(z,r);var gg=D.borderOptions,gC=D.miterLimit;if(gg){var gd=gg.dashPattern;
r.strokeStyleLineCapType.v.strokeStyleLineCapType=gZ.up.yo[gg.lineCapStyle];r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gZ.up.join[gg.lineJoinStyle];
if(gd)r.strokeStyleLineDashSet.v=gB.mj(gd,1/z.Sz.v.val);if(gC!=null)r.strokeStyleMiterLimit.v=gC}}H.WU(a)}else if(e=="bitmap"||I){var gY=I?D.fills[0]:null,gN=I?gY.image.bdata:E.image.bdata,gS=a.Cf(gN,H.getName(),0,0);
gS.KN=H.KN;H=gS;var h=D.blur,M=D.colorControls;if(h||M){H.add.SoLd.filterFX=gw.Dk();a.Cp({id:H.add.SoLd.placed.v,rect:new x,buffer:S.p(1),n:new l.TU});
var B=H.add.SoLd.filterFX.v.filterFXList.v;if(h){var Cj=gw.UH("GsnB",{});Cj.v.enab.v=h.isEnabled;Cj.v.Fltr.v.Rds.v.val=h.radius;
B.push(Cj)}if(M){var gs=M.brightness,gl=M.contrast,gR=M.hue,ge=M.saturation;if(gR!=0||ge!=1){var Cj=gw.UH("hue2",{});
Cj.v.enab.v=M.isEnabled;Sj.Gq(Cj.v.Fltr.v,0,[Math.round(gR*180/Math.PI),Math.round((ge-1)*100),0]);B.push(Cj)}if(gs!=0||gl!=1){var Cj=gw.UH("brit",{});
Cj.v.enab.v=M.isEnabled;gl=gl-1;if(gl>0)gl/=2;var So=Cj.v.Fltr.v;So.Brgh.v=Math.round(gs*255);So.Cntr.v=Math.round(gl*255);
So.useLegacy.v=!0;B.push(Cj)}}}if(I){var gq=gY.patternFillType;if(gq==3){var gH=H.rect.C/H.rect.T,gx=k.C/k.T;
if(gH<gx){P.translate(-(k.C*(1-gH/gx))/2,0);P.scale(gx/gH,1)}else{P.translate(0,-(k.T*(1-gx/gH))/2);
P.scale(1,gH/gx)}}}k.x=k.y=0;var g$=S.s.Ht(k).r;P.zw();S.s.t(g$,P,g$);H.add.SoLd.Trnf=m.B.Ql(g$);H.add.SoLd.nonAffineTransform=m.B.Ql(g$);
H.eU(a,!1)}else if(e=="text"){if(E.attributedString==null)continue;var gy=P.clone(),SZ,dU,gF=0;gy.zw();
gy.Eu=gy.$B=Math.min(gy.Eu,gy.$B);H.add.lnsr="rend";H.add.TySh=gK.oG(0,0);H.add.TySh.Yf=new x(0,0,k.C,k.T);
H.add.TySh.t=gy;var gz=E.attributedString;if(gz.archivedAttributedString)gz=gz.archivedAttributedString;
var gX=gz.NSString;if(gX==null)gX=gz.string;if(gX==null)gX="";if(gX["NS.string"])gX=gX["NS.string"];
if(N[E.do_objectID]!=null)gX=N[E.do_objectID];var gJ=T.fp(K,E.do_objectID+"_stringValue");if(gJ)gX=gJ.value;
if(gz.attributes!=null){SZ=[];dU=[];var SR=gz.attributes;for(var W=0;W<SR.length;W++){SZ.push(SR[W].length,W);
dU.push(SR[W].attributes)}}else if(gz.NSAttributeInfo==null){SZ=[gX.length,0];dU=[gz.NSAttributes]}else{SZ=gz.NSAttributeInfo["NS.data"];
dU=gz.NSAttributes;SZ=NR.Soe(SZ,dU)}for(var W=0;W<SZ.length;W+=2)gF+=SZ[W];if(gF!=gX.length){while(gF>gX.length){SZ[SZ.length-2]--;
gF--;if(SZ[SZ.length-2]==0){SZ.pop();SZ.pop()}}SZ[SZ.length-2]+=gX.length-gF}gX=gX.replace(/\u2028/g,"\n");
gX=gX.replace(/\u2029/g,"\n");gX=gX.replace(/\r/g,"\n");var gv=H.add.TySh.KY;gK.uC(gv,0,gX);if(gX!=""){var SU=E.textBehaviour,ga=D.textStyle,Sg=ga?ga.verticalAlignment:0,gO=T.Soy(gv,SZ,dU,gX),v=gy.Of(),SC=gK.dJ(gv,0,1),SO=0;
if(SC.RW.Font){var gk=SC.nY[SC.RW.Font].Name;if(gk=="FontAwesome"||gk=="Ionicons")gO*=.87}var Np=SC.RW.AutoLeading?0:SC.RW.Leading*.6,NZ=Math.max(gO,Np)*v,gD=k.C,gI=k.T;
if(SU==0){gK.mW(gv,0);var go=gK.Ri(SC.uq);if(go==1)SO=gD*v;if(go==2)SO=gD*v*.5;if(Sg==0)NZ*=1;else NZ*=.9}else{gK.mW(gv,1);
gK.Dn(gv,[0,0,Math.round(gD),Math.round(gI)]);if(SU==2&&Sg==0)NZ=NZ*.2;else if(SU==2&&Sg==1){NZ=v*.5*(gI-SC.RW.FontSize)}else if(SU==1&&Sg==0)NZ=NZ*.2;
else NZ=NZ*.35}H.add.TySh.t.translate(SO,NZ)}}else if(e=="symbolInstance"||e=="symbolMaster"){var NS=E.symbolID;
if(N[E.do_objectID])NS=N[E.do_objectID].symbolID;var NK=T.fp(K,E.do_objectID+"_symbolID");if(NK)NS=NK.value;
if(NS=="")continue;var gP={};for(var G in N)gP[G]=N[G];if(E.overrides)for(var G in E.overrides)gP[G]=E.overrides[G];
var NX=K.slice(0);if(E.overrideValues)NX=NX.concat(E.overrideValues);var Nd=t[NS];if(Nd==null){console.log("Unknown master master",E.symbolID);
continue}var Ni=NR.mm(Nd._M.frame),NH=Ni.C/k.C,NE=Ni.T/k.T,NJ=P.clone();NJ.scale(NH,NE);H.add.lsct=Ns.AH;
H.bQ="pass";H.KN=24;H.mt(E.isVisible);a.M.push(a.Df());var Nl=Nd._M;if(a._X.indexOf(Nl)==-1){a._X.push(Nl);
T.fN(Nl.layers,a,NJ,Q,t,gP,NX);a._X.pop()}}else if(e=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+e,E);continue}if(D&&D.contextSettings){var NL=D.contextSettings,py=NL.blendMode;
if(py<T.gs.length){H.bQ=gE.TV[gE.$Z.indexOf(T.gs[py])];if(O&&H.bQ=="norm")H.bQ="pass"}H.opacity=Math.round(H.opacity*NL.opacity)}if(j!=null){H.add.lmfx=j}a.M.push(H);
if(E.hasClippingMask&&p.length>1){d.push(H);a.M.push(a.Df())}}while(d.length!=0)T.TN(d.pop(),a)};NR.fp=function(p,a){for(var R=0;
R<p.length;R++)if(p[R].overrideName.startsWith(a))return p[R]};NR.Soe=function(p,a){var R=0,Q=[];while(R+1<p.length){var t=p[R];
R++;if(t>127){t+=128*(p[R]-1);R++;if(p[R-1]>127){t+=128*(p[R]-1);R++}}var N=p[R];R++;Q.push(t,N)}return Q};
NR.Soy=function(p,a,R,Q){var t=NR,N=0,k=0,D=0;for(var K=0;K<Q.length;K++){var T=Q.charCodeAt(K),d=1473<=T&&T<=1479||1488<=T&&T<=1514||1520<=T&&T<=1524,y=1569<=T&&T<=1594||1600<=T&&T<=1749;
if(d||y)N++}var E=N>Q.length/2;for(var K=0;K<a.length;K+=2){var P=a[K],H=14,f="DejaVuSans";if(P==0)continue;
var e=a[K+1],Y=R[e],O=gK.dJ(p,k,k+P-1),W=Y.NSColor;if(W==null){var W=Y.MSAttributedStringColorDictionaryAttribute;
if(W==null)W=Y.MSAttributedStringColorAttribute;if(W==null)W="0 0 0";else W=[W.red,W.green,W.blue].join(" ")}else if(t.hd(W)=="MSArchivedColor")W=W.dr+" "+W.dg+" "+W.db;
else if(W.NSRGB){W=W.NSRGB;W=A.GG(W,0,W.length-1)}else if(W.NSCMYK){W=W.NSCMYK;W=A.GG(W,0,W.length-1);
W=W.split(" ").map(parseFloat);var w=1-W[0],g=1-W[1],J=1-W[2],U=1-W[3];W=w*U+" "+g*U+" "+J*U}else if(W.NSWhite){W="1 1 1"}W=W.split(" ");
O.RW.FillColor={Type:1,Values:[1,parseFloat(W[0]),parseFloat(W[1]),parseFloat(W[2])]};var j=Y.MSAttributedStringFontAttribute;
if(Y.NSFont){H=Y.NSFont.NSSize;f=Y.NSFont.NSName}else if(j){if(j.attributes){j=j.attributes;H=j.size;
f=j.name}else{var I=j.NSFontDescriptorAttributes;if(I==null)I=j.UIFontDescriptorAttributes;j=I;H=j.NSFontSizeAttribute;
f=j.NSFontNameAttribute}if(f==null)f="DejaVuSans"}var D=Math.max(D,H);O.RW.FontSize=Math.round(H);gK.rl(O,f);
var L=Y.NSKern;if(L==null)L=Y.kerning;if(L!=null)O.RW.Tracking=Math.round(1e3*L/H);if(Y.NSUnderline!=null)O.RW.Underline=Y.NSUnderline>0;
if(Y.NSStrikethrough!=null)O.RW.Strikethrough=Y.NSStrikethrough>0;if(Y.MSAttributedStringTextTransformAttribute==1)O.RW.FontCaps=2;
var C=Y.NSParagraphStyle;if(C==null)C=Y.paragraphStyle;if(C){var v=C.paragraphSpacing;if(v!=null){O.uq.SpaceAfter=v}var o=C.NSAlignment;
if(o==null)o=C.alignment;if(o!=null){var Z=0;if(!1){}else if(o==1)Z=1;else if(o==2)Z=2;else if(o==4)Z=0;
else{Z=o;console.log("unknown align",o)}if(E&&Z<2)Z=1-Z;O.uq.Justification=Z}var B=C.NSMinLineHeight;
if(B==null)B=C.minimumLineHeight;if(B!=null){O.RW.AutoLeading=!1;O.RW.Leading=B}}O.uq._Direction=E?1:0;
gK.mv(p,k,k+P,O);k+=P}return D};NR.Soo=function(p,a,R,Q,t,N,K){var T=NR,d=JSON.parse(gZ.default),E=!1;
for(var y=0;y<gZ.order.length;y++)d[gZ.lV[y]]={t:"VlLs",v:[]};var k=R.fills,D=T.OE(p,k,Q,t,N,a);for(var P=0;
P<2;P++){var e=R[["shadows","innerShadows"][P]];if(e==null)continue;var Y=["DrSh","IrSh"][P],O=gZ.lV[gZ.order.indexOf(Y)];
for(var y=0;y<e.length;y++){var W=e[y];if(!W.isEnabled)continue;if(W.contextSettings.opacity==0||W.color.alpha==0)continue;
var w=JSON.parse(gZ.pB[gZ.order.indexOf(Y)]);d[O].v.unshift({t:"Objc",v:w});E=!0;w.Clr.v=T.mq(W.color);
w.blur.v.val=Math.round(W.blurRadius/t.Of());var g=t.clone();g.NE=g.GV=0;g.zw();var J=g.Ci(new X(W.offsetX,W.offsetY)),U=Math.sqrt(J.x*J.x+J.y*J.y);
w.Dstn.v.val=Math.round(U);w.lagl.v.val=Math.round(Math.atan2(J.y,-J.x)*(180/Math.PI));if(w.layerConceals)w.layerConceals.v=D.length!=0;
T.fY(W,w)}}var H=R.borders;if(H!=null&&(D.length==0||R.blur==null||!R.blur.isEnabled))for(var y=0;y<H.length;
y++){var f=H[y];if(!f.isEnabled)continue;var w=JSON.parse(gZ.pB[gZ.order.indexOf("FrFX")]),O=gZ.lV[gZ.order.indexOf("FrFX")];
d[O].v.unshift({t:"Objc",v:w});E=!0;w.Clr.v=T.mq(f.color);if(f.fillType!=0&&f.gradient){var j=T.gH(f.gradient,Q,t,N),I=["Type","Angl","Ofst","Scl"];
for(var y=0;y<I.length;y++)w[I[y]]=j[I[y]];w.Grad.v=j.Grad.v;w.PntT.v.FrFl="GrFl"}w.Sz.v.val=f.thickness/t.Of();
w.Styl.v.FStl=["CtrF","InsF","OutF"][f.position];T.fY(f,w)}for(var y=K?1:0;y<D.length;y++){var L=D[y],O=gZ.lV[gZ.order.indexOf(L.type)];
d[O].v.unshift(L.Z);E=!0}return E?d:null};NR.OE=function(p,a,R,Q,t,N,K){if(a==null)return[];var T=NR,d=[];
for(var y=0;y<a.length;y++)if(a[y].isEnabled)d.push(a[y]);a=d;var E=[];for(var y=0;y<a.length;y++){var k=a[y],D=null,P=null;
if(k.fillType==0){D="SoFi";var e=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]);P={t:"Objc",v:e};P.v.Clr.v=T.mq(k.color)}else if(k.fillType==1){D="GrFl";
P={t:"Objc",v:T.gH(k.gradient,R,Q,t)}}else if(k.fillType==4&&k.image!=null){var Y=k.image;if(K)Y=K.value;
var O=gr.li(Y.bdata.buffer);if(O!=null&&O!="pdf"&&O!="eps"){var W,U=0,H=0,f=0;if(N.lB[Y.key])W=N.lB[Y.key];
else{var w=gr.xN(O).Lc(Y.bdata)[0];W={data:w.data,I:new x(0,0,w.sE.C,w.sE.T)};W.id=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f";
W.name="someImage";W.Yz=new Uint8Array(W.data);delete W.data;N.yK(W);N.lB[Y.key]=W}var e=JSON.parse(gZ.pB[gZ.order.indexOf("patternFill")]);
D="patternFill";P={t:"Objc",v:e};var g=k.patternFillType,J=k.patternTileScale;e.Algn.v=!0;e.Ptrn.v.Idnt.v=W.id;
if(g==0){U=J*W.I.C/Math.min(W.I.C,W.I.T);H=-Q.NE;f=-Q.GV}else{U=Math.max(R.C/W.I.C,R.T/W.I.T);H=-Q.NE-(W.I.C*U-R.C)/2;
f=-Q.GV-(W.I.T*U-R.T)/2}e.Scl.v.val=100*U*(1/Q.Of());e.phase.v.Hrzn.v=Math.round(H/Q.Of());e.phase.v.Vrtc.v=Math.round(f/Q.Of())}}else if(k.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",k.fillType);
if(D!=null){T.fY(k,P.v);E.push({type:D,Z:P})}}return E};NR.SUq=function(p){var a=NR,R=new x(0,0,1,1);
p=p.slice(0);while(!0){var Q=!1;for(var t=0;t<p.length-1;t++){var N=p[t],K=p[t+1],T=null,d=N.contextSettings;
if(N.fillType==0&&(d==null||d.opacity==1&&d.blendMode==0)&&N.color.alpha==1){var y="norm",E=1,d=K.contextSettings;
if(d){E=d.opacity;y=gE.Me(a.gs[d.blendMode])}if(K.fillType==0){T=JSON.parse(JSON.stringify(K));a.Om(T.color,N.color,T.color,R,y,E)}if(K.fillType==1){T=JSON.parse(JSON.stringify(K));
var k=T.gradient.stops;for(var D=0;D<k.length;D++)a.Om(k[D].color,N.color,k[D].color,R,y,E)}if(T!=null&&T.contextSettings){var d=T.contextSettings;
d.opacity=1;d.blendMode=0}}if(T!=null){p.splice(t,0,T);Q=!0;break}}if(!Q||p.length<2)break}return p};
NR.Om=function(p,a,R,Q,t,N){var K=NR,T=S.p(4);K.tm(p,T);var d=S.p(4);K.tm(a,d);S.O.KJ(t,T,Q,d,Q,Q,N);
K.SoU(d,R)};NR.tm=function(p,a){a[0]=255*p.red;a[1]=255*p.green;a[2]=255*p.blue;a[3]=255*p.alpha};NR.SoU=function(p,a){a.red=p[0]/255;
a.green=p[1]/255;a.blue=p[2]/255;a.alpha=p[3]/255};NR.TN=function(p,a){p=p.clone();p.KN=24;p.xJ("Mask by "+p.getName());
a.M.push(p);p.add.lsct=Ns.hI;p.add.lyid=a.E_();delete p.add.lmfx;delete p.add.SoCo;delete p.add.GdFl;
delete p.add.PtFl;delete p.add.iOpa;if(p.add.vmsk)p.add.vmsk.Ol=!0;p.WU(a);if((p.KN&16)==16)p.KN-=16;
if((p.KN&2)==2)p.KN-=2;p.bQ="pass";p.opacity=255};NR.gs="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
NR.gH=function(p,a,R,Q){R=R.clone();R.zw();R.NE=R.GV=0;var t=R.Of(),D=0,P=0;R.scale(1/t,1/t);var N=NR,K=JSON.parse(gZ.pB[gZ.order.indexOf("GrFl")]),T=K.Grad.v;
T.Intr.v=0;if(p==null)return K;var d=p.gradientType,y=N.ja(p.from),E=N.ja(p.to);y.offset(-.5,-.5);E.offset(-.5,-.5);
y=R.Ci(y);E=R.Ci(E);var k=Math.atan2(-(E.y-y.y),E.x-y.x);K.Type.v.GrdT=["Lnr","Rdl","Angl"][d];K.Scl.v.val=100*X.Hz(y,E);
if(d==0){K.Angl.v.val=180/Math.PI*k;K.Scl.v.val=100*X.Hz(y,E);D=(y.x+E.x)/2;P=(y.y+E.y)/2}if(d==1){K.Scl.v.val=200*X.Hz(y,E);
D=y.x;P=y.y}if(d==2){K.Angl.v.val=180/Math.PI*(k-Math.PI/2)}var e=K.Ofst.v;e.Hrzn.v.val=D*100;e.Vrtc.v.val=P*100;
var Y=[];for(var O=0;O<p.stops.length;O++){var W=p.stops[O],w=W.color;Y.push([W.position,w?[w.red,w.green,w.blue]:[0,0,0],w.alpha])}S.e.S_(Y,T);
return K};NR.fY=function(p,a){var R=NR,Q=1,t=p.contextSettings;if(t!=null){a.Md.v.BlnM=R.gs[t.blendMode];
Q*=t.opacity}else a.Md.v.BlnM=R.gs[0];a.enab.v=p.isEnabled;if(a.uglg!=null)a.uglg.v=!1;if(p.color!=null)Q*=p.color.alpha;
a.Opct.v.val=Math.round(Q*100)};NR.mq=function(p){return S.e.HW(p?{D:p.red*255,X:p.green*255,N:p.blue*255}:{D:0,X:0,N:0})};
NR.FZ=function(p,a,R){var Q=NR,t=[{type:6},{type:8,all:0}];for(var N=0;N<p.length;N++){var K=p[N],T=K.booleanOperation,d=0,y=K._class,Y=!1;
if(y=="group"||y=="text"||y=="symbolInstance"||y=="slice"){console.log(y+" inside ShapeGroup");continue}if(T==-1)d=0;
else if(T==0)d=1;else if(T==1)d=2;else if(T==2)d=3;else if(T==3)d=0;if(N==0)d=1;var E=NR.mm(K.frame),k=Q.Qe(K,a),D=K.path?K.path:K,P=[{type:0,length:0,gu:d,Xt:2,Uc:0,Wd:0}],e=D.points;
for(var O=0;O<e.length;O++){var W=e[O],w=Q.ja(W.curveTo),g=Q.ja(W.point),J=Q.ja(W.curveFrom);Y=Y||W.hasCurveFrom&&!J.xA(g)||W.hasCurveTo&&!w.xA(g)}var U=[];
if(!Y){var H=[],f=e.length;if(f==0)continue;for(var O=0;O<f;O++){U[O]=e[O].cornerRadius;var W=Q.ja(e[O].point);
H.push(W.x,W.y)}k.scale(1/E.C,1/E.T);k.zw();S.s.t(H,k,H);var j=S.d.vD(H,U);P=P.concat(j);P[0].length=P.length-1}else{var I=e.length;
P[0].length=I;for(var O=0;O<I;O++){var W=e[O],L=W.curveMode,C=Q.ja(W.point);P[1+O]={type:L==2||L==4?1:2,Xe:W.hasCurveTo?Q.ja(W.curveTo):C.clone(),i:C,k$:W.hasCurveFrom?Q.ja(W.curveFrom):C.clone()}}k.scale(1/E.C,1/E.T);
k.zw();S.d.xv(P,k);var U=[];for(var O=0;O<I;O++){var W=e[O],L=W.curveMode,v=W.cornerRadius;if(L==1&&v!=0)U.push(v);
else U.push(0)}}if(!D.isClosed)for(var O=0;O<P.length;O++)P[O].type+=3;t=t.concat(P);var o=S.lm.No(),Z=Q.hd(K);
if(k.N==0&&k.CI==0){var B=k.NE,s=k.GV,q=B+k.Eu,F=s+k.$B,b=[B,s,q,F];if(Z=="rectangle"&&U.length==4)o=S.lm.rU(2,b,U);
if(Z=="oval")o=S.lm.rU(5,b)}R.push(o)}return t};NR.Qe=function(p,a){var R=a.clone(),Q=p.frame?NR.mm(p.frame):null;
if(Q)R.translate(-Q.x-Q.C/2,-Q.y-Q.T/2);if(p.isFlippedHorizontal)R.scale(-1,1);if(p.isFlippedVertical)R.scale(1,-1);
R.rotate(-p.rotation*(Math.PI/180));if(Q)R.translate(Q.C/2,Q.T/2);return R};NR.ja=function(p){p=p.slice(1,p.length-1).split(",");
return new X(parseFloat(p[0]),parseFloat(p[1]))};NR.mm=function(p){return new x(p.x,p.y,p.width,p.height)};
NR.qx=function(p){return{_class:"rect",constrainProportions:!1,x:p.x,y:p.y,width:p.C,height:p.T}};function Yf(){}Yf.Hi=function(p,a){var R=Yf,Q=UZIP.parse(p),t=JSON.parse(A.ng(Q.manifest)),N=JSON.parse(A.ng(Q["resources/graphics/graphicContent.agc"])).resources,K=[],T=t.children;
for(var d=0;d<T.length;d++){var y=T[d];if(y.name=="artwork"){var E=y.children;for(var k=0;k<E.length;
k++)if(E[k]["uxdesign#bounds"]){var D=E[k],P=JSON.parse(A.ng(Q["artwork/"+D.path+"/graphics/graphicContent.agc"]));
if(P.children.length!=1)throw"e";D._node=P.children[0];K.push(D)}}}var e=[],Y=new x;for(var d=0;d<K.length;
d++){var D=K[d],O=NR.mm(D["uxdesign#bounds"]);e.push(O);Y=Y.hT(O)}var W=NR.Hj(Y,8192*8192);a.YO=!0;a.C=Math.round(Y.C/W);
a.T=Math.round(Y.T/W);a.buffer=S.p(a.C*a.T*4);a.RZ(K.length);var w=new gh(W,0,0,W,Y.x,Y.y);a.lB={};for(var d=0;
d<K.length;d++){var D=K[d],O=NR.mm(D["uxdesign#bounds"]),g=D._node,J=w.clone(),U=O.clone(),H=J.Of();
J.translate(-O.x,-O.y);U.x=-Math.floor(J.NE/H);U.y=-Math.floor(J.GV/H);U.C=Math.floor(U.C/H);U.T=Math.floor(U.T/H);
J.translate(O.x,O.y);Yf.hy(g,a,J,N,Q,U);var f=a.M[a.M.length-1];f.xJ(D.name);f.dU(U);if(d!=K.length-1)f.add.lsct=Ns.AH}delete a.lB;
console.log(a.V)};Yf.Xj=function(p){if(p==null)return new gh;return new gh(p.a,p.b,p.c,p.d,p.tx,p.ty)};
Yf.hy=function(p,a,R,Q,t,N){var K=Yf,T=p.type,d=p[T],y=p.style,E=K.Xj(p.transform),e,Y="none",O,W="none",w,g;
E.zw();var k=R.clone();k.concat(E);var D=a.hX(),P=p.name;D.xJ(P?P.slice(0,250):"Layer");if(p.visible!=null)D.mt(p.visible);
if(y){e=y.stroke;Y=e?e.type:"none";O=y.fill;W=O?O.type:"none";w=y.filters;g=y.clipPath;if(y.opacity)D.opacity=Math.round(255*y.opacity);
if(W=="solid"&&O.color.alpha)D.opacity=Math.round(D.opacity*O.color.alpha);if(w){D.add.lmfx=K.SoW(w);
for(var J=0;J<w.length;J++)if(w[J].type=="uxdesign#blur"){var U=w[J],H=U.params,f=H.brightnessAmount;
if(f==null)f=0;f=Math.abs(f/100);if((U.visible==null||U.visible==!0)&&H.backgroundEffect)D.opacity=Math.round(D.opacity*(f+(1-f)*H.fillOpacity))}}if(W=="pattern"&&O.pattern.meta.ux.uid=="")W="none"}if(T=="artboard"||T=="group"){if(g&&Q.clipPaths[g.ref]){var j=Q.clipPaths[g.ref].children[0],I=j.shape,L=I!=null&&I.type=="rect"&&I.width*I.height>1e6;
if(j.type!="text"&&!L){var E=K.Xj(j.transform);E.zw();var C=k.clone();C.concat(E);D.add.vmsk=new l.IC;
D.add.vmsk.G=K.FZ(I);C=C.clone();C.zw();S.d.xv(D.add.vmsk.G,C);D.WU(a)}else if(!L)alert("Clipping by text has been ignored")}D.add.lsct=Ns.hI;
D.bQ="pass";D.KN=24;if(p.visible!=null)D.mt(p.visible);a.M.push(a.Df());var v=d.children,o=O;if(o)o=o.color;
if(o)o=o.value;if(O&&(W!="solid"||o.r!=255||o.g!=255||o.b!=255)){var Z=a.hX();Z.xJ("BACKGROUND");Z.KN|=16;
Z.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));Z.add.vmsk=new l.IC;Z.add.vmsk.G=K.FZ({type:"rect",x:N.x,y:N.y,width:N.C,height:N.T});
K.g$(O,W,k,N,N,Z,a,Q,t);Z.WU(a);a.M.push(Z)}for(var J=0;J<v.length;J++){Yf.hy(v[J],a,k,Q,t,N)}}else if(T=="shape"&&p.shape.type=="rect"&&(p.shape.r==null||p.shape.r==0)&&W=="pattern"&&Math.abs(p.shape.width/p.shape.height-O.pattern.width/O.pattern.height)<.01){var B=O.pattern,s=B.meta.ux,q=s.uid,F=t["resources/"+q];
if(F==null){console.log(B);return}var b=a.Cf(F,D.getName(),0,0);b.KN=D.KN;b.opacity=D.opacity;D=b;var G=S.s.Ht(new x(0,0,B.width,B.height)).r,u=new gh;
u.scale(B.width/p.shape.width,B.height/p.shape.height);k.concat(u);k.zw();S.s.t(G,k,G);D.add.SoLd.Trnf=m.B.Ql(G);
D.add.SoLd.nonAffineTransform=m.B.Ql(G);D.eU(a,!1)}else if(T=="shape"){D.KN|=16;D.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));
D.add.vmsk=new l.IC;D.add.vmsk.G=K.FZ(d);var h=S.d.Fh(D.add.vmsk.G,null),C=k.clone();C.zw();S.d.xv(D.add.vmsk.G,C);
var z=S.d.Fh(D.add.vmsk.G,null);if(Y=="none"){}else{var r=e.color.value,i,gg;i="SoFi";var gC=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]);
gg={t:"Objc",v:gC};gg.v.Clr.v=S.e.HW({D:r.r,X:r.g,N:r.b});var gd=e.align,gY=e.cap;if(gd==null)gd="center";
var gN=D.add.vstk;gN.strokeEnabled.v=!0;gN.strokeStyleLineWidth.v.val=e.width;if(gd)gN.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gZ.up.oy[["inside","center","outside"].indexOf(gd)];
if(gY)gN.strokeStyleLineCapType.v.strokeStyleLineCapType=gZ.up.yo[["butt","round","square"].indexOf(gY)];
var gS=["SoFi","GrFl","patternFill"].indexOf(i),M=[gZ.Yw,gZ.aH,gZ.QN][gS];gN.strokeStyleContent.v={classID:gZ.up.sZ[0]};
var Cj=gN.strokeStyleContent.v={classID:gZ.up.sZ[gS]};for(var J=0;J<M.length;J++)Cj[M[J]]=gg.v[M[J]]}if(w)for(var J=0;
J<w.length;J++)if(w[J].type=="uxdesign#blur"&&w[J].visible){var gs=w[J];D.add.vmsk.Ge=gs.params.blurAmount}K.g$(O,W,k,h,z,D,a,Q,t);
D.WU(a)}else if(T=="text"&&p.text){var gl=p.text,gR=gl.frame,ge=y.font,So=y.textAttributes,E=k.clone(),SZ=0;
E.zw();D.add.lnsr="rend";D.add.TySh=gK.oG(0,0);D.add.TySh.Yf=new x(0,0,100,100);D.add.TySh.t=E;var gq=D.add.TySh.KY,gH=gl.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
gK.uC(gq,0,gH);if(gH!=""){var gx=gK.dJ(gq,0,1),g$=ge.postscriptName;if(g$==null)g$=ge.family;gK.rl(gx,g$);
gx.RW.FontSize=Math.round(ge.size);if(O){var r=O.color.value;gx.RW.FillColor={Type:1,Values:[1,r.r/255,r.g/255,r.b/255]}}if(So){if(So.paragraphAlign)gx.uq.Justification=["left","right","center"].indexOf(So.paragraphAlign);
if(So.letterSpacing)gx.RW.Tracking=Math.round(So.letterSpacing);if(So.lineHeight){gx.RW.AutoLeading=!1;
gx.RW.Leading=Math.round(So.lineHeight)}}gK.mv(gq,0,gH.length,gx)}var gy=p.meta.ux.rangedStyles;if(gy)for(var J=0;
J<gy.length;J++){var d=gy[J],dU=Math.min(d.length,gH.length-SZ),gx=gK.dJ(gq,SZ,SZ+dU),g$=d.postscriptName;
if(g$==null)g$=d.family;if(g$!=null)gK.rl(gx,g$);var gz=d.textScript,gX=d.underline,gJ=d.fontSize,U=d.fill,SR=d.textTransform;
if(gz&&gz!="none")gx.RW.FontBaseline=gz=="superscript"?1:2;if(gX!=null)gx.RW.Underline=gX;if(gJ!=null)gx.RW.FontSize=Math.round(gJ);
if(SR!=null)gx.RW.FontCaps=SR=="uppercase"?2:0;if(U!=null){var gF=U.value;gx.RW.FillColor={Type:1,Values:[1,(gF>>>16&255)/255,(gF>>>8&255)/255,(gF>>>0&255)/255]}}gK.mv(gq,SZ,SZ+dU,gx);
SZ+=dU}if(gR.type=="area"){gK.mW(gq,1);gK.Dn(gq,[0,0,gR.width,gR.height])}}else console.log(T,p);a.M.push(D)};
Yf.FZ=function(p){var a=p.type,R=[{type:6},{type:8,all:0}];if(a=="rect"){var Q=p.r,t=p.x,N=p.y,K=p.width,T=p.height;
if(Q==null)R=S.d.y$.Rect(t,N,K,T,0);else R=R.concat([{type:0,gu:1,length:8,Uc:0,Wd:0,Xt:1}]).concat(S.d.vD([t,N,t+K,N,t+K,N+T,t,N+T],Q,!1))}else if(a=="circle"){var Q=p.r;
R=S.d.y$.QJ(p.cx-Q,p.cy-Q,2*Q,2*Q)}else if(a=="ellipse"){var d=p.rx,y=p.ry;R=S.d.y$.QJ(p.cx-d,p.cy-y,2*d,2*y)}else if(a=="path"||a=="compound"){var E=Typr.U.SVGToPath(p.path);
R=S.s.Vl({$:E.cmds,r:E.crds},!1)}else if(a=="line"){var k=p.x1,D=p.x2,P=p.y1,e=p.y2;R=R.concat([{type:0,gu:1,length:2,Uc:0,Wd:0,Xt:1}]).concat(S.d.vD([k,P,D,e],0,!0))}else if(a=="polygon"){var Y=p.points,O=[];
for(var W=0;W<Y.length;W++)O.push(Y[W].x,Y[W].y);R=R.concat(S.d.y$.PL(O,0,!1).slice(2))}else console.log(a,p);
return R};Yf.SoW=function(p){var a=JSON.parse(gZ.default);for(var R=0;R<gZ.order.length;R++)a[gZ.lV[R]]={t:"VlLs",v:[]};
for(var R=0;R<p.length;R++){var Q=p[R],t=Q.type,N=Q.params,K=Q.visible;if(t=="dropShadow"){var T=gZ.lV[gZ.order.indexOf("DrSh")],d=JSON.parse(gZ.pB[gZ.order.indexOf("DrSh")]);
a[T].v.unshift({t:"Objc",v:d});var y=N.dropShadows;if(y.length!=1)throw"e";var E=y[R],k=E.color,D=k.value,P=E.dx,e=E.dy;
d.Clr.v=S.e.HW({D:D.r,X:D.g,N:D.b});d.Opct.v.val=Math.round((k.alpha!=null?k.alpha:1)*100);d.uglg.v=!1;
d.enab.v=K!=null?K:!0;d.lagl.v.val=Math.round(180/Math.PI*Math.atan2(e,-P));d.Dstn.v.val=Math.round(Math.sqrt(P*P+e*e));
d.blur.v.val=Math.round(E.r*2.3)}}return a};Yf.g$=function(p,a,R,Q,t,N,K,T,d){var y=Yf;if(a=="none"){N.add.vstk.fillEnabled.v=!1;
N.add.SoCo={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:0,X:0,N:0})}}}else{var E,k,D;if(a=="solid"){var P=p.color.value;
E="SoCo";k=gZ.Yw;var e=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]);D={t:"Objc",v:e};D.v.Clr.v=S.e.HW({D:P.r,X:P.g,N:P.b})}else if(a=="gradient"){E="GdFl";
k=gZ.aH;var e=JSON.parse(gZ.pB[gZ.order.indexOf("GrFl")]),Y=e.Grad.v,J,U,H;Y.Intr.v=0;var O=p[a],W=O.ref?T.gradients[O.ref]:O.meta.ux.gradientResources,w=["linear","radial"].indexOf(W.type),g=W.stops;
e.Type.v.GrdT=["Lnr","Rdl","Angl"][w];if(w==0){var J=new X(O.x1,O.y1),U=new X(O.x2,O.y2);J.x=U.x+.5*(J.x-U.x);
J.y=U.y+.5*(J.y-U.y)}else{var J=new X(O.cx,O.cy),U=new X(O.cx+O.r,O.cy)}H=t;if(O.units=="objectBoundingBox"){var f=new gh(Q.C,0,0,Q.T,Q.x,Q.y);
J=f.Ci(J);U=f.Ci(U)}var f=y.Xj(O.transform);J=f.Ci(J);U=f.Ci(U);f=R.clone();f.zw();J=f.Ci(J);U=f.Ci(U);
S.e.Os(J,U,H,e);var j=[];for(var I=0;I<g.length;I++){var L=g[I],C=L.color,P=C.value,v=C.alpha;if(v==null)v=1;
j.push([L.offset,[P.r/255,P.g/255,P.b/255],v])}S.e.S_(j,Y);D={t:"Objc",v:e}}else if(a=="pattern"){E="PtFl";
k=gZ.QN;var e=JSON.parse(gZ.pB[gZ.order.indexOf("patternFill")]),F,z=1,r=0,i=0,gg=1;D={t:"Objc",v:e};
var o=p[a],Z=o.meta.ux,B=Z.uid,s=d["resources/"+B].buffer,q=gr.li(s);if(K.lB[B])F=K.lB[B];else{var b=new x(0,0,o.width,o.height),G;
if(b.RJ()){b=new x(0,0,1,1);G=new ArrayBuffer(4)}else{var u=gr.xN(q);if(u.Ja){var h=new SF;u.Lc(s,h);
G=h.iD().buffer}else G=u.Lc(s)[0].data}F={data:G,I:b};F.id=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f";F.name="someImage";
F.Yz=new Uint8Array(F.data);delete F.data;K.yK(F);K.lB[B]=F}e.Algn.v=!0;e.Ptrn.v.Idnt.v=F.id;if(Z.scaleBehavior=="cover"){z=gg*Math.max(t.C/F.I.C,t.T/F.I.T);
var gC=z;if(Z.scale!=null)z*=Z.scale;r=t.x-(F.I.C*z-t.C)/2;i=t.y-(F.I.T*z-t.T)/2;if(Z.offsetX!=null)r+=Z.offsetX*F.I.C*gC;
if(Z.offsetY!=null)i+=Z.offsetY*F.I.T*gC}else if(Z.scaleBehavior=="fill"){z=gg*Math.min(t.C,t.T)/Math.max(F.I.C,F.I.T);
r=t.x-(F.I.C*z-t.C)/2;i=t.y-(F.I.T*z-t.T)/2}else throw"Unknown scale behaviour";e.Scl.v.val=100*z;e.phase.v.Hrzn.v=Math.round(r);
e.phase.v.Vrtc.v=Math.round(i)}else console.log(a);if(E!=null){N.add[E]={classID:"null"};for(var I=0;
I<k.length;I++){var gd=k[I];N.add[E][gd]=D.v[gd]}}}};function gG(){}gG.Hi=function(p,a){p=new Uint8Array(p);
var R=A.ng(p,0,p.length),Q=new DOMParser,t=Q.parseFromString(R,"image/svg+xml"),N=t.getElementsByTagName("style")[0];
if(N)N=Typr.U.SVG.cssMap(N.textContent);else N={};var K=t.firstChild;while(K.tagName!="svg")K=K.nextSibling;
var T=new x(0,0,100,100),d=K.getAttribute("viewBox"),y=K.getAttribute("width"),E=K.getAttribute("height");
if(d){var k=gG.Qi(d);T.x=k[0];T.y=k[1];T.C=k[2];T.T=k[3]}else if(y!=null||E!=null){T.C=y!=null?parseFloat(y):parseFloat(E);
T.T=E!=null?parseFloat(E):parseFloat(y)}T=S.s.EN(T);a.YO=!0;a.C=T.C;a.T=T.T;a.buffer=S.p(T.u()*4);var D=new gh(1,0,0,1,-T.x,-T.y),P={jd:gG.Tq(K),Szp:N};
gG.xf(t,K.children,a,D,P,new gh,0);if(a.M.length==0){var e=a.hX();e.xJ("Layer");a.M.push(e)}};gG.Qi=function(p){var a=" ";
if(p.indexOf(",")!=-1)a=",";return p.split(a).map(parseFloat)};gG.xf=function(p,a,R,Q,t,N,K){var T=gG,d=["display","opacity","fill-opacity"];
for(var y=0;y<a.length;y++){var E=a[y],k=E.tagName,D=E.getAttribute("id"),P=T.Tq(E,t.Szp),Y=13,J=1,f="clip-path",j=null;
for(var e in t.jd)if(d.indexOf(e)==-1&&P[e]==null)P[e]=t.jd[e];if(P["font-size"])Y=T.fr(P["font-size"],Y);
if(E.getAttribute("dx"))Q.NE+=T.fr(E.getAttribute("dx"),Y);if(E.getAttribute("dy"))Q.GV+=T.fr(E.getAttribute("dy"),Y);
var O=T.Te(E);O.concat(Q);var W=E.getAttribute("visibility"),w=P.display,g=R.hX();if(W=="hidden"||w=="none")g.mt(!1);
g.xJ(D!=null?D.split(":::")[0]:"Layer");if(P.opacity)J*=parseFloat(P.opacity);if(P["fill-opacity"]){var U=parseFloat(P["fill-opacity"]);
if(U!=0)J*=U}g.opacity=Math.round(255*J);if(P["mix-blend-mode"]){var H=gE.SzE.indexOf(P["mix-blend-mode"]);
if(H!=-1)g.bQ=gE.TV[H]}if(E.getAttribute(f)==null)f="mask";if(E.getAttribute(f)!=null){var I=E.getAttribute(f);
I=I.slice(4,I.length-1);var L=p.getElementById(I.slice(1));if(L){var C=L.children;j=R.hX();j.xJ("Clip-Path"+(D?": "+D:""));
j.add.lsct=K<2?Ns.hI:Ns.AH;j.bQ="pass";j.KN=24;var v=j.add.vmsk=new l.IC;R.M.push(R.Df());var o=[];if(L.getAttribute(f)){var I=L.getAttribute(f);
I=I.slice(4,I.length-1);o=p.getElementById(I.slice(1)).children}for(var Z=0;Z<C.length;Z++){var B=T.Te(C[Z]);
B.concat(O);var s=T.FZ(p,C[Z],!1).slice(2);S.d.xv(s,B);v.G=v.G.concat(s)}for(var Z=0;Z<o.length;Z++){var B=T.Te(C[Z]);
B.concat(O);var s=T.FZ(p,o[Z],!1).slice(2);for(var q=0;q<s.length;q++)if(s[Z].gu!=null)s[Z].gu=3;S.d.xv(s,B);
v.G=v.G.concat(s)}j.YH();j.WU();K++}}if(k=="g"||k=="a"||k=="svg"||k=="switch"||(k=="text"||k=="textPath")&&E.children.length>0){if(k=="text")N=T.bh(E,N);
var F=E.getAttribute("viewBox"),b=E.getAttribute("width"),G=E.getAttribute("height");if(F&&b&&G){var u=gG.Qi(F),h=T.bh(E),z=new gh;
z.translate(-u[0],-u[1]);z.scale(parseFloat(b)/u[2],parseFloat(G)/u[3]);z.translate(h.NE,h.GV);z.concat(O);
O=z}var r=E.children.length,i=t.jd;t.jd=P;var gg=k!="text"&&k!="textPath"||r>1;if(gg){var gC=g.Aw();
g.add.lsct=K<2&&gC&&(D==null||!D.endsWith(":::"))?Ns.hI:Ns.AH;g.bQ="pass";g.KN=24;g.mt(gC);R.M.push(R.Df())}T.xf(p,E.children,R,O,t,N,K+1);
if(gg)R.M.push(g);t.jd=i}else if(k=="use"){var z=T.bh(E);z.concat(O);var gd=T.TM(E),gY=p.getElementById(gd.slice(1)),i=t.jd;
t.jd=P;T.xf(p,[gY],R,z,t,N,K+1);t.jd=i}else if(k=="path"||k=="rect"||k=="circle"||k=="ellipse"||k=="polygon"||k=="polyline"||k=="line"){g.KN|=16;
g.add.vmsk=new l.IC;g.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));g.add.vstk.strokeEnabled.v=!1;
var gN=g.add.vstk,v=g.add.vmsk;v.G=T.FZ(p,E,P["fill-rule"]=="evenodd");S.d.xv(v.G,O);var gS=S.d.Fh(v.G),M=P.stroke,Cj=P["stroke-width"],gs=P["stroke-dasharray"],gl=P.fill,gR=P["stroke-linejoin"],ge=P["stroke-linecap"],So=P["paint-order"];
if(M==null||M=="none"||M=="null"){}else{var gq=T.Qy(p,M,O,gS),gH=["SoFi","GrFl","patternFill"].indexOf(gq.type),gx=[gZ.Yw,gZ.aH,gZ.QN][gH],g$=gN.strokeStyleContent.v={classID:gZ.up.sZ[gH]},gy=1;
for(var Z=0;Z<gx.length;Z++)g$[gx[Z]]=gq.Z.v[gx[Z]];Cj=Cj?parseFloat(Cj):1;if(So&&So.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){gy=2;
Cj/=2}gN.strokeEnabled.v=!0;if(gR)gN.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gZ.up.join[["miter","round","bevel"].indexOf(gR)];
if(ge)gN.strokeStyleLineCapType.v.strokeStyleLineCapType=gZ.up.yo[["butt","round","square"].indexOf(ge)];
gN.strokeStyleLineWidth.v.val=Cj*m.B.Of(O);gN.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gZ.up.oy[gy];
gN.strokeStyleOpacity.v.val=100*(P["stroke-opacity"]?parseFloat(P["stroke-opacity"]):1);if(gs!=null&&gs!="none")gN.strokeStyleLineDashSet.v=gB.mj(gs.split(",").map(parseFloat),1/Cj)}if(gl=="none"||P["fill-opacity"]&&parseFloat(P["fill-opacity"])==0){g.add.vstk.fillEnabled.v=!1;
g.add.SoCo={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:0,X:0,N:0})}}}else{var gq=T.Qy(p,gl,O,gS),SZ=null,dU=null;
if(gq.type=="SoFi"){SZ="SoCo";dU=gZ.Yw}if(gq.type=="GrFl"){SZ="GdFl";dU=gZ.aH}if(gq.type=="patternFill"){SZ="PtFl";
dU=gZ.QN}if(SZ!=null){g.add[SZ]={classID:"null"};for(var Z=0;Z<dU.length;Z++){var e=dU[Z];g.add[SZ][e]=gq.Z.v[e]}}}if(P.filter&&P.filter!="none"){var gz=P.filter;
gz=gz.slice(5,gz.length-1);var gX=p.getElementById(gz).children[0];if(gX.tagName=="feGaussianBlur"){g.add.vmsk.Ge=parseFloat(gX.getAttribute("stdDeviation"))*m.B.Of(O)}}g.YH();
g.WU(R);R.M.push(g)}else if((k=="text"||k=="tspan")&&E.textContent!=""){N=T.bh(E,N);var z=N.clone();
z.concat(O);if(E.children.length>0){var gJ=T.Tq(E.children[0],t.Szp);for(var e in gJ)if(d.indexOf(e)==-1)P[e]=gJ[e]}var SR=P["xml:space"],gF=E.textContent;
if(SR=="preserve")gF=gF.replace(/\t/g," ").replace(/\n/g," ");if(D==null)g.xJ(gF);g.add.lnsr="rend";
g.add.TySh=gK.oG(0,0);g.add.TySh.Yf=new x(0,0,100,100);g.add.TySh.t=z.clone();var gv=g.add.TySh.KY;gK.uC(gv,0,gF);
var gl=P.fill,SU=P["font-weight"],ga=P["font-family"],Sg=P["text-decoration"],M=P.stroke,Cj=P["stroke-width"];
if(P["dominant-baseline"]=="text-before-edge")g.add.TySh.t.translate(0,Y);var gO=gK.dJ(gv,0,1);if(gl&&gl!="none"){var SC=CSS.mq(gl);
gO.RW.FillColor={Type:1,Values:[1,SC.D/255,SC.X/255,SC.N/255]}}if(Sg=="underline")gO.RW.Underline=!0;
gO.RW.FontSize=Math.round(Y);gK.rl(gO,"LiberationSans");if(SU=="bold")gK.rl(gO,"LiberationSans-Bold");
if(ga){var gk=ga+":"+(SU?SU:"normal"),Np={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(Np[gk])gK.rl(gO,Np[gk]);else gK.rl(gO,ga)}if(P["text-anchor"])gO.uq.Justification=["start","end","middle"].indexOf(P["text-anchor"]);
gK.mv(gv,0,gF.length,gO);if(M==null||M=="none"){}else{var SO=JSON.parse(gZ.pB[gZ.order.indexOf("FrFX")]);
SO.Clr.v=S.e.HW(CSS.mq(M));SO.Sz.v.val=Math.round(parseFloat(Cj)*m.B.Of(z));var NZ=JSON.parse(gZ.default);
for(var Z=0;Z<gZ.order.length;Z++)NZ[gZ.lV[Z]]={t:"VlLs",v:[]};NZ.frameFXMulti.v.push({t:"Objc",v:SO});
g.add.lmfx=NZ}R.M.push(g)}else if(k=="image"){var gd=T.TM(E);if(gd.slice(0,4)=="data"){var gD=gr.cs(gd),gI=gD,go=R.Cf(gI,g.getName(),0,0);
go.KN=g.KN;g=go;var NS=g.rect.clone();NS.x=NS.y=0;var NK=E.getAttribute("width"),gP=E.getAttribute("height");
if(NK)NS.C=parseFloat(NK);if(gP)NS.T=parseFloat(gP);var NX=T.bh(E);NX.concat(O);var Nd=S.s.Ht(NS).r;
S.s.t(Nd,NX,Nd);g.add.SoLd.Trnf=m.B.Ql(Nd);g.add.SoLd.nonAffineTransform=m.B.Ql(Nd);g.eU(R,!1);R.M.push(g)}}else console.log("unknown tag: "+k,E.children.length,E.textContent.length);
if(j!=null){R.M.push(j);K--}}};gG.FZ=function(p,a,R){var Q=gG,t=[{type:6},{type:8,all:0}],N=a.tagName;
if(N=="use"){var K=Q.TM(a),T=p.getElementById(K.slice(1)),d=new gh;if(T.tagName!="rect")d=Q.bh(T);d.concat(Q.Te(T));
t=Q.FZ(p,T,R);S.d.xv(t,d)}else if(N=="path"){var y=a.getAttribute("d");if(y==null)return t;var E=Typr.U.SVGToPath(y);
t=S.s.Vl({r:E.crds,$:E.cmds},R)}else if(N=="rect"){var k=a.getAttribute("rx"),D=Q.bh(a);t=S.d.y$.Rect(D.NE,D.GV,parseFloat(a.getAttribute("width")),parseFloat(a.getAttribute("height")),k?parseFloat(k):0)}else if(N=="circle"||N=="ellipse"){var P=[0,0,0,0],e=["cx","cy","rx","ry","r"];
for(var Y=0;Y<5;Y++){var O=a.getAttribute(e[Y]);if(O){O=parseFloat(O);if(Y<4)P[Y]=O;else P[2]=P[3]=O}}t=S.d.y$.QJ(P[0]-P[2],P[1]-P[3],2*P[2],2*P[3])}else if(N=="polygon"||N=="polyline"||N=="line"){var W;
if(N=="line")W=[a.getAttribute("x1"),a.getAttribute("y1"),a.getAttribute("x2"),a.getAttribute("y2")].map(parseFloat);
else W=a.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
t=S.d.y$.PL(W,0,N!="polygon")}return t};gG.fr=function(p,a){if(p.charAt(p.length-1)=="m")return a*parseFloat(p.slice(0,p.length-2));
else return parseFloat(p)};gG.Qy=function(p,a,R,Q){var t,N,K=gG,T=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]),d=a!=null?a.indexOf("("):-1;
if(d!=-1){var y=a.indexOf(")"),E=a.slice(0,d).trim(),k=a.slice(d+1,y).trim();if(k.charAt(0)=="'")k=k.slice(1,k.length-1);
if(E=="url"){if(k.charAt(0)=="#"){var D=p.getElementById(k.slice(1));if(D&&D.tagName.toLowerCase().endsWith("gradient")){var P=K.gH(p,D,R,Q);
t="GrFl";N={t:"Objc",v:P}}else{t="SoFi";N={t:"Objc",v:T}}}else console.log("unknown url",k)}else if(E=="rgb"){t="SoFi";
N={t:"Objc",v:T};N.v.Clr.v=S.e.HW(CSS.mq(a))}else console.log("unknown fill",a)}else{t="SoFi";N={t:"Objc",v:T};
N.v.Clr.v=S.e.HW(CSS.mq(a))}return{type:t,Z:N}};gG.Te=function(p){var a=new gh,R=p.getAttribute("transform");
if(R)a=gG.fs(R);var Q=p.getAttribute("style");if(Q!=null){var t={};gG.T$(t,Q,["transform"]);Q=t.transform;
if(Q)a.concat(gG.fs(Q))}return a};gG.bh=function(p,a){var R=new gh,Q=p.getAttribute("x"),t=p.getAttribute("y");
if(Q)R.NE=parseFloat(Q);else if(a)R.NE=a.NE;if(t)R.GV=parseFloat(t);else if(a)R.GV=a.GV;return R};gG.fs=function(p){var a=Typr.U.SVG.readTrnf(p);
return new gh(a[0],a[1],a[2],a[3],a[4],a[5])};gG.Tq=function(p,a){var R={},Q="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var t=0;t<Q.length;t++){var N=p.getAttribute(Q[t]);if(N!=null&&N!="inherit")R[Q[t]]=N}var K=p.getAttribute("class");
if(a!=null&&K!=null&&a["."+K]!=null)gG.T$(R,a["."+K],Q);var T=p.getAttribute("id");if(a!=null&&T!=null&&a["#"+T]!=null)gG.T$(R,a["#"+T],Q);
var d=p.getAttribute("style");if(d!=null)gG.T$(R,d,Q);return R};gG.T$=function(p,a,R){a=a.trim().split(";");
for(var Q=0;Q<a.length;Q++){var t=a[Q].split(":"),N=t[0]?t[0].trim():"",K=t[1]?t[1].trim():"";for(var T=0;
T<R.length;T++)if(N==R[T]&&K!="inherit")p[R[T]]=K}};gG.TM=function(p){var a=p.getAttribute("xlink:href");
if(a==null)a=p.getAttribute("href");return a};gG.gH=function(p,a,R,Q){var t=gG,N=new gh,K=a.getAttribute("gradientTransform");
if(K)N=t.fs(K);N.concat(R);var T=JSON.parse(gZ.pB[gZ.order.indexOf("GrFl")]),d=T.Grad.v;d.Intr.v=0;var y=a.tagName,E=new X(0,0),k=new X(Q.C,0);
if(y=="linearGradient"){T.Type.v.GrdT="Lnr";if(a.getAttribute("x1"))E.x=parseFloat(a.getAttribute("x1"));
if(a.getAttribute("y1"))E.y=parseFloat(a.getAttribute("y1"));if(a.getAttribute("x2"))k.x=parseFloat(a.getAttribute("x2"));
if(a.getAttribute("y2"))k.y=parseFloat(a.getAttribute("y2"));E.x=k.x+.5*(E.x-k.x);E.y=k.y+.5*(E.y-k.y)}if(y=="radialGradient"){T.Type.v.GrdT="Rdl";
if(a.getAttribute("cx"))E.x=parseFloat(a.getAttribute("cx"));if(a.getAttribute("cy"))E.y=parseFloat(a.getAttribute("cy"));
k.YY(E.x,E.y);if(a.getAttribute("r"))k.x+=parseFloat(a.getAttribute("r"))}if(a.getAttribute("gradientUnits")=="userSpaceOnUse"){E=N.Ci(E);
k=N.Ci(k)}else{E.x=Q.x+E.x*Q.C;E.y=Q.y+E.y*Q.T;k.x=Q.x+k.x*Q.C;k.y=Q.y+k.y*Q.T}S.e.Os(E,k,Q,T);var D=a.children;
if(D.length==0){var P=t.TM(a);if(P==null)throw"gradient has no stops";var e=p.getElementById(P.slice(1));
if(e==null){console.log(P.slice(1));throw"e"}var Y=t.gH(p,e,N,Q);T.Grad=Y.Grad}else{var O=[];for(var W=0;
W<D.length;W++){var w=D[W],g=t.Tq(w),J=g["stop-color"],U=g["stop-opacity"],H=w.getAttribute("offset");
if(J==null)J="#000000";if(U==null)U="1";var f=H?parseFloat(H):0;J=CSS.mq(J);O.push([f,[J.D/255,J.X/255,J.N/255],parseFloat(U)])}S.e.S_(O,d)}return T};
gG.sm=function(p,a,R){var Q=[],t=gG;t.DI=a.Shg?"\t":"";var N=a.Sx$,K=a.Sxv;Q.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+p.C+" "+p.T+"\" width=\""+N+"\" height=\""+K+"\">");
var T={o_:[],c:[],_O:0,AI:0,AB:0,Aq:{},Ay:{},AA:0,tN:{},_T:{},_G:0,mk:[]};gG.Dm(p,T,p.root.children,1,a,R);
if(T.o_.length!=0){Q.push(t.ex(1)+"<defs>");Q=Q.concat(T.o_);Q.push(t.ex(1)+"</defs>")}Q.push(t.ex(1)+"<style>");
Q.push(t.ex(2)+"tspan { white-space:pre }");for(var d in T.tN)Q.push(t.ex(2)+"."+d+" { "+T.tN[d]+" } ");
Q.push(t.ex(1)+"</style>");Q=Q.concat(T.c);Q.push("</svg>");Q=Q.join(a.Shg?"\n":"");var y=S.p(Math.round(Q.length*1.5)),E=A.VK(Q,y,0);
if(t.KU){console.log(t.KU);var k="SVGParser.gen.db = [\n";for(var D=0;D<t.KU.length;D++){var P=t.KU[D];
k+="{\n\tnam: \""+P.J_+"\",\n\tpts: [\n";for(var e=0;e<P.Wx.length;e++){var Y=P.Wx[e];k+="\t\t[\""+Y[0]+"\", { cmds: "+JSON.stringify(Y[1].$)+", crds:"+JSON.stringify(Y[1].r)+" } ]"+(e==P.Wx.length-1?"":",")+"\n"}k+="\t]\n}"+(D==t.KU.length-1?"":",")+"\n"}k+="]\n";
console.log(k)}return y.buffer.slice(0,E)};gG.DI="";gG.ex=function(p){var a="";for(var R=0;R<p;R++)a+=gG.DI;
return a};gG.zj=function(p){return""+parseFloat(p.toFixed(3))};gG.Dm=function(p,a,R,Q,t,N){var K=gG;
for(var T=0;T<R.length;T++){var d=R[T].w,y=d.add.lsct,E=d.add.vmsk,k=d.add.vstk,D=d.add.TySh,P=[];if(!t.hidden&&!d.Aw())continue;
var e=d.opacity/255,Y=d.add.iOpa?d.add.iOpa/255:1;if(e!=1)P.push("opacity: "+K.zj(e));if(Y!=1)P.push("fill-opacity: "+K.zj(Y));
if(d.bQ!="norm"){var O=gE.SzE[gE.TV.indexOf(d.bQ)];if(O!=null)P.push("mix-blend-mode: "+O)}if(!d.Aw())P.push("display: none");
var W=[],w=[],g=d.getName(),J=g.indexOf(" .");if(J!=-1){w.push(g.slice(J+2));g=g.slice(0,J)}if(t.names)W.push("id=\""+K.GS(g)+"\"");
var U=d.add.lmfx;if(U)U=U.solidFillMulti.v[0];if(U)U=U.v;if(U&&!U.enab.v)U=null;if(d.sc()){if(K.KU&&d.getName().split("-").length==3){K.KU.push({J_:d.getName(),FW:0,Wx:[]})}if(E||d.add.artb){var H;
if(E)H=S.d.pa(E.G).Qc;else{var f=d.iy(),j=S.s.Ht(f);H=Typr.U.pathToSVG({crds:j.r,cmds:j.$},2)}a.AB++;
W.push("clip-path=\"url(#cp"+a.AB+")\"");a.o_.push(K.ex(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+a.AB+"\">");
a.o_.push(K.ex(3)+"<path d=\""+H+"\" />");a.o_.push(K.ex(2)+"</clipPath>")}if(P.length!=0)W.push("style=\""+P.join(";")+"\"");
a.c.push(K.ex(Q)+"<g "+K._K(W,w)+">");K.Dm(p,a,R[T].children,Q+1,t,N);a.c.push(K.ex(Q)+"</g>")}else if(d.xP()&&E==null){var I=new x(0,0,p.C,p.T);
K.Gh(P,d.add,a,I);if(P.length!=0)W.push("style=\""+P.join(";")+"\"");a.c.push(K.ex(Q)+"<rect width=\""+p.C+"\" height=\""+p.T+"\" "+K._K(W,w)+" />")}else if(E){var I=S.d.Fh(E.G),H=S.d.pa(E.G);
if(H.Ah!=0){W.push("fill-rule=\"evenodd\"")}var L=H.Qc;K.Gh(P,d.add,a,I);if(P.length!=0){var C=P.join(";"),v=a._T[C];
if(v==null){v="shp"+a._G;a._G++;a._T[C]=v;a.tN[v]=C}w.push(v)}a.c.push(K.ex(Q)+"<path "+K._K(W,w)+" d=\""+L+"\" />");
if(K.KU&&K.KU[K.KU.length-1]){var o=S.s.VO(E.G);o.r=o.r.map(Math.round);var Z=K.KU[K.KU.length-1];Z.FW+=JSON.stringify(o).length;
Z.Wx.push([P[0].split("#").pop(),o])}}else if(D&&t.SxI){var B=D.KY,s=new NC(B,N);if(U)W.push("fill=\""+CSS.US(U.Clr.v)+"\"");
var q=CG.uv(s,D),F=S.s.RT(q);for(var b in F){if(U==null)W.push("fill=\""+b+"\"");var j=F[b],L=Typr.U.pathToSVG({crds:j.r,cmds:j.$},2);
a.c.push(K.ex(Q)+"<path "+K._K(W,w)+" d=\""+L+"\" />");if(U==null)W.pop()}}else if(D&&!t.Sxq){var B=D.KY,G=D.t.clone(),gN=0,gS=0;
if(gK.Ez(B)==1){var u=gK.dJ(B,0,0).uq.Justification,h=0,z=gK.rj(B)[2];if(u==2)h=z/2;if(u==1)h=z;G.translate(h,0)}P.push("transform: "+K.x_(G));
var r=gK.cB(B),i=B.EngineDict.ParagraphRun,gg=i.RunArray,gC=i.RunLengthArray;if(P.length!=0)W.push("style=\""+P.join(";")+"\"");
a.c.push(K.ex(Q)+"<text "+K._K(W,w)+" >");var gd=d.add.lmfx;if(gd)gd=gd.frameFXMulti.v[0];if(gd)gd=gd.v;
var gY=U?CSS.US(U.Clr.v):null;for(var M=0;M<gg.length;M++){var Cj=[],gs=gC[M],gl=r.slice(gN,gN+gs-1),gR=gK.dJ(B,gN,gN),ge=gR.nY[gR.RW.Font].Name;
if(a.mk.indexOf(ge)==-1)a.mk.push(ge);CSS.SiM(Cj,gR,D.t,!0,t.mk,gY);if(gd){P.push("stroke: "+CSS.US(gd.Clr.v));
P.push("stroke-width: "+gd.Sz.v.val)}var So=gR.RW.FontSize*1.12;if(M==0)So=gK.Ez(B)==0?0:gR.RW.FontSize;
gS+=So;if(gl!=""){var C=Cj.join(";"),v=a._T[C],gH="";if(v==null){v="txt"+a._G;a._G++;a._T[C]=v;a.tN[v]=C}var gq=gR.RW.Tracking;
if(gq!=null&&gq!=0){gq=Math.round(gq*gR.RW.FontSize/1e3);gH=" dx=\"0";for(var gx=1;gx<gl.length;gx++)gH+=" "+gq;
gH+="\" "}a.c.push(K.ex(Q+1)+"<tspan x=\"0\" y=\""+K.zj(gS)+"\" class=\""+v+"\""+gH+">"+K.GS(gl)+"</tspan>")}gN+=gs}a.c.push(K.ex(Q)+"</text>")}else if(d.add.SoLd){var g$=d.add.SoLd,gy=g$.Idnt.v,SZ=0,dU=g$.Crop?g$.Crop.v:null;
if(a.Ay[gy]!=null)SZ=a.Ay[gy];else{a.AA++;SZ=a.AA;a.Ay[gy]=a.AA;var gz=p.mr(gy,dU),SR="";if(gz==null)return;
var gX=gz.UG,gJ=gr.li(gz.raw.buffer);if(gJ=="pdf"){var gF=new SF("h");gr.PDF.Lc(gz.raw.buffer,gF);gF.yP();
gF.mA();gF.U();gF.G_();if(g$.Crop&&g$.Crop.v==1){m.RO.NU(gF,gF.root.yk(gF,!0))}var gv=gr.SVG.WL(gF,gF.C,gF.T,null,{mk:N});
SR="data:image/svg+xml;base64,"+gr.oV(gv)}else if(gJ=="jpg"||gJ=="png"||gJ=="gif"||gJ=="svg"){var SU={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
SR="data:"+SU[gJ]+";base64,"+gr.oV(gz.raw.buffer)}else{SR=gr.SH(gX[0].buffer,gX[1].C,gX[1].T)}a.o_.push(K.ex(2)+"<image width=\""+gX[1].C+"\" height=\""+gX[1].T+"\" id=\"img"+SZ+"\" href=\""+SR+"\"/>")}var ga=S.L.jo(g$);
if(P.length!=0)W.push("style=\""+P.join(";")+"\"");var Sg=K._K(W,w);a.c.push(K.ex(Q)+"<use "+Sg+" href=\"#img"+SZ+"\" transform=\""+K.x_(ga)+"\"/>")}else if(!d.rect.RJ()&&(t.Sxs||D)){if(P.length!=0)W.push("style=\""+P.join(";")+"\"");
var Sg=K._K(W,w),gO=d.buffer;if(U)gO=gB.Sfl(gO,U,d.rect);var SC=d.rect;a.AA++;var SR=gr.SH(gO.buffer,SC.C,SC.T,"png",null,!0);
a.o_.push(K.ex(2)+"<image width=\""+d.rect.C+"\" height=\""+d.rect.T+"\" id=\"img"+a.AA+"\" href=\""+SR+"\"/>");
a.c.push(K.ex(Q)+"<use "+Sg+" href=\"#img"+a.AA+"\" x=\""+SC.x+"\" y=\""+SC.y+"\" />")}}};gG._K=function(p,a){if(a.length!=0)p.push("class=\""+a.join(" ")+"\"");
return p.join(" ")};gG.GS=function(p){return String(p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
gG.x_=function(p){var a=[p.Eu,p.N,p.CI,p.$B,p.NE,p.GV].map(gG.zj);return"matrix("+a.join(",")+")"};gG.Gh=function(p,a,R,Q){var t=gG,N=a.vstk,K=a.vmsk,T=a.lmfx;
if(K&&K.Ge!=0){var d=t.zj(K.Ge);if(R.Aq[d]==null){R.AI++;R.Aq[d]=R.AI;R.o_.push(t.ex(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+R.AI+"\"> <feGaussianBlur stdDeviation=\""+d+"\" /> </filter>")}p.push("filter: url(#flt"+R.Aq[d]+")")}var y=gB.Mw(T,a),E=y[0],k=y[1];
if(N&&!N.fillEnabled.v)p.push("fill: none");else if(E){var D=CSS.US(E.Clr.v);p.push("fill: "+D)}else if(k){t.TW(k,R,Q);
p.push("fill: url(#grd"+R._O+")")}if(N==null||!N.strokeEnabled.v)N=gB.ME(T);if(N&&N.strokeEnabled.v){var P=N.strokeStyleContent.v,e=P.classID;
if(e=="solidColorLayer")p.push("stroke: "+CSS.US(P.Clr.v));else{t.TW(P,R,Q);p.push("stroke: url(#grd"+R._O+")")}var Y=gZ.up.yo.indexOf(N.strokeStyleLineCapType.v.strokeStyleLineCapType),O=gZ.up.join.indexOf(N.strokeStyleLineJoinType.v.strokeStyleLineJoinType),W=N.strokeStyleOpacity.v.val/100,w=N.strokeStyleLineWidth.v.val,g=gZ.up.oy.indexOf(N.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(g==2){w*=2;p.push("paint-order:stroke fill markers")}var J=N.strokeStyleLineDashSet.v,U=[];for(var H=0;
H<J.length;H++)U.push(Math.round(J[H].v.val*w));if(Y!=0)p.push("stroke-linecap:"+["butt","round","square"][Y]);
if(O!=0)p.push("stroke-linejoin:"+["miter","round","bevel"][O]);if(W!=1)p.push("stroke-opacity:"+t.zj(W));
if(w!=1)p.push("stroke-width: "+t.zj(w));if(U.length!=0)p.push("stroke-dasharray: "+U.join(","))}};gG.TW=function(p,a,R){a._O++;
var Q=gG,t=p.Grad.v,N=t.Clrs.v.slice(0),K=t.Trns.v.slice(0),T=p.Ofst.v,d=p.Type.v.GrdT=="Rdl"?1:0,y=(d==1?"radial":"linear")+"Gradient",k=S.e.sb(p,R);
if(d==0){k[0].x=k[1].x+2*(k[0].x-k[1].x);k[0].y=k[1].y+2*(k[0].y-k[1].y)}var D=Q.ex(2)+"<"+y+" id=\"grd"+a._O+"\" gradientUnits=\"userSpaceOnUse\" ";
if(d==0)a.o_.push(D+" x1=\""+Q.zj(k[0].x)+"\" y1=\""+Q.zj(k[0].y)+"\" x2=\""+Q.zj(k[1].x)+"\" y2=\""+Q.zj(k[1].y)+"\">");
if(d==1)a.o_.push(D+" cx=\""+Q.zj(k[0].x)+"\" cy=\""+Q.zj(k[0].y)+"\" r=\""+Q.zj(X.Hz(k[0],k[1]))+"\">");
var P=p.Rvrs.v;if(P){N.reverse();K.reverse()}for(var e=0;e<N.length;e++){var Y=N[e].v,O=e<K.length?K[e].v.Opct.v.val/100:1,O=O==1?"":"stop-opacity=\""+Q.zj(O)+"\"",W=Y.Lctn.v/4096;
if(P)W=1-W;a.o_.push(Q.ex(3)+"<stop offset=\""+Q.zj(W)+"\" stop-color=\""+CSS.US(Y.Clr.v)+"\" "+O+" />")}a.o_.push(Q.ex(2)+"</"+y+">")};
gG.y$=function(p,a,R,Q,t){var N=[],K=gG.y$,T=!1,d={Xs:p,hZ:a,__:[!0,!0,!0],Bs:!1,IV:R,SzX:0};d.iS=Math.round(Math.max(p,a)*(.02+K.aX(d)*.03));
d.BR=K.SUU(d);d.tL=K.SoQ(d.BR,(K.aX(d)<.5?-1:1)*(.2+K.aX(d)*.3));if(K.aX(d)<.5){var y=d.BR;d.BR=d.tL;
d.tL=y}d.SUV=K.aX(d)<.4&&K.Som(d.tL,{D:1,X:1,N:1})>.3;d.SU_=K.aX(d)<.5?0:1;N.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+p+" "+a+"\" width=\""+p+"\" height=\""+a+"\">");
d.AU=Q[Math.floor(K.fH(d)*Q.length)];d.AW=Q[Math.floor(K.fH(d)*Q.length)];N.push("<style>");N.push("@font-face {  font-family: "+d.AU[2]+";  src: url(rsrc/fonts/"+d.AU[5]+");  }");
N.push("@font-face {  font-family: "+d.AW[2]+";  src: url(rsrc/fonts/"+d.AW[5]+");  }");N.push("</style>");
var E=[0,0,p,a],k=E;if(t==null)N.push("<path style=\"fill: "+K.jD(d.BR)+"\" d=\""+K.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1])+"\" id=\"Background\" />");
else{d.Bs=!0;K.GJ(d,E,N,t)}if(K.aX(d)<.25&&!d.Bs){d.__[0]=d.__[2]=!1;K.SoO(E,d,N);k=E}else if(K.aX(d)<.25||d.Bs)k=E;
else{var D=.52+K.aX(d)*.2;if(K.aX(d)<.5)D=1-D;var P=E.slice(0),e=E.slice(0);if(K.aX(d)<.5)P[2]=e[0]=Math.round(D*p);
else P[3]=e[1]=Math.round(D*a);if(K.aX(d)<.5){var y=P;P=e;e=y}k=P;K.SoJ(d,e,N,t)}K.Sov(d,k,N);N.push("</svg>");
N=N.join("\n");var Y=S.p(Math.round(N.length*1.5)),O=A.VK(N,Y,0);return[Y.buffer.slice(0,O),d.Cq]};gG.y$.SoO=function(p,a,R){var Q=gG.y$,t=p[2]-p[0],N=p[3]-p[1];
if(Q.aX(a)<.5){R.push("<path id=\"Border\" style=\"fill: "+Q.jD(a.tL)+"\" d=\""+Q.Soa(p[0],p[1],p[2]-p[0],p[3]-p[1],a.iS)+"\" />")}else if(Q.aX(a)<-.4){Q.Sot(a,p,R)}else{var K=Q.aX(a)<.5?0:1,T=(K==0?N:t)/4,d=Q.fe(a,K,p,R,T,!0),d=Q.fe(a,K+2,p,R,T,!0,d)}};
gG.y$.Sov=function(p,a,R){var Q=gG.y$,t="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),N=2*Math.floor(Q.aX(p)*t.length/2),K=a[2]-a[0],T=a[3]-a[1],y=0,k=0;
p.PG=(p.Xs+K)*.5*(.04+Q.aX(p)*.05);p.PG=Math.min(p.PG,T*.4,K*.12);p.PG=Math.round(p.PG);var d=Math.min(p.PG*t[N].length*(.35+.3*Q.aX(p)),K*.9),E=(a[1]+a[3])/2,D=S.lv(p.BR)<.85?{D:1,X:1,N:1}:{D:.1,X:.1,N:.1};
if(Q.aX(p)<.25&&p.__[0]){k=0;y=a[0]+p.iS}else if(Q.aX(p)<.33&&p.__[2]){k=2;y=a[2]-p.iS}else{k=1;y=(a[0]+a[2])/2}var P=D.D==1?"0,0,0":"255,255,255",e=p.Bs&&Q.aX(p)<1;
if(e){var Y=a[0],O=K,W=E-p.PG*1.1,w=p.PG*2.2,g=.7;if(k==1&&Q.aX(p)<.5){Y=W=.2*Math.min(K,T);O=K-2*W;
w=T-W-W}else if(Q.aX(p)<.7){Y=W=0;O=K;w=T;g=.25}R.push("<path id=\"Strip\" style=\"fill: rgb("+P+"); opacity: "+g+"\" d=\""+Q.Rect(Y,W,O,w)+"\" />")}if(Q.aX(p)<.4){var J=p.PG*.07;
J*=1.5+Q.aX(p)*1;if(k==-1&&K/T<3&&!e){R.push("<path id=\"Bar-bottom\" style=\"fill: "+Q.jD(D)+"\" d=\""+Q.Rect(y-d/2,E+p.PG*1.1-J/2,d,J)+"\" />");
R.push("<path id=\"Bar-top\"    style=\"fill: "+Q.jD(D)+"\" d=\""+Q.Rect(y-d/2,E-p.PG*1.1-J/2,d,J)+"\" />")}if(k!=1){R.push("<path id=\"Bar\" style=\"fill: "+Q.jD(D)+"\" d=\""+Q.Rect(y-J/2,E-p.PG*.8,J,p.PG*.8*2)+"\" />");
y+=(k==0?1:-1)*p.PG/3}}var U=p.PG*.4;R.push(Q.Em(t[N+1],y,E+U*1.6,U,D,k,p.AW));R.push(Q.Em(t[N],y,E+p.PG*.04,p.PG,D,k,p.AU))};
gG.y$.SoJ=function(p,a,R,Q){var t=a[2]-a[0],N=a[3]-a[1],K=Math.max(t,N),T=Math.min(t,N),d=gG.y$;if(K/T<5&&!p.Bs&&!1){d.GJ(p,a,R,Q)}else if(d.aX(p)<0)R.push("<path style=\"fill: "+d.jD(p.tL)+"\" d=\""+d.Rect(a[0],a[1],t,N)+"\" />");
else{var y=0;if(a[3]!=p.hZ)y=0;if(a[2]!=p.Xs)y=3;if(a[0]!=0)y=1;if(a[1]!=0)y=2;var E=y+2&3;if(K/T<3){var k=d.SoT(E),D=k[Math.round(d.aX(p)*(k.length-1))],P=D.J_.slice(0,4),e=P.indexOf(1);
D=JSON.parse(JSON.stringify(D));var Y=-1;if(P!="0000"){var O=new gh;if(D.J_[5]=="0"){if(e==3&&y==1){Y=1;
O.scale(-1,1)}else Y=e}else{var W=E;while(W==E)W=Math.floor(d.aX(p)*4)&3;O.rotate((-e+W)*Math.PI/2)}d.t(D,O)}var w=d.wh(D),g=t-2*p.iS,J=N-2*p.iS;
if(Y!=-1){if((Y&1)==0)J-=p.iS;else g-=p.iS}var U=Math.min(g/w.C,J/w.T),H=new gh;H.translate(-w.x,-w.y);
H.scale(U,U);var f=(t-w.C*U)/2,j=(N-w.T*U)/2;if(Y!=-1){if(Y==3)f=0;if(Y==0)j=0;if(Y==1)f=t-w.C*U;if(Y==2)j=N-w.T*U}H.translate(a[0]+f,a[1]+j);
d.Wi(p,D,H,p.tL,R)}else{d.fe(p,y,a,R,1e9)}}};gG.y$.GJ=function(p,a,R,Q){var t=a[2]-a[0],N=a[3]-a[1],K=Math.max(t,N),T=Math.min(t,N),d=gG.y$,y=d.fH(p),E,k,D,P=Q[0]instanceof ArrayBuffer;
if(P){E="data:image/jpg;base64,"+SK.To(Q[0]);k=Q[1];D=Q[2]}else{var e=Math.floor(y*Q.length),Y=Q[e];
p.Cq=Y;E=Y.webformatURL;k=Y.webformatWidth;D=Y.webformatHeight}var O=a[0],W=a[1],w=t,g=N;if(t/N>k/D){g=w*D/k;
W=W-(g-N)/2}else{w=g*k/D;O=O-(w-t)/2}if(P){R.push("<defs>");R.push("<image width=\""+k+"\" height=\""+D+"\" id=\"Background\" href=\""+E+"\" />");
R.push("</defs>");var J=w/k;R.push("<use href=\"#Background\" transform=\""+gG.x_(new gh(J,0,0,J,O,W))+"\" />")}else{var U="cp"+Math.random();
R.push("<clipPath id=\""+U+"\">");R.push("<path style=\"fill: "+d.jD(p.tL)+"\" d=\""+d.Rect(a[0],a[1],t,N)+"\" />");
R.push("</clipPath>");R.push("<image  clip-path=\"url(#"+U+")\" xlink:href=\""+E+"\" x=\""+O+"\" y=\""+W+"\" width=\""+w+"\" height=\""+g+"\" />")}};
gG.y$.Em=function(p,a,R,Q,t,N,K){var T=gG.y$;return"<text x=\""+a+"\" y=\""+R+"\" style=\"fill:"+T.jD(t)+"; font-size:"+Q+"px; text-anchor:"+["start","middle","end"][N]+"; font-family:"+K[2]+";\"><tspan>"+p+"</tspan></text>"};
gG.y$.Wi=function(p,a,R,Q,t){var N=gG.y$,K=[];for(var T=0;T<a.Wx.length;T++){K.push(Q);if(p.SUV){Q=(T&1)==p.SU_?{D:1,X:1,N:1}:K[0]}}t.push("<g id=\""+a.J_.split("-")[2]+":::\" style=\"transform: "+gG.x_(R)+";\" >");
for(var T=0;T<a.Wx.length;T++){var d=a.Wx[T];Q=K.pop();t.push("<path style=\"fill: "+(Q?N.jD(Q):"#"+d[0])+"\" d=\""+Typr.U.pathToSVG({crds:d[1].r,cmds:d[1].$})+"\" />")}t.push("</g>")};
gG.y$.Sot=function(p,a,R){var Q=gG.y$,t=gG.y$.jV,N=[];for(var K=0;K<t.length;K++){var T=t[K],d=T.J_.slice(0,4);
if(d!="1001")continue;N.push(T)}var T=N[Math.floor(Q.aX(p)*N.length)];if(Q.aX(p)<.5)Q.t(T,new gh(0,1,1,0,0,0));
var y=a[3]-a[1],E=a[2]-a[0],k=Q.wh(T),D=.7*Math.min(E,y,.5*Math.max(E,y))/Math.max(k.C,k.T),P=new gh;
P.scale(D,D);if(Q.aX(p)<.5){P.scale(1,-1);P.translate(0,y)}Q.Wi(p,T,P,p.tL,R);P.rotate(Math.PI);P.translate(E,y);
Q.Wi(p,T,P,p.tL,R)};gG.y$.SoT=function(p){var a=gG.y$.jV,R=[];for(var Q=0;Q<a.length;Q++){var t=a[Q],N=t.J_.slice(0,4);
if(N=="0000"){R.push(t);continue}if(["1000","0100","0010","0001"].indexOf(N)==-1)continue;var K=N.indexOf("1");
if(t.J_[5]=="0"&&p==K&&K!=3)continue;R.push(t)}return R};gG.y$.fe=function(p,a,R,Q,t,N,K){var T=gG.y$.jV,d=gG.y$,y=[],g,J;
for(var E=0;E<T.length;E++){var k=T[E],D=k.J_.slice(0,4);if(["1110","1101","1011","0111"].indexOf(D)==-1)continue;
var P=D.indexOf("0")+2&3;if(k.J_[5]=="0")if(N==!0||a!=P&&!(a==1&&P==3))continue;y.push(k)}var e=K!=null?K:Math.floor(d.aX(p)*y.length),k=y[e],k=JSON.parse(JSON.stringify(k)),D=k.J_.slice(0,4),P=D.indexOf("0")+2&3;
if(P==3&&a==1)S.t(k,new gh(1,0,0,-1,0,1e3));var Y=new gh;Y.translate(-500,-500);Y.rotate(-P*Math.PI/2);
Y.translate(500,500);d.t(k,Y);var O=R[3]-R[1],W=R[2]-R[0],w=d.wh(k);if(w.y<0){w.T+=w.y;w.y=0}if(w.y>0){w.T+=w.y;
w.y=0}if((a&1)==0){J=O;g=W}else{g=O;J=W}var U=Math.min(Math.min(.5+.5*d.aX(p))*Math.min(W,O),t)/w.T,H=Math.ceil(g/(1e3*U)),f=new gh,j=new gh;
j.scale(U,U);if(a==0||a==2){j.translate(-(W/2),-(O/2));j.rotate(-a*Math.PI/2);j.translate(W/2+R[0],O/2+R[1])}else{j.rotate(Math.PI/2);
j.scale(1,-1);j.translate(R[0],R[1]);if(a==1){j.scale(-1,1);j.translate(W,0)}}Q.push("<g id=\"Border-"+["top","right","bottom","left"][a]+":::\">");
for(var E=0;E<H;E++){var I=f.clone();I.concat(j);d.Wi(p,k,I,p.tL,Q);f.translate(1e3-2,0)}Q.push("</g>");
return e};gG.y$.Rect=function(p,a,R,Q){return Typr.U.pathToSVG({crds:[p,a,p+R,a,p+R,a+Q,p,a+Q],cmds:["M","L","L","L","Z"]})};
gG.y$.Soa=function(p,a,R,Q,t){var N=[p,a,p+R,a,p+R,a+Q,p,a+Q];p+=t;a+=t;R-=2*t;Q-=2*t;N.push(p,a,p,a+Q,p+R,a+Q,p+R,a);
return Typr.U.pathToSVG({crds:N,cmds:"M L L L Z M L L L Z".split(" ")})};gG.y$.SoQ=function(p,a){var R=S.NZ(p.D,p.X,p.N);
R.Xi=Math.max(.1,Math.min(.9,R.Xi+a));return S.QK(R.hZ,R.IH,R.Xi)};gG.y$.SUx=function(p,a){var R=S.NZ(p.D,p.X,p.N);
R.hZ+=a;return S.QK(R.hZ,R.IH,R.Xi)};gG.y$.SUi=function(p){var a=S.NZ(p.D,p.X,p.N);a.Xi=1-a.Xi;return S.QK(a.hZ,a.IH,a.Xi)};
gG.y$.Som=function(p,a){var R=p.D-a.D,Q=p.X-a.X,t=p.N-a.N;return Math.sqrt(R*R+Q*Q+t*t)};gG.y$.SUU=function(p){var a=gG.y$;
return{D:a.aX(p),X:a.aX(p),N:a.aX(p)}};gG.y$.jD=function(p){return CSS.CQ({D:p.D*255,X:p.X*255,N:p.N*255})};
gG.y$.wh=function(p){var a=p.Wx,R=new x;for(var Q=0;Q<a.length;Q++)R=R.hT(S.s.wh(a[Q][1].r));return R};
gG.y$.t=function(p,a){var R=p.Wx;for(var Q=0;Q<R.length;Q++)S.s.t(R[Q][1].r,a,R[Q][1].r)};gG.y$.aX=function(p){p.SzX++;
var a=p.SzX&3;if(a==0)p.IV=gG.y$.fE(p.IV);var R=p.IV>>>8*a&255;return R*(.99999999/255)};gG.y$.fH=function(p){var a=gG.y$.fE(p.IV);
p.IV=gG.y$.fE(a);return a*(1/4294967295)};gG.y$.fE=function(p){p=(p^61^p>>>16)>>>0;p=p+(p<<3)>>>0;p=(p^p>>>4)>>>0;
p=p*668265261>>>0;p=(p^p>>>15)>>>0;return p};gG.y$.jV=[{J_:"0001-0-bird",Wx:[["4b3c34",{$:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),r:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{$:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),r:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{$:"M C C C C C C C C C C C C L Z".split(" "),r:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{J_:"0001-0-bird2",Wx:[["ff7f2a",{$:"M L L L Z M L L L Z".split(" "),r:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{$:"M C C C C C C C C C C C L Z".split(" "),r:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{$:"M C C C C C C L Z M C C Z".split(" "),r:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{$:"M L L L Z M L L L Z".split(" "),r:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{$:"M L C C C C C C C C L Z".split(" "),r:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{$:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),r:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{J_:"0000-1-flower",Wx:[["7a59a2",{$:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),r:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{J_:"0000-1-flower",Wx:[["d13777",{$:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),r:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{J_:"0000-1-flower",Wx:[["ffac42",{$:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),r:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{J_:"0000-1-flower",Wx:[["d04040",{$:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),r:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{J_:"0000-1-flower",Wx:[["ec7272",{$:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),r:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{$:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),r:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{J_:"0000-0-hearts",Wx:[["d17070",{$:"M C C C C C C C C C L Z".split(" "),r:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{$:"M C C C C C C C C C L Z".split(" "),r:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{$:"M C C C C C C C C C L Z".split(" "),r:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{J_:"0000-0-anchor",Wx:[["2a3b66",{$:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),r:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{J_:"0000-1-leaf",Wx:[["fbb600",{$:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),r:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{J_:"0000-1-acorn",Wx:[["a05a2c",{$:"M C C C C C C C L Z".split(" "),r:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{$:"M C C C C C C C C C C C Z".split(" "),r:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{J_:"0000-0-skull",Wx:[["808080",{$:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),r:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{J_:"0000-0-ghost",Wx:[["e6e6e6",{$:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),r:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{$:"M C C C C Z M C C C C Z".split(" "),r:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{J_:"1001-1-rose",Wx:[["9e1460",{$:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),r:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{$:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),r:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{J_:"1001-1-curls",Wx:[["53a7ab",{$:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),r:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{$:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),r:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{J_:"0111-0-pines",Wx:[["e9e9e9",{$:"M C C C C C C C C L L L Z".split(" "),r:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{$:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),r:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{J_:"0111-0-flowers",Wx:[["8cae40",{$:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),r:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{$:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),r:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{J_:"1101-1-confetti",Wx:[["e789ff",{$:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{$:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{J_:"1101-1-branch",Wx:[["7f500b",{$:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),r:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{J_:"1101-1-sticks",Wx:[["ec7272",{$:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{$:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{J_:"1101-1-dots",Wx:[["ec7272",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{$:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),r:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{$:["M","C","C","Z"],r:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{J_:"1101-1-strips",Wx:[["ffc88c",{$:"M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{$:"M L L L L Z M L L L L Z M L L L L Z".split(" "),r:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{$:["M","C","C","Z"],r:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{J_:"1101-1-circs",Wx:[["ec7272",{$:"M C C C C Z M C C C C Z".split(" "),r:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{$:"M C C C C Z M C C C C Z".split(" "),r:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{$:["M","C","C","Z"],r:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{J_:"1101-1-squares",Wx:[["014ea7",{$:"M L L L L Z M L L L L Z".split(" "),r:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{$:"M L L L L Z M L L L L Z".split(" "),r:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{$:["M","C","C","Z"],r:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{J_:"1101-0-christmas",Wx:[["014ea7",{$:"M C C C C Z M C C C C Z M L L L L Z".split(" "),r:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{$:"M C C C C Z M C C C C Z M L L L L Z".split(" "),r:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Sp={};Sp.parse=function(p){var a=new Uint8Array(p),R=null;if(a[0]==80&&a[1]==75){var Q=Date.now(),t=UZIP.parse(a.buffer),R=t["document.json"];
R=JSON.parse(A.ng(R,0,R.length));Sp.ff(R,t)}else{var N=SL.parse(p);R=Sp.Pd(N[2][0][1])}return R};Sp.ff=function(p,a){var R=typeof p;
if(R=="string"||R=="number"||R=="boolean")return p;if(p instanceof Array){for(var Q=0;Q<p.length;Q++)p[Q]=Sp.ff(p[Q],a);
return p}var t=p._class;if(t==null)return p;if(t=="MSJSONFileReference"){var N=p._ref;if(!1){}else if(a[N+".json"]!=null){var K=a[N+".json"],T=K.length;
for(var Q=0;Q<T;Q++)if(K[Q]==11||K[Q]==3)K[Q]=32;var d=A.ng(K,0,T);p=JSON.parse(d)}else if(a[N+".png"]!=null)return{key:N.split("/").pop(),bdata:a[N+".png"]};
else if(a[N+".jpg"]!=null)return{key:N.split("/").pop(),bdata:a[N+".jpg"]};else if(a[N+".pdf"]!=null)return{key:N.split("/").pop(),bdata:a[N+".pdf"]};
else if(a[N]!=null)return{key:N.split("/").pop(),bdata:a[N]};else{console.log(p,a);return}}else if(t=="MSAttributedString"){var d=atob(p.archivedAttributedString._archive),y=d.length-1,E=new Uint8Array(y);
for(var Q=0;Q<y;Q++)E[Q]=d.charCodeAt(Q);p.archivedAttributedString=Sp.Pd(E)}for(var k in p)p[k]=Sp.ff(p[k],a);
return p};Sp.mJ=function(p,a,R,Q){if(p instanceof Uint8Array)return null;if(Q.indexOf(p)!=-1)return null;
Q.push(p);if(p==a)return R;for(var t in p){R.push(t);var N=Sp.mJ(p[t],a,R,Q);if(N){console.log(p,N);
throw"e"}R.pop()}};Sp.Pd=function(p){var a=KJ.parse(p,0),R=a.$objects,Q=new Uint8Array(R.length),t=Sp.ho(R,Q,a.$top.root);
for(var N=0;N<R.length;N++)if(Q[N]==0&&N!=0){console.log(N,R[N]);Sp.mJ(t,N,[],[])}for(var N=0;N<R.length;
N++){var K=R[N];if(K._class&&(K._class=="bitmap"||K._class=="fill"&&K.fillType==4&&(K.image||K.imageSHA))){var T=K.image,d=K.imageSHA,y=null,E=null;
if(T=="$null")T=null;if(d=="$null")d=null;if(T&&T.data){E=T.sha1["NS.bytes"];E=btoa(A.GG(E,0,E.length));
y=T.data instanceof Uint8Array?T.data:T.data["NS.bytes"]}else if(T==null&&d==null){var k=gr.PNG.WL([[S.p(4).buffer]],1,1);
y=new Uint8Array(k)}else{var D=(t.assets?t.assets.imageCollection:t.images).images;if(d)E=d instanceof Uint8Array?d:d["NS.bytes"];
else E=T.sha1["NS.bytes"];E=btoa(A.GG(E,0,E.length));var y=D[E].data;if(y["NS.bytes"])y=y["NS.bytes"]}y=new Uint8Array(y.buffer.slice(y.byteOffset,y.byteOffset+y.length));
delete K.imageSHA;K.image={key:E,bdata:y}}}return t};Sp.SUW=function(p){return p.slice(0,11)=="MSImmutable"?"MS"+p.slice(11):p};
Sp.ho=function(p,a,R){var Q=p[R];if(a[R]==1){return Q}a[R]=1;if(typeof Q=="string")return Q;if(typeof Q=="number")return Q;
if(typeof Q=="boolean")return Q;if(Q instanceof Array)return Q;if(Q instanceof Uint8Array){return Q}if(p[Q.$class]==null){if(Q.$class==null&&Q["NS.data"]!=null)return Q;
console.log(R,Q);throw"e"}var t=p[Q.$class],N=Sp.SUW(t.$classname);a[Q.$class]=1;Q.$class=N;if(Sp.ky[N]){delete Q.$class;
Q._class=Sp.ky[N]}var K=Sp.ho;if(N=="NSMutableArray"||N=="NSArray"){var T=[];if(Q["NS.objects"]!=null)for(var d=0;
d<Q["NS.objects"].length;d++)T.push(K(p,a,Q["NS.objects"][d]));else for(var d=0;Q["NS.object."+d]!=null;
d++)T.push(K(p,a,Q["NS.object."+d]));p[R]=T;return T}if(N=="NSDictionary"||N=="NSMutableDictionary"){var y={$class:N};
if(Q["NS.keys"]!=null)for(var d=0;d<Q["NS.keys"].length;d++){var E=K(p,a,Q["NS.keys"][d]);if(E instanceof Uint8Array)E=btoa(Sp.iq.GG(E,0,E.length));
else if(typeof E!="string"&&typeof E!="number")E=btoa(Sp.iq.GG(E["NS.bytes"],0,E["NS.bytes"].length));
y[E]=K(p,a,Q["NS.objects"][d])}else for(var d=0;Q["NS.key."+d]!=null;d++){var E=K(p,a,Q["NS.key."+d]);
if(E instanceof Uint8Array)E=btoa(Sp.iq.GG(E,0,E.length));else if(typeof E!="string"&&typeof E!="number")E=btoa(Sp.iq.GG(E["NS.bytes"],0,E["NS.bytes"].length));
y[E]=K(p,a,Q["NS.object."+d])}for(var k in Q)delete Q[k];for(var k in y)Q[k]=y[k];return Q}if(N=="NSURL")return{$class:N,base:K(p,a,Q["NS.base"]),relative:K(p,a,Q["NS.relative"])};
if(Sp.SUv.indexOf(N)!=-1){p[R]=K(p,a,Q.array_do);return p[R]}if(Q.do_objectID!=null)Q.do_objectID=K(p,a,Q.do_objectID);
if(Sp.SUQ.indexOf(N)!=-1)return Q;var D=Sp.SUn[N];if(D==null){console.log(p,Q);throw"unknown class "+N}for(var d=0;
d<D.length;d++)if(Q[D[d]]!=null)Q[D[d]]=K(p,a,Q[D[d]]);if(N=="MSTextLayer"){var P=Q,e,Y,O,W;if(P.attributedString)e=P.attributedString.archivedAttributedString;
else e=P.storage;W=e.NSString;if(typeof W!="string")W=A.ng(W["NS.bytes"],0,W["NS.bytes"].length);if(e.NSAttributeInfo)Y=e.NSAttributeInfo["NS.bytes"];
else{var w=W.length,g=[];while(w>0){var J=Math.min(100,w);g.push(J,0);w-=J}Y=new Uint8Array(g)}O=e.NSAttributes instanceof Array?e.NSAttributes:[e.NSAttributes];
var U={$class:"NSAttributedString",NSString:W,NSAttributes:O};P.attributedString={_class:"MSAttributedString",archivedAttributedString:U};
U.NSAttributeInfo={$class:"NSMutableData","NS.data":Y};delete P.storage}return Q};Sp.iq={rt:function(p,a){return p[a+1]<<8|p[a]},m:function(p,a){return p[a+3]<<24|p[a+2]<<16|p[a+1]<<8|p[a]},GG:function(p,a,R){var Q="";
for(var t=0;t<R;t++)Q+=String.fromCharCode(p[a+t]);return Q}};Sp.ky={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Sp.SUv=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Sp.SUQ="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Sp.SUn={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var KJ={};KJ.parse=function(p,a){var R=A.GG(p,a,8);a+=8;var Q=KJ.parse.SWg(p,p.length-31),t=[];if(Q.DK==1){var a=p.length-31-Q.DK*Q.Dr;
for(var N=0;N<Q.Dr;N++)t.push(p[a+N])}else if(Q.DK==2){var a=p.length-31-Q.DK*Q.Dr;for(var N=0;N<Q.Dr;
N++)t.push(A.rt(p,a+N*2))}else if(Q.DK==4){var a=p.length-31-Q.DK*Q.Dr;for(var N=0;N<Q.Dr;N++)t.push(A.m(p,a+N*4))}else{throw"e"}var K=KJ.parse.ho(p,t,Q.root,Q);
return K};KJ.parse.ho=function(p,a,R,Q){var t=KJ.iq,N=Q.SUk,K=N==4?t.m:N==2?t.rt:t.SWN,T=KJ.parse,d=a[R],y=p[d],E=y>>4,k=y&15,P=null;
d+=1;if([4,5,6,10,12,13].indexOf(E)!=-1&&k==15){var D=T.Cd(p,d);d+=D.FW;k=D.Z}if(!1){}else if(E==0)P=k==8?!1:k==9?!0:null;
else if(E==1)P=T.Cd(p,d-1).Z;else if(E==2)P=1<<k==4?A.jr(p,d):A.zT(p,d);else if(E==3)P=A.zT(p,d);else if(E==4)P=new Uint8Array(p.buffer,d,k);
else if(E==5)P=A.GG(p,d,k);else if(E==6)P=A.HH(p,d,k);else if(E==8){P=0;for(var e=0;e<k+1;e++)P=P<<8|p[d+e]}else if(E==10){P=[];
for(var e=0;e<k;e++)P.push(T.ho(p,a,K(p,d+N*e),Q))}else if(E==12){P=[];for(var e=0;e<k;e++)P.push(T.ho(p,a,K(p,d+N*e),Q))}else if(E==13){P={};
for(var e=0;e<k;e++){var Y=T.ho(p,a,K(p,d+N*e),Q),O=T.ho(p,a,K(p,d+N*(k+e)),Q);P[Y]=O}}else throw"unknown mask "+E;
return P};KJ.parse.Cd=function(p,a){var R=1<<(p[a]&15),Q=0;for(var t=0;t<R;t++)Q=Q<<8|p[a+1+t];return{Z:Q,FW:R+1}};
KJ.parse.SWg=function(p,a){var R={};a+=6;R.DK=p[a];a++;R.SUk=p[a];a++;a+=4;R.Dr=A.m(p,a);a+=4;a+=4;R.root=A.m(p,a);
a+=4;a+=4;R.SYX=A.m(p,a);a+=4;return R};KJ.iq={SWN:function(p,a){return p[a]},rt:function(p,a){return p[a]<<8|p[a+1]},m:function(p,a){return p[a]<<24|p[a+1]<<16|p[a+2]<<8|p[a+3]},GG:function(p,a,R){var Q="";
for(var t=0;t<R;t++)Q+=String.fromCharCode(p[a+t]);return Q}};var SL={parse:function(p){var a=new Uint8Array(p),R=SL.ew(a),Q=[],t=new Uint8Array(a.length),N=[];
Q.push(N);SL.fz(a,R,1,t,N);for(var K=0;K<N.length;K++){var T=[];Q.push(T);SL.fz(a,R,N[K][3],t,T);N[K][3]=K+1}return Q},fz:function(p,a,R,Q,t){R--;
var N=R*a.Ya+(R==0?100:0),K=p[N],T=SL.rt(p,N+1);if(T!=0)throw"free block in a page";var d=SL.rt(p,N+3),y=SL.rt(p,N+5);
if(y==0)y=65536;var E=p[N+7],k=SL.rt(p,N+8);if(K==2||K==5)N+=4;else k=0;for(var D=0;D<d;D++){var P=R*a.Ya+SL.rt(p,N+8+2*D),e=-1,Y=0,O=0,W=0;
if(K==2||K==5){e=SL.m(p,P);P+=4}if(K==2||K==10||K==13){Y=SL.Tv(p,P);P+=Y.FW}if(K==5||K==13){O=SL.Tv(p,P);
P+=O.FW}if(K==5){SL.fz(p,a,e,Q,t);continue}var w=a.Ya-(R==0?100:0),g=Y.Lr,J=K==13?w-35:Math.floor((w-12)*64/255)-23,U=Math.floor((w-12)*32/255)-23,H=U+(g-U)%(w-4);
if(g<=J){SL.$M(p,P,Q,0,g)}else{var f=H<=J?H:U,j=0;SL.$M(p,P,Q,0,f);j+=f;W=SL.m(p,P+f);while(W!=0){var I=(W-1)*a.Ya;
W=SL.m(p,I);var L=Math.min(a.Ya-4,g-j);SL.$M(p,I+4,Q,j,L);j+=L}}t.push(SL.SWl(Q,g))}},SWl:function(p,a){var R=0,Q=SL.Tv(p,R);
R+=Q.FW;var t=[],N=[];while(R<Q.Lr){var K=SL.Tv(p,R);R+=K.FW;t.push(K.Lr)}if(R!=Q.Lr)throw"e";for(var T=0;
T<t.length;T++){var K=t[T];if(!1){}else if(K==0)N.push(null);else if(K==1){N.push(SL.SWt(p,R));R+=1}else if(K==2){N.push(SL.eh(p,R));
R+=2}else if(K==3){N.push(SL.SWy(p,R));R+=3}else if(K==4){N.push(SL.Cd(p,R));R+=4}else if(K==7){N.push(SL.SWa(p,R));
R+=16}else if(K==8)N.push(0);else if(K==9)N.push(1);else if(K>=12&&(K&1)==0){var d=K-13>>1,y=new Uint8Array(d);
SL.$M(p,R,y,0,d);N.push(y);R+=d}else if(K>=13&&(K&1)==1){var d=K-12>>1;N.push(SL.ng(p,R,d));R+=d}else throw"unknonw type "+K}return N},ew:function(p){if(!(p[18]==1&&p[19]==1&&p[20]==0&&p[21]==64&&p[22]==32&&p[23]==32))throw"unexpected SQL3 header";
var a={Aa:SL.GG(p,0,15),Ya:SL.rt(p,16),SYx:SL.m(p,24),size:SL.m(p,28),SYi:SL.m(p,32),SYy:SL.m(p,36),SYo:SL.m(p,40),SYU:SL.m(p,44),SYW:SL.m(p,48),SYO:SL.m(p,52),Szb:SL.m(p,56),SYJ:SL.m(p,60),SYt:SL.m(p,64)!=0,SYT:SL.m(p,68),SYa:SL.m(p,92),SYQ:SL.m(p,96)};
if(a.Ya==1)a.Ya=65536;if(a.Szb!=1)throw"unsupported text encoding "+a.Szb;return a},SWF:function(p,a){return p[a]<<16|p[a+1]<<8|p[a+2]},SWy:function(p,a){var R=SL.SWF(p,a),Q=R&8388608;
return Q?-(16777215-R+1):R},SWt:function(p,a){SL.hU[0]=p[a];return SL.SWw[0]},Cd:function(p,a){var R=SL.hU;
for(var Q=0;Q<4;Q++)R[Q]=p[a+3-Q];return SL.SWk[0]},eh:function(p,a){var R=SL.hU;R[0]=p[a+1];R[1]=p[a];
return SL.SWA[0]},rt:function(p,a){return p[a]<<8|p[a+1]},m:function(p,a){return p[a]<<24|p[a+1]<<16|p[a+2]<<8|p[a+3]},SWa:function(p,a){var R=SL.hU;
for(var Q=0;Q<8;Q++)R[Q]=p[a+7-Q];return SL.SOZ[0]},Tv:function(p,a){var R=a,Q=0;while(!0){var t=p[a];
a++;Q=Q*128+(t&127);if(t<128)break}return{Lr:Q,FW:a-R}},GG:function(p,a,R){var Q="";for(var t=0;t<R;
t++)Q+=String.fromCharCode(p[a+t]);return Q},ng:function(p,a,R){var Q="";for(var t=0;t<R;t++)Q+="%"+SL.SWQ(p[a+t].toString(16));
return decodeURIComponent(Q)},$M:function(p,a,R,Q,t){if(p[a+t-1]==null||R[Q+t-1]==null){console.log(a,Q,t);
throw"e"}for(var N=0;N<t;N++)R[Q+N]=p[a+N]},SWQ:function(p){return p.length<2?"0"+p:p}};SL.hU=new Uint8Array(8);
SL.SWw=new Int8Array(SL.hU.buffer);SL.SWA=new Int16Array(SL.hU.buffer);SL.SWk=new Int32Array(SL.hU.buffer);
SL.SOZ=new Float64Array(SL.hU.buffer);function SY(p,a,R){this.$$=p;this.OB=a;this.SUc=R;this.Yu=new X(0,0);
this.O$=-1;this.OO=0;this.nC=0;this.Bh=new x;this.Bx=[];this.AQ=null;this.SLd=null;this.AD=null;this.De=null;
this.nU=null;this.SBI=null}SY.prototype.StartPage=function(p,a,R,Q){var t=this.OB,N=t.Of(),K=1;while((R-p)*(Q-a)*N*N/(K*K)>8e3*8e3)K++;
t.scale(1/K,1/K);this.SLd=[p,a,R,Q];var K=t.Of();p=Math.round(p*K);a=Math.round(a*K);R=Math.round(R*K);
Q=Math.round(Q*K);var T=this.$$,d=this.AD;if(d==null){t.NE=-p}else{var y=d[2]-d[0]+30,E=Math.round(R-p)+30;
if(this.Yu.x+y+E>8192){t.NE=-p;this.Yu.x=0;this.Yu.y+=this.nC+120;this.nC=0}else{t.NE+=y;this.Yu.x+=y}}t.GV=this.Yu.y+(this.SUc?Q:-a);
this.nC=Math.max(this.nC,Math.round(Q-a));this.AD=[p,a,R,Q];T.M.push(T.Df())};SY.prototype.SdB=function(){var p=this.$$,a=p.M[p.M.length-1];
return a};SY.prototype.SSa=function(){var p=JSON.parse(JSON.stringify(gZ.up.default));p.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
p.strokeEnabled.v=!1;p.fillEnabled.v=!1;return p};SY.prototype.SRu=function(){var p=this.$$,a=p.hX();
a.xJ("Path "+p.M.length);this.$$.M.push(a);a.KN|=16;a.add.SoCo={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:0,X:0,N:0})}};
a.add.vmsk=new l.IC;a.add.vstk=this.SSa();return a};SY.prototype.fF=function(p){var a={r:p.crds,$:p.cmds},R=S.s.Vl(a,!1);
S.d.xv(R,this.OB);return R};SY.Sdq=function(p,a){for(var R=0;R<p.length;R++)if(p[R].gu!=null)p[R].gu=a};
SY.SOv=function(p){return Math.sqrt(Math.abs(p[0]*p[3]-p[1]*p[2]))};SY.iO=function(p){return S.e.HW({D:p[0]*255,X:p[1]*255,N:p[2]*255})};
SY.TJ=function(p){return new gh(p[0],p[1],p[2],p[3],p[4],p[5])};SY.prototype.Stroke=function(p){if(this.O$!=-1&&this.O$!=this.OO)return;
if(p.pth.cmds.length<=1)return;var a=this.fF(p.pth);if(a.length<=2)return;this.TT(p);SY.Sdq(a,-1);a[2].gu=1;
var R=SY.iO(p.COLR),Q=this.SdB(),t=this.SSa();t.strokeEnabled.v=!0;t.strokeStyleMiterLimit.v=p.mlimit;
t.strokeStyleLineDashSet.v=gB.mj(p.dash,1/p.lwidth);t.strokeStyleLineDashOffset.v.val=p.doff;t.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gZ.up.join[p.ljoin];
t.strokeStyleLineCapType.v.strokeStyleLineCapType=gZ.up.yo[p.lcap];t.strokeStyleLineWidth.v.val=Math.max(.4,p.lwidth*SY.SOv(p.ctm)*this.OB.Of());
t.strokeStyleContent.v.Clr.v=R;var N=Q!=null&&Q.add.vmsk!=null&&!Q.sc(),K=N&&!Q.add.vstk.strokeEnabled.v&&l.IC.SfS(Q.add.vmsk.G,a,!0),T=N&&!Q.add.vstk.fillEnabled.v&&JSON.stringify(t)==JSON.stringify(Q.add.vstk);
if(T){SY.Sdq(a,-1);Q.add.vmsk.G=Q.add.vmsk.G.concat(a.slice(2))}else if(K){Q.add.vstk=t;t.fillEnabled.v=!0}else{Q=this.SRu();
Q.add.vmsk.G=a;Q.add.vstk=t}};SY.prototype.Fill=function(p,a){if(this.O$!=-1&&this.O$!=this.OO)return;
if(p.ca==0)return;var R=p.pth.cmds;if(R.length==0)return;if(R.length==2&&JSON.stringify(R)=="[\"M\",\"L\"]")return;
var Q=S.s.wh(p.cpth.crds),t=S.s.wh(p.pth.crds);if(t.Yl(Q).RJ())return;var N=p.pth;if(this.De==null&&UDOC.G.isBox(N,[t.x,t.y,t.x+t.C,t.y+t.T])&&t.tT(Q)){N=p.cpth}else this.TT(p);
var K=this.fF(N),T=S.s.Ht(t);S.s.t(T.r,this.OB,T.r);t=S.s.wh(T.r);var d=SY.SKw(p.colr,this.OB,t),y=this.SdB(),E=y!=null&&y.add.vstk!=null&&!y.add.vstk.strokeEnabled.v&&y.add.SoCo&&d.type=="SoFi"&&JSON.stringify(y.add.SoCo.Clr.v)==JSON.stringify(d.Z.v.Clr.v);
if(E){var k=!1;for(var D=0;D<K.length;D++){if(K[D].gu==0||K[D].gu==2)k=!0}if(k){var P=S.s.wh(S.d.mD(y.add.vmsk.G)),e=S.s.wh(S.d.mD(K));
E=P.Yl(e).RJ()}}if(E){var Y=y.add.vmsk.G;for(var D=2;D<K.length;D++)Y.push(K[D])}else{y=this.SRu();delete y.add.SoCo;
y.add.vmsk.G=l.IC.Ce(K);SY.g$(p.colr,y,this.OB,t);SY.SSj(p,y)}};SY.g$=function(p,a,R,Q){var t=SY.SKw(p,R,Q),N=null,K=null;
a.add.vstk.fillEnabled.v=!0;if(t.type=="SoFi"){N="SoCo";K=gZ.Yw}if(t.type=="GrFl"){N="GdFl";K=gZ.aH}if(t.type=="patternFill"){N="PtFl";
K=gZ.QN}if(N!=null){a.add[N]={classID:"null"};for(var T=0;T<K.length;T++){var d=K[T];a.add[N][d]=t.Z.v[d]}}};
SY.prototype.TT=function(p){var a=this.$$,R=p.cpth,Q=R.cmds.join(""),t=R.crds,N=Q+" "+t.join(","),K=UDOC.G.isBox(R,this.SLd);
if(K&&this.De==null)return;if(N==this.De)return;this.SdL();if(!K){this.De=N;a.M.push(a.Df());var T=a.hX();
T.xJ("Mask");T.add.lsct=Ns.AH;T.bQ="pass";T.KN=24;var d=T.add.vmsk=new l.IC;d.G=this.fF(p.cpth);if(UDOC.G.isBox(R)){this.nU=S.d.Fh(d.G);
this.nU.vj(3,3)}else this.nU=null;this.SBI=T}};SY.prototype.SdL=function(){var p=this.$$;if(this.De!=null){var a=p.M.length-1,R=a,Q=!1;
while(R>=0&&p.M[R].add.lsct!=Ns.iL)R--;var t=this.nU;if(t){var N=new x,K=a;while(K>R){N=p.M[K].iY(this.$$,!1,!0);
K--}Q=t.tT(N)}if(Q){this.Bx.splice(R,1);p.M.splice(R,1)}else{p.M.push(this.SBI)}this.De=null}};SY.SKw=function(p,a,R){var Q,t;
if(p.length!=null){Q="SoFi";var N=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]);t={t:"Objc",v:N};t.v.Clr.v=SY.iO(p)}else{var K=SY.SOD(p,a,R);
Q="GrFl";t={t:"Objc",v:K}}return{type:Q,Z:t}};SY.SOD=function(p,a,R){var Q=JSON.parse(gZ.pB[gZ.order.indexOf("GrFl")]),t=Q.Grad.v;
t.Intr.v=0;var N=SY.TJ(p.mat);N.concat(a);var K=new X(0,0),T=new X(R.C,0),d=p.crds;if(p.typ=="rad"){Q.Type.v.GrdT="Rdl";
var y=.7;K.x=(1-y)*d[0]+y*d[3];K.y=(1-y)*d[1]+y*d[4];T.x=K.x;T.y=K.y;T.x+=Math.max(d[2],d[5])}else{Q.Type.v.GrdT="Lnr";
K.x=d[0];K.y=d[1];T.x=d[2];T.y=d[3];K.x=T.x+.5*(K.x-T.x);K.y=T.y+.5*(K.y-T.y)}K=N.Ci(K);T=N.Ci(T);S.e.Os(K,T,R,Q);
var E=p.grad;S.e.S_(E,t);return Q};SY.prototype.PutText=function(p,a,R,Q){var t=a.charCodeAt(0),D=null;
if(this.O$!=-1&&this.O$!=this.OO)return;if(a.length==0||a.length==1&&(t==0||t==8203))return;this.TT(p);
var N=this.$$,K=p.font,T=SY.TJ(p.ctm);T.concat(this.OB);var d=SY.TJ(K.Tm);d.concat(T);var y=m.B.Of(d),E=new gh(1/y,0,0,-1/y,0,0);
E.concat(d);var k=K.Tfs*y;if(K.Th!=100||K.Trise!=0){console.log(K)}var P=N.M.length-1;while(P>=0&&N.M[P].add.TySh==null)P--;
if(Q==null&&P>=0&&N.M[P].add.TySh){var e=N.M[P],Y=this.Bx[P],O=e.add.TySh.t,W=(O.NE+Y.Bi-E.NE)/k,w=Math.abs(W),g=a.indexOf(" ")==-1,J=O.Eu==E.Eu&&O.N==E.N&&O.CI==E.CI&&O.$B==E.$B,U=J&&Math.abs(Y.BU-E.GV)<1e-5&&w<.6,H=E.GV-Y.BU;
if(U){D=e;Y.Bi=E.NE-O.NE;if(W>.2&&g&&[".",",","?",":","!"].indexOf(a)==-1)a=" "+a}else if(J&&Math.abs(E.NE-O.NE)<1e-5&&0<H&&H<k*1.7&&Y.SBz==k){D=e;
this.SSD(Y);Y.BU=E.GV;a="\n"+a}}if(D==null){P=N.M.length;this.Bx[P]={tB:[],Bi:0,BU:E.GV,Am:"",SBz:k};
D=N.hX();N.M.push(D);D.add.lnsr="rend";D.add.TySh=gK.oG(0,0);D.add.TySh.t=E}var Y=this.Bx[P];Y.Bi+=R*k;
Y.Am+=a;var f=D.add.TySh.KY,j=gK.cB(f);if(Q){gK.mW(f,1);var I=[0,0,Math.ceil(Q[0]*y),Math.ceil(Q[1]*y)];
gK.Dn(f,I)}var L=j.length-1,C=L+a.length;gK.uC(f,L,a);if(this.AQ==null)this.AQ=gK.dJ(f,L,L);var v=this.AQ;
v.RW.FontSize=Math.round(k);v.RW.Tracking=Math.round(K.Tc*100);v.RW.Underline=K.Tun==1;v.RW.FillColor={Type:1,Values:[1,p.colr[0],p.colr[1],p.colr[2]]};
if(K.Tal!=null)v.uq.Justification=K.Tal;if(Y.tB.length!=0){v.RW.AutoLeading=!1;v.RW.Leading=Y.BU-Y.tB[Y.tB.length-1].y}var o=K.Tf;
o=o.replace(/#2B/g,"+");o=o.replace(/#2C/g,"-");o=o.split("+").pop();var Z={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(Z[o])o=Z[o];gK.rl(v,o);gK.mv(f,L,C-1,v);D.$b()};SY.prototype.SSD=function(p){p.tB.push({Xs:p.Bi,GY:p.Am.slice(p.tB.length==0?0:1)+"\n",y:p.BU,IH:p.SBz});
p.Bi=0;p.Am=""};SY.prototype.PutImage=function(p,a,R,Q,t,N,K){if(this.O$!=-1&&this.O$!=this.OO)return;
var T=this.$$,d=p.font.Tmode;if(d==7&&T.M[T.M.length-1].add.TySh){return}this.TT(p);var y=SY.TJ(p.ctm);
y.concat(this.OB);var E=new gh(1/R,0,0,-1/Q,0,1);E.concat(y);y=E;a=SY.SdD(a,R,Q);if(t)t=SY.SdD(t,R,Q);
if(t==null){if(a.length==R*Q*4)a=new Uint8Array(gr.PNG.WL([[a.buffer,0]],R,Q))}else{a=this.Slh(a,R,Q,N,!1);
t=this.Slh(t,R,Q,K,!0);var k=S.p(R*Q);S.vh(t,k,0);S.RA(k,a,3);a=new Uint8Array(gr.PNG.WL([[a.buffer,0]],R,Q))}var D=T.Cf(a,"Bitmap",0,0),P=D.rect.clone();
P.x=P.y=0;var e=S.s.Ht(P).r;S.s.t(e,y,e);D.add.SoLd.Trnf=m.B.Ql(e);D.add.SoLd.nonAffineTransform=m.B.Ql(e);
D.eU(T,!1);SY.SSj(p,D);T.M.push(D)};SY.SSj=function(p,a){a.opacity=Math.round(255*p.ca);var R=SY.fi[p.bmode];
if(R==null)console.log("Unknown blend mode",R);else a.bQ=R};SY.fi={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
SY.SdD=function(p,a,R){var Q=gr.li(p.buffer);if(Q=="jpg"){try{p=new Uint8Array(gr.JPG.SpU(p.buffer))}catch(dW){p=new Uint8Array(a*R*4)}}else if(p.length!=a*R*4){var t=new Uint8Array(a*R*4),N=new Uint8Array(Math.ceil(a*R/8));
UTIF.decode._decodeG4(p,0,p.length,N,0,a,1);for(var K=0;K<a*R;K++){var T=K*4,d=(N[K>>3]>>7-(K&7)&1)*255;
t[T]=d;t[T+1]=d;t[T+2]=d;t[T+3]=255}p=t}return p};SY.prototype.Slh=function(p,a,R,Q,t){if(p.length!=a*R*4){var N=gr.li(p.buffer),K=gr.xN(N);
if(K==null||N=="tga")K=gr.xN("jpg");p=new Uint8Array(K.Lc(p,Q,t)[0].data)}return p};SY.prototype.ShowPage=function(){var p=this.$$;
this.OO++;var a=this.AD;this.SdL();var R=p.hX();p.M.push(R);var Q=new x(Math.round(this.Yu.x),Math.round(this.Yu.y),Math.round(a[2]-a[0]),Math.round(a[3]-a[1]));
this.Bh=this.Bh.hT(Q);R.dU(Q);R.xJ("Page "+this.OO);R.add.lsct=Ns.AH;R.bQ="pass";R.KN=24};SY.prototype.Print=function(p){console.log("Print:",p)};
SY.prototype.Done=function(){var p=this.$$;if(this.OO==1)p.M[p.M.length-1].add.lsct=Ns.hI;p.RZ(this.OO);
for(var a=0;a<p.M.length;a++){var R=p.M[a],Q=R.add.vmsk,t=R.add.TySh,N=this.Bx[a];R.YH();R.WU(p);if(t&&N.tB.length!=0){this.SSD(N);
var K=t.KY,T=N.tB.length,d=N.tB[0],y=0,k=0;for(var E=0;E<T;E++)y=Math.max(y,N.tB[E].Xs);gK.mW(K,1);t.t.GV-=d.IH*.7;
gK.Dn(K,[0,0,Math.ceil(y*1.1),Math.ceil(N.tB[T-1].y-d.y+d.IH*2)])}if(t){var K=t.KY;gK.SXg(K);var D=gK.cB(K).split("\n");
for(var E=0;E<D.length-1;E++){var P=D[E],e=0;for(var Y=0;Y<P.length;Y++){var O=P.charCodeAt(Y);if(1473<=O&&O<=1524)e++}if(e>P.length/2){D[E]=P.split("").reverse().join("");
var W=K.EngineDict.ParagraphRun.RunArray[E].ParagraphSheet.Properties;W._Direction=1;W.Justification=gK.Ri(W)}}gK.Xn(K,D.join("\n"))}}p.YO=!0;
p.C=this.Bh.C;p.T=this.Bh.T;p.buffer=S.p(this.Bh.u()*4)};var pW={};pW.sm=function(p,a,R,Q){var t=!1,N=[p.root],K=p.root.children;
if(p.add.artd){t=!0;for(var T=0;T<K.length;T++)if(K[T].w.add.artb==null)t=!1;if(t)N=K}var d=new x(0,0,p.C,p.T),y=a[0];
y=y.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();y=y.split(" ");var E=[];for(var T=0;
T<y.length;T++){var k=y[T];if(k=="-"){var D=E.pop(),P=parseInt(y[T+1]);while(D<P){E.push(D);D++}}else E.push(parseInt(k))}y=E;
for(var T=0;T<y.length;T++)if(isNaN(y[T])||y[T]<1||y[T]>N.length){y.splice(T,1);T--}var e=72/p.po;for(var T=0;
T<N.length;T++){if(y.length!=0&&y.indexOf(T+1)==-1)continue;var Y=N[T],O=t?Y.w.iy():d,W=Math.round(O.C*e),w=Math.round(O.T*e);
R.StartPage(0,0,W,w);var g=UDOC.getState([[0,0,W,w]]),J=new gh;J.translate(-O.x,-O.y-O.T);J.scale(e,-e);
if(a[2]){var U=p.iD();if(!d.xA(O)){U=S.p(O.u()*4);S.gW(p.iD(),d,U,O)}if(a[1]!=100){var H=gr.JPG.WL([[U.buffer]],O.C,O.T,[a[1]]);
U=new Uint8Array(H)}var f=new gh;f.translate(O.x,O.y);pW.SSv(g,R,U,O,f,J)}else pW.SdA(p,Y,g,R,J,a,Q);
R.ShowPage()}R.Done()};pW.Gr=function(p){p=S.e.gc(p);return[p.D/255,p.X/255,p.N/255]};pW.SdA=function(p,a,R,Q,t,N,K){var T=a.w,d=T.add.lsct,y=T.add.lmfx,E=T.add.vmsk,k=T.add.vstk,D=T.add.TySh;
if(!T.Aw())return;var P=T.opacity/255,e=T.add.iOpa?T.add.iOpa/255:1;for(var Y in SY.fi)if(SY.fi[Y]==T.bQ)R.bmode=Y;
R.ca=R.CA=P*e;var O=y;if(O)O=O.solidFillMulti.v[0];if(O)O=O.v;if(O&&!O.enab.v)O=null;if(T.sc()){for(var W=0;
W<a.children.length;W++)pW.SdA(p,a.children[W],R,Q,t,N,K)}else if(E){var w=E.G,g=S.d.Fh(w),J=S.s.VO(w),U=!1,H=!1,f=!1;
S.s.t(J.r,t,J.r);R.pth={cmds:J.$,crds:J.r};if(k.fillEnabled.v){var j=gB.Mw(y,T.add),I=j[0],L=j[1];if(I){R.colr=pW.Gr(I.Clr.v)}else if(L){var C=L,v=[],o,Z=C.Type.v.GrdT=="Rdl"?"rad":"lin",B=S.e.sb(C,g),s=t.Ci(B[0]),q=t.Ci(B[1]);
if(Z=="rad")o=[s.x,s.y,0,s.x,s.y,X.Hz(s,q)];else{s.YY(q.x+(s.x-q.x)*2,q.y+(s.y-q.y)*2);o=[s.x,s.y,q.x,q.y]}var F=C.Grad.v.Clrs.v;
for(var W=0;W<F.length;W++){var b=F[W].v;v.push([b.Lctn.v/4096,pW.Gr(b.Clr.v)])}R.colr={typ:Z,mat:[1,0,0,1,0,0],grad:v,crds:o}}U=!0}var G=gB.ME(y);
if(!k.strokeEnabled.v&&G)k=G;if(k.strokeEnabled.v){var u=k.strokeStyleContent.v,h=k.strokeStyleLineDashSet.v,z=gZ.up.oy.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u.Clr==null)return;var r=S.e.gc(u.Clr.v);R.COLR=[r.D/255,r.X/255,r.N/255];R.lwidth=k.strokeStyleLineWidth.v.val*(z==2?2:1)*t.Of();
R.mlimit=k.strokeStyleMiterLimit.v;R.doff=k.strokeStyleLineDashOffset.v.val;R.ljoin=gZ.up.join.indexOf(k.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
R.lcap=gZ.up.yo.indexOf(k.strokeStyleLineCapType.v.strokeStyleLineCapType);R.dash=[];for(var W=0;W<h.length;
W++)R.dash.push(h[W].v.val*R.lwidth);if(R.dash.length==1&&R.dash[0]==0)R.dash=[];H=!0;if(z==2)f=!0}if(U&&!f)Q.Fill(R);
if(H)Q.Stroke(R);if(U&&f)Q.Fill(R)}else if(D&&N[4]){var i=D.KY,gg=new NC(i,K),J=CG.uv(gg,D),gC=S.s.RT(J);
for(var r in gC){var gd=parseInt(r.slice(1),16);R.colr=O?pW.Gr(O.Clr.v):[(gd>>>16&255)/255,(gd>>>8&255)/255,(gd&255)/255];
var gY=gC[r];S.s.t(gY.r,t,gY.r);gY=S.s.Sxo(gY);R.pth={cmds:gY.$,crds:gY.r};Q.Fill(R)}}else if(D&&N[3]==!1){var i=D.KY,gN=D.t.clone(),gS=new gh(1,0,0,-1,0,0);
gS.concat(gN);gS.concat(t);var M=gK.cB(i),gg=new NC(i,K);for(var W=0;W<gg.uq.length;W++){var Cj=gg.uq[W];
if(Cj.Th.length==1&&Cj.Th[0].DH)continue;for(var gs=0;gs<Cj.Nb.length;gs++){var gl=Cj.Nb[gs],gR=Cj.za.y+gl.za.y,ge=Cj.Th[gl.start].start,So=Cj.Th[gl.end-1].end,gq=gK.SXK(i,ge,So);
for(var gH=0;gH<gq.length;gH++){var gx=gg.uP(ge),g$=gq[gH],gy=gK.dJ(i,ge,ge),SZ=gy.nY[gy.RW.Font].Name;
R.font.Tf=SZ;var r=gK.gc(gy.RW);R.colr=O?pW.Gr(O.Clr.v):[r.D/255,r.X/255,r.N/255];R.font.Tfs=Math.round(gy.RW.FontSize);
var dU=M.slice(ge,ge+g$);if(gy.RW.FontCaps==2)dU=dU.toUpperCase();var gz=new gh;gz.translate(gx.I.x,-gR);
gz.concat(gS);R.ctm=[gz.Eu,gz.N,gz.CI,gz.$B,gz.NE,gz.GV];Q.PutText(R,dU,0);R.ctm=[1,0,0,1,0,0];ge+=g$}}}}else if(!T.rect.RJ()){var gX,gJ,SR=!1,gF=new gh;
if(T.add.SoLd){var gv=T.add.SoLd,SU=gv.Idnt.v,ga=p.mr(SU,gv.Crop?gv.Crop.v:null),SC="";if(ga==null)return;
var Sg=ga.UG,gO=gr.li(ga.raw.buffer);if(N[5].indexOf(gO)!=-1){gX=ga.raw;SR=!0}else gX=Sg[0];gJ=Sg[1];
gF=S.L.jo(gv)}else{gX=T.buffer;gJ=T.rect;gF.translate(gJ.x,gJ.y)}if(O&&!SR)gX=gB.Sfl(gX,O,gJ);pW.SSv(R,Q,gX,gJ,gF,t);
if(O&&SR){var o=[0,0,gJ.C,0,gJ.C,gJ.T,0,gJ.T];S.s.t(o,gF,o);S.s.t(o,t,o);var gk=JSON.parse(JSON.stringify(R));
gk.ca=O.Opct.v.val/100;gk.pth={cmds:["M","L","L","L","Z"],crds:o};gk.colr=pW.Gr(O.Clr.v);Q.Fill(gk)}}};
pW.SSv=function(p,a,R,Q,t,N){var K=new gh;K.scale(Q.C,-Q.T);K.translate(0,Q.T);K.concat(t);K.concat(N);
p.ctm=[K.Eu,K.N,K.CI,K.$B,K.NE,K.GV];a.PutImage(p,R,Q.C,Q.T);p.ctm=[1,0,0,1,0,0]};var dv={};dv.Hi=function(p){var a=new Uint8Array(p);
return dv.j_(a,0)};dv.j_=function(p,a){var R=A.m,Q=A.GG,t={HN:Q(p,a,4),A:a+8,size:R(p,a+4)},N=t.HN=="FORM"||t.HN=="LIST"||t.HN=="CAT ";
if(N)t.sZ=Q(p,a+8,4);if(t.size<0||t.A+t.size>p.length)throw"e";if(N){t.sub=[];a+=12;var K=t.A+t.size;
while(a<K){var T=dv.j_(p,a);t.sub.push(T);a+=8+T.size+(T.size&1)}}return t};var pQ={};pQ.Hi=function(p,a){var R=new Uint8Array(p);
return pQ.j_(R,0,a)};pQ.j_=function(p,a,R){var Q=A.vk,t=A.GG,N={HN:t(p,a,4),A:a+8,size:Q(p,a+4)};if(R&&R[N.size]!=null)N.size=R[N.size];
if(N.HN=="RIFF"||N.HN=="LIST"){N.sZ=t(p,a+8,4)}if(N.size<0||N.A+N.size>p.length)throw"e";if(N.HN=="RIFF"||N.HN=="LIST"&&(N.sZ!="cmpr"&&N.sZ!="stlt")){N.sub=[];
a+=12;var K=N.A+N.size;while(a<K){var T=pQ.j_(p,a,R);N.sub.push(T);a+=8+T.size+(T.size&1)}}return N};
var dv={};dv.Hi=function(p){var a=new Uint8Array(p);return dv.j_(a,0)};dv.j_=function(p,a){var R=A.m,Q=A.GG,t={HN:Q(p,a,4),A:a+8,size:R(p,a+4)},N=t.HN=="FORM"||t.HN=="LIST"||t.HN=="CAT ";
if(N)t.sZ=Q(p,a+8,4);if(t.size<0||t.A+t.size>p.length)throw"e";if(N){t.sub=[];a+=12;var K=t.A+t.size;
while(a<K){var T=dv.j_(p,a);t.sub.push(T);a+=8+T.size+(T.size&1)}}return t};function gc(){}gc.Hi=function(p,a){var R=new Uint8Array(p);
a.YO=!0;var Q=A.GG(R,0,2);if(Q=="WL"){alert("Unsupported CDR version")}else{var t=gc.fy,N=pQ.Hi(R.buffer),K={data:R,A:0,KW:gc.SZf(R[11])},D=300;
K.AP=K.KW<600?16:32;gc.fo(K,N.sub,a,0);var T=t(N,"cmpr").sub,d=T[0],y=T.slice(1),E=t(d,"mcfg").Z,k=E.SUj;
D/=NR.Hj(new x(0,0,Math.round(k.x*D),Math.round(k.y*D)),8192*8192);var P=Math.round(k.x*D),e=Math.round(k.y*D);
a.C=P;a.T=e;a.buffer=S.p(a.C*a.T*4);var Y=t(d,"filt").sub,O=t(d,"otlt").sub;d.Ab={};for(var W=0;W<Y.length;
W++)d.Ab[Y[W].sub[0].Z.id]=Y[W].sub[0].Z;d.A_={};for(var W=0;W<O.length;W++)d.A_[O[W].Z.id]=O[W].Z;var w=new gh(D,0,0,-D,k.x*D/2,k.y*D/2),g=y[1];
gc.hy(g,d,a,w);a.RZ(1);a.M[a.M.length-1].dU(new x(0,0,P,e))}};gc.fy=function(p,a){var R=null;for(var Q=0;
Q<p.sub.length;Q++){var t=p.sub[Q];if(t.HN==a||t.sZ==a)R=t}return R};gc.hy=function(p,a,R,Q){var t=gc.fy,N=p.sZ?p.sZ:p.HN,K=t(p,"lgob"),T=t(p,"txsm"),d,y;
if(K){d=t(K,"trfl");y=t(K,"loda")}var E=d?d.sub[0].EF.clone():new gh;E.concat(Q);var k=R.hX();if(N=="page"||N=="layr"||N=="grp "){k.xJ((N=="page"?"Page":"Group")+" "+R.M.length);
k.add.lsct=Ns.hI;k.bQ="pass";k.KN=24;var D=[];if(N=="page")D=t(p,"gobj").sub;if(N=="layr")D=p.sub.slice(2);
if(N=="grp ")D=p.sub.slice(4);if(D.length==0)return;R.M.push(R.Df());for(var P=D.length-1;P>=0;P--)gc.hy(D[P],a,R,Q)}else if(N=="obj "&&y.Z&&y.Z.path){k.xJ("Object "+R.M.length);
var e=a.Ab[y.Z.SWH],Y=a.A_[y.Z.SWz],O=k.getName(),W=e&&e.type!=0,w=W&&e.Z!=null?e.Z:[0,0,0];k.KN|=16;
k.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));var g=k.add.vstk;g.strokeEnabled.v=!1;k.add.vmsk=new l.IC;
if(Y&&Y.SWL!=1){g.strokeEnabled.v=!0;g.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
g.strokeStyleLineWidth.v.val=Y.lineWidth*Q.Of();var J=Y.color;g.strokeStyleContent.v.Clr.v=S.e.HW({D:J[0]*255,X:J[1]*255,N:J[2]*255})}var U=y.Z.path;
k.add.vmsk.G=S.s.Vl(U,!1);S.d.xv(k.add.vmsk.G,E);SY.g$(w,k,E,S.d.Fh(k.add.vmsk.G));g.fillEnabled.v=W;
k.YH();k.WU(R)}else if(N=="obj "&&T){var H=y.Z.SWX,f=y.Z.SWh,L="";k.add.TySh=gK.oG(0,0);var j=E.Of();
k.add.TySh.t.translate(E.NE,E.GV);var I=k.add.TySh.KY,C=T.Z.SBt;for(var P=0;P<C.length;P++){var v=C[P],o=L.length;
L+=v.text+"\n";gK.uC(I,o,v.text+"\n");var Z=gc.SOc(v.SWx,a),B=gK.dJ(I,o,L.length);if(Z.align==3)B.uq.Justification=1;
else B.uq.Justification=0;var s=Z.fill.Z;B.RW.FillColor={Type:1,Values:[1,s[0],s[1],s[2]]};B.RW.FontSize=Math.round(Z.SWP.fontSize*E.Of());
gK.mv(I,o,L.length-1,B)}if(f){gK.mW(I,0)}else{gK.mW(I,1);gK.Dn(I,[0,0,Math.round(H.x*E.Eu),Math.round(-H.y*E.$B)])}k.xJ(L.slice(0,10))}else{k=null}if(k)R.M.push(k)};
gc.SOc=function(p,a){var R=gc.fy(a,"stlt").Z,Q=JSON.parse(JSON.stringify(R.Lu[p]));if(Q.An!=0){var t=R.Lu[Q.An];
for(var N in t)if(Q[N]==null||Q[N]==0)Q[N]=t[N];delete Q.An}Q.align=R.SWb[Q.SW_];Q.fill=a.Ab[R.SWc[Q.SMd]];
Q.Sry=a.A_[R.SOd[Q.SMG]];Q.SWP=R.ShM[Q.SOK];return Q};gc.Svd=function(p){var a=p.data[p.A];p.A+=1;return a};
gc.gO=function(p){var a=A.Fk(p.data,p.A);p.A+=2;return a};gc.ga=function(p){var a=A.vk(p.data,p.A);p.A+=4;
return a};gc.SvY=function(p){var a=A.vk(p.data,p.A);p.A+=8;return a};gc.Ta=function(p){var a=A.tf(p.data,p.A);
p.A+=2;return a};gc.TG=function(p){var a=A.qR(p.data,p.A);p.A+=4;return a};gc.zT=function(p){var a=A.Shm(p.data,p.A);
p.A+=8;return a};gc.CP=function(p){if(p.A>=p.data.length)throw"e";var a=0;while(p.data[p.A+a]!=0)a++;
var R=A.GG(p.data,p.A,a);p.A+=a+1;return R};gc.Svf=function(p){if(p.KW<600)return Math.PI*gc.Ta(p)/1800;
return Math.PI*gc.TG(p)/18e7};gc.Svo=function(p){if(p.KW<1500)return gc.iJ(p);else return gc.zT(p)/254e3};
gc.iJ=function(p){if(p.KW<600)return gc.Ta(p)/1e3;else return gc.TG(p)/254e3};gc.Svc=function(p){if(p.KW<600)return CRDParser.gO(p);
else return gc.ga(p)};gc.SJB=function(p){if(p.KW<600)return CRDParser.Ta(p);else return gc.TG(p)};gc.fo=function(p,a,R,Q){var t=gc,N=t.Svd,K=t.gO,T=t.ga,d=t.SvY,y=t.Ta,E=t.TG,k=t.zT,D=t.iJ,P=t.Svo,e=t.Svf,Y=t.Svc,O=t.SJB;
for(var W=0;W<a.length;W++){var w=p.KW,g=a[W];p.A=g.A+(g.HN=="LIST"?4:0);if(g.HN=="vrsn"){var J=K(p);
p.KW=J;console.log("Version",J);p.AP=J<600?16:32}else if(g.HN=="DISP"){}else if(g.HN=="LIST"&&g.sZ=="cmpr"){var U=T(p),H=T(p),f=T(p),j=T(p),I=new Uint8Array(p.data.buffer,p.A+8+2,U-6-8),L=pako.inflateRaw(I),Z=0;
p.A+=U;I=new Uint8Array(p.data.buffer,p.A+8+2);var C=pako.inflateRaw(I),v=[];for(var o=0;o<C.length;
o+=4)v.push(A.vk(C,o));g.sub=[];while(Z<L.length){var B=pQ.j_(L,Z,v);Z=B.A+B.size;g.sub.push(B)}var s={data:L,A:0,KW:w,AP:p.AP};
gc.fo(s,g.sub,R,Q+1)}else if(g.HN=="LIST"&&g.sZ=="stlt"){var q=p.A,Cj=32;g.Z={};var F=T(p);if(F==0)return;
g.Z.SWc=gc.fU(p,w>=1300);g.Z.SOd=gc.fU(p);g.Z.ShM={};var b=T(p);for(var G=0;G<b;G++){var u=T(p);p.A+=w<1e3?12:20;
var h=K(p),z=K(p);p.A+=8;var r=D(p);p.A+=w<1e3?12:20;g.Z.ShM[u]={SOg:h,SrJ:z,fontSize:r}}g.Z.SWb=gc.fU(p);
var i=T(p);p.A+=52*i;var gg=T(p);p.A+=152*gg;var gC=T(p);p.A+=784*gC;var gd=T(p);for(var G=0;G<gd;G++){p.A+=40;
if(w>1300)p.A+=4;if(w>=1300){if(T(p))p.A+=68;else p.A+=12}else{p.A+=20;if(w>=1e3)p.A+=8;if(T(p))p.A+=8;
p.A+=8}}var gY=T(p);g.Z.SON={};for(var G=0;G<gY;G++){var gN=T(p),gS={};p.A+=12;gS.right=D(p);gS.SrT=D(p);
gS.left=D(p);g.Z.SON[gN]=gS}var M=T(p);if(w>=1300)Cj+=4;p.A+=Cj*M;var gs=T(p);p.A+=28*gs;if(w>800){var gl=T(p);
p.A+=12*gl}g.Z.Lu={};for(var G=0;G<F;G++){var gR=T(p),ge=T(p),So={};So.An=T(p);p.A+=8;var gq=T(p);if(w>=1200)gq*=2;
p.A+=gq;So.SMd=T(p);So.SMG=T(p);if(gR>1){So.SOK=T(p);So.SW_=T(p);So.Sra=T(p);So.SrQ=T(p);if(w>800)So.Srw=T(p)}if(gR>2){So.SrA=T(p);
So.SrD=T(p);So.SrG=T(p);So.SrE=T(p);So.Srm=T(p)}g.Z.Lu[ge]=So}}else if(g.HN=="LIST")gc.fo(p,g.sub,R,Q+1);
else if(g.HN=="txsm"){g.Z={};if(w<600)throw"e";if(w<700)throw"e";if(w>=1600)throw"e";if(w>=1500)p.A+=37;
else p.A+=36;if(T(p)){if(w<800)p.A+=32}if(w<800)p.A+=4;g.Z.Sru=T(p);g.Z.SBt=[];p.A+=48;if(w>=800){if(T(p)){p.A+=32;
if(w>=1300)p.A+=8}}if(w>=1500)p.A+=12;var gR=T(p),gH=1,gx=!1;if(!gR){if(w>=800)p.A+=4;if(w>800)p.A+=2;
if(w>=1400)p.A+=2;p.A+=24;if(w<800)p.A+=8;gH=T(p)}for(var o=0;o<gH;o++){var g$=T(p),G=0;if(w>=1300&&gR)p.A++;
p.A++;var F=T(p),gy=[];for(G=0;G<F;G++){var SZ=N(p),gz=0;N(p);var dU=N(p);if(w>=800)gz=N(p);var So={};
if(dU&1){So.SOg=K(p);var gX=K(p);if(gX)So.SrP=gX}if(dU&2)p.A+=4;if(dU&4)So.SrV=D(p);if(dU&8)p.A+=4;if(dU&16)p.A+=4;
if(dU&32)p.A+=4;if(dU&64){So.SMd=T(p);if(w>=1500)p.A+=48}if(dU&128){So.SMG=T(p)}if(gz&8){if(w>=1300){var gJ=T(p);
if(p.A+gJ*2>=p.data.length){gx=!0;break}p.A+=gJ*2}else p.A+=4}if(gz&32){var SR=N(p);if(SR)p.A+=52}if(SZ==2)if(w>=1300)p.A+=48;
gy.push(So)}if(gx){break}var gF=T(p);if(p.A+gF*4>p.data.length)break;var gv=[];for(G=0;G<gF;G++){var SU=0;
if(w>=1200)SU=d(p)&4294967295;else SU=T(p);gv[G]=SU>>16|SU&1}var ga=gF;if(w>=1200)ga=T(p);var Sg=gc.CP(p);
g.Z.SBt.push({SWx:g$,text:Sg,Lu:gy})}}else if(g.HN=="font"){var gO=K(p),SC=K(p);p.A+=14;var gk=gc.CP(p);
g.Z={id:gO,Srb:SC,name:gk}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(g.HN)!=-1){}else if(g.HN=="flgs")g.Z=T(p);
else if(g.HN=="bbox"){var Np=D(p),SO=D(p),NZ=D(p),gD=D(p);g.Z=new x(Np,SO,NZ-Np,gD-SO)}else if(g.HN=="fild"){var gI=T(p),go=0,NK;
if(w>=1300){p.A+=4;go=K(p);p.A+=2}var NS=K(p);if(NS==0){}else if(NS==1){p.A+=w>=1300?13:2;NK=gc.mq(p)}else if(NS==2){p.A+=w>=1300?8:2;
var gP=N(p),NX=0;if(w>=1300){p.A+=17;NX=y(p)}else if(w>=600){p.A+=19;NX=E(p)}else{p.A+=11;NX=y(p)}var Nd=e(p),Ni=.5+O(p),NH=.5+O(p)-.5;
if(w>=600)p.A+=2;var NE=Y(p)&255,NJ=N(p)/100;p.A++;var Nl=Y(p)&65535;if(w>=1300)p.A+=3;var NL=[];for(var G=0;
G<Nl;G++){var py=gc.mq(p);if(w>=1300){if(go==158||w>=1600&&go==150)p.A+=26;else p.A+=5}var SJ=Y(p)/100;
if(w>=1300)p.A+=3;NL.push([SJ,py])}NK={typ:gP==1?"lin":"rad",crds:[Ni-Math.cos(Nd)/2,NH-Math.sin(Nd)/2,Ni,NH],grad:NL,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",NS);
g.Z={id:gI,type:NS,Z:NK}}else if(g.HN=="outl"){var Nz=T(p);if(w>=1300){var NQ=0,No=0;while(NQ!=1){p.A+=No;
NQ=T(p);No=T(p)}}var Ss=K(p),Nt=K(p),gj=K(p);if(w<1300&&w>=600)p.A+=2;var NI=D(p),Si=K(p)/100;if(w>=600)p.A+=2;
var Kl=e(p);if(w>=1300)p.A+=46;else if(w>=600)p.A+=52;var NK=gc.mq(p,Nz==270963208||Nz==276198e3,Nz);
g.Z={id:Nz,SWL:Ss,Sr_:Nt,Srn:gj,lineWidth:NI,color:NK}}else if(g.HN=="mcfg"){if(1300<=w)p.A+=12;else if(900<=w)p.A+=4;
else if(600<=w&&w<700)p.A+=28;var CP=0,pz=0;if(w<400)throw"e";else{CP=D(p);pz=D(p)}g.Z={SUj:new X(CP,pz)}}else if(g.HN=="loda"){var q=p.A,KA=Y(p),dq=Y(p),S$=Y(p),SS=Y(p),NF=Y(p),N$=[],Kq=[];
p.A=q+S$;for(var G=0;G<dq;G++)N$[G]=Y(p);p.A=q+SS;for(var G=dq-1;G>=0;G--)Kq[G]=Y(p);g.Z={};for(var G=0;
G<dq;G++){p.A=q+N$[G];var SX=Kq[G];if(SX==10)g.Z.SWz=T(p);else if(SX==20)g.Z.SWH=T(p);else if(SX==200)g.Z.Srk=Y(p);
else if(SX==30){if(w<400)NF--;if(NF==1){var Np=P(p),SO=P(p),pZ=0,Ki=0,Se=0,SM=0;if(w<1500){SM=P(p);Se=w<900?SM:P(p);
Ki=w<900?SM:P(p);pZ=w<900?SM:P(p)}else throw"e";g.Z.path=S.s.VO(S.d.y$.Rect(0,0,Np,SO,pZ))}else if(NF==2){var Sd=D(p),NT=D(p),CA=e(p),Yp=e(p),pg=Math.abs(Sd),d$=Math.abs(NT);
g.Z.path=S.s.VO(S.d.y$.QJ(0,0,pg,-d$))}else if(NF==3){g.Z.path=gc.StS(p)}else if(NF==4){g.Z.SWh=gc.SJ$(p)}else if(NF==6){g.Z.SWX=gc.SJn(p)}else if(NF==37){g.Z.path=gc.SS(p)}else console.log(NF)}}}else if(g.HN=="trfd"){var q=p.A,KA=Y(p),dq=Y(p),S$=Y(p);
p.A=q+S$;var N$=[];for(var G=0;G<dq;G++)N$[G]=Y(p);for(var G=0;G<dq;G++){p.A=q+N$[G];if(w>=1300)p.A+=8;
var NP=K(p);if(NP==8){var pN,Sx,Np,pH,ND,SO;if(w>=600)p.A+=6;if(w>=500){pN=k(p);Sx=k(p);Np=k(p)/(w<600?1e3:254e3);
pH=k(p);ND=k(p);SO=k(p)/(w<600?1e3:254e3)}else throw"e";g.EF=new gh(pN,pH,Sx,ND,Np,SO)}else console.log(NP)}}else if(!1){console.log(g);
var Yi=Math.min(g.size,32);console.log(A.te(data,g.A,Yi));console.log(A.She(data,g.A,Yi))}}};gc.fU=function(p,a){var R=gc.ga,Q={},t=R(p);
for(var N=0;N<t;N++){var K=R(p);p.A+=4;var T=R(p);Q[K]=T;if(a)p.A+=48}return Q};gc.SJ$=function(p){var a=gc,R=a.iJ,Q=R(p),t=R(p);
return new X(Q,t)};gc.SJn=function(p){var a=gc,R=a.iJ;p.A+=4;var Q=R(p),t=R(p);return new X(Q,t)};gc.SS=function(p){var a=gc,R=a.ga,Q=a.gO,t=a.iJ;
p.A+=4;var N=Q(p)+Q(p);p.A+=16;var K=gc.SYr(p,N);return K};gc.StS=function(p){var a=gc.gO(p);p.A+=2;
return gc.SYr(p,a)};gc.SYr=function(p,a){var R=gc,Q=R.iJ,t=p.KW<600?2:4,N=p.A,K={r:[],$:[]},T=0,d=0,y=0;
for(var E=0;E<a;E++){var T=Q(p),d=Q(p),k=p.data[N+a*t*2+E];if(!(k&64)&&!(k&128)){K.r.push(T,d);K.$.push("M");
y+=2}else if(k&64&&!(k&128)){K.r.push(T,d);K.$.push("L");y+=2}else if(!(k&64)&&k&128){K.r.push(T,d);
K.$.push("C");y+=6}else if(k&64&&k&128){K.r.push(T,d)}}if(y!=K.r.length)throw"e";return K};gc.SWS=function(p,a){var R=A.vk;
a+=8;var Q=R(p,a);a+=4;var t=R(p,a);a+=4;a+=4*7;var N=a,K=S.p(Q*t*4);a+=1024;for(var T=0;T<t;T++)for(var d=0;
d<Q;d++){var y=T*Q+d,E=(t-T-1)*Q+d,k=p[a+y]<<2,D=E<<2;K[D+0]=p[N+k+2];K[D+1]=p[N+k+1];K[D+2]=p[N+k+0];
K[D+3]=255}return{Yz:K,rect:new x(0,0,Q,t)}};gc.SZf=function(p){if(p==32)return 300;else if(p<49)return 0;
else if(p<58)return 100*(p-48);else if(p<65)return 0;return 100*(p-55)};gc.mq=function(p,a,R){var Q=gc.gO,t=gc.ga,N=p.KW,K=0,T=0;
if(N>=500){K=Q(p);if(K==1&&N>=1300)K=25;if(K==25||K==30)throw"e";else if(K==14)throw"e";else{p.A+=6;
T=t(p)}}else throw"e";var d=[];if(K==2||K==9||K==17){var y=[T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255];
if(K==2)for(var E=0;E<4;E++)y[E]=Math.round(255*y[E]/100);for(var E=0;E<4;E++)y[E]/=255;d=UDOC.C.cmykToRgb(y)}else if(K==1||K==5){d=[T>>>0&255,T>>>8&255,T>>>16&255];
for(var E=0;E<3;E++)d[E]=d[E]/255}else console.log("Unknown color model "+K,T,T.toString(16));return d};
var Kr={};Kr.rp=function(){var p=new ArrayBuffer(4);return[new Uint8Array(p),new Uint32Array(p),new Float32Array(p)]}();
Kr.Sdx=function(p,a,R,Q,t){function N(B,s){for(var q=0;q<B.length;q++)if(B[q][0]==s)return B[q]}function K(){var I=0,B=0,s=0;
do{s=p[a++];I|=(s&127)<<B;B+=7}while(s&128&&B<35);return I>>>0}var T=Kr.rp,d=T[0],y=T[1],E=T[2],k="",O=1;
for(var D=0;D<t;D++)k+="    ";var P=Q[0]=="mesg",e=Q[2],Y={},W=P?1e9:e.length;while(O<=W){var w=O;if(P){w=p[a++];
if(w>127){if(p[a]!=1)throw"e";a++}if(w==0)break}var g=N(e,w),J=g[2],U=g[1]==1,H=U?K():1,f=new Array(H);
if(J==3){if(!U)throw"e";f=p.slice(a,a+H);a+=H}else for(var D=0;D<H;D++){var j;if((J&1)==1){if(J==1)j=p[a++]==1;
else if(J==3)j=p[a++];else if(J==5){var I=K();j=I&1?~(I>>>1):I>>>1}else if(J==7)j=K();else if(J==9){if(p[a]==0){j=0;
a++}else{d[0]=p[a];d[1]=p[a+1];d[2]=p[a+2];d[3]=p[a+3];var L=y[0];y[0]=L<<23|L>>>9;j=E[0];a+=4}}else if(J==11){var C=Kr.SZz(p,a);
j=C[0];a+=C[1]+1}else throw J}else{var v=R[J>>>1];if(v[0]=="enum"){var o=p[a++];if(o>127)throw"e";j=v[2][o]}else{var Z=Kr.Sdx(p,a,R,v,t+1);
j=Z[0];a=Z[1]}}f[D]=j}Y[g[3]]=U?f:f[0];O++}return[Y,a]};Kr.SZz=function(p,a){var R=a;while(p[R]!=0)R++;
return[A.ng(p,a,R-a),R-a]};Kr.SZJ=function(p,a){var R=a;while(p[R]!=0)R++;for(var Q=a;Q<R;Q++)if(p[Q]>127)throw"e";
return A.GG(p,a,R-a)};Kr.SZa=function(p,a){var R=Kr.SZJ,Q=1,t=[];while(Q<p.length){var N=Q,K=t.length,T=R(p,Q);
Q+=T.length+1;var d=p[Q++];if(d==0){var y=p[Q++];if(y>127)Q++;var E=[];for(var k=0;k<y;k++){var D=R(p,Q);
Q+=D.length+1;var P=p[Q++];if(P!=0)throw P;var e=p[Q++];if(e!=0)throw e;var Y=p[Q++];if(Y>127){if(p[Q]!=1)throw"e";
Q++}if(Y!=k)throw Y;E.push(D)}t.push(["enum",T,E])}else if(d==1){var y=p[Q++],E=[];for(var k=0;k<y;k++){var D=R(p,Q);
Q+=D.length+1;var P=p[Q++];if(P>127){if(p[Q]!=1)throw"e";Q++}var e=p[Q++];if(e>127){if(p[Q]!=1)throw"e";
Q++}var Y=p[Q++];if(Y>127){if(p[Q]!=1)throw"e";Q++}E.push([Y,e,P,D])}t.push(["strc",T,E])}else if(d==2){var y=p[Q++];
if(y>127)Q++;var E=[];for(var k=0;k<y;k++){var D=R(p,Q);Q+=D.length+1;var P=p[Q++];if(P>127){if(p[Q]!=1)throw"e";
Q++}var e=p[Q++];if(e>127){if(p[Q]!=1)throw"e";Q++}var Y=p[Q++];if(Y>127){if(p[Q]!=1)throw"e";Q++}E.push([Y,e,P,D])}t.push(["mesg",T,E])}else throw d}return t};
function pO(){}pO.Hi=function(p,a){var R=new Uint8Array(p),Q=8,t=A.vk(R,Q),B=1,s=0;Q+=4;var N=[];while(Q<R.length){var K=A.vk(R,Q);
Q+=4;var T=R.slice(Q,Q+K);if(R[Q]==137&&R[Q+1]==80){}else T=UZIP.inflateRaw(T);N.push(T);Q+=K}var d=Kr.SZa(N[0]),y=Kr.Sdx(N[1],0,d,d[d.length-1],0)[0],E={qT:{},B_:{},ShE:{}},k=y.nodeChanges;
for(var D=0;D<k.length;D++){var P=k[D],e=P.guid;E.B_[e.sessionID+","+e.localID]=P}for(var D=0;D<k.length;
D++){var P=k[D],e=P.parentIndex;if(e){var Y=pO.Tu(E.B_,e.guid);if(Y.children==null)Y.children=[];Y.children.push(P)}}var O=k[0],W=O.children,w=new x,g=[],J=[];
for(var e=0;e<W.length;e++){var U=W[e],H=U.children;if(U.name=="Internal Only Canvas"||H==null)continue;
var f=new x;for(var j=0;j<H.length;j++){var I=H[j],L=I.transform,C=I.size,v=new x(L.m02,L.m12,C.x,C.y);
f=f.hT(v)}var o=w.T==0?0:w.T+100,Z=f.clone();Z.x=0;Z.y=o;w=w.hT(Z);g[e]=f;J[e]=o}while(Math.max(w.C,w.T)/B>16e3)B++;
if(B!=1)console.log("Scaling down "+B+"x");a.C=Math.round(w.C/B);a.T=Math.round(w.T/B);a.buffer=S.p(a.C*a.T*4);
for(var e=0;e<W.length;e++){var U=W[e],H=U.children;if(U.name=="Internal Only Canvas"||H==null)continue;
H.sort(pO.SKT);var q=new gh(1,0,0,1,-g[e].x,J[e]-g[e].y);q.scale(1/B,1/B);for(var j=0;j<H.length;j++){var I=H[j];
pO.hy(I,[],q,y.blobs,a,0,E);s++}}a.RZ(s);a.YO=!0};pO.hy=function(p,a,R,Q,t,N,K){var T=pO,L=!1,C,v,Z,B,s;
for(var d=0;d<a.length;d++){var y=a[d],E=y.guidPath.guids[0];if(T.SZn(E,p.guid)){var k={};for(var D in p)k[D]=y[D]!=null?y[D]:p[D];
p=k}}var P=p.type,e=p.children,Y=p.size,O=p.effects,W=t.hX();W.xJ(p.name);W.mt(p.visible);W.opacity=Math.round(p.opacity*255);
var w=T.Xj(p.transform),g=w.clone();g.concat(R);var J=new x(Math.round(g.NE),Math.round(g.GV),Math.round(Y.x*g.Of()),Math.round(Y.y*g.Of())),U=p.fillPaints,H=p.inheritFillStyleID;
if(H){var k=T.Tu(K.B_,H);if(k)U=k.fillPaints}if(U==null)U=[];var U=T.Sdw(U),f=U[0],j=p.strokePaints,H=p.inheritFillStyleIDForStroke;
if(H){var k=T.Tu(K.B_,H);if(k)j=k.fillPaints}if(j==null)j=[];var j=T.Sdw(j),I="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(P)!=-1;
if(I||P=="FRAME"){C=new l.IC;v=[];T.SKk(p,Q,C,v);L=S.d.pn(C.G);S.d.xv(C.G,g);J=S.d.Fh(C.G);if(K.qT.Uh&&f){var o=l.IC.Ce(K.qT.Uh.G);
for(var d=2;d<o.length;d++)if(o[d].gu!=null)o[d].gu=3;C.G=C.G.concat(o.slice(2));v=v.concat(JSON.parse(JSON.stringify(K.qT.lm)))}}if(f&&f.type=="IMAGE"&&f.image.name=="")f=null;
if(f&&f.type=="IMAGE"){s=f.imageScaleMode;Z=T.iD(Q,f.image.dataBlob);var q=Z.sE.C/Z.sE.T,F=Y.x/Y.y;B=Math.abs(q-F)}if(P=="FRAME"){}else if(I&&L&&Z&&(s=="FIT"||s=="FILL"&&B<=.05)){var b=Q[f.image.dataBlob].bytes,G=t.Cf(b,W.getName(),0,0);
G.KN=W.KN;G.opacity=W.opacity;W=G;var u=new x(0,0,Y.x,Y.y);if(s=="FIT"){var h=Z.sE.C,z=Z.sE.T,r=Math.min(Y.x/h,Y.y/z),i=h*r,gg=z*r;
u=new x(u.x+(u.C-i)/2,u.y+(u.T-gg)/2,i,gg)}var gC=S.s.Ht(u).r;S.s.t(gC,g,gC);W.add.SoLd.Trnf=m.B.Ql(gC);
W.add.SoLd.nonAffineTransform=m.B.Ql(gC);var gd=[],O=p.effects,gY=f.paintFilter;if(O)for(var d=0;d<O.length;
d++)if(O[d].type=="FOREGROUND_BLUR"){var gN=O[d],gS=gw.UH("GsnB",{});gd.push(gS);gS.v.enab.v=gN.visible;
gS.v.Fltr.v.Rds.v.val=gN.radius/2.4}if(gY&&gY.exposure!=0){var gS=gw.UH("brit",{});gd.push(gS);gS.v.Fltr.v.Brgh.v=Math.round(gY.exposure*160);
gS.v.Fltr.v.useLegacy.v=!0}if(gd.length!=0){W.add.SoLd.filterFX=gw.Dk();t.Cp({id:W.add.SoLd.placed.v,rect:new x,buffer:S.p(1),n:new l.TU});
W.add.SoLd.filterFX.v.filterFXList.v=gd}W.eU(t,!1);T.SlN(K,W,t)}else if(I){W.KN|=16;W.add.vogk=v;W.add.vmsk=C;
var M=W.add.vstk=JSON.parse(JSON.stringify(gZ.up.default)),Cj=T.Tm(p,f,g,J,Q,t,K);if(Cj[0]=="None"){M.fillEnabled.v=!1;
W.add.SoCo=Cj[1]}else{var gs=Cj[1].Opct.v.val;if(gs!=100)W.opacity=Math.round(W.opacity/255*(gs/100)*255);
W.add[Cj[0]]=Cj[1]}var Cj=T.Tm(p,j[0],g,J,Q,t,K);if(Cj[0]!="None"){M.strokeEnabled.v=!0;M.strokeStyleLineWidth.v.val=p.strokeWeight*g.Of();
M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gZ.up.oy[["INSIDE","CENTER","OUTSIDE"].indexOf(p.strokeAlign)];
var gl={SoCo:"SoFi",GdFl:"GrFl"}[Cj[0]],gR=["SoFi","GrFl","patternFill"].indexOf(gl),ge=[gZ.Yw,gZ.aH,gZ.QN][gR];
M.strokeStyleContent.v={classID:gZ.up.sZ[0]};M.strokeStyleLineDashSet.v=gB.mj(p.dashPattern,1/p.strokeWeight);
var So=M.strokeStyleContent.v={classID:gZ.up.sZ[gR]};for(var d=0;d<ge.length;d++)So[ge[d]]=Cj[1][ge[d]]}if(O)for(var d=0;
d<O.length;d++){var gN=O[d];if(gN.type!="FOREGROUND_BLUR")continue;C.Ge=gN.radius/2.4}W.WU(t)}else if(P=="TEXT"){var gq=p.textData,gH=gq.layoutSize,gx=["LEFT","RIGHT","CENTER"].indexOf(p.textAlignHorizontal);
W.add.lnsr="rend";W.add.TySh=gK.oG(0,0);W.add.TySh.Yf=new x(0,0,100,100);var g$=g.clone();W.add.TySh.t=g$;
var gy=W.add.TySh.KY,SZ=gq.characters;if(p.textCase=="TITLE"){for(var d=0;d<SZ.length;d++)if(d==0||SZ[d-1]==" "){var dU=SZ.slice(0,d),gz=SZ.slice(d+1);
SZ=dU+SZ[d].toUpperCase()+gz}}SZ=SZ.replace(/\u2028/g,"\n");SZ=SZ.replace(/\u2029/g,"\n");SZ=SZ.replace(/\r/g,"\n");
gK.uC(gy,0,SZ);var gX=p.textAutoResize,gJ=gq.baselines;if(gX=="WIDTH_AND_HEIGHT"){var SR=gx==0?0:gx==1?gH.x:gH.x/2,gF=gJ?gJ[0].position.y:0;
g$.translate(SR*g.Of(),gF*g.Of());gK.mW(gy,0)}else if(gX=="HEIGHT"||gX=="NONE"){var gF=gJ?gJ[0].position.y-p.fontSize*.7:0;
g$.translate(0,gF*g.Of());gK.mW(gy,1);gK.Dn(gy,[0,0,Math.round(gH.x),Math.round(1.2*gH.y)])}else throw gX;
if(SZ!=""){var gv=gK.dJ(gy,0,1);T.Sdf(p,g,Y,gv,W);gK.mv(gy,0,SZ.length,gv);var SU=gq.characterStyleIDs,ga=gq.styleOverrideTable;
if(SU)for(var d=0;d<SU.length;d++){var Sg=SU[d];if(SZ[d]=="\n")continue;if(Sg!=0){var gO;for(var SC=0;
SC<ga.length;SC++)if(ga[SC].styleID==Sg)gO=ga[SC];var gv=gK.dJ(gy,d,d+1);T.Sdf(gO,g,Y,gv,W);gK.mv(gy,d,d+1,gv)}}}}else if(P=="SYMBOL"){}else if(P=="INSTANCE"){var gk=p.symbolData,Np=gk.symbolOverrides,k=T.Tu(K.B_,gk.symbolID);
if(k)e=k.children;else console.log(p.name,"symbol not found",gk.symbolID);a=a.slice(0);for(var d=0;d<Np.length;
d++)a.push(Np[d])}else console.log(P);if(!1){}else if(e&&!I){e.sort(T.SKT);if(N==0&&P!="SYMBOL"&&P!="INSTANCE"){W.dU(J);
var SO=U?U[0]:null;if(SO&&SO.type=="SOLID"){var NZ=SO.color;W.add.artb.artboardBackgroundType.v=4;W.add.artb.Clr=T.mq(NZ)}}t.M.push(t.Df());
var gD=K.qT;K.qT={};for(var gI=0;gI<e.length;gI++)T.hy(e[gI],a,g,Q,t,N+1,K);K.qT=gD;W.add.lsct=!1?Ns.hI:Ns.AH;
W.bQ="pass";var go=W.Aw();W.KN=24;W.mt(go);var NS=N!=0&&U.length!=0&&!p.frameMaskDisabled&&p.containerSupportsFillStrokeAndCorners;
if(NS&&C){W.add.vmsk=C;W.add.vogk=v;W.WU(t)}else T.SlN(K,W,t);t.M.push(W)}else if(p.mask){if(C){K.qT.Uh=C;
K.qT.lm=v}}else{var NK=[];if(O)for(var gP=0;gP<O.length;gP++){var gN=O[gP],NX=gN.color,Nd=gN.type,Ni=["DROP_SHADOW","INNER_SHADOW"].indexOf(Nd);
if(Ni!=-1){var NH=["DrSh","IrSh"][Ni],NE=JSON.parse(gZ.pB[gZ.order.indexOf(NH)]);NK.push([NH,NE]);NE.enab.v=gN.visible;
NE.Md.v.BlnM=gE.UX(T.SSC(gN.blendMode));NE.Opct.v.val=Math.round(100*NX.a);NE.blur.v.val=Math.round(gN.radius*g.Of());
NE.Clr=T.mq(NX);var SR=gN.offset.x,gF=gN.offset.y;NE.uglg.v=!1;NE.lagl.v.val=Math.round(180/Math.PI*Math.atan2(gF,-SR));
NE.Dstn.v.val=Math.round(Math.sqrt(SR*SR+gF*gF)*g.Of())}}for(var d=1;d<U.length;d++){var NJ=U[d],Nl=T.Tm(p,NJ,g,J,Q,t,K);
if(Nl[0]=="GdFl")NK.push(["GrFl",Nl[1]]);else if(Nl[0]=="SoCo")NK.push(["SoFi",Nl[1]]);else if(Nl[0]=="PtFl")NK.push(["patternFill",Nl[1]]);
else throw Nl}if(NK.length!=0){var NL=JSON.parse(gZ.default);for(var d=0;d<gZ.order.length;d++)NL[gZ.lV[d]]={t:"VlLs",v:[]};
for(var d=0;d<NK.length;d++){var py=NK[d],NH=gZ.lV[gZ.order.indexOf(py[0])];NL[NH].v.unshift({t:"Objc",v:py[1]})}if(e==null)W.add.lmfx=NL}t.M.push(W)}};
pO.SKT=function(p,a){var R=p.parentIndex.position,Q=a.parentIndex.position;return R>Q?1:-1};pO.Sdw=function(p){for(var a=1;
a<p.length;a++){var R=p[a];if(R.type=="IMAGE"&&R.opacity==1){p=p.slice(a);break}}for(var a=0;a<p.length;
a++){var R=p[a];if(!R.visible||R.type=="IMAGE"&&R.image.dataBlob==null){p.splice(a,1);a--}}return p};
pO.SlN=function(p,a,R){if(p.qT.Uh){a.add.vmsk=p.qT.Uh.clone();a.add.vogk=JSON.parse(JSON.stringify(p.qT.lm));
a.WU(R)}};pO.Sdf=function(p,a,R,Q,t){var N=p.fontSize,K=p.lineHeight,T=p.fontName,d=p.textAlignHorizontal,y=p.textTracking,E=p.textCase;
if(N==null)N=Q.RW.FontSize;if(T)gK.rl(Q,T.postscript);if(N!=null)Q.RW.FontSize=Math.round(N);if(y)Q.RW.Tracking=Math.round(y*1e3);
if(E)Q.RW.FontCaps=E=="UPPER"?2:0;if(K&&(K.units!="PERCENT"||K.value!=100)){var k=K.value;if(K.units=="PERCENT")k=1*N*k/100;
if(K.units=="RAW")k=1*N*k;Q.RW.AutoLeading=!1;Q.RW.Leading=Math.round(k)}if(d)Q.uq.Justification=["LEFT","RIGHT","CENTER"].indexOf(d);
var D=p.fillPaints;if(D){var P=pO.Tm(p,D[0],a,R);if(P[0]=="SoCo"){var e=S.e.gc(P[1].Clr.v);Q.RW.FillColor={Type:1,Values:[1,e.D/255,e.X/255,e.N/255]};
t.opacity=Math.round(t.opacity/255*(P[1].Opct.v.val/100)*255)}else console.log(D)}};pO.Tm=function(p,a,R,Q,t,N,K){var T=pO,d,y,E=p.size;
if(a){var k=a.type,D=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(k);
if(k=="SOLID"){d="SoCo";var P=a.color;y=JSON.parse(gZ.pB[gZ.order.indexOf("SoFi")]);y.Clr=T.mq(P)}else if(D!=-1){var e=JSON.parse(gZ.pB[gZ.order.indexOf("GrFl")]),Y=e.Grad.v;
Y.Intr.v=0;e.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][D];var O=[],W=a.stops;for(var w=0;w<W.length;w++){var g=W[w],J=g.color;
O.push([g.position,[J.r,J.g,J.b],J.a])}S.e.S_(O,Y);var U=T.Xj(a.transform);U.zw();var H=U.clone();H.scale(E.x,E.y);
H.concat(R);var f=new X(0,.5),j=new X(1,.5);f=H.Ci(f);j=H.Ci(j);if(!0){f.x=j.x+.5*(f.x-j.x);f.y=j.y+.5*(f.y-j.y)}S.e.Os(f,j,Q,e);
if(D==3){var I=e.Angl.v;I.val=(I.val+180+180)%360-180;e.Rvrs.v=!e.Rvrs.v}d="GdFl";y=e}else if(k=="IMAGE"){var e=JSON.parse(gZ.pB[gZ.order.indexOf("patternFill")]),L=e.phase.v,C=a.image.dataBlob,v=K.ShE[C],u=1;
if(v==null){var o=T.iD(t,C);v=K.ShE[C]={Yz:new Uint8Array(o.data),I:o.sE};v.id=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f";
v.name="someImage";N.yK(v)}e.Algn.v=!0;e.Ptrn.v.Idnt.v=v.id;var Z=R.NE,B=R.GV,s=a.imageScaleMode,U=T.Xj(a.transform);
U.zw();var q=Q.C,F=Q.T,b=v.I.C,G=v.I.T;if(s=="FILL"){u=Math.max(q/b,F/G);u=Math.round(u*100)/100}else if(s=="FIT"){u=Math.min(q/b,F/G);
u=Math.round(u*100)/100}else if(s=="STRETCH"){var h=q*U.Eu,z=F*U.$B;u=.5*(h/b+z/G);u=Math.round(u*100)/100;
Z+=(h-q)/2+U.NE*q;B+=(z-F)/2+U.GV*F}else if(s=="TILE"){u=a.scale;u=Math.round(u*100)/100;Z+=(h-q)/2;
B+=(z-F)/2}var r=u*b,i=u*G;Z+=-(r-q)/2;B+=-(i-F)/2;e.Scl.v.val=Math.round(100*u);L.Hrzn.v=Math.round(Z);
L.Vrtc.v=Math.round(B);d="PtFl";y=e}else throw k;if(y)y.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(a.opacity*100)}}}else{d="None";
y={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:0,X:0,N:0})}}}return[d,y]};pO.iD=function(p,a){var R=p[a];
if(R.rslt)return R.rslt;var Q=R.bytes.buffer,t=gr.li(Q),N=gr.xN(t);R.rslt=N.Lc(Q)[0];return R.rslt};
pO.SKk=function(p,a,R,Q){var t=p.type,N=p.size,K=p.cornerRadius,k;if(K==null)K=0;var T=S.lm.No(),d=N.x,y=N.y,E=[K,K,K,K],D=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var P=0;P<4;P++)if(p[D[P]]!=null)E[P]=p[D[P]];if(t=="RECTANGLE"||t=="ROUNDED_RECTANGLE"||t=="FRAME"){k=S.d.y$.Rect(0,0,d,y,E)}else if(t=="ELLIPSE"){var e=p.arcData,Y=e?e.startingAngle:0,O=e?e.endingAngle:2*Math.PI,W=e?e.innerRadius:0;
if(Y==0&&O>1.999*Math.PI)k=S.d.y$.QJ(0,0,d,y,0);else k=S.d.y$.SKp(d/2,y/2,y/2,Y,O);if(W!=0&&W!=1){var w=l.IC.Ce(k).slice(3);
w.reverse();for(var P=0;P<w.length;P++){var g=w[P],J=g.Xe;g.Xe=g.k$;g.k$=J}var U=new gh;U.translate(-d/2,-y/2);
U.scale(W,W);U.translate(d/2,y/2);S.d.xv(w,U);k=k.concat(w);k[2].length*=2}}else if(t=="LINE"){k=S.d.y$.Rect(0,0,d,y,0);
k.pop();k.pop();k[2].length=2}else if(t=="REGULAR_POLYGON"){k=S.d.y$.Ii(.5,.5,.5,Math.PI/2,p.count,0);
var H=new gh;H.scale(d,y);S.d.xv(k,H)}else if(t=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var f=p.children,j=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(p.booleanOperation);
if(j==-1)throw p;if(f==null)f=[];for(var P=0;P<f.length;P++){var I=f[P],L=new l.IC,C=[],v=pO.SKk(I,a,L,C);
if(L.G==null)continue;S.d.xv(L.G,pO.Xj(I.transform));k=k.concat(L.G.slice(2));for(var o=0;o<C.length;
o++)Q.push(C[o])}for(var P=3;P<k.length;P++)if(k[P].gu!=null)k[P].gu=j;T=null}else if(t=="VECTOR"){var Z,B;
if(!0){var s=p.vectorData;Z=s.normalizedSize;B=s.vectorNetworkBlob}else{Z=N;B=fg[0].commandsBlob;console.log(fg)}var q=a[B].bytes,F=new Uint32Array(q.buffer),b=new Float32Array(q.buffer),G=F[0],u=F[1],h=[];
for(var P=0;P<G;P++){var z=3+P*3,r=new X(b[z+1],b[z+2]);h.push(r)}var i=[],gg=3+G*3;for(var P=0;P<u;
P++){var gC=gg+P*7,gd=F[gC+1],gY=F[gC+4];i.push([gd,gY,b[gC+2],b[gC+3],b[gC+5],b[gC+6]])}var gN=-1;for(var P=0;
P<u;P++){if(gN==-1){}else{var gS=-1;for(var o=P;o<u;o++)if(i[o][1]==gN)gS=o;for(var o=P;o<u;o++)if(i[o][0]==gN)gS=o;
if(gS!=-1){var M=0,J=i[gS];i[gS]=i[P];i[P]=J;if(J[0]!=gN){M=J[0];J[0]=J[1];J[1]=M;M=J[2];J[2]=J[4];J[4]=M;
M=J[3];J[3]=J[5];J[5]=M}}}gN=i[P][1]}var Cj=[],gs=[],gl=-1;gN=-1;for(var P=0;P<u;P++){var gR=i[P],gd=gR[0],gY=gR[1],ge=h[gd],So=h[gY];
if(gN!=gd){gs.push("M");Cj.push(ge.x,ge.y);gl=gd}Cj.push(ge.x+gR[2],ge.y+gR[3]);Cj.push(So.x+gR[4],So.y+gR[5]);
gs.push("C");Cj.push(So.x,So.y);gN=gY;if(gl==gY){gs.push("Z");gl=gN=-1}}k=S.s.Vl({r:Cj,$:gs},!0);if(K!=0){var E=[],gq=k[2].length;
for(var P=0;P<gq;P++)E.push(K);if(S.d.vw(k))S.d.pb(k,2,E)}var gH=new gh;gH.scale(Z.x==0?1:N.x/Z.x,Z.y==0?1:N.y/Z.y);
S.d.xv(k,gH)}R.G=k;if(T)Q.push(T)};pO.Tu=function(p,a){return p[a.sessionID+","+a.localID]};pO.SZn=function(p,a){return p.sessionID==a.sessionID&&p.localID==a.localID};
pO.SSC=function(p){var a={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[p];if(a==null)throw p;return a};
pO.mq=function(p){return{t:"Objc",v:S.e.HW({D:p.r*255,X:p.g*255,N:p.b*255})}};pO.Xj=function(p){var a=[p.m00,p.m10,p.m01,p.m11,p.m02,p.m12];
for(var R=0;R<6;R++)if(Math.abs(a[R])<1e-20)a[R]=0;return new gh(a[0],a[1],a[2],a[3],a[4],a[5])};var m={};
m.Eh=function(p,a,R){this.name=p;this.id=a;this.yt=null;if(R!=null)this.aC=R};m.Eh.prototype.Gj=function(p,a,R,Q,t){};
m.Eh.prototype.enable=function(p,a,R,Q,t,N){var K=new $(V.E.v,!0);K.data={K:V.H.PA,Mz:"default"};a.Y(K)};
m.Eh.prototype.disable=function(p,a,R,Q,t){};m.Eh.prototype.SSt=function(p,a,R,Q,t){return!1};m.Eh.prototype.JI=function(p,a,R,Q,t){};
m.Eh.prototype.Tb=function(p,a,R,Q,t){};m.Eh.prototype.r$=function(p,a,R,Q,t){};m.Eh.prototype.Gz=function(p,a,R,Q,t){};
m.Eh.prototype.SK=function(p,a,R,Q,t){};m.Eh.prototype.Qb=function(p,a,R,Q){};m.Eh.prototype.hW=function(p,a,R,Q){};
m.Eh.prototype.gq=function(p,a){};m.Eh.prototype.tk=function(p,a){};m.Eh.prototype.eu=function(p,a,R,Q,t){};
m.Eh.prototype.JD=function(p,a){};m.Eh.prototype.Gk=function(p,a){return!1};m.Eh.prototype.yF=function(p,a){return!1};
m.Eh.prototype.AM=function(){return!1};m.Eh.prototype.aS=function(p,a){return!0};m.Eh.prototype.ad=function(){return null};
m.Eh.prototype.SST=function(p,a,R){};m.Eh.prototype.SKV=function(){return!1};m.Eh.prototype.SKS=function(p,a,R,Q){};
m.Eh.prototype.track=function(p){var a=new $(V.E.JF,!0);a.data=p;p.Bn=!0;this.yt.Y(a)};m.Eh.gQ=function(p,a,R,Q,t){m.Eh.SpS(p,a,[gL.get([12,41]).charAt(0)+": "+S.EH.be(R.C,Q.po,t,Q.C,!0),gL.get([12,42]).charAt(0)+": "+S.EH.be(R.T,Q.po,t,Q.T,!0)],Q)};
m.Eh.SpS=function(p,a,R,Q){var t=14,N=130,K=R.length*17+8,T=new x(p,a-K,N,K),d=m.Eh.Sdm;if(d==null)d=m.Eh.Sdm=document.createElement("canvas");
d.width=N;d.height=K;var y=d.getContext("2d");y.fillStyle="rgba(0,0,1,1)";y.fillRect(0,0,N,K);y.font=t+"px monospace";
y.fillStyle="rgba(255,255,255,1)";for(var E=0;E<R.length;E++)y.fillText(R[E],6,(E+1)*17);Q.R.qm=[[y.getImageData(0,0,N,K).data,T.clone()]]};
m.Eh.Sdm=null;m.Tx="0";m.yO="1";m.SSI="2";m.SSG="3";m.SSu="5";m.SdC="6";m.SdY="7";m.SI="8";m.SKM="9";
m.iE="10";m.aN="11";m.ap="12";m.fW="13";m.SBu="14";m.SKF="16";m.SlW="18";m._i="19";m.Sde="20";m.SKe="22";
m.JH="23";m.as="24";m.SKy="25";m.iu="27";m.gA="31";m.SCe="32";m.SCM="34";m.SCh="35";m.gP="36";m.NR="37";
m._A="38";m.SlY="39";m.SSP="40";m.SKd="41";m.fO="42";m.iV="43";m.Fr="47";m.Sh="51";m.Ne="52";m.aR="54";
m.fv="55";m.aI="56";m.ae="57";m.fJ="58";m.yd="59";m.NL="61";m.oj="100";m.aU="101";m.fT="120";m.Sb="230";
m.SWI="231";m.EI="232";m.pw="233";m.hO="234";m.tQ="235";m.aW="236";m.Slp=function(p){var a=m.dF,R=null;
for(var Q in a)if(a[Q][1].indexOf(p[1].classID)!=-1)R=Q;return R};m.dF={};m.dF[m.JH]=["tools/brush",["PbTl"]];
m.dF[m.as]=["tools/pencil",["PcTl"]];m.dF[m.gA]=["tools/eraser",["ErTl"]];m.WH=function(p,a,R){m.Eh.call(this,p,a,R);
this.dL={brush:p?de.Rq():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.$F=null;this.Nj=null;this.vy=null;this.nn=null;this.qj=null;this.hN=null;this.kK=null;this.qz=null;
this.rP=null;this.aB=null;this.Ak=null;this.Ac=null;this.Xu=null;this.Cb=1;this.gK=!1;this.Mt=null;this.caller=null};
m.WH.prototype=new m.Eh;m.WH.prototype.yF=function(p,a){return p.Fa&&a.g(n.ei)};m.WH.prototype.Tb=function(p,a,R,Q,t){if(Q.g(n.LG)){this.hN=new X(t.x,t.y);
var N=this.dL.brush.Brsh.v,K=N.Dmtr.v.val,T=N.Hrdn!=null?N.Hrdn.v.val:-1;this.kK=[K,T,!0,JSON.parse(JSON.stringify(this.dL.brush)),t];
this.RH(R)}};m.WH.prototype.oY=function(p,a,R){var Q=this.kK,t=p.z.f,N=R.x-Q[4].x,K=R.y-Q[4].y,T=Q[0],d=Q[1],y=Math.abs(N)>Math.abs(K);
if(y&&Q[2]){var E=Math.round(2*N/t);T+=E;R.x-=N-.5*E*t}if(!y&&!Q[2]&&d!=-1){var E=Math.round(.25*K);
d+=E;R.y-=K-4*E}T=Math.max(1,T);d=Q[1]==-1?-1:Math.max(0,Math.min(100,d));var k=Q[3];k.Brsh.v.Dmtr.v.val=T;
if(d!=-1)k.Brsh.v.Hrdn.v.val=d;this.kK=[T,d,y,k,R];var D=gQ.XO(k,a.WP.mp,t),P=D[1];P.x=Math.round(this.hN.x-P.C/2);
P.y=Math.round(this.hN.y-P.T/2);p.R.DU=[D];var e=p.z.oD(this.hN.x,this.hN.y);p.R.Ua={kp:[],kl:[e.x-T/2,e.y,e.x+T/2,e.y]};
if(d!=-1)p.R.Ua.kl.push(e.x+50/t,e.y-d/2,e.x+50/t,e.y+d/2);p.$h=!0};m.WH.prototype.SK=function(p,a,R,Q,t){if(this.id==m.Sde)return;
if(this.hN){this.hN=null;this.fa(JSON.parse(JSON.stringify(this.kK[3])));p.R.DU=[];p.R.Ua=null;p.$h=!0;
return}var N=new $(V.E.v,!0);N.data={K:V.H.aK,Q:this.id,SOR:"showBrushOpts",qL:new X(t.ce+4,t.vl)};a.Y(N)};
m.WH.prototype.fa=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.es,L_:gp.Ka,uZ:p};this.caller.Y(a)};
m.WH.FQ=function(p,a,R,Q){if(p==null)p="FrgC";if(a==null)a="norm";if(R==null)R=1;var t={classID:"Fl",Usng:{t:"enum",v:{FlCn:p}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(R*100)}},Md:{t:"enum",v:{BlnM:gE.UX(a)}}};
if(p=="Clr")t.Clr={t:"Objc",v:Q};if(p=="contentAware")t.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{zt:"fill",UD:t}};m.WH.prototype.Gj=function(p,a,R,Q,t){this.yt=a;var N=R.JO.length;if(N==0&&!R.Fp())return;
var K=N!=0?-1-R.JO[0]:R.V[0],T=R.M[K];if(p.K=="fromAction"){var d=p.Db,y=d.UD;if(d.zt=="fill"){var E=(y.Opct?y.Opct.v.val:100)/100,k=y.Md?gE.Me(y.Md.v.BlnM):"norm",D=y.Usng.v.FlCn,P;
if(D=="contentAware"){if(R.S==null){alert("Select an area to heal first.");return}if(!R.Fp())return;
this.N$(R);var e=R.S,Y=S.p(e.rect.u()*4);S.RA(e.channel,Y,3);this.nN(R,"sheal",Y,e.rect,e.rect);this.U(R,e.rect);
this.finish(R,e.rect)}else{if(D=="FrgC")P=t.rc;else if(D=="BckC")P=t.eJ;else if(D=="Blck")P=0;else if(D=="Wht")P=16777215;
else if(D=="Gry")P=8421504;else if(D=="Clr"){var O=S.e.gc(y.Clr.v);P=O.D<<16|O.X<<8|O.N}var W=P>>16&255,w=P>>8&255,g=P>>0&255;
this.SRL(R,T,R.S,W,w,g,Math.round(255*E),k,[2,3])}}else if(d.zt=="delete"){var J=K<0?1:T.FE,e=R.S,I;
if(e==null)return;var U=K<0?R.Mn[-K-1]:J<=0?null:J==1?T.mg():T.iW(R).n,H=J<=0?T.rect:U.rect,f=J<=0?e.rect.Yl(H):e.rect.clone();
if(f.RJ())return;var j=f.u();if(J<=0){I=S.p(j*4);S.gW(T.buffer,T.rect,I,f)}else{I=S.p(j);U.extend(f);
S.JG(U.channel,U.rect,I,f)}if(0<=K&&T.GZ(R,e)){if(J<=0){S.wp(I,0);S.gW(T.KS.a_,T.KS.sr,I,f)}else{S.set(I,255);
S.JG(T.KS.a_,T.KS.sr,I,f)}}else{if(J<=0){var L=S.p(I.length>>2);S.vh(I,L,3);S.O.MO(S.No(e.rect.u()),e.rect,L,f,e.channel,f,1);
S.RA(L,I,3)}else{var C=S.p(e.rect.u()),W=t.eJ>>16&255,w=t.eJ>>8&255,g=t.eJ>>0&255;S.set(C,Math.round(S.XT(W,w,g)));
S.O.MO(C,e.rect,I,f,e.channel,f,1)}}this.fw(R,!0,[2,2],K,J,f,I)}}if(p.K=="stroke"){var v=p.SOI,e=R.S;
if(e==null){e={rect:T.rect.clone(),channel:S.p(T.rect.u())};S.vh(T.buffer,e.channel,3)}var o=gB.mc(v),Z=m.GP.SKa(e,Math.ceil(o[0]),Math.ceil(o[1])),P=S.e.gc(v.Clr.v),W=Math.round(P.D),w=Math.round(P.X),g=Math.round(P.N);
this.SRL(R,T,Z,W,w,g,Math.round(255*v.Opct.v.val/100),gE.Me(v.Md.v.BlnM),[14,9])}if(p.K=="fillBMP"){this.SdQ(R,T,R.S,p.bR,p.Hr,p.LS)}if(p.K=="draw"){var B=p.gT,s=p.SxU?gf.Pu.Srp(B,R):B.rect,q=this.dL.bmode;
this.N$(R);this.dL.bmode="norm";this.nN(R,"draw",B.buffer,s,s.Yl(new x(0,0,R.C,R.T)));this.dL.bmode=q;
this.U(R,s);this.finish(R,s,p.LS,p.SxU)}};m.WH.prototype.SRL=function(p,a,R,Q,t,N,K,T,d){var y=R==null?new x(0,0,p.C,p.T):R.rect,E=K<<24|N<<16|t<<8|Q<<0,k=S.p(y.u()*4);
S.wp(k,E);this.SdQ(p,a,R,k,T,d)};m.WH.prototype.SdQ=function(p,a,R,Q,t,N){var K=p.JO.length!=0?-1-p.JO[0]:p.V[0],T=K<0?1:a.FE,d=K<0?p.Mn[-1-K]:T<=0?null:T==1?a.mg():a.iW(p).n,y=T<=0?a.rect:d.rect,E=R==null?new x(0,0,p.C,p.T):R.rect,k=R==null?S.ln(p.C*p.T):R.channel,D=E.u(),P,e=null;
if(T<=0){P=S.p(D*4);S.gW(a.buffer,a.rect,P,E)}else{P=S.p(D);d.extend(E);S.JG(d.channel,d.rect,P,E)}if(R!=null)S.cP(k,Q);
if(T>0){e=S.p(D);S.uB(Q,e)}if(0<=K&&R&&a.GZ(p,R)){var Y=a.KS.at,O=S.clone(a.KS.at);if(T<=0)S.$M(Q,O);
else S.$M(e,O);var W=new gm([2,3],this);W.data={K:"drawtemp",w:p.V[0],tF:T,SOq:Y,SOM:O};p.sv(W);this.gq(W.data,p)}else{if(T<=0)S.O.KJ(t,Q,E,P,E,E,1);
else S.O.MO(e,E,P,E,k,E,1);this.fw(p,!0,N,K,T,E,P)}};m.WH.prototype.Gk=function(p){if(n.Dx.indexOf(p)!=-1)return!0;
return!1};m.WH.prototype.Qb=function(p,a,R,Q){var t=this.dL.brush,N=Q.g(n.LG),K=N!=this.gK,T=m.WH.fQ(t,Q);
if(T!=null)this.fa(T);if(!Q.g(n.GA)&&Q.$C()!=-1){var d=V.Sqd(Math.round(this.dL.opacity*100),Q.$C())/100;
this.NF({opacity:d},a)}if(this.id==m.SI&&K&&p!=null){var y=this.dL.qsmode;if(y==2)y=p.S==null?0:1;else y=2;
this.NF({qsmode:y},a)}this.gK=N;if(K){if(p)this.Cb=p.z.f;this.RH(R,Q)}};m.WH.fQ=function(p,a){var R=p.Brsh.v.Dmtr.v.val,Q=p.Brsh.v.Hrdn!=null?p.Brsh.v.Hrdn.v.val:-1,t=R,N=Q,K=a.g(n.ei);
if(a.g(n.Dz)){if(K)Q=25*Math.floor((Q-1)/25);else{if(R<=10)R--;else if(R<=50)R=5*Math.floor((R-1)/5);
else if(R<=100)R=10*Math.floor((R-1)/10);else if(R<=200)R=25*Math.floor((R-1)/25);else if(R<=400)R=50*Math.floor((R-1)/50);
else R=100*Math.floor((R-1)/100)}}if(a.g(n.$g)){if(K)Q=25*Math.ceil((Q+1)/25);else{if(R<10)R++;else if(R<50)R=5*Math.ceil((R+1)/5);
else if(R<100)R=10*Math.ceil((R+1)/10);else if(R<200)R=25*Math.ceil((R+1)/25);else if(R<400)R=50*Math.ceil((R+1)/50);
else R=100*Math.ceil((R+1)/100)}}R=Math.max(1,R);Q=Math.max(0,Math.min(100,Q));if(N==-1)Q=-1;if(R!=t||Q!=N){var T=JSON.parse(JSON.stringify(p));
T.Brsh.v.Dmtr.v.val=R;if(N!=-1)T.Brsh.v.Hrdn.v.val=Q;return T}return null};m.WH.prototype.RH=function(p,a,R,Q){if(p.WP.list.length==0)return;
var t=this.id,N;if((t==m.iu||t==m._i||t==m.JH||t==m.as)&&(a!=null&&a.g(n.LG)||this.dL.alt[0]))N="crosshair";
else{var K=this.Cb,T=this.dL.brush,d;if(R&&R.V.length!=0)d=R.M[R.V[0]];if((t==m.iu||t==m._i)&&d!=null&&d.FE<=0){var y=R.z.oD(Q.x,Q.y),E=this.SsP(y),k=this.dL.sfrom,D=d.buffer,P=d.rect,U,H;
if(k!=0){P=new x(0,0,R.C,R.T);D=R.iD(k==1&&R.V[0]!=R.M.length-1?R.V[0]:null)}var e=new x(P.x+E.x,P.y+E.y,P.C,P.T),Y=gQ.XO(T,p.WP.mp,K),O=Y[0],W=Y[1],w=Math.ceil(W.C/K),g=new x(Math.round(y.x-w/2),Math.round(y.y-w/2),w,w),J=S.p(g.u()*4);
S.gW(D,e,J,g);if(K==1){U=J;H=g}else if(K<1){var f=S.lw(J,g,K);U=f.Yz;H=f.rect;if(H.u()!=W.u()){H=W.clone();
H.x=f.rect.x;H.y=f.rect.y;U=S.p(H.u()*4);S.gW(f.Yz,f.rect,U,H)}}else{U=O.slice(0);H=W;S.scale.FT(J,g.C,g.T,U,H.C,H.T,K)}var j=this.dL.opacity/255;
for(var I=0;I<U.length;I+=4)U[I+3]=j*(O[I+3]*U[I+3]);N={Cq:U,I:H,Yq:new X(H.C/2,H.T/2)}}else N=gQ.XJ(T,p.WP.mp,K)}var L=new $(V.E.v,!0);
L.data={K:V.H.PA,Mz:N};if(this.caller)this.caller.Y(L)};m.WH.prototype.enable=function(p,a,R,Q){this.$F=R;
this.caller=a;this.fa(JSON.parse(JSON.stringify(this.dL.brush)));if(p&&p.z.f!=0)this.Cb=p.z.f;this.RH(R,Q)};
m.WH.prototype.JD=function(p,a){if(a==gp.Ka){this.dL.brush=p.WP.kR;this.RH(p)}};m.WH.prototype.eu=function(p,a,R,Q,t){for(var N in p)this.dL[N]=p[N];
if(this.dL.alt[0])this.RH(t,Q,R)};m.WH.prototype.N$=function(p,a){var R=p.JO.length!=0?-1-p.JO[0]:p.V[0],Q=p.M[R],t=R<0?1:Q.FE,N=R<0?p.Mn[-R-1]:t<=0?null:t==1?Q.mg():Q.iW(p).n;
this.Xu=p.S==null?null:{rect:p.S.rect.clone(),channel:S.clone(p.S.channel)};this.aB=N?N.channel:Q.buffer;
this.rP=(N?N.rect:Q.rect).clone();var K=new x(0,0,p.C,p.T),T=K.hT(this.rP);if((this.ak()&&t<=0||T.xA(this.rP))&&a!=!0)this.aB=this.aB.slice(0);
else{if(N)N.extend(T);else Q.extend(T)}this.Ak=this.rP;this.Ac=this.aB;if(t<=0&&(this.id==m.iu||this.id==m._i)){var d=this.dL.sfrom;
if(d!=0){this.Ak=new x(0,0,p.C,p.T);this.Ac=S.clone(p.iD(d==1&&p.V[0]!=p.M.length-1?p.V[0]:null))}}};
m.WH.prototype.au=function(p,a,R){if(p.g(n.LG)){var Q=new $(V.E.W,!0);Q.Q=m.SBu;Q.data={K:"pickhere",SOF:R};
a.Y(Q);return!0}return!1};m.WH.prototype.oF=function(p,a,R,Q,t,N){if(!p.Fp(this.caller)){this.Nj=null;
return}this.N$(p);var K=new x(0,0,p.C,p.T),T=null;if(N!=null){var d=p.JO.length!=0?-1-p.JO[0]:p.V[0],y=p.M[d],E=d<0?p.Mn[-d-1]:y.FE<=0?null:y.FE==1?y.mg():y.iW(p).n;
T=S.p(K.u()*4);if(E)m.WH.nO(this.aB,this.rP,E.color,T,K);else S.gW(this.aB,this.rP,T,K)}var k=this.dL;
if(this.Nj&&this.id==m.SI&&k.qsmode!=0){}else{var D=a.rc,P=a.eJ;if(this.Mt=="erase"){var e=D;D=P;P=e}var Y=this.id==m.SI?this.rP:K;
this.Nj=new gQ(k.brush,a.WP.mp,a.WP.rw,{NC:t,Aj:N,SOx:k.smth*50*V.o()/p.z.f,DZ:this.id==m.as||k.emode==1,kX:k.prsr},D,P,Y,T)}if(this.id==m.SI){this.Nj.Seg(k.brush,k.qsmode==2?0:16777215)}var O=p.z.oD(Q.x,Q.y);
O=m.OS.em(p,O,a);if(R.g(n.ei)&&this.vy){this.Nj.moveTo(this.vy.x,this.vy.y,Q.qB);this.Nj.lineTo(O.x,O.y,Q.qB)}else this.Nj.moveTo(O.x,O.y,Q.qB);
this.vy=O;this.nn=O.clone();this.qj=new rV(O)};m.WH.prototype.Wf=function(p,a,R){if(p.z.f!=0&&p.z.f!=this.Cb){this.Cb=p.z.f;
this.RH(R)}};m.WH.prototype.Wv=function(p,a,R,Q){if(this.Nj==null)return;var t=p.M[p.V[0]],N=p.z.oD(Q.x,Q.y);
N=m.OS.em(p,N,a);var K=this.qj.uf(N,R);if(K.xA(this.vy))return 1;this.Nj.lineTo(K.x,K.y,Q.qB);this.vy=K;
if(this.id==m.iu||this.id==m._i){var T=this.ac(),d=11;T=p.z.Jk(N.x-T.x,N.y-T.y);var y=d>>>1,E=new x(Math.round(T.x)-y,Math.round(T.y)-y,d,d),k=S.p(E.u()*4);
S.wp(16777215);for(var D=0;D<d;D++)k[(D*d+y)*4+3]=k[(d*y+D)*4+3]=255;p.R.qm=[[k,E]];p.$h=!0}};m.WH.prototype.hW=function(p,a,R,Q){if(R.FD!=this.id)return;
if(this.id!=m.SI||p==null)return;if(p.S==null||p.V[0]!=this.SOo){this.SOo=p.V[0];this.NF({qsmode:0},a)}};
m.WH.prototype.U=function(p,a){if(p.JO.length!=0){p.$h=!0;return}var R=p.M[p.V[0]];if(a==null){a=this.Nj.XW();
if(this.ak()&&R.FE<=0)a=a.Yl(this.rP)}if(a.RJ())return;if(R.FE<=0){R.U(a)}if(R.FE==1){R.mg().Ol=!0;R.WU(p)}if(R.FE==3){R.U()}p.U(p.root.Mx(a,p,p.V[0],!0))};
m.WH.prototype.Gz=function(p,a,R,Q,t){if(this.Nj==null)return;this.Nj.finish();if(this.id!=m.SlW&&this.id!=m._i&&this.id!=m.SI)this.cS(p);
if(this.id==m.iu||this.id==m._i){p.R.qm=[];p.$h=!0}if(this.id==m.SI){var N=p.S;p.S=this.Xu;var K=new $(V.E.W,!0);
K.data={K:"setsel",LS:this.name,S:N};K.Q=m.yO;a.Y(K);if(this.dL.qsmode==0)this.NF({qsmode:1},a)}else{this.finish(p,this.Nj.vE());
this.Nj=null;this.qz=null}this.dir=0};m.WH.prototype.NF=function(p,a){for(var R in p)this.dL[R]=p[R];
var Q=new $(V.E.v,!0);Q.data={K:V.H.aK,Q:this.id,YP:p};a.Y(Q)};m.WH.prototype.ak=function(){var p=this.id;
return p==m.SI||p==m.gA||p==m.SlY||p==m.SSP||p==m.SKd||p==m.SKe};m.WH.prototype.finish=function(p,a,R,Q){var t=p.JO.length!=0?-1-p.JO[0]:p.V[0],N=p.M[t],K=t<0?1:N.FE,T=t<0?p.Mn[-t-1]:K<=0?null:K==1?N.mg():N.iW(p).n,d=T?T.rect:N.rect,k;
if(this.ak()||!d.xA(this.rP)){if(T==null){if(this.ak())N.dT();else{var y=a.hT(this.rP),E=S.p(y.u()*4);
S.gW(N.buffer,N.rect,E,y);N.buffer=E;N.rect=y}}else T.dT();this.U(p,d)}if(K<=0){k=S.p(a.u()*4);S.gW(this.aB,this.rP,k,a)}else{k=S.p(a.u());
S.set(k,T.color);S.JG(this.aB,this.rP,k,a)}this.fw(p,!1,R?R:this.name,t,K,a,k,Q)};m.WH.prototype.fw=function(p,a,R,Q,t,N,K,T){var d=K;
if(t>0){d=S.p(N.u()*4);m.WH.nO(K,N,0,d,N)}var y=new gm(R,this);y.data=[{w:Q,tF:t,I:N,UJ:d}];if(T)y.data.Siz=[p.S,null];
p.sv(y);if(a)this.gq(y.data,p);else if(T)p.S=null;gf.GI.SC_(p,y.data)};m.WH.prototype.tk=function(p,a){this.Sdy(p,a,!1)};
m.WH.prototype.gq=function(p,a){this.Sdy(p,a,!0)};m.WH.prototype.Sdy=function(p,a,R){if(p.K=="drawtemp"){var Q=R?p.SOM:p.SOq,t=a.M[p.w];
t.KS.at=Q;t.UF(a,0,0,a.S);t.U();a.if=!0}else{gf.GI.oK(a,p);if(p.Siz){a.S=p.Siz[R?1:0];a.d_=!0}}a.U()};
m.WH.prototype.cS=function(p){this.nN(p,this.Mt,this.Nj.gR(),this.Nj.yk(),this.Nj.XW());this.U(p)};m.WH.prototype.nN=function(p,a,R,Q,t){var N=this.dL,K=p.M[p.V[0]],T=p.JO.length!=0?p.Mn[p.JO[0]]:K.FE<=0?null:K.FE==1?K.mg():K.iW(p).n,d=S.p(t.u()*4);
if(T==null){S.gW(this.aB,this.rP,d,t)}else{m.WH.nO(this.aB,this.rP,T.color,d,t)}if(p.S&&a!="qselect"){var y=t.Yl(p.S.rect),E=S.p(y.u()*4);
if(a=="copy"){var k=S.p(y.u());S.JG(p.S.channel,p.S.rect,k,y);S.gW(d,t,E,y);S.O.sH(R,Q,E,y,k,y,0,y,1,!1)}else{S.gW(R,Q,E,y);
S.fq(p.S.channel,p.S.rect,E,y)}R=E;Q=y}if(a=="idraw"||a=="ierase"){if(this.qz==null)this.qz=S.p(this.rP.u());
var D=this.dL.samp,P=this.$F.eJ,e=D==0?this.vy:this.nn,Y=e.x,O=e.y,W=m.Hp.we(this.aB,this.rP,[e,new X(Y-2,O),new X(Y+2,O),new X(Y,O-2),new X(Y,O+2)]);
if(D==2)W=[[P>>>16&255,P>>>8&255,P>>>0&255,255]];var w=m.Hp.S$G(d,t,this.vy,W,this.dL.wconf),g=S.p(t.u());
S.JG(this.qz,this.rP,g,t);S.iM.hT(w,g,g);S.JG(g,t,this.qz,this.rP);S.fq(g,t,R,Q);a=a.slice(1)}if(a=="erase"&&(gf.GI.SNp(p)!=16777215||T))a="draw";
if(a=="draw")S.O.KJ(N.bmode,R,Q,d,t,t,N.opacity);else if(a=="erase"){var J=S.p(t.u()*4);S.gW(R,Q,J,t);
if(T==null){var U=S.p(t.u());S.vh(J,U,3);S.Ux(U,N.opacity);S.zw(U);S.fq(U,t,d,t)}else{S.wp(J,0,4278190080);
S.O.KJ("norm",J,t,d,t,t,N.opacity)}}else if(a=="clone"||a=="heal"){var H=this.ac(),f=this.Ak.clone();
f.offset(H.x,H.y);var j=t.clone();j.vj(1,1);var I=S.p(j.u()*4),L=S.p(j.u());S.gW(R,Q,I,j);S.vh(I,L,3);
S.wp(I,0);if(T==null){S.gW(this.Ac,f,I,j);var C=S.p(j.u());S.vh(I,C,3);S.Ui(C,L)}else m.WH.nO(this.aB,f,T.color,I,j);
if(a=="clone"){S.RA(L,I,3);S.O.KJ(N.bmode,I,j,d,t,t,N.opacity)}if(a=="heal"){var v=S.clone(L);S.round(v,20);
var o=S.p(j.u()*4);S.gW(this.aB,this.rP,o,j);S.O.sH(I,j,o,j,v,j,0,j,1,!1);S.Ok.dd(o,v,j);S.O.sH(o,j,d,t,L,j,0,t,1,!1)}}else if(a=="dodge"||a=="burn"){var I=S.p(t.u()*4),s=1,q=0,F=0,b=0;
S.gW(R,Q,I,t);var Z=t.u()*4,B=m.WH.QC;if(this.gK){if(a=="dodge")a="burn";else a="dodge"}var G=N.rng;
if(a=="dodge"){q=[1-s/2,1,1+s][G];F=[1,1/(1+s),1][G];b=[s/2,0,0][G]}if(a=="burn"){q=[1/(1-s/2),1,1-s/2][G];
F=[1,1+s,1][G];b=[-(s/2)/(1-s/2),0,0][G]}for(var u=0;u<Z;u+=4){var h=I[u+3];d[u+0]=B(d[u+0],q,F,b,h);
d[u+1]=B(d[u+1],q,F,b,h);d[u+2]=B(d[u+2],q,F,b,h)}}else if(a=="sponge"||a=="redeye"){var I=S.p(t.u()*4),L=S.p(t.u());
S.gW(R,Q,I,t);S.vh(I,L,3);S.$M(d,I);var z=N.smode;if(this.gK)z=1-z;var r=gw.gD("hue2");if(a=="sponge")Sj.Gq(r,0,[0,[-50,46][z],[6,5][z]]);
else Sj.Gq(r,1,{yj:[265,305,25,55],E$:[0,-90,-70]});var i=gA.Sm("hue2",r);gA.pW(i,I,I,t);S.O.sH(I,t,d,t,L,t,0,t,1,!1)}else if(a=="copy")S.gW(R,Q,d,t);
else if(a=="sheal"){var I=S.p(t.u()*4),L=S.p(t.u());S.gW(R,Q,I,t);S.vh(I,L,3);S.KK.dd(this.aB,this.rP,L,d,t)}else if(a=="qselect"){var gg=this.rP,gC=gg.C,gd=gg.T,gY=gC*gd,gN=this.Nj.gR(),W=this.aB,gS=m.GP.Qq,L=gS.UO;
L.fill(128);for(var u=0;u<gY;u++){var M=gN[u<<2],Cj=gN[(u<<2)+3];if(Cj==255&&(M==0||M==255))L[u]=M}L[0]=L[gC-1]=0;
L[(gd>>>1)*gC]=L[(gd>>>1)*gC+gC-1]=0;m.Lo.wF(gS,!0);p.S={rect:gg,channel:gS.S.slice(0)};p.d_=!0}if(T==null)S.gW(d,t,K.buffer,K.rect);
else m.WH.Qp(d,t,T)};m.WH.ac=function(){return null};m.WH.QC=function(p,a,R,Q,t){var N=p*(1/255),K=Q+a*Math.pow(N,R),T=Math.round(K*t+N*(255-t));
return Math.max(0,Math.min(255,T))};m.WH.nO=function(p,a,R,Q,t){var N=S.p(t.u());S.set(N,R);S.JG(p,a,N,t);
S.wp(Q,4278190080);S.lQ(N,Q)};m.WH.Qp=function(p,a,R){var Q=S.p(a.u());S.uB(p,Q);S.JG(Q,a,R.channel,R.rect)};
m.GP=function(p,a,R){m.Eh.call(this,p,a,R);this.dL={WV:"front",Ge:0,FG:{GY:0,x:3,y:2},DS:[10,!0,!0]};
this.SA=new X(-1,-1);this.Nm=new X(-1,-1);this.Y_="default";this.yt=null;this.Nl=!1;this.Dg=!1;this.gK=!1;
this.Gd=0;this.tO=0;this.GL=!1;this.qh=null;this.qi=null;this.kU=!1};m.GP.prototype=new m.Eh;m.GP.Qq={key:""};
m.GP.Q$=function(p,a){var R={zt:p,UD:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(a)R.UD.T=a;return R};m.GP.fA=function(p,a){return m.GP.Q$("set",{t:"Objc",v:{classID:p,Top:{t:"UntF",v:{type:"#Pxl",val:a.y}},Left:{t:"UntF",v:{type:"#Pxl",val:a.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:a.y+a.T}},Rght:{t:"UntF",v:{type:"#Pxl",val:a.x+a.C}}}})};
m.GP.Nh=function(p,a){var R=[],Q=[],K="set";for(var t=0;t<p.length;t+=2){R.push(p[t]);Q.push(p[t+1])}var N={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:R},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Q}]}}}};
if(a)K={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[a];return m.GP.Q$(K,N)};
m.GP.SCx=function(p,a){var R={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:p.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:p.y}}}},Q=m.GP.Q$("set",R);
Q.UD.Tlrn={t:"long",v:a[0]};Q.UD.AntA={t:"bool",v:a[1]};Q.UD.Cntg={t:"bool",v:a[2]};return Q};m.GP.lR=function(p){return m.GP.Q$("set",{t:"enum",v:{Ordn:p?"Al":"None"}})};
m.GP.SCi=function(p,a,R){var Q={classID:"null"};if(p!="border")Q.selectionModifyEffectAtCanvasBounds={t:"bool",v:R};
var t={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[p[0]];Q[t]={t:"UntF",v:{type:"#Pxl",val:a}};return{zt:p,UD:Q}};
m.GP.SCo=function(p,a,R){var Q={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},t={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][R]}},{t:"name",v:{classID:"Lyr",val:p}}]},N=[{classID:"null",null:Q,T:t},{classID:"null",null:t,T:Q},{classID:"null",null:t,From:Q},{classID:"null",null:t,With:Q}],K=["set","add","subtract","interfaceIconFrameDimmed"];
return{zt:K[a],UD:N[a]}};m.GP.SSE=function(p,a){var R=new $(V.E.v,!0);R.data={K:V.H.es,L_:gp.SO};if(!a.yZ)p.Y(R);
R.data={K:V.H.es,L_:gp.Au};if(!a.QR.rr)p.Y(R)};m.GP.prototype.Gj=function(p,a,R,Q,t){m.GP.SSE(a,t);this.yt=a;
var N=p.K,K,T,d=new x(0,0,R.C,R.T),So=!1,gq,gH;if(N=="fromAction"){var y=p.Db,E=y.zt,k=y.UD,D=k?k.selectionModifyEffectAtCanvasBounds:null,P=D&&D.v;
if(E=="inverse"){if(R.S==null){alert("No selection!");return}K={channel:S.p(d.u()),rect:d};S.JG(R.S.channel,R.S.rect,K.channel,K.rect);
S.zw(K.channel);T=[7,2]}else if(E=="expand"){var e=k.By.v.val,Y=R.S.rect.clone();Y.vj(e,e);var O=S.p(Y.u()),W=S.p(Y.u());
S.JG(R.S.channel,R.S.rect,W,Y);S.style.stroke(W,O,Y,e);K={channel:O,rect:Y};T=[7,4]}else if(E=="contract"){var e=k.By.v.val,w=R.S.rect.clone();
w.vj(1,1);if(!P)w=w.Yl(d);var W=S.p(w.u()),g=S.p(W.length);S.JG(R.S.channel,R.S.rect,W,w);S.zw(W);S.style.stroke(W,g,w,e);
S.zw(g);K={channel:g,rect:w};S.dT(K);T=[7,5]}else if(E=="border"){var e=k.Wdth.v.val;K=m.GP.SKa(R.S,e/2,e/2);
T=[7,9]}else if(E=="feather"||E=="smoothness"){var e=k.Rds.v.val;K=m.GP.ShD(R.S,e,E=="smoothness",d,P);
T=E=="feather"?[7,6]:[19,3,0]}else{var J=k.null.v;function U(gk){var Np=gk.Top.v.val,gz=gk.Left.v.val;
return new x(gz,Np,gk.Rght.v.val-gz,gk.Btom.v.val-Np)}function H(gk){var Np=gk[0].arr,SO=gk[1].arr,NZ={r:[],$:[]};
for(var gl=0;gl<Np.length;gl++){NZ.$.push(gl==0?"M":"L");NZ.r.push(Np[gl],SO[gl])}NZ.$.push("Z");return NZ}var f=["set","addTo","subtractFrom","interfaceWhite"].indexOf(E),j=k.T?k.T.v:null;
if(j&&j.classID=="Elps"){K=this.SrY(m.hv.SXs(U(j)));T=[10,4]}else if(j&&j.classID=="Rctn"){var I=U(j);
K={channel:S.p(I.u()),rect:I.clone()};S.set(K.channel,255);T=[10,15]}else if(j&&j.classID=="ObSl"){var I=U(j),L=m.GP.Qq,C=L.rect,v=L.UO,o=C.C,Z=C.T,B=I.x-C.x,s=B+I.C-1,q=Math.max(B,Math.min(s,B+s>>>1)),F=I.y-C.y,b=F+I.T-1,G=Math.max(F,Math.min(b,F+b>>>1)),u=Math.max(B,0),h=Math.min(s,o),z=Math.max(F,0),r=Math.min(b,Z);
v.fill(128);if(0<=F)for(var i=u;i<h;i++)v[F*o+i]=0;if(b<Z)for(var i=u;i<h;i++)v[b*o+i]=0;if(0<=B)for(var gg=z;
gg<r;gg++)v[gg*o+B]=0;if(s<o)for(var gg=z;gg<r;gg++)v[gg*o+s]=0;var gC=m.Kv.SKn,gd=Math.round(I.C*gC),gY=Math.round(I.T*gC);
for(var i=Math.max(0,q-gd);i<Math.min(o,q+gd);i++)v[G*o+i]=255;for(var gg=Math.max(0,G-gY);gg<Math.min(Z,G+gY);
gg++)v[gg*o+q]=255;m.Lo.wF(L,!0);K={channel:L.S.slice(0),rect:C.clone()};T=[10,44]}else if(j&&j.classID=="Plgn"){K=this.SrY(H(j.Pts.v.arr));
T=[10,9]}else if(j&&j.classID=="Pnt"){K=m.Hp.SIh(R,new X(j.Hrzn.v.val,j.Vrtc.v.val),[k.Tlrn.v,k.AntA==null||k.AntA.v,k.Cntg==null||k.Cntg.v]);
T=[10,12]}else if(j&&j.Ordn=="None"){K=null;T=[7,1]}else if(j&&j.Ordn=="Al"){K={channel:S.p(d.u()),rect:d};
S.set(K.channel,255);T=[7,0]}else{var gN=R.V[0],gs;if(J.length==2)gN=Nr.Kc(R,J[1]);else if(j.length==2)gN=Nr.Kc(R,j[1]);
var gS=(j?j:J)[0].v.enum,M=["Trsp","Msk","vectorMask"].indexOf(gS);console.log(M);var Cj=f!=-1?f:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(E);
if(j&&j[0].t=="name"){for(var gl=0;gl<R.Mn.length;gl++)if(R.Mn[gl].name==j[0].v.val)gN=gl;gs={K:"fromchannel",dX:[-5-gN,0,Cj]}}else if(gS=="RGB")gs={K:"fromchannel",dX:[-1,0,Cj]};
else gs={K:"fromlayer",dX:[gN,M,Cj]};this.Gj(gs,a,R,Q,t);return}if(k.Fthr)K=m.GP.ShD(K,k.Fthr.v.val,!1);
if(E!="set"&&R.S!=null)K=S.iM.Rb(K,R.S,["","union","difference","intersection"][f])}if(E=="expand"||E=="contract")if(!P&&!d.contains(K.rect)){var gR=K.rect.Yl(d),ge=S.p(gR.u());
S.JG(K.channel,K.rect,ge,gR);K.channel=ge;K.rect=gR}}if(N=="qmask"){So=!0;var gx=R.zu(),g$=new x(0,0,R.C,R.T);
if(gx){K=gx.rect.xA(g$)&&S.UM(gx.channel,255)?null:{rect:gx.rect.clone(),channel:gx.channel.slice(0)};
gq=gx}else{K=null;gH=new l.TU;gH.color=0;gH.name="Quick Mask";gH.oB=!0;if(R.S){gH.rect=R.S.rect.clone();
gH.channel=R.S.channel.slice(0)}else{gH.rect=g$;gH.channel=S.p(gH.rect.u());S.set(gH.channel,255)}}T=[6,6,1]}if(N=="setsel"){K=p.S;
T=p.LS}if(N=="crange"){var gy=p.YM,SZ=p.YX;K=m.GP.SpO(R,gy,SZ,p.Wn);T=[7,8];gy={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:gy.Oe},A:{t:"doub",v:gy.Eu},B:{t:"doub",v:gy.N}}};
SZ={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:SZ.Oe},A:{t:"doub",v:SZ.Eu},B:{t:"doub",v:SZ.N}}};this.track({zt:"colorRange",UD:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(p.Wn*200)},Mnm:gy,Mxm:SZ,colorModel:{t:"long",v:0}}})}if(N=="fromlayer"||N=="fromchannel"||N=="frompath"){var dU=p.dX[0],M=p.dX[1],f=p.dX[2];
if(N=="fromlayer"){if(dU==null)dU=R.V[0];var gz=R.M[dU];if(M==0){var gX=gz.rect,gJ=gz.buffer;if(gX.RJ())return;
var SR=S.p(gJ.length>>>2);S.vh(gJ,SR,3);K={channel:SR,rect:gX.clone()}}else{if(gz.n==null)gz.WU(R);var gF=M==1?gz.mg():gz.n;
K=m.GP.SKP(gF,d)}this.track(m.GP.SCo(gz.getName(),f,M))}else if(N=="frompath"){var gv=R.h$(),SU=gv[1],gv=gv[0];
if(gv.length==0||SU.length==0)return;var ga=gv[SU[0]];if(dU!=null)for(var gl=0;gl<gv.length;gl++)if(gv[gl].Yo==dU)ga=gv[gl];
var gF=ga.add.vmsk.mg(),Sg=gF.yk();if(Sg.u()==0)return;var SR=gF.UU(),gO=R.Op.indexOf(-1-dU);if(gO!=-1)R.Op.splice(gO,1);
K={channel:SR,rect:Sg}}else{if(dU==null)dU=m.GP.SKb(R);K=m.GP.SdE(R,dU)}if(f!=0&&R.S)K=S.iM.Rb(K,R.S,["","union","difference","intersection"][f]);
T=[14,11]}if(K!=null&&S.UM(K.channel,0)){K=null;T=[7,1]}if(K)S.dT(K);var SC=new gm(T,this);SC.data={K:"changesel",Xu:R.S,AO:K,zu:So,SiB:gq,SiF:gH};
R.sv(SC);this.gq(SC.data,R)};m.GP.SKb=function(p){var a=0;if(p.JO.length!=0)a=-5-p.JO[0];else if(JSON.stringify(p.z.mC)=="[1,1,1]")a=-1;
else a=-2-p.z.mC.indexOf(1);return a};m.GP.SdE=function(p,a){var R,Q=new x(0,0,p.C,p.T);if(-5<a&a<0){var t=-a-1,N=p.iD(),K=S.p(Q.u());
if(t==0)S.uB(N,K);else S.vh(N,K,t-1);R={channel:K,rect:Q.clone()}}if(a<-4){R=m.GP.SKP(p.Mn[-a-5],Q)}return R};
m.GP.SKP=function(p,a){var R,Q;if(p.gc()==0){Q=p.yk();if(Q.u()==0)return;R=p.UU()}else{Q=a;R=S.p(Q.u());
p.iQ(Q,R)}return{channel:R,rect:Q}};m.GP.prototype.yF=function(p){return this.GL||p.Fa&&this.id!=m.SSu};
m.GP.prototype.an=function(p,a,R){var Q=new $(a,!0);Q.data=R;p.Y(Q)};m.GP.prototype.Ssw=function(p,a){var R=new $(V.E.v,!0);
R.data={K:V.H.PA,Mz:a};p.Y(R)};m.GP.prototype.yk=function(p,a,R){a=p.S==null||this.Gd>1||this.tO>1?a:null;
var Q=this.SA,t=this.Nm;if(R){Q.x=Math.max(0,Math.min(p.C,Q.x));Q.y=Math.max(0,Math.min(p.T,Q.y));t.x=Math.max(0,Math.min(p.C,t.x));
t.y=Math.max(0,Math.min(p.T,t.y))}var N=m.Wi.LJ(Q,t,a,!0,this.dL.FG),K=N[0].x,T=N[0].y;return new x(K,T,N[1].x-K,N[1].y-T)};
m.GP.prototype.JI=function(p,a,R,Q,t){if(this.fu())return;this.yt=a;this.Nl=!1;this.Dg=Q.g(n.ei);this.gK=Q.g(n.LG);
this.Gd=this.Dg?0:1;this.tO=this.gK?0:1;this.SA=p.z.oD(t.x,t.y);this.SA=m.OS.em(p,this.SA,R);if(this.Sdi(p,this.SA,Q)){this.GL=!0;
this.qh=p.S.rect.clone();return}this.mV(p,R,Q,t);p.z.cH=new x};m.GP.prototype.Sdi=function(p,a,R){var Q=R.g(n.ei),t=R.g(n.LG);
if(p.S&&!Q&&!t&&this.dL.WV=="front")return S.uM(a,p.S.channel,p.S.rect);return!1};m.GP.prototype.r$=function(p,a,R,Q,t){this.yt=a;
if(this.kU)return;var N=p.z.oD(t.x,t.y);if(X.Hz(this.SA,N)*p.z.f>5)this.Nl=!0;if(Q.g(n.xk)){if(this.qi==null)this.qi=new X(N.x-this.SA.x,N.y-this.SA.y);
this.SA.x=N.x-this.qi.x;this.SA.y=N.y-this.qi.y}else this.qi=null;this.Nm=N;if(!this.GL)this.Nm=m.OS.em(p,this.Nm,R);
if(this.Sdi(p,this.Nm,Q))this.Ssw(a,"move");else this.Ssw(a,this.Y_);if(this.GL){var K=this.qh.clone();
K.x+=this.Nm.x-this.SA.x;K.y+=this.Nm.y-this.SA.y;var T=m.OS.yI(p,K,R);p.S.rect.x=Math.round(this.Nm.x-this.SA.x+this.qh.x+T[0]);
p.S.rect.y=Math.round(this.Nm.y-this.SA.y+this.qh.y+T[1]);p.d_=!0;m.OS.yY(p,K,T);return}this.tU(p,R,Q,t);
if(p.z.cH)p.z.cH=this.yk(p,Q)};m.GP.prototype.fu=function(){return!1};m.GP.prototype.Gz=function(p,a,R,Q,t){p.z.cH=null;
this.Nm=p.z.oD(t.x,t.y);this.Nm=m.OS.em(p,this.Nm,R);if(this.GL){this.GL=!1;if(this.Nm.xA(this.SA)&&this.SSQ()=="front"){this.an(a,V.E.JF,m.GP.lR());
return}this.SFD(p,this.qh,p.S.rect.clone());if(p!=null&&p.R.XG){p.R.XG=null;p.$h=!0}return}this.aD(p,R,Q,t);
m.GP.SSE(a,R)};m.GP.prototype.SFD=function(p,a,R){var Q=p.Lx();if(Q!=null&&Q.Q==this&&Q.data.K=="movesel"){}else{Q=new gm([7,7],this);
Q.data={K:"movesel",vK:a};p.sv(Q)}Q.data.Gi=R;this.gq(Q.data,p)};m.GP.prototype.Tb=function(p,a,R,Q,t){this.kU=!0};
m.GP.prototype.SK=function(p,a,R,Q,t){var N=new $(V.E.v,!0);N.data={K:V.H.aK,Q:this.id,sq:t,$$:p,hM:R};
a.Y(N);this.kU=!1};m.GP.prototype.Qb=function(p,a,R,Q){var t=Q.g(n.ei),N=Q.g(n.LG);if(this.Nl){if(this.Gd==0&&!t)this.Gd++;
if(this.Gd==1&&t)this.Gd++;if(this.tO==0&&!N)this.tO++;if(this.tO==1&&N)this.tO++}if(p!=null&&p.S!=null){var K=Q.xi();
if(K.x!=0||K.y!=0){var T=p.S.rect.clone();T.x+=K.x;T.y+=K.y;this.SFD(p,p.S.rect.clone(),T)}}var d=m.GP.f_(this.dL.WV,t,N),y=new $(V.E.v,!0);
y.data={K:V.H.aK,Q:this.id,WV:d};a.Y(y)};m.GP.prototype.finish=function(p,a,R,Q){var t=p.S,N=this.getSelection(p,a,R,Q);
if(N==null)N=m.GP.lR();else{var K=this.dL.Ge,T=this.SSQ();if(K!=0)N.UD.Fthr={t:"UntF",v:{type:"#Pxl",val:K}};
if(T!="front"&&T!="xor")N.zt={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[T]}this.an(this.yt,V.E.JF,N);
this.SA.YY(-1,-1);this.Nm.YY(-1,-1)};m.GP.prototype.SSQ=function(){return m.GP.f_(this.dL.WV,this.Dg,this.gK)};
m.GP.f_=function(p,a,R){if(a)p="union";if(R)p="difference";if(a&&R)p="intersection";return p};m.GP.prototype.getSelection=function(p,a,R,Q){return null};
m.GP.prototype.mV=function(p,a,R,Q){};m.GP.prototype.tU=function(p,a,R,Q){};m.GP.prototype.aD=function(p,a,R,Q){};
m.GP.prototype.tk=function(p,a){var R=p.K;if(R=="changesel")a.S=p.Xu;if(R=="movesel")a.S.rect=p.vK;if(p.zu){if(p.SiB){a.JO=[a.Mn.length];
a.Mn.push(p.SiB)}else{a.Mn.pop();a.JO=[]}}a.d_=!0};m.GP.prototype.gq=function(p,a){var R=p.K;if(R=="changesel")a.S=p.AO;
if(R=="movesel")a.S.rect=p.Gi;if(p.zu){if(p.SiF){a.JO=[a.Mn.length];a.Mn.push(p.SiF)}else{a.Mn.pop();
a.JO=[]}}a.d_=!0};m.GP.prototype.eu=function(p){this.dL=p};m.GP.prototype.SrY=function(p){var a=S.s.bs(p.r);
if(a.RJ())return null;var R=V.P("canvas","");R.width=a.C;R.height=a.T;var Q=R.getContext("2d");Q.beginPath();
Q.translate(-a.x,-a.y);Typr.U.pathToContext({cmds:p.$,crds:p.r},Q);Q.closePath();Q.fill();var t=S.p(a.u()),N=Q.getImageData(0,0,R.width,R.height);
S.vh(N.data,t,3);return{rect:a,channel:t}};m.GP.ShD=function(p,a,R,Q,t){if(R)a=Math.round(a*.7);var N=Math.ceil(2.6*a),K=p.rect.clone();
K.vj(N,N);if(Q&&!t)K=K.Yl(Q);var T=S.p(K.u()),d=S.p(T.length);S.JG(p.channel,p.rect,d,K);S.blur.Pc(d,T,K,a);
if(R){var y=T.length;for(var E=0;E<y;E++){var k=(T[E]-128)*a*2.5;T[E]=Math.max(0,Math.min(255,Math.round(128+k)))}}return{channel:T,rect:K}};
m.GP.SKa=function(p,a,R){var Q=Math.max(1,Math.ceil(R)),t=p.rect.clone();t.vj(Q,Q);var N=t.u(),K={channel:S.p(N),rect:t},T=S.p(N);
S.JG(p.channel,p.rect,T,K.rect);if(R!=0)S.style.stroke(T,K.channel,K.rect,R);else S.$M(T,K.channel);
var d=S.p(N);S.zw(T);if(a!=0)S.style.stroke(T,d,K.rect,a);else S.$M(T,d);S.iM.Yl(K.channel,d,K.channel);
return K};m.GP.SpO=function(p,a,R,Q){var t=new x(0,0,p.C,p.T),N=p.iD();if(p.S){var K=p.S.rect.Yl(t),T=S.p(K.u()*4);
S.gW(N,t,T,K);t=K;N=T}var d=t.u(),y=S.p(d),E=1/Q;for(var k=0;k<d;k++){var D=k<<2,P=S.wk(N[D],N[D+1],N[D+2]),e=S.ca(P,a,R,Q,E);
y[k]=255*e}return{rect:t,channel:y}};m.QF=function(){m.WH.call(this,[10,18],m.gP,"tools/blur");this.Mt="copy"};
m.QF.prototype=new m.WH;m.QF.prototype.JI=function(p,a,R,Q,t){var N=Q.g(n.LG)?gQ.uo:gQ.gP;this.oF(p,R,Q,t,this.dL.strn,N);
if(this.Nj==null)return;this.cS(p)};m.QF.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.Qo=function(){m.WH.call(this,[10,0],m.JH,"tools/brush");
this.Mt="draw"};m.Qo.prototype=new m.WH;m.Qo.prototype.JI=function(p,a,R,Q,t){if(this.au(Q,a,t))return;
this.oF(p,R,Q,t,this.dL.flow);if(this.Nj==null)return;this.cS(p)};m.Qo.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);
if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.QO=function(){m.WH.call(this,[10,42],m.SKy,"tools/crepl");
this.Mt="idraw";this.dL.bmode="hue "};m.QO.prototype=new m.WH;m.QO.prototype.JI=function(p,a,R,Q,t){if(this.au(Q,a,t))return;
this.oF(p,R,Q,t,this.dL.flow);if(this.Nj==null)return;this.cS(p)};m.QO.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);
if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.QT=function(){m.WH.call(this,[10,43],m.SKe,"tools/redeye");
this.dL.smode=0;this.Mt="redeye"};m.QT.prototype=new m.WH;m.QT.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.flow);
if(this.Nj==null)return;this.cS(p)};m.QT.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.Qa=function(){m.WH.call(this,[10,38],m.as,"tools/pencil");
this.Mt="draw"};m.Qa.prototype=new m.WH;m.Qa.prototype.JI=function(p,a,R,Q,t){if(this.au(Q,a,t))return;
this.oF(p,R,Q,t,this.dL.flow);if(this.Nj==null)return;this.cS(p)};m.Qa.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);
if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.QQ=function(){m.WH.call(this,[10,22],m.SSP,"tools/burn");
this.Mt="burn"};m.QQ.prototype=new m.WH;m.QQ.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.expo/Math.E);
if(this.Nj==null)return;this.cS(p)};m.QQ.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.di=function(p,a,R){m.WH.call(this,p==""?null:p?p:[10,1],a?a:m.iu,R?R:"tools/clone");
this.Mt="clone";this.rB=null;this.A=null};m.di.prototype=new m.WH;m.di.prototype.JI=function(p,a,R,Q,t){var N=this.dL,K=N.alt[0];
if(Q.g(n.LG)||Q.g(n.xM)||K){this.rB=p.z.oD(t.x,t.y);this.A=null;if(K)this.NF({alt:[!1]},a);this.RH(R,Q,p,t);
return}if(this.rB==null){alert(gL.get([15,7,0]));return}this.RH(R,Q);this.oF(p,R,Q,t,this.dL.flow);if(this.Nj==null)return;
this.A=this.SsP(p.z.oD(t.x,t.y));this.cS(p)};m.di.prototype.SsP=function(p){var a=this.A;if(a==null||!this.dL.algnd)a=new X(Math.round(p.x-this.rB.x),Math.round(p.y-this.rB.y));
return a};m.di.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);if(this.Nj==null){if(this.rB!=null)this.RH(R,Q,p,t);
return}if(!t.Fa||this.rB==null)return;this.Wv(p,R,Q,t);this.cS(p)};m.di.prototype.ac=function(){return this.A};
m.di.prototype.disable=function(p,a,R,Q){this.rB=null;this.A=null};m.RO=function(p,a,R){m.Eh.call(this,p,a,R);
this.tD={ND:{GY:0,x:0,y:0}};this.Kr=null;this.cursor=null;this.Sik=0;this.jF=null;this.SA=null;this.DN=null};
m.RO.prototype=new m.Eh;m.RO.prototype.AM=function(){return this.Kr!=null};m.RO.prototype.yF=function(p){return this.Kr&&this.Kr.SXf()};
m.RO.prototype.JI=function(p,a,R,Q,t){this.jF=t;var N=p.z.oD(t.x,t.y);N.x=Math.round(N.x);N.y=Math.round(N.y);
var K=this.tD.ND,T=K.GY!=0?K.x/K.y:null;if(this.Kr)this.Kr.JI(p,R,Q,N,T,!1);else this.SA=m.OS.em(p,N,R)};
m.RO.prototype.SdX=function(p,a){var R=[p.x,p.y,p.x+p.C,p.y,p.x+p.C,p.y+p.T,p.x,p.y+p.T];return new KW(R,!0,!1,this.id==m.aN,!0,a,this.id==m.aN?2:0,this.id==m.aN)};
m.RO.prototype.RH=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.PA,Mz:this.cursor};p.Y(a)};m.RO.prototype.enable=function(p,a,R,Q){this.cursor="crosshair";
this.RH(a);if(p!=null&&p.S){var t=this.tD.ND={GY:0,x:0,y:0};this.an(a,V.E.v,{K:V.H.aK,Q:this.id,qy:!1,FG:t});
this.eu({IM:"cropby",SyB:3},a,p,Q,R)}};m.RO.prototype.r$=function(p,a,R,Q,t){this.jF=t;var N=p.z.oD(t.x,t.y);
if(!t.Fa){var K="crosshair";if(this.Kr){var T=this.Kr.yU(N,p.z.f);if(T)K=T;else K="default"}if(K!=this.cursor){this.cursor=K;
this.RH(a)}}if(this.Kr)this.Kr.r$(p,R,Q,N);else if(this.SA){var d=m.Wi.LJ(this.SA,m.OS.em(p,N,R),Q,!0,this.tD.ND),y=d[0].x,E=d[0].y,k=this.DN=new x(y,E,d[1].x-y,d[1].y-E);
p.R.FF=S.s.Ht(k);p.$h=!0;m.Eh.gQ(t.x+10,t.y-10,k,p,R)}};m.RO.prototype.Gz=function(p,a,R,Q,t){this.jF=t;
if(this.Kr==null){if(this.SA){var N=this.DN;if(N){var K=this.tD.ND;this.Kr=this.SdX(N,K.GY!=0);this.Kr.mB(p,R);
this.DN=null;this.an(a,V.E.v,{K:V.H.aK,Q:this.id,qy:!0})}this.SA=null;p.R.qm=[];p.$h=!0}return}var T=p.z.oD(t.x,t.y);
this.Kr.Gz(p,R,Q,T);this.an(a,V.E.v,{K:V.H.aK,Q:this.id,qy:!0});var d=this.Kr.CH();if(Math.abs(d[0]-d[4])<2||Math.abs(d[1]-d[5])<2){this.disable(p,a,null,Q);
return}if(Date.now()-this.Sik<200&&this.Kr.YC(T)){this.zZ(p,R);this.disable(p,a,R,Q);return}this.Sik=Date.now()};
m.RO.prototype.Qb=function(p,a,R,Q){var t=this.Kr;if(t==null||this.jF&&this.jF.Fa)return;if(Q.g(n.eL)){this.zZ(p,R);
this.disable(p,a,R,Q)}else if(Q.g(n.tu)){this.disable(p,a,R,Q)}else t.Qb(p,R,Q)};m.RO.fj=function(p,a){if(a==null)a=[!0,!0,!0,!0];
var R={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][p]}}},Q=["Top","Left","Btom","Rght"];
for(var t=0;t<4;t++)R[Q[t]]={t:"bool",v:a[t]};return{zt:"trim",UD:R}};m.RO.SKx=function(p,a,R,Q){var t={classID:"null"};
if(Q!=null){t.Wdth={t:"UntF",v:{type:"#Pxl",val:p}};t.Hght={t:"UntF",v:{type:"#Pxl",val:a}};t.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][Q]}}}if(R!=null)t.Rslt={t:"UntF",v:{type:"#Rsl",val:R}};
return{zt:"imageSize",UD:t}};m.RO.S$g=function(p,a,R){if(R==null)R=4;var Q=Math.floor(R/3),t=R%3;return{zt:"canvasSize",UD:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:p}},Hght:{t:"UntF",v:{type:"#Pxl",val:a}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][t]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][Q]}}}}};
m.RO.prototype.Gj=function(p,a,R,Q,t){var N=new x(0,0,R.C,R.T),K=[11,3],T=R.po,d=R.C/2,y=R.T/2,E=1,G,u;
if(p.K=="fromAction"){var k=p.Db,D=k.zt,P=k.UD,e=R.C/R.T,Y=P.Wdth?P.Wdth.v.val:-1,O=P.Hght?P.Hght.v.val:-1,T=P.Rslt?P.Rslt.v.val:null,W=P.Wdth?P.Wdth.v.type:P.Hght?P.Hght.v.type:-1,w=1,g;
if(D=="imageSize"){if(P.Intr){if(P.Intr.v.Intp=="Nrst")w=0;if(P.Intr.v.Intp=="bicubicSharper")w=2;if(Y==-1&&O==-1){var J=T/R.po;
Y=Math.round(R.C*J);O=Math.round(R.T*J)}else if(W=="#Prc"){if(Y!=-1)Y=Math.round(R.C*Y/100);if(O!=-1)O=Math.round(R.T*O/100)}if(P.CnsP&&P.CnsP.v){if(Y==-1)Y=Math.round(O*e);
if(O==-1)O=Math.round(Y/e)}}else{if(W=="#Prc")T=Math.round(R.po/((Y!=-1?Y:O)/100));else if(W==-1)T=Math.round(T);
else throw"e";Y=R.C;O=R.T}g={K:"imgsize",qU:Y,qt:O,qA:T,ES:w}}else if(D=="canvasSize"){console.log(D,P);
if(Y==-1)Y=R.C;if(O==-1)O=R.T;if(P.Rltv&&P.Rltv.v==!0){if(P.Wdth)Y+=R.C;if(P.Hght)O+=R.T}var U=P.Vrtc?P.Vrtc.v.VrtL:"Cntr",H=P.Hrzn?P.Hrzn.v.HrzL:"Cntr";
g={K:"canvsize",qU:Y,qt:O,Ut:3*["Top","Cntr","Btom"].indexOf(U)+["Left","Cntr","Rght"].indexOf(H)}}else if(D=="revealAll"){g={K:"revealAll"}}else if(D=="trim"){var f={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[P.trimBasedOn.v.trimBasedOn];
if(f==null)throw"e";var j=["Top","Left","Btom","Rght"],I=[!0,!0,!0,!0];for(var L=0;L<4;L++)if(P[j[L]])I[L]=P[j[L]].v;
g={K:"trim",SBT:f,FG:I}}if(g)this.Gj(g,a,R,Q,t);return}else if(p.K=="imgsize"){N=new x(0,0,p.qU,p.qt);
if(p.qA)T=p.qA;E=p.ES}else if(p.K=="canvsize"){var C=p.Ut!=null?p.Ut:0;N=new x(0,0,p.qU,p.qt);var v=R.C-p.qU,o=R.T-p.qt,Z=Math.round(v/2),B=Math.round(o/2);
if(C==1||C==4||C==7)N.x=Z;if(C==2||C==5||C==8)N.x=v;if(C==3||C==4||C==5)N.y=B;if(C==6||C==7||C==8)N.y=o;
if(p.A){N.x=p.A.x;N.y=p.A.y}}else if(p.K=="rot"&&(p.Z+2*Math.PI)%(Math.PI/2)!=0){var s=S.s.Ht(N).r,q=new gh;
q.translate(-d,-y);q.rotate(p.Z);q.translate(d,y);S.s.t(s,q,s);N=S.s.bs(s)}else if(p.K=="rot"&&p.Z!=Math.PI&&p.Z!=-Math.PI){N=new x(d-R.T/2,y-R.C/2,R.T,R.C);
if((R.C+R.T&1)==1){d=Math.floor(d);y=Math.floor(y);N=new x(d-Math.floor(R.T/2),y-Math.floor(R.C/2),R.T,R.C);
if((R.C&1)==1&&p.Z!=-Math.PI/2)N.y--;if((R.T&1)==1&&p.Z==-Math.PI/2)N.x--}}else if(p.K=="trim"){K=[11,12,0];
var F=R.iD(),b=new x(0,0,R.C,R.T);N=S.l_(F,b,p.SBT,p.FG);if(N.RJ())N=b}else if(p.K=="cropbysel"){K=[11,12,1];
N=R.S.rect.clone()}else if(p.K=="revealAll"){K=[11,12,2];N=R.root.yk(R,!0)}if(p.K=="imgsize"||p.K=="rot"||p.K=="scl"){var h=new gh;
if(p.K=="imgsize"){K=[11,10];h.scale(p.qU/R.C,p.qt/R.T)}else{h.translate(-d,-y);if(p.K=="rot")h.rotate(p.Z);
if(p.K=="scl")h.scale(p.Z.x,p.Z.y);h.translate(d,y);K=p.LS}u=S.L.fm(h);G=this.Slr(R,t,u,E)}var z=new x(0,0,R.C,R.T);
if(!N.RJ()&&(!N.xA(z)||G!=null)){var r=new gm(K,this);r.data={vK:z,Gi:N,SyQ:R.po,qA:T,rA:G,Dl:u,qG:m.RO.SSW(R,N,z,G!=null)};
R.sv(r);this.gq(r.data,R)}};m.RO.SSW=function(p,a,R,Q){if(p.GD.length==0)return null;var t=JSON.stringify(p.GD),N=JSON.parse(t);
m.rG.SYd(N,a,R,Q);N=JSON.stringify(N);return[t,N]};m.RO.prototype.Slr=function(p,a,R,Q,t){var N={M:[],GM:null,xg:null};
for(var K=0;K<p.M.length;K++)N.M.push(K);for(var K=0;K<p.pU.length;K++)N.M.push(-1-K);N.GM=m.B.pA(p,N.M,!0);
m.B.BY(p,a,N.M,N.GM,Q,R,null,!0,t);N.xg=m.B.pA(p,N.M,!0);return N};m.RO.prototype.gq=function(p,a){if(p.qA)a.po=p.qA;
if(p.qG)a.GD=JSON.parse(p.qG[1]);if(p.rA){m.RO.SKH(a,S.L.tz(p.Dl));m.B.YZ(a,p.rA.M,p.rA.xg)}m.RO.NU(a,p.Gi)};
m.RO.prototype.tk=function(p,a){if(p.SyQ)a.po=p.SyQ;if(p.qG)a.GD=JSON.parse(p.qG[0]);var R=p.vK.clone();
R.offset(-p.Gi.x,-p.Gi.y);m.RO.NU(a,R);if(p.so)a.z.A.cI(p.so);a.SZ$();if(p.rA){var Q=S.L.tz(p.Dl).clone();
Q.zw();m.RO.SKH(a,Q);m.B.YZ(a,p.rA.M,p.rA.GM)}};m.RO.SKH=function(p,a){for(var R=0;R<p.M.length;R++){var Q=p.M[R];
if(Q.add.artb==null)continue;var t=S.s.Ht(Q.iy()).r;S.s.t(t,a,t);var N=S.s.bs(t);Q.dU(N)}};m.RO.NU=function(p,a){p.C=a.C;
p.T=a.T;var R=[];for(var Q=0;Q<p.M.length;Q++)R.push(Q);m.OS.Lg(p,R,null,-a.x,-a.y);for(var Q=0;Q<p.M.length;
Q++){p.M[Q].WU(p)}p.SZ$();p.z.A.YY(0,0);if(p.S)p.S.rect.offset(-a.x,-a.y);for(var Q=0;Q<p.Mn.length;
Q++)p.Mn[Q].rect.offset(-a.x,-a.y)};m.RO.prototype.eu=function(p,a,R,Q,t){if(p.IM=="commit"){this.zZ(R,t);
this.disable(R,a,null,Q)}else if(p.IM=="cancel"){this.disable(R,a,null,Q)}var N=null,K=this.tD.ND;if(p.IM=="config"){this.tD=p.tD;
K=this.tD.ND;if(R==null)return;N=new x(0,0,R.C,R.T);if(K.GY==1){var T=K.x/K.y;N.T=Math.round(N.C/T)}if(K.GY==2){N.C=K.x;
N.T=K.y}N.x=Math.round((R.C-N.C)/2);N.y=Math.round((R.T-N.T)/2)}if(p.IM=="cropby"){if(R==null)return;
var d=p.SyB,N;if(d==0)N=R.root.yk(R,!0);if(d==1){if(R.V.length==0)alert("No layer is selected.");else{var y=R.root.GE(R.V[0]);
N=y.yk(R,!0)}}if(d==2){if(R.V.length==0)alert("No layer is selected.");else{var E=R.M[R.V[0]];N=S.l_(E.buffer,E.rect,0);
if(N.RJ())N=E.rect.clone()}}if(d==3){if(R.S!=null)N=R.S.rect;else alert("There is no selection.")}}if(N&&N.RJ())N=null;
if(N!=null){this.Kr=this.SdX(N,K.GY!=0);this.Kr.mB(R,t);this.an(a,V.E.v,{K:V.H.aK,Q:this.id,qy:!0})}};
m.RO.prototype.zZ=function(p,a){var R=this.Kr.CH(),Q=S.s.bs(R),t=this.SCU(p,R),N=!1,K=this.tD.ND,T=K.x,d=K.y,k;
if(this.id==m.iE&&K.GY==2&&t.u()!=T*d){t=new x(t.x,t.y,T,d);N=!0}var y=S.L.vn(R,t);y=S.L.zw(y);var E=S.L.OC(y),D=Math.atan2(y[3],y[0]);
if(Math.abs(D)>1e-9||!E||N)k=this.Slr(p,a,y,1,Q);var P=new gm(this.name,this),e=new x(0,0,p.C,p.T);P.data={vK:e,Gi:t,rA:k,Dl:y,so:p.z.A.clone(),qG:m.RO.SSW(p,t,e,!1)};
p.sv(P);this.gq(P.data,p)};m.RO.prototype.SCU=function(p,a){var R=S.L.vn(a),Q=S.L.OC(R),t=S.L.tz(R),N=t.NE,K=t.GV,T=Math.atan2(t.N,t.Eu);
t.rotate(T);var d=new x(N,K,t.Eu,t.$B);if(!Q){function y(g,J,U){var H=g[J]-g[U],f=g[J+1]-g[U+1];return Math.sqrt(H*H+f*f)}var E=y(a,0,2),k=y(a,4,6),D=Math.max(E,k),P=y(a,2,4),e=y(a,6,0),Y=Math.max(P,e),O=m.RO.SCO(a,p.C/2,p.T/2),W,w;
if(isNaN(O)||O==Infinity||O==-Infinity||Math.min(O,1/O)<.1)O=(E+k)/(P+e);if(D/Y>O){W=D*1;w=W/O}else{w=Y*1;
W=w*O}d.C=W;d.T=w}d.x=Math.round(d.x);d.y=Math.round(d.y);d.C=Math.round(d.C);d.T=Math.round(d.T);return d};
m.RO.SCO=function(p,a,R){var Q=p[0]-a,t=p[1]-R,N=p[2]-a,K=p[3]-R,T=p[6]-a,d=p[7]-R,y=p[4]-a,E=p[5]-R,k=((t-E)*T-(Q-y)*d+Q*E-t*y)/((K-E)*T-(N-y)*d+N*E-K*y),D=((t-E)*N-(Q-y)*K+Q*E-t*y)/((d-E)*N-(T-y)*K+T*E-d*y),P=-((D*d-t)*(k*K-t)+(D*T-Q)*(k*N-Q))/((D-1)*(k-1));
function e(O){return O*O}var Y=Math.sqrt((e(k-1)+e(k*K-t)/P+e(k*N-Q)/P)/(e(D-1)+e(D*d-t)/P+e(D*T-Q)/P));
if(k==1&&D==1)Y=Math.sqrt((e(K-t)+e(N-Q))/(e(d-t)+e(T-Q)));return Y};m.RO.prototype.disable=function(p,a,R,Q){if(p==null)return;
if(this.Kr)this.Kr.clear(p);this.Kr=null;this.an(a,V.E.v,{K:V.H.aK,Q:this.id,qy:!1})};m.RO.prototype.an=function(p,a,R,Q){var t=new $(a,!0);
t.data=R;if(Q)t.Q=Q;p.Y(t)};m.SKz=function(){m.RO.call(this,[10,2],m.iE,"tools/rcrop")};m.SKz.prototype=new m.RO;
m.SSH=function(){m.RO.call(this,[10,39],m.aN,"tools/pcrop")};m.SSH.prototype=new m.RO;m.Qw=function(){m.WH.call(this,[10,21],m.SlY,"tools/dodge");
this.Mt="dodge"};m.Qw.prototype=new m.WH;m.Qw.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.expo/Math.PI);
if(this.Nj==null)return;this.cS(p)};m.Qw.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.QA=function(){m.WH.call(this,[10,3],m.gA,"tools/eraser");
this.Mt="erase"};m.QA.prototype=new m.WH;m.QA.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.flow);
if(this.Nj==null)return;this.cS(p)};m.QA.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;var N=this.Wv(p,R,Q,t);this.cS(p)};m.Qu=function(){m.WH.call(this,[10,45],m.SCe,"tools/beraser");
this.Mt="ierase"};m.Qu.prototype=new m.WH;m.Qu.prototype.JI=function(p,a,R,Q,t){if(this.au(Q,a,t))return;
this.oF(p,R,Q,t,this.dL.flow);if(this.Nj==null)return;this.cS(p)};m.Qu.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);
if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.NW=function(){m.GP.call(this,[10,15],m.yO,"tools/rselect");
this.Y_="crosshair"};m.NW.prototype=new m.GP;m.NW.prototype.tU=function(p,a,R,Q){if(!Q.Fa||!this.Nl)return;
var t=this.yk(p,R,!0);p.R.FF=S.s.Ht(t);p.$h=!0;m.Eh.gQ(Q.x+10,Q.y-10,t,p,a)};m.NW.prototype.aD=function(p,a,R,Q){p.R.FF=null;
p.R.qm=[];p.$h=!0;this.finish(p,a,R,Q)};m.NW.prototype.getSelection=function(p,a,R,Q){if(this.SA.xA(this.Nm)||!this.Nl)return null;
var t=this.yk(p,R,!0);if(t.RJ())return null;return m.GP.fA("Rctn",t)};m.hv=function(){m.GP.call(this,[10,4],m.SSI,"tools/eselect");
this.Y_="crosshair"};m.hv.prototype=new m.GP;m.hv.prototype.tU=function(p,a,R,Q){if(!Q.Fa||!this.Nl)return;
var t=this.yk(p,R);p.R.FF=m.hv.SXs(t);p.$h=!0;m.Eh.gQ(Q.x+10,Q.y-10,t,p,a)};m.hv.prototype.aD=function(p,a,R,Q){p.R.FF=null;
p.R.qm=[];p.$h=!0;this.finish(p,a,R,Q)};m.hv.prototype.getSelection=function(p,a,R,Q){if(this.SA.xA(this.Nm)||!this.Nl)return null;
var t=this.yk(p,R);if(!t.jv(new x(0,0,p.C,p.T)))return null;return m.GP.fA("Elps",t)};m.hv.SXs=function(p){var a=p.x,R=p.y,Q=p.x+p.C,t=p.y+p.T,N=(a+Q)/2,K=(R+t)/2,T=(a-Q)/2,d=(R-t)/2,y=.5522848,E={r:[N,K-d],$:["M","C","C","C","C"]};
E.r.push(N+y*T,K-d,N+T,K-y*d,N+T,K);E.r.push(N+T,K+y*d,N+y*T,K+d,N,K+d);E.r.push(N-y*T,K+d,N-T,K+y*d,N-T,K);
E.r.push(N-T,K-y*d,N-y*T,K-d,N,K-d);return E};m.JT=function(){m.Eh.call(this,[10,5],m.SBu,"tools/eyedropper");
this.Ds=!1;this.kv=1};m.JT.prototype=new m.Eh;m.JT.prototype.yF=function(p){return p.Fa};m.JT.prototype.Gj=function(p,a,R,Q,t){if(p.K=="pickhere")this.zr(R,a,t,Q,p.SOF)};
m.JT.prototype.JI=function(p,a,R,Q,t){this.Ds=!0;this.zr(p,a,R,Q,t)};m.JT.prototype.r$=function(p,a,R,Q,t){if(this.Ds)this.zr(p,a,R,Q,t)};
m.JT.prototype.Gz=function(p,a,R,Q,t){this.Ds=!1};m.JT.prototype.zr=function(p,a,R,Q,t){var N=m.JT.NO(p,t,this.kv),K=new $(V.E.v);
K.data={K:V.H.es,L_:gp.zc,mK:0,Z:N};a.Y(K)};m.JT.NO=function(p,a,R){var Q=p.z.oD(a.x,a.y),t=Math.floor(Q.x),N=Math.floor(Q.y),K=(R-1)/2,T=Math.max(0,t-K),d=Math.max(0,N-K),y=Math.min(p.C,t+K+1),E=Math.min(p.T,N+K+1),k=(y-T)*(E-d),D=p.iD(),P=0,e=0,Y=0;
for(var t=T;t<y;t++)for(var N=d;N<E;N++){var O=4*(N*p.C+t);P+=D[O];e+=D[O+1];Y+=D[O+2]}P=Math.round(P/k);
e=Math.round(e/k);Y=Math.round(Y/k);return P<<16|e<<8|Y};m.JT.prototype.eu=function(p){this.kv=p.kv};
m.sV=function(){m.Eh.call(this,[10,6],m.SCM,"tools/gradient");this.dL={e:JSON.parse(gZ.mo.SIz).v,jd:"Lnr",Rp:!1,Soq:!1,SUK:"norm",NC:1};
this.kJ=!1;this.GF=null};m.sV.prototype=new m.Eh;m.sV.prototype.enable=function(p,a,R,Q){var t=new $(V.E.v,!0);
t.data={K:V.H.PA,Mz:"default"};a.Y(t)};m.sV.prototype.eu=function(p){this.dL=p.L_};m.sV.prototype.JI=function(p,a,R,Q,t){if(!p.Fp())return;
this.GF=p.z.oD(t.x,t.y);this.GF=m.OS.em(p,this.GF,R);this.kJ=!0};m.sV.prototype.r$=function(p,a,R,Q,t){if(!this.kJ)return;
var N=p.z.oD(t.x,t.y);N=m.OS.em(p,N,R);if(Q.g(n.ei))N=m.sV.du(this.GF,N);p.R.FF={r:[this.GF.x,this.GF.y,N.x,N.y],$:["M","L"]};
p.R.vI=[this.GF.x,this.GF.y,N.x,N.y];p.$h=!0};m.sV.prototype.Gz=function(p,a,R,Q,t){if(!this.kJ)return;
var N=p.M[p.V[0]],K=p.z.oD(t.x,t.y);K=m.OS.em(p,K,R);if(Q.g(n.ei))K=m.sV.du(this.GF,K);var T=K.Ai(this.GF),d=X.Ra(this.GF,K,.5),y=Math.atan2(T.y,T.x),E=X.Hz(this.GF,K),k=Math.sin(y),D=Math.cos(y);
if(E>2){var P;if(p.S)P=p.S.rect;else P=new x(0,0,p.C,p.T);var e=S.p(P.u()*4),Y=this.dL,O=Y.jd;if(O!="Lnr"){E*=2;
d=this.GF}S.e.Su(Y.e,e,P,[D*1/E,k*1/E,-k*1/E,D*1/E],d.x,d.y,Y.Rp,gZ.e.types.indexOf(O),R.rc,R.eJ,null,Y.Soq);
var W=Math.round(Y.NC*256),w=e.length;if(W!=256)for(var g=0;g<w;g+=4)e[g+3]=e[g+3]*W>>>8;var J=new $(V.E.W);
J.Q=m.gA;J.data={K:"fillBMP",bR:e,Hr:Y.SUK,LS:this.name};a.Y(J)}p.R.FF=null;p.R.vI=[];p.$h=!0;this.kJ=!1};
m.sV.du=function(p,a){if(p.xA(a))return p;var R=a.x-p.x,Q=a.y-p.y,t=Math.abs(R),N=Math.abs(Q);if(t>N)N=t/2>N?0:t;
if(N>t)t=N/2>t?0:N;t=R>0?t:-t;N=Q>0?N:-N;var K=Math.sqrt(R*R+Q*Q)/Math.sqrt(t*t+N*N);return new X(p.x+t*K,p.y+N*K)};
m.sV.np=function(p,a,R,Q,t,N,K){if(K==null)K=V.P("canvas","");var T=K.getContext("2d");K.width=a;K.height=R;
var d=new x(0,0,a,R),y=S.p(a*R*4);S.Sz(y,a,R,4,0,0);var E=Math.sin(Q),k=Math.cos(Q),D=S.p(a*R*4);S.e.Su(p,D,d,[k*1/a,E*1/a,-E*1/R,k*1/R],a/2,R/2,!1,0,t,N);
S.O.KJ("norm",D,d,y,d,d,1);var P=T.getImageData(0,0,a,R);S.$M(y,P.data);T.putImageData(P,0,0);return K.toDataURL()};
m.sV.SCQ=function(p,a,R){var Q=JSON.parse(JSON.stringify(p));for(var t=0;t<Q.Clrs.v.length;t++){var N=Q.Clrs.v[t].v,K=N.Type.v.Clry;
if(K=="UsrS")continue;var T=K=="FrgC"?a:R;N.Type.v.Clry="UsrS";N.Clr={t:"Objc",v:S.e.HW({D:T>>16&255,X:T>>8&255,N:T&255})}}return Q};
m.Ee=function(){m.Eh.call(this,[10,7],m.yd,"tools/hand");this.DR=new X(0,0);this.D$=new X(0,0)};m.Ee.prototype=new m.Eh;
m.Ee.prototype.Gj=function(p,a,R,Q,t){var N=p.K;if(N=="setcls"){R.z.mC=p.mC;R.$h=!0;R.At=!0}if(N=="scroll"&&!Q.g(n.LG)){if(Q.g(n.GA))m.Ee.wZ(R,R.z.A.x-p.rb.y,R.z.A.y-p.rb.x);
else m.Ee.wZ(R,R.z.A.x-p.rb.x,R.z.A.y-p.rb.y)}};m.Ee.prototype.enable=function(p,a,R,Q){var t=new $(V.E.v,!0);
t.data={K:V.H.PA,Mz:"grab"};a.Y(t)};m.Ee.prototype.JI=function(p,a,R,Q,t){this.D$.cI(p.z.A);this.DR.YY(t.x,t.y)};
m.Ee.prototype.r$=function(p,a,R,Q,t){if(!t.Fa)return;m.Ee.wZ(p,this.D$.x+(t.x-this.DR.x),this.D$.y+(t.y-this.DR.y))};
m.Ee.wZ=function(p,a,R){var Q=p.z.f;if(p.C*Q<p.z.c.C&&p.T*Q<p.z.c.T)p.z.A.YY(0,0);else{p.z.A.x=a;p.z.A.y=R}p.At=!0};
m.zR=function(){m.di.call(this,[10,25],m._i,"tools/hbrush")};m.zR.prototype=new m.di("");m.zR.prototype.Gz=function(p,a,R,Q,t){if(this.Nj==null)return;
this.nN(p,"heal",this.Nj.gR(),this.Nj.yk(),this.Nj.vE());this.U(p,this.Nj.vE());m.WH.prototype.Gz.call(this,p,a,R,Q,t);
if(!this.dL.algnd)this.A=null};m.fk=function(){m.Eh.call(this,[10,8],m.Fr,"tools/htype");this.RY=[];
this.NI=null;this.hM=null;this.caller=null;this.SWD=0;this.q_=0;this.SWG=null;this.DM=null;this.fc=null;
this.kD=null;this.Nc=null;this.Rr=null;this.SWn=null;this.r_=null;this.Kr=null;this.aT=null;this.Svl=null;
this.Rl=!1;this.mN=!1;this.ok=!1;this.kV=null;this.dk=null;this.Svk=null;this.DX=!1;this.Ep=!1;this.Xz=-1;
this.eq=-1;this.Yx=document.createElement("textarea");this.Yx.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.Yx.addEventListener("input",this.Slw.bind(this),!1);this.Yx.addEventListener("keydown",this.SgE.bind(this),!1)};
m.fk.prototype=new m.Eh;m.fk.prototype.yF=function(p){return p.Fa};m.fk.prototype.hW=function(p,a,R,Q){if(this.fc!=null)return;
this.caller=a;this.NI=p;var t=this.SoK(p);if(t.length!=0){var N=null,K=[],T=[];for(var d=0;d<t.length;
d++){var y=p.M[t[d]],E=y.add.TySh,k=0,D=gK.cB(E.KY).length-2,P=gK.dJ(E.KY,k,D);gK.Xc(P,m.B.Of(E.t));
if(P.RW.Font!=null)P.RW.Font=P.nY[P.RW.Font].Name;N=P.nY;K.push(P.RW);T.push(P.uq)}var P={nY:N,RW:gK.Xl(K),uq:gK.Xl(T)};
if(P.RW.Font)gK.rl(P,P.RW.Font);this.Sla(a,P)}};m.fk.prototype.SoK=function(p){var a=[];for(var R=0;
R<p.V.length;R++)if(p.M[p.V[R]].add.TySh)a.push(p.V[R]);return a};m.fk.prototype.Gj=function(p,a,R,Q,t){if(p.K=="updateStyles"){if(this.fc==null){var N=this.SoK(R),K=!1;
if(N.length!=0){this.wS(R,a,t,N);for(var T=0;T<N.length;T++){var d=R.M[N[T]],y=d.add.TySh;this.fc=d;
var E=gK.cB(y.KY);this.Xz=0;this.eq=E.length-1;gK.mv(y.KY,this.Xz,this.eq,this.zx(t,y));var k=this.KI(R,t);
if(k==!1)K=!0}if(K){this.DX=!0;return}this.aO(R,a)}return}this.zf(t)}if(p.K.startsWith("warp")){var D=this.Ep;
if(p.K=="warp"||p.K=="warpCancel"){if(p.K=="warp")this.fc.add.TySh.oJ=p.KF;else this.fc.add.TySh.oJ=this.SWn;
var R=this.NI;this.KI(R,t);if(!D)this.Fm(R)}if(p.K!="warp")this.Yx.focus();if((p.K=="warpConfirm"||p.K=="warpCancel")&&D){this.Ep=!1;
if(p.K=="warpConfirm")this.aO(R,a);else this.pc(R,a)}}if(p.K=="editCurr"){if(this.fc!=null)this.disable(R,a,t,Q);
this.NI=R;this.hM=t;this.caller=a;this.wS(R,a,t,[p.ll]);var E=gK.cB(this.fc.add.TySh.KY);this.Xz=0;this.eq=E.length-1;
this.Fm(R);this.NP();this.Yx.focus()}if(p.K=="switchPntPrgr"){var d=R.M[R.V[0]],y=d.add.TySh,P=y.t.Of(),e=JSON.parse(JSON.stringify(y.KY)),Y=gK.Ez(e),O=Y==1?gK.rj(e):[0,0,Math.round(d.rect.C*1.05/P),Math.round(d.rect.T*1.25/P)],W=gK.dJ(e,0,0),w=[0,O[2],O[2]/2][W.uq.Justification%3],g=W.RW.FontSize*.8;
gK.mW(e,1-Y);if(Y==0){w=-w;g=-g;gK.Dn(e,[0,0,O[2],O[3]])}var J=new gh(1,0,0,1,w,g);J.concat(y.t);this.Gj({Rc:R.V[0],K:"newED",DF:e,t:J},a,R,Q,t)}if(p.K=="newED"){var d=R.M[p.Rc],y=d.add.TySh,U=this.wd(R,[p.Rc]);
y.KY=p.DF;if(p.t)y.t=p.t;var H=new NC(y.KY,t.mk),f=CG.PX(H,y);d.rect=f.I;d.buffer=f.Yz;d.U();R.U();var j=new gm(this.name,this);
j.data={pZ:U,Di:this.wd(R,[p.Rc])};R.sv(j)}};m.fk.prototype.zf=function(p){var a=Math.min(this.Xz,this.eq),R=Math.max(this.Xz,this.eq),Q=this.fc.add.TySh;
gK.mv(Q.KY,a,R-1,this.zx(p,Q));var t=this.NI,N=this.KI(t,p);if(N)this.Fm(t);if(document.activeElement.tagName.toLowerCase()!="input")this.Yx.focus()};
m.fk.prototype.Gk=function(p){return this.RY.indexOf(p)!=-1};m.fk.prototype.enable=function(p,a,R,Q){var t=this.Yx;
if(!V.aM(t))a._.appendChild(t);this.r_="default";this.RH(a)};m.fk.prototype.AM=function(){return this.fc!=null};
m.fk.prototype.Sdh=function(p,a){for(var R=p.M.length-1;R>=0;R--){var Q=p.M[R];if(Q.add.TySh&&Q.rect.lp(a)&&p.Spe(R)){var t=Q.qJ(2)||Q.qJ(31);
return t?-2:R}}return-1};m.fk.prototype.JI=function(p,a,R,Q,t){this.NI=p;this.hM=R;this.caller=a;var N=p.z.oD(t.x,t.y),K=this.fc==null;
if(K){var T=this.Sdh(p,N);if(T==-2){alert(gL.get([6,57,0]));return}if(T>=0){if(!CG.vm(p.M[T].add.TySh,R.mk)){alert("Fonts not loaded yet");
return}this.wS(p,a,R,[T])}else{this.ok=!0;this.kV=t;return}}var d=K?-1:gK.Ez(this.fc.add.TySh.KY),y=this.aT?this.aT:this.Kr;
if(y&&y.JI(p,R,Q,N)&&S.KF.QD(this.fc.add.TySh.oJ)||!K&&S.s.KG(N,this.fc.rect)>20/p.z.f&&(d==0||d==1)){this.Rl=!0;
this.dk=N;this.Svk=this.fc.add.TySh.t.clone();if(this.Xz==-1&&this.eq==-1)this.Xz=this.eq=this.zU(N)}else{if(this.Nc==null){alert("Fonts not loaded yet");
return}this.mN=!0;this.Xz=this.eq=this.zU(N);var E=Date.now();if(E-this.SWD>300)this.q_=0;this.q_++;
this.SWD=E;if(this.q_==2)this.SCn();if(this.q_==3)this.SgZ();if(this.q_>1){this.mN=!1;this.NP()}}this.Fm(p)};
m.fk.prototype.wS=function(p,a,R,Q){var t=p.M[Q[0]];this.fc=t;this.an(a,V.E.v,{K:V.H.aK,Q:this.id,IM:"showactive"});
this.kD=Q;p.V=Q.slice(0);p.Mv();p.Es=!0;this.Rr=this.wd(p,Q);this.zB(t.add.TySh);this.KI(p,R)};m.fk.prototype.zB=function(p){if(gK.Ez(p.KY)!=1)return;
var a=gK.rj(p.KY);a=new x(0,0,a[2]-a[0],a[3]-a[1]);var R=[a.x,a.y,a.x+a.C,a.y,a.x+a.C,a.y+a.T,a.x,a.y+a.T];
S.s.t(R,p.t,R);this.Kr=new KW(R,!1,!1,!1,!0)};m.fk.prototype.SCn=function(){var p=gK.cB(this.fc.add.TySh.KY);
this.Xz=this.SpX(p,this.Xz);this.eq=this.SpQ(p,this.Xz)};m.fk.prototype.SpX=function(p,a){var R=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Q=[];
for(var t=0;t<R.length;t++)Q.push(R.charAt(t));var N=Q.indexOf(p[a])==-1?!0:!1;for(var t=a-1;t>=0;t--)if(Q.indexOf(p.charAt(t))!=-1==N)return t+1;
return 0};m.fk.prototype.SpQ=function(p,a){var R=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Q=[];for(var t=0;
t<R.length;t++)Q.push(R.charAt(t));var N=Q.indexOf(p[a])==-1?!0:!1;for(var t=a+1;t<p.length;t++)if(Q.indexOf(p.charAt(t))!=-1==N)return t;
return p.length-1};m.fk.prototype.SgZ=function(){var p=this.Nc.S$R(this.Xz);this.Xz=p[0];this.eq=p[1]};
m.fk.prototype.RH=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.PA,Mz:this.r_};p.Y(a)};m.fk.prototype.r$=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=this.fc;
if(!t.Fa){var T="default",d=this.Kr,y=this.aT?this.aT:d;if(y&&S.KF.QD(K.add.TySh.oJ)){var E=y.yU(N,p.z.f);
if(E)T=E;else if(y==d&&d.YC(N))T="text"}else if(K&&S.s.KG(N,K.rect)>20/p.z.f)T="move";else if(this.Sdh(p,N)>=0)T="text";
if(T!=this.r_){this.r_=T;this.RH(a)}}if(this.ok&&X.Hz(this.kV,t)>4){this.ok=!1;this.SB_(p,a,R,Q,t);K=this.fc;
this.Rl=!0;this.Kr=new KW(null,!1,!1,!1,!0);var k=p.z.oD(this.kV.x,this.kV.y);k.x=Math.round(k.x);k.y=Math.round(k.y);
this.Kr.JI(p,R,Q,k)}if(this.Rl){var D=K.add.TySh;if(this.aT){this.aT.r$(p,R,Q,N);var P=S.L.tz(S.L.vn(this.aT.CH(),this.Svl));
D.t=P;this.KI(p,R);gK.SS(D)}else if(this.Kr){this.Kr.r$(p,R,Q,N);var e=D.t.clone(),Y=Math.atan2(e.N,e.Eu);
e.rotate(Y);var P=S.L.tz(S.L.vn(this.Kr.CH())),O=Math.atan2(P.N,P.Eu);P.rotate(O);if(!isNaN(P.Eu)&&P.Eu*P.$B-P.N*P.CI!=0){var W=new x(0,0,P.Eu/e.Eu,P.$B/e.$B),w=Math.round(W.C),g=Math.round(W.T),J=D.KY.Curve;
if(J){var U=gK.rj(D.KY),H=new gh(w/U[2],0,0,g/U[3],0,0);S.s.t(J.Points,H,J.Points);gK.SS(D)}gK.Dn(D.KY,[0,0,w,g]);
D.t=S.L.tz(S.L.vn(this.Kr.CH(),W));this.KI(p,R);gK.SS(D)}}else{var f=N.x-this.dk.x,j=N.y-this.dk.y;D.t=this.Svk.clone();
var I=new X(D.t.NE+f,D.t.GV+j);I=m.OS.em(p,I,R);D.t.NE=I.x;D.t.GV=I.y;this.KI(p,R)}}if(this.mN)this.eq=this.zU(N);
if(this.Rl||this.mN)this.Fm(p)};m.fk.prototype.SB_=function(p,a,R,Q,t){var N=p.h$(),K=N[0],T=N[1],d=p.hX();
d.add.lnsr="rend";var y=p.M.slice(0);d.xJ("Text layer "+y.length);this.fc=d;var E=p.V.length==0?p.M.length-1:p.V[p.V.length-1],k=E+1;
if(y[E].add.lsct==Ns.hI)k--;this.Rr={Jt:y.slice(0),Xu:p.V.slice(0)};y.splice(k,0,d);p.V=[k];this.Xz=this.eq=0;
p.ag(y);this.Rr.eP=y.slice(0);this.Rr.AO=p.V.slice(0);this.an(a,V.E.v,{K:V.H.aK,Q:this.id,IM:"showactive"});
var D=p.z.oD(t.x,t.y);d.add.TySh=gK.oG(D.x,D.y,R.og);var P=d.add.TySh,e=P.KY;if(t.Fa)gK.mW(e,1);else{gK.mW(e,0);
var Y=K[T.pop()],O=Y?Y.add.vmsk:null;if(O){O=O.clone();var W=O.G,J,U;for(var w=0;w<W.length;w++)if(W[w].gu!=null)W[w].gu=0;
var g=4*V.o()/p.z.f;J=S.d.uM(O.G,D,!0,g);if(J.Yo==-1)J=S.d.uM(O.G,D);if(J.Yo!=-1){gK.mW(e,1);var H=S.d.kk(W,J.Yo),f=S.d.IL(W,J.Yo)-1;
W=O.G=W.slice(0,2).concat(W.slice(H,H+f+1));O.V=[];P.add={vmsk:O,vogk:l.YH(W)};e.Curve={};gK.RU(P);if(J.qT!=null){var j=NC.ut(e.Curve);
S.s.t(j[0],P.t,j[0]);var I=S.s.On(j[0],D.x,D.y),L=R.og.uq.Justification;if(L==2||L==5){var C=(j[2][I]+j[3]*.5)%j[3];
I=NC.XA(C,j[2])}var v=j[1][I];v=v%f;O.Wx=[v,v];gK.RU(P)}else this.zB(P)}}}return d};m.fk.prototype.Gz=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=this.ok;
if(this.ok){this.ok=!1;this.SB_(p,a,R,Q,t);this.mN=!0}if(this.Rl||this.mN){this.Fm(p);this.NP();if(K)this.zf(R)}if(this.Rl&&this.Kr)this.Kr.Gz(p,R,Q,N);
this.Rl=this.mN=!1;this.SKX(p,R,Q);this.Yx.focus()};m.fk.prototype.NP=function(){var p=this.fc.add.TySh,a=Math.min(this.Xz,this.eq),R=Math.max(this.Xz,this.eq),Q,t;
if(a==R){var N=gK.cB(p.KY);if(a==0||N.charAt(a-1)=="\n")Q=t=a;else Q=t=a-1}else{Q=a;t=R-1}var K=gK.dJ(p.KY,Q,t);
gK.Xc(K,m.B.Of(p.t));this.Sla(this.caller,K)};m.fk.prototype.Sla=function(p,a){this.an(p,V.E.v,{K:V.H.es,L_:gp.YQ,og:a})};
m.fk.prototype.Qb=function(p,a,R,Q){if(Q.g(n.tu))this.pc(p,a);var t=this.fc;if(t)if(this.aT==null&&Q.g(n.GA)){var N=t.add.TySh,K=gK.Ez(N.KY),T;
if(K==1){T=gK.rj(N.KY);T=new x(0,0,T[2]-T[0],T[3]-T[1])}else T=this.Nc.uV();var d=[T.x,T.y,T.x+T.C,T.y,T.x+T.C,T.y+T.T,T.x,T.y+T.T];
S.s.t(d,N.t,d);this.aT=new KW(d,!0,!0,!1,!1);this.Svl=T;this.Fm(this.NI)}else this.SKX(p,R,Q)};m.fk.prototype.SKX=function(p,a,R){var Q=this.fc;
if(Q&&!this.Rl&&this.aT!=null&&!R.g(n.GA)){this.aT.Gz(p,a,R,null);this.aT=null;this.zB(Q.add.TySh);this.Fm(this.NI)}};
m.fk.prototype.disable=function(p,a,R,Q){var t=this.fc;this.aO(p,a)};m.fk.prototype.eu=function(p,a,R,Q,t){if(this.Ep)return;
if(p.IM=="commit")this.aO(R,a);if(p.IM=="cancel")this.pc(R,a);if(p.IM=="showwarp"){if(R==null)return;
if(this.fc==null){var N=R.M[R.V[0]],K=N.add.TySh;if(K==null)return;this.wS(R,a,t,[R.V[0]]);this.Yx.focus();
this.Ep=!0}this.SWn=this.fc.add.TySh.oJ;var T=new $(V.E.v,!0);T.data={K:V.H.XS,ax:"textwarp"};a.Y(T)}};
m.fk.prototype.JD=function(p,a){if(a!=gp.Sy)return;if(this.DX){this.DX=!1;var R=this.NI,Q=this.kD;for(var t=0;
t<Q.length;t++){this.fc=R.M[Q[t]];this.KI(R,p)}this.aO(R,this.caller);return}if(this.fc)this.zf(p)};
m.fk.prototype.zx=function(p,a){var R=JSON.parse(JSON.stringify(p.og));gK.Xc(R,1/m.B.Of(a.t));return R};
m.fk.prototype.gq=function(p,a){if(p.pZ!=null)this.zo(a,p.Di);else this.SIS(a,p.eP,p.AO)};m.fk.prototype.tk=function(p,a){if(p.pZ!=null)this.zo(a,p.pZ);
else this.SIS(a,p.Jt,p.Xu)};m.fk.prototype.zo=function(p,a){for(var R=0;R<a.length;R++){var Q=a[R],t=Q.Rc,N=p.M[t];
N.buffer=Q.UJ;N.rect=Q.I.clone();N.U();var K=N.add.TySh;K.oJ=Q.KF;K.Yf=Q.Yf.clone();K.t=Q.t.clone();
K.KY=JSON.parse(JSON.stringify(Q.KY));N.$b()}p.U()};m.fk.prototype.wd=function(p,a){var R=[];for(var Q=0;
Q<a.length;Q++){var t=a[Q],N=p.M[t],K=N.add.TySh;R.push({Rc:t,t:K.t.clone(),KF:JSON.parse(JSON.stringify(K.oJ)),Yf:K.Yf.clone(),KY:JSON.parse(JSON.stringify(K.KY)),UJ:S.clone(N.buffer),I:N.rect.clone()})}return R};
m.fk.prototype.SIS=function(p,a,R){p.V=R;p.ag(a);p.U()};m.fk.prototype.KI=function(p,a,R){if(R==null)R=!1;
var Q=this.fc.add.TySh;if(!CG.vm(Q,a.mk))return!1;this.Nc=new NC(Q.KY,a.mk);if(!R){var t=gK.cB(Q.KY);
this.Yx.value=t.slice(0,t.length-1)}var N=CG.PX(this.Nc,Q);if(S.KF.QD(Q.oJ))Q.Yf=new x;else{if(gK.Ez(Q.KY)==1){var K=gK.rj(Q.KY),T=N.Yf.y;
Q.Yf=new x(0,T,K[2]-K[0],K[3]-K[1]-T)}else{Q.Yf=N.Yf}}var d=this.fc.rect;this.fc.rect=N.I;this.fc.buffer=N.Yz;
this.fc.U();p.yP();p.U(p.root.Mx(N.I.hT(d),p,p.M.indexOf(this.fc)));return!0};m.fk.prototype.Slw=function(p){if(this.fc==null||this.Ep)return;
var a=this.Yx.selectionStart,R=this.fc.add.TySh,Q=gK.cB(R.KY),t=this.Yx.value+"\n",N=Math.min(this.Xz,this.eq),K=Math.max(this.Xz,this.eq),k=!1;
this.Xz=Math.min(a,N);if(t.length-a<Q.length-this.eq)this.eq=Q.length-t.length+a;if(Q!=t){while(this.Xz>0&&Q.charAt(this.Xz-1)!=t.charAt(this.Xz-1))this.Xz--}var T=Q.substring(0,this.Xz),d=Q.substring(this.eq,Q.length),y=t.substring(this.Xz,t.length-d.length);
gK.Xk(R.KY,this.Xz,this.eq);gK.uC(R.KY,this.Xz,y);var E=this.zx(this.hM,R),D=-1;for(var P=0;P<y.length;
P++)D=Math.max(D,y.charCodeAt(P));if(D!=-1&&D>128&&E.RW.Font!=null){var e=E.nY[E.RW.Font].Name,Y=this.hM.mk.kH(D,e,E.nY);
if(e!=Y){gK.rl(E,Y);k=!0}}if(this.DM!=null&&y==this.DM){var O=JSON.parse(this.SWG);E.RW=O.RW;E.nY=O.nY;
k=!0}gK.mv(R.KY,this.Xz,this.Xz+y.length-1,E);this.Xz=this.eq=T.length+y.length;var W=this.NI,w=this.KI(W,this.hM,!0);
if(w)this.Fm(W,!0);if(k)this.NP()};m.fk.prototype.SgE=function(p){if(this.fc==null||this.Ep)return;if(this.fc==null)return;
var a=n,R=0,Q=0,W=!1;if(a.Lk(p.code,a.SlS))R=1;if(a.Lk(p.code,a.Shf))R=-1;if(a.Lk(p.code,a.lZ))Q=-1;
if(a.Lk(p.code,a.ld))Q=1;var t=p.ctrlKey||p.metaKey,N=a.Lk(p.code,n.Sss),K=a.Lk(p.code,n.Ssf);if(a.Lk(p.code,n.eL)&&t){this.aO(this.NI,this.caller);
return}if(a.Lk(p.code,n.Dd)){p.preventDefault();var T=this.Yx,d=T.value,y=T.selectionStart,E=T.selectionEnd;
T.value=d.substring(0,y)+"\t"+d.substring(E);T.selectionStart=T.selectionEnd=y+1;this.Slw(null);return}if((a.Lk(p.code,a.oe)||a.Lk(p.code,a.DL))&&t){var k=this.Xz,D=this.eq;
if(k>D){var P=k;k=D;D=P}var e=this.fc.add.TySh,Y=gK.cB(e.KY);if(k!=D){this.DM=Y.slice(k,D);this.SWG=JSON.stringify(this.hM.og)}}var O=gK.cB(this.fc.add.TySh.KY);
if(R!=0||Q!=0||N||K){p.preventDefault();var w=this.Xz;if(R!=0){if(t&&R==-1)w=this.SpX(O,this.Xz-1);else if(t&&R==1)w=this.SpQ(O,this.Xz);
else w=this.Xz+R}else if(Q!=0){var g=this.Nc.uP(this.Xz);if(Q==-1&&g.kn==0)w=0;else if(Q==1&&g.kn==this.Nc.SqT()-1)w=99999999999;
else w=this.Nc.ShH(new X(g.I.x+g.I.C/2,0),g.kn+Q)}else if(N){var J=this.Xz-1;while(J>0&&O.charCodeAt(J)!=10)J--;
w=J==0?0:J+1}else if(K){var J=this.Xz;while(J<O.length-1&&O.charCodeAt(J)!=10)J++;w=J}w=Math.max(0,Math.min(O.length-1,w));
if(p.shiftKey)this.Xz=w;else this.Xz=this.eq=w;W=!0}if(a.Lk(p.code,n.H)&&t){this.Xz=0;this.eq=O.length-1;
W=!0}if(W){this.NP();this.Fm(this.NI)}};m.fk.Sgk=function(p,a){var R=p.length;if(R!=a.length)return!1;
for(var Q=0;Q<R;Q++)if(p[Q].Rc!=a[Q].Rc)return!1;return!0};m.fk.prototype.aO=function(p,a){if(this.fc==null)return;
this.fc.$b();var R=this.Rr;if(R instanceof Array){var Q=this.wd(p,this.kD),t=p.Lx();if(t!=null&&t.Q==this&&t.data.pZ&&m.fk.Sgk(t.data.pZ,R))t.data.Di=Q;
else{var N=new gm(this.name,this);N.data={pZ:R,Di:Q};p.sv(N)}}else{var N=new gm(this.name,this);N.data={Jt:R.Jt,eP:R.eP,Xu:R.Xu,AO:R.AO};
p.sv(N)}this.escape(p,a)};m.fk.prototype.pc=function(p,a){if(this.fc==null)return;if(this.Rr instanceof Array){this.zo(p,this.Rr);
if(this.fc)gK.SS(this.fc.add.TySh)}else{p.V=this.Rr.Xu;p.ag(this.Rr.Jt)}p.U();this.escape(p,a)};m.fk.prototype.escape=function(p,a){this.fc=null;
this.kD=null;this.Nc=null;this.Kr=null;this.Yx.blur();p.R.FF=null;p.R.I$=null;p.R.vI=[];p.$h=!0;this.Rl=!1;
this.mN=!1;this.Xz=this.eq=-1;this.an(a,V.E.v,{K:V.H.aK,Q:this.id,IM:"hideactive"})};m.fk.prototype.an=function(p,a,R,Q){var t=new $(a,!0);
t.data=R;if(Q)t.Q=Q;p.Y(t)};m.fk.prototype.zU=function(p){var a=this.fc.add.TySh,R=this.Nc,Q=a.t.clone();
Q.zw();var t=Q.Ci(p),N=gK.yk(a,R),K=S.KF.tM(a.oJ,N),T=S.Lp.j.j$(K,0,1,0,1),d=new Uint32Array(30),y=S.Lp.j.SBM(T.fl,T.bB,t.x,t.y,d),E=S.Lp.uM(K,t.x,t.y,T.fl,d,y,!1),k=S.Lp.OK;
if(k==null)k=new Float64Array(2);t=new X(N.x+k[0]*N.C,N.y+k[1]*N.T);var D=R.ShH(t);return D};m.fk.prototype.Fm=function(p,a){if(a==null)a=!1;
var R=this.fc.add.TySh,Q=gK.Ez(R.KY),t=this.Nc,N=t?gK.yk(R,t):null;p.R.vI=[];p.R.FF=null;p.R.I$=null;
var K=this.aT?this.aT:this.Kr;if(K){K.mB(p,this.hM,!S.KF.QD(R.oJ));var T=R.t.clone();T.zw();S.s.t(p.R.vI,T,p.R.vI);
S.s.t(p.R.FF.r,T,p.R.FF.r);if(t&&t.Sqv()){var d=N.C-20,y=N.T+8;p.R.FF.r.push(d,y,d+10,y,d+5,y-5,d+5,y+5);
p.R.FF.$.push("M","L","M","L")}}else if(Q==0)this.Sgc(p,R,t);else p.R.FF={r:[],$:[]};var E=Math.min(this.Xz,this.eq),k=Math.max(this.Xz,this.eq);
if(!a){this.Yx.selectionStart=E;this.Yx.selectionEnd=k}if(t!=null){var D=function(K,H){var f=K.x,j=K.y+K.T,I=new gh;
I.translate(-f,-j);I.rotate(-H);I.translate(f,j);K.y+=K.T*.27;var g=S.s.Ht(K);S.s.t(g.r,I,g.r);return g};
if(E==k){E=Math.max(E,0);var P=t.uP(E);if(P){var e=P.I,Y=this.hM.og.RW.FontSize;if(Y!=null&&Y!=0){e.y+=e.T-Y;
e.T=Y}var O=t.S$d(E);if(O!=null&&O.eZ==1)e.x+=e.C;var W=D(e,P.le).r;p.R.FF.$.push("M","L");p.R.FF.r.push(W[0],W[1],W[6],W[7])}}else{p.R.I$={r:[],$:[]};
for(var w=E;w<k;w++){var P=t.uP(w),g=D(P.I,P.le);S.s.concat(p.R.I$,g)}}}if(t!=null){if(!N.RJ()){var J=S.KF.tM(R.oJ,N),U=Math.min(N.C,N.T)/10;
if(p.R.FF){p.R.FF=S.s.dq(p.R.FF);p.R.FF=S.s.dM(p.R.FF,U);S.Lp.apply(J,p.R.FF.r,N)}if(p.R.I$){p.R.I$=S.s.dq(p.R.I$);
p.R.I$=S.s.dM(p.R.I$,U);S.Lp.apply(J,p.R.I$.r,N)}S.Lp.apply(J,p.R.vI,N)}}if(p.R.FF)S.s.t(p.R.FF.r,R.t,p.R.FF.r);
if(p.R.I$)S.s.t(p.R.I$.r,R.t,p.R.I$.r);S.s.t(p.R.vI,R.t,p.R.vI);p.$h=!0};m.fk.prototype.Sgc=function(p,a,R){if(R==null)return;
p.R.vI.push(0,0);if(p.R.FF==null)p.R.FF={$:[],r:[]};for(var Q=0;Q<R.uq.length;Q++){var t=R.uq[Q];for(var N=0;
N<t.Nb.length;N++){var K=t.Nb[N],T=t.za.x+K.za.x+K.I.x,d=t.za.y+K.za.y+K.I.y+K.I.T;p.R.FF.$.push("M","L");
p.R.FF.r.push(T,d,T+K.I.C,d)}}p.$h=!0};m.hC=function(){m.GP.call(this,[10,9],m.SSu,"tools/lasso");this.Y_="crosshair";
this.zy=null;this.VD=null;this.dk=null};m.hC.prototype=new m.GP;m.hC.prototype.mV=function(p,a,R,Q){this.zy=this.SA;
this.VD={r:[this.zy.x,this.zy.y],$:["M"]}};m.hC.prototype.tU=function(p,a,R,Q){this.dk=Q;var t=this.VD;
if(t==null)return;if(!Q.Fa){if(this.VD!=null&&this.tO>1&&R.g(n.LG)){t.r.pop();t.r.pop();t.r.push(this.Nm.x,this.Nm.y);
p.R.FF=t;p.$h=!0}return}t.$.push("L");t.r.push(this.Nm.x,this.Nm.y);this.zy=this.Nm;if(this.Nl){p.R.FF=t;
p.$h=!0}};m.hC.prototype.AM=function(){return this.VD!=null};m.hC.prototype.fu=function(){return this.VD!=null};
m.hC.prototype.Qb=function(p,a,R,Q){m.GP.prototype.Qb.call(this,p,a,R,Q);if(this.VD&&this.tO>1&&this.dk&&!this.dk.Fa&&!Q.g(n.LG))this.SKf(p,R,Q)};
m.hC.prototype.aD=function(p,a,R,Q){this.dk=Q;var t=this.VD;if(t==null)return;if(this.tO>1&&R.g(n.LG)){t.$.push("L");
t.r.push(this.Nm.x,this.Nm.y);return}this.SKf(p,a,R)};m.hC.prototype.SKf=function(p,a,R){this.finish(p,a,R,this.dk);
this.VD=null;p.R.FF=null;p.$h=!0};m.hC.prototype.getSelection=function(p,a,R,Q){if(this.SA.xA(this.Nm)||!this.Nl)return null;
return m.GP.Nh(this.VD.r)};m.OS=function(){m.Eh.call(this,[10,11],m.Tx,"tools/move");this.qc=new X(0,0);
this.$S=new X(0,0);this.Gm=null;this.qj=null;this.HK=new X(0,0);this.EC=null;this.$F=null;this.yt=null;
this.QL=null;this.KR=[];this.tb=null;this.kJ=!1;this.K=0;this.Dv=null;this.ee=null;this.$N=null;this.cg=!1;
this.dL={EM:!1,Ey:!1,Ua:!1};this.Kr=null;this.Or=null;this.SJD=null;var p=[];for(var a=0;a<S.EH.dD.length;
a++)p.push({name:S.EH.dD[a],J:function(R,Q,t){return{Ve:Q.QR.tc==t}}});this.VI=new Nq(p);this.VI.h("select",this.zQ,this)};
m.OS.prototype=new m.Eh;m.Eh.prototype.yF=function(p){return this.kJ&&this.K!=2};m.OS.prototype.SKV=function(){return this.kJ&&this.K==0};
m.OS.prototype.SKS=function(p,a,R,Q){this.NV(p,-this.HK.x,-this.HK.y);this.HK.YY(0,0);this.pS(p,null,R);
this.Ll(p)};m.OS.prototype.ad=function(){var p=this.dL;return[p.EM?1:0,p.Ey?1:0,p.Ua?1:0]};m.OS.prototype.SST=function(p,a,R){var Q=this.dL;
if(p&&p[0]!=null)Q.EM=p[0]==1;if(p&&p[1]!=null)Q.Ey=p[1]==1;if(p&&p[2]!=null)Q.Ua=p[2]==1;var t=new $(V.E.v,!0);
t.data={K:V.H.aK,Q:this.id,vL:Q,SOW:a};R.Y(t)};m.OS.Siw=function(p,a,R,Q,t,N,K){if(K==null)K=[!1,!0];
var T=new x(0,0,p.C,p.T),d=p.Dh(null,t,!0),y=p.SIk(d,K[0]?T:null,K[1]?null:T)[0];if(R!=1){var E=new x(0,0,Math.round(y.C*R),Math.round(y.T*R));
m.RO.NU(y,E);var k=[];for(var D=0;D<y.M.length;D++)k.push(D);var P=m.B.pA(y,k,!0);m.B.BY(y,Q,k,P,1,S.L.fm(new gh(R,0,0,R,0,0)),null,!0);
y.G_()}var e=[];for(var D=0;D<a.length;D++)e.push(gr.$x(y,a[D].toUpperCase(),null,null,N?N[D]:null,Q));
return e};m.OS.prototype.Sxi=function(p,a,R,Q,t){if(p==null||p.V.length==0)return;var N=m.OS.Siw(p,[a],R,Q,null)[0],K=new $(V.E.v,!0);
K.data={K:V.H.IB,data:N,name:p.M[p.V[0]].getName()+"."+a};t.Y(K)};m.OS.prototype.eu=function(p,a,R,Q,t){if(p.mK=="getPNG"){this.Sxi(R,"png",p.SZA,t,a)}else if(p.mK=="getSVG"){this.Sxi(R,"svg",p.SZA,t,a)}if(p.mK=="prms"){this.dL=p;
this.Ll(R)}};m.OS.Sgj=function(p){var a=p.length,Q=0;p.sort(function(T,d){return T[0]+T[1]/2-(d[0]+d[1]/2)});
var R=p[a-1][0]+p[a-1][1]-p[0][0];for(var t=0;t<a;t++)Q+=p[t][1];var N=Math.round((R-Q)/(a-1)),K=p[0][0];
for(var t=0;t<a;t++){p[t][0]=K;K+=p[t][1]+N}};m.OS.prototype.Gj=function(p,a,R,Q,t){var N=p.K;if(N=="trsl"){var K=Math.round(p.SKW),T=Math.round(p.SCS);
this.HK.YY(K,T);this.ws(R,a,Q,t,!1,p.w);this.NV(R,K,T);this.pS(R,null,t)}else if(N=="gids"||N=="gidsFromLayer"){var d=p.ee,y,E;
if(d==null)d=JSON.parse(JSON.stringify(R.zk));if(N=="gids"){y=p.Qk;var k=d[0].length+d[1].length,D=y[0].length+y[1].length;
E=k==D?[23,2]:k>D?[23,3]:[23,4];if(D==0)E=[11,15,0]}else if(N=="gidsFromLayer"){var P=[[],[]];for(var e=0;
e<R.V.length;e++){var Y=R.M[R.V[e]].rect;if(Y.RJ())continue;P[0].push(Y.x,Y.x+Y.C);P[1].push(Y.y,Y.y+Y.T)}E=[11,15,1];
y=JSON.parse(JSON.stringify(R.zk));m.OS.zO(y,P)}if(JSON.stringify(d)==JSON.stringify(y))return;var N=new gm(E,this);
N.data={K:2,ee:d,Qk:y};R.sv(N);this.gq(N.data,R)}else if(N=="algn"){var O=p.Z;if(R==null)return;if(R.V.length<2&&!(R.S!=null&&O!=3&&O!=7)){alert(gL.get([15,7,5]));
return}var W=R.S;R.S=null;var Y=W?W.rect:m.B.yk(R);this.ws(R,a,Q,t,!1);if(!this.kJ)return;var w=this.QL,g={},J=[],U=[],H=[];
for(var e=0;e<w.length;e++){var f=w[e];while(R.M[f].getName()=="</Layer group>")f++;var j=R.root.GE(f),I=j;
while(j.parent!=null){j=j.parent;if(w.indexOf(j.index)!=-1)I=j}var L=U.indexOf(I.index);if(L==-1){L=U.length;
U.push(I.index)}J[e]=L}var C=[],v=[],o=[];for(var e=0;e<U.length;e++){var Z=m.B.yk(R,R.Dh(!0,U[e]));
o.push(Z);var B=O==3?[Z.y,Z.T]:[Z.x,Z.C];C[e]=B;v.push(B)}m.OS.Sgj(v);for(var e=0;e<U.length;e++){var Z=o[e],s=Z.x,q=Z.y;
if(O==0)s=Y.x;if(O==1)s=Y.x+(Y.C-Z.C)/2;if(O==2)s=Y.x+(Y.C-Z.C);if(O==3)q=C[e][0];if(O==4)q=Y.y;if(O==5)q=Y.y+(Y.T-Z.T)/2;
if(O==6)q=Y.y+(Y.T-Z.T);if(O==7)s=C[e][0];H.push(Math.round(s-Z.x),Math.round(q-Z.y))}var F=[];for(var e=0;
e<w.length;e++){var b=J[e];F[2*e]=H[2*b];F[2*e+1]=H[2*b+1]}this.NV(R,0,0,null,F);var G=O==3||O==7?[20,4,6]:[20,4,O<3?O:O-1];
this.pS(R,null,t,F,G);R.S=W}};m.OS.zO=function(p,a){for(var R=0;R<a.length;R++)for(var Q=0;Q<a[R].length;
Q++)if(p[R].indexOf(a[R][Q])==-1)p[R].push(a[R][Q])};m.OS.prototype.enable=function(p,a,R,Q,t){this.$F=R;
this.yt=a;this.cg=t?!0:!1;this.Ll(p);this.RH("default",a)};m.OS.prototype.disable=function(p,a,R,Q){this.Sqx(p)};
m.OS.prototype.Sqx=function(p){if(p==null)return;if(this.Kr){this.Kr.clear(p);this.Kr=null}if(p.R.Ua){p.R.Ua=null;
p.$h=!0}if(p.R.XG){p.R.XG=null;p.$h=!0}if(p.R.Eo[this.id]){delete p.R.Eo[this.id];p.$h=!0}if(p.R.qm.length!=0){p.R.qm=[];
p.$h=!0}};m.OS.prototype.hW=function(p,a,R,Q){if(R.FD!=this.id)return;this.Ll(p)};m.OS.prototype.Ll=function(p,a){if(p==null)return;
var R=this.dL;this.Sqx(p);if(!this.cg){var Q;if(R.Ey||R.Ua)Q=S.s.EN(m.B.yk(p));if(R.Ey&&!Q.RJ()){this.Kr=new KW([Q.x,Q.y,Q.x+Q.C,Q.y,Q.x+Q.C,Q.y+Q.T,Q.x,Q.y+Q.T],!0);
this.Kr.mB(p,this.$F)}if(R.Ua){var t=p.SYl(p.V[0]),E=null,k=!1;if(t==null)t=new x(0,0,p.C,p.T);p.R.Ua={kp:[Q],kl:[]};
var N=p.R.Ua.kl,K=Q.x+Q.C,T=Q.y+Q.T,d=Q.x+Math.floor(Q.C/2),y=Q.y+Math.floor(Q.T/2);if(a){var D=p.root.uM(new X(Math.floor(a.x),Math.floor(a.y)));
if(D){E=S.s.EN(D.w.iY(p));if(E.jv(Q)){k=(E.tT(Q)||Q.tT(E))&&!Q.xA(E);if(!k)E=null}}}this.ShQ(Q,N);if(E!=null){p.R.Ua.kp.push(E);
var P=E.x+E.C,e=E.y+E.T,Y=E.x+Math.floor(E.C/2),O=E.y+Math.floor(E.T/2);if(k){var W=d,w=y;if(Q.tT(E)){W=Y;
w=O}N.push(Q.x,w,E.x,w);N.push(K,w,P,w);N.push(W,Q.y,W,E.y);N.push(W,T,W,e)}else{this.ShQ(E,N);var g=T<E.y||e<Q.y,J=K<E.x||P<Q.x;
if(K<E.x)N.push(K,y,E.x,y);if(P<Q.x)N.push(P,y,Q.x,y);if(T<E.y)N.push(d,T,d,E.y);if(e<Q.y)N.push(d,e,d,Q.y);
if(g&&!J){if(Q.x<E.x)N.push(Q.x,O,E.x,O);if(E.x<Q.x)N.push(E.x,y,Q.x,y)}}}else{if(Q.y>t.y)N.push(d,t.y,d,Q.y);
if(T<t.y+t.T)N.push(d,T,d,t.y+t.T);if(Q.x>t.x)N.push(t.x,y,Q.x,y);if(K<t.x+t.C)N.push(K,y,t.x+t.C,y)}p.$h=!0}}if(this.K==2&&this.kJ){var U=this.QL,H=U[0],f=(H==0?"X":"Y")+": "+S.EH.be(p.zk[H][U[1]],p.po,this.$F,H==0?p.C:p.T,!0);
m.Eh.SpS(Math.round(this.Gm.x)+10,Math.round(this.Gm.y)-10,[f],p);p.$h=!0}if(this.K==3&&this.kJ){var j=S.s.Ht(this.Dv);
p.R.Eo[this.id]={FF:j};p.$h=!0}};m.OS.prototype.ShQ=function(p,a){var R=p.C,Q=p.T,t=p.x+Math.floor(R*.2),N=p.y+Math.floor(Q*.2);
a.push(t,p.y,t,p.y+Q);a.push(p.x,N,p.x+R,N)};m.OS.prototype.RH=function(p,a){var R={K:V.H.PA,Mz:p},Q=new $(V.E.v,!0);
Q.data=R;a.Y(Q)};m.OS.prototype.SU=function(p){var a=this.Or.UK()[0],R=this.EC,Q=this.SJD[a];this.SSm(R,Q)};
m.OS.prototype.zQ=function(p){var a=JSON.parse(JSON.stringify(this.$F.QR));a.tc=this.VI.UK()[0];var R=new $(V.E.v,!0);
R.data={K:V.H.es,L_:gp.rZ,yD:a};this.yt.Y(R)};m.OS.prototype.SK=function(p,a,R,Q,t){if(this.kJ)this.Gz(p,a,R,Q,t);
this.EC=p;this.$F=R;this.yt=a;var N=p.z.oD(t.x,t.y),K;if(m.OS.zG(R,t)){K=this.VI}else{if(this.Or)this.Or.removeEventListener("select",this.SU);
var T=[];p.root.uM(N,T);if(T.length==0)return;var d=[];this.SJD=T;for(var y=0;y<T.length;y++)d.push({name:p.M[T[y]].getName()});
K=this.Or=new Nq(d);K.h("select",this.SU,this)}K.parent=a;K.b();K.update(p,R);var E=new $(V.E.v,!0);
E.data={K:V.H.Xf,Vw:K,x:t.ce+2,y:t.vl+1};a.Y(E)};m.OS.prototype.SSt=function(p,a,R,Q,t){return m.OS.zG(R,t)};
m.OS.prototype.JI=function(p,a,R,Q,t){this.Gm=t;this.qc.YY(t.x,t.y);this.$S=p.z.oD(t.x,t.y);this.qj=new rV(this.$S);
this.ws(p,a,Q,R,!0)};m.OS.zG=function(p,a){return p.UA&&(0<a.x&&a.x<S.EH.AE||0<a.y&&a.y<S.EH.AE)};m.OS.prototype.ws=function(p,a,R,Q,t,N){var K,T=this.$S,d=!1;
if(t){var y=Q.yZ&&Q.QR.zk;if(m.OS.zG(Q,this.qc)){K=JSON.parse(JSON.stringify(p.zk));if(this.qc.x<S.EH.AE)p.zk[0].push(T.x);
if(this.qc.y<S.EH.AE)p.zk[1].push(T.y);if(!y){var E=new $(V.E.v);if(!Q.QR.zk){E.data={K:V.H.es,L_:gp.rS};
a.Y(E)}if(!Q.yZ){E.data={K:V.H.es,L_:gp.SO};a.Y(E)}y=!0}}var k=this.SlQ(p,T);if(y&&k){this.K=2;this.ee=K?K:JSON.parse(JSON.stringify(p.zk));
this.QL=k;this.kJ=!0;this.tb=m.B.yk(p);return}if(p.JO.length!=0){this.K=4;this.tb=p.Mn[p.JO[0]].rect.clone();
this.kJ=!0;return}if(this.Kr&&this.Kr.yU(T,p.z.f,!0)!=null){var E=new $(V.E.v);E.data={K:V.H.La,Q:m.oj};
a.Y(E);var D=new $(V.E.W);D.Q=m.oj;D.data={K:"doMouseDown",Gm:this.qc};a.Y(D);return}if(p.S&&p.S.rect.lp(T)){var P=Math.round(T.x),e=Math.round(T.y),Y=p.S.rect;
d=p.S.channel[(e-Y.y)*Y.C+P-Y.x]>128}if(!d&&(!this.cg&&(R.g(n.GA)||this.dL.EM)||this.cg&&this.dL.EM&&(R.g(n.ei)||p.V.length<2))){var O=this.SNZ(p,T,R);
if(!O){p.V=[];p.FS=null;p.if=p.cN=!0;this.K=3;this.Dv=new x;this.kJ=!0;return}}if(R.g(n.LG)&&!d){var D=new $(V.E.W);
D.Q=m.pw;D.data={K:l.iP,SOa:!0};a.Y(D)}}if(p.JO.length!=0){this.K=4;this.tb=p.Mn[p.JO[0]].rect.clone();
this.kJ=!0;return}this.QL=p.Dh(N==null,N,null,!0);for(var W=0;W<this.QL.length;W++){var w=p.M[this.QL[W]];
if(w.qJ(2)||w.qJ(31)){alert(gL.get([6,57,0]));return}}this.KR=m.OS.SNd(p,this.QL);this.K=0;if(p.S&&(!t||d)&&p.V.length==1&&p.Fp(!1)){if(!p.Ssi()){this.kJ=!1;
return}var g=p.M[p.V[0]],J=R.g(n.LG);this.K=1;var U=p.history[p.oR];if(U.Q==this&&U.data.K==1&&U.data.w==p.V[0]&&g.FE==g.KS.FE&&!J){this.$N=U}else{var H=g.KS,f=!1,j;
if(!g.GZ(p,p.S)||J){f=!0;g.$u(p,p.S,J)}if(g.KS.FE<=0){j=S.p(g.KS.at.length>>2);S.vh(g.KS.at,j,3)}else j=S.clone(p.S.channel);
var I={rect:g.KS.Ah.clone(),channel:j};this.$N=new gm(J?[12,53]:[12,54],this);this.$N.data={K:1,w:p.V[0],KS:g.KS,lh:H,t_:f,Xu:p.S,AO:I,$B:new X(0,0)};
p.sv(this.$N);p.S=I;p.d_=!0}}this.kJ=!0;this.tb=m.B.yk(p)};m.OS.prototype.SNZ=function(p,a,R){var Q=p.root.uM(new X(Math.floor(a.x),Math.floor(a.y)));
if(Q){if(Q.w.add.vmsk)p.$h=!0;var t=p.M.indexOf(Q.w);if(R.g(n.ei)){var N=p.V.indexOf(t);if(N==-1)p.V.push(t);
else if(p.V.length>1)p.V.splice(N,1)}else if(p.V.indexOf(t)==-1){this.SSm(p,t)}}return Q!=null};m.OS.prototype.SSm=function(p,a){p.M[a].FE=0;
p.V=[a];p.FS=null;p.Mv();p.Es=!0;p.if=!0};m.OS.prototype.r$=function(p,a,R,Q,t){this.Gm=t;var N=p.z.oD(t.x,t.y),D,P;
if(this.qj&&this.K<2)N=this.qj.uf(N,Q);if(!this.kJ){if(R.yZ&&R.QR.zk){var K=this.SlQ(p,N),T="default";
if(K)T=["col-resize","row-resize"][K[0]];else if(this.Kr){var d=this.Kr.yU(N,p.z.f);if(d)T=d}this.RH(T,a)}this.Ll(p,N);
return}var y=this.$S,E=Math.round(N.x-y.x)-this.HK.x,k=Math.round(N.y-y.y)-this.HK.y;if(this.tb){if(this.K==2){N=m.OS.em(p,N,R,[!1,p.S?p.S.rect:this.tb,!0])}else{P=this.tb.clone();
P.offset(this.HK.x+E,this.HK.y+k);D=m.OS.yI(p,P,R);E+=Math.round(D[0]);k+=Math.round(D[1])}}this.HK.x+=E;
this.HK.y+=k;this.NV(p,E,k,N,null,Q.g(n.ei));this.Ll(p,N);if(D)m.OS.yY(p,P,D)};m.OS.prototype.SlQ=function(p,a){a=[a.x,a.y];
for(var R=0;R<2;R++)for(var Q=0;Q<p.zk[R].length;Q++)if(Math.abs(p.zk[R][Q]-a[R])*p.z.f<4)return[R,Q];
return null};m.OS.prototype.NV=function(p,a,R,Q,t,N){if(this.K==0){if(t)m.OS.wI(p,this.QL,this.KR,t);
else m.OS.Lg(p,this.QL,this.KR,a,R)}else if(this.K==1){var K=this.$N.data;K.$B.offset(a,R);m.OS.N_(p,K.w,a,R)}else if(this.K==2){var T=1e-5;
if(N)T=p.z.f<=1?10:1;else if(p.z.f<=1)T=1;var d=T*Math.round(Q.x/T),y=T*Math.round(Q.y/T),E=[d,y],k=this.QL;
p.zk[k[0]][k[1]]=E[k[0]]}else if(this.K==3){var D=this.$S,P=S.s.bs([D.x,D.y,Q.x,Q.y]);this.Dv=P;var e=[];
p.root.SKB(P,e);if(JSON.stringify(p.V)!=JSON.stringify(e)){p.V=e;p.if=p.cN=!0}}else if(this.K==4){for(var Y=0;
Y<p.JO.length;Y++)p.Mn[p.JO[Y]].rect.offset(a,R);p.$h=!0}};m.OS.N_=function(p,a,R,Q){var t=p.M[a];p.S.rect.offset(R,Q);
t.UF(p,R,Q,p.S);p.d_=!0;p.U()};m.OS.prototype.Gz=function(p,a,R,Q,t){this.pS(p,t,R);this.Ll(p)};m.OS.prototype.pS=function(p,a,R,Q,t){if(!this.kJ)return;
this.kJ=!1;if(this.K==0){if(Q){this.SvF(p,null,Q,t)}else{if(this.HK.x==0&&this.HK.y==0)return;this.SvF(p,this.HK.clone())}p.At=!0}else if(this.K==2){var N=0;
a=[a.x,a.y];var K=this.QL,T=this.ee[0].length+this.ee[1].length,d=p.zk[0].length+p.zk[1].length;if(R.UA&&a[K[0]]<S.EH.AE){p.zk[K[0]].splice(K[1],1);
N=1;if(T==d-1)return}if(T<d)N=2;var y=new gm([[23,2],[23,3],[23,4]][N],this);y.data={K:2,ee:this.ee,Qk:JSON.parse(JSON.stringify(p.zk))};
p.sv(y)}else if(this.K==4){var y=new gm([12,54],this);y.data={K:4,V:p.JO.slice(0),A:this.HK.clone()};
p.sv(y)}this.HK.YY(0,0)};m.OS.prototype.Qb=function(p,a,R,Q){var t=Q.xi();if(p!=null&&(t.x!=0||t.y!=0)){this.HK.YY(t.x,t.y);
this.ws(p,a,Q,R,!1);if(!this.kJ)return;this.NV(p,t.x,t.y);this.pS(p,null,R);this.Ll(p)}};m.OS.prototype.tk=function(p,a){if(p.K==0)m.OS.wI(a,p.V,p.eW,p.cY,!0);
else if(p.K==2){a.zk=JSON.parse(JSON.stringify(p.ee));a.$h=!0}else if(p.K==4){for(var R=0;R<p.V.length;
R++)a.Mn[p.V[R]].rect.offset(-p.A.x,-p.A.y);a.$h=!0}else{var Q=a.M[p.w];if(p.t_){Q.$V(a,p.lh);a.S=p.Xu;
a.d_=!0;a.U();Q.U()}else{m.OS.N_(a,p.w,-p.$B.x,-p.$B.y)}}};m.OS.prototype.gq=function(p,a){if(p.K==0)m.OS.wI(a,p.V,p.eW,p.cY);
else if(p.K==2){a.zk=JSON.parse(JSON.stringify(p.Qk));a.$h=!0}else if(p.K==4){for(var R=0;R<p.V.length;
R++)a.Mn[p.V[R]].rect.offset(p.A.x,p.A.y);a.$h=!0}else{var Q=a.M[p.w];if(p.t_){Q.KS=p.KS;a.S=p.AO;m.OS.N_(a,p.w,0,0);
Q.U()}else{m.OS.N_(a,p.w,p.$B.x,p.$B.y)}}};m.OS.prototype.SvF=function(p,a,R,Q){if(R){var t=!0;for(var N=0;
N<R.length;N++)if(R[N]!=0)t=!1;if(t)return}var K=p.history[p.oR];if(K.data&&K.Q==this&&K.data.K==0&&R==null&&JSON.stringify(K.data.V)==JSON.stringify(this.QL)&&JSON.stringify(K.data.eW)==JSON.stringify(this.KR)){var T=K.data.cY,d=K.data.SOQ.UD.T.v;
d.Hrzn.v.val+=a.x;d.Vrtc.v.val+=a.y;for(var N=0;N<T.length;N+=2){T[N]+=a.x;T[N+1]+=a.y}}else{if(a==null)a=new X(R[0],R[1]);
var y={zt:"move",UD:{classID:"null",null:Nr.Fx("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:a.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:a.y}}}}}},E=new gm(Q?Q:[12,54],this);
if(R)E.data={K:0,V:this.QL,eW:this.KR,cY:R};else E.data={K:0,V:this.QL,eW:this.KR,cY:m.OS.Sdu(this.QL,a.x,a.y)};
E.data.SOQ=y;p.sv(E);this.track(y)}};m.OS.Sdu=function(p,a,R){var Q=[];for(var t=0;t<p.length;t++)Q.push(a,R);
return Q};m.OS.Lg=function(p,a,R,Q,t){m.OS.wI(p,a,R,m.OS.Sdu(a,Q,t))};m.OS.wI=function(p,a,R,Q,t){if(a.length==0)return;
if(R==null){R=[];for(var N=0;N<a.length;N++){R.push(p.M[a[N]].Gl(p,!0))}}var K=new x,T=new x(0,0,p.C,p.T);
for(var N=0;N<a.length;N++){var d=Q[2*N],y=Q[2*N+1];if(t){d=-d;y=-y}var E=p.M[a[N]],k=R[N];if(E.add.fxrp&&(k.indexOf(0)!=-1||E.xP()))E.add.fxrp.offset(d,y);
for(var D=0;D<k.length;D++){var P=k[D];if(P==0){E.rect.offset(d,y);if(E.kF()&&E.iW(p))E.iW(p).rect.offset(d,y);
if(E.add.artb){var e=E.iy();e.offset(d,y);E.dU(e)}if(E.add.TySh){E.add.TySh.t.translate(d,y);if(E.add.TySh.add){E.add.TySh.add.vmsk.offset(d,y)}}if(E.add.SoLd){var Y=new gh(1,0,0,1,d,y),O=E.add.SoLd,W=m.B.jz(O.Trnf),w=m.B.jz(O.nonAffineTransform);
S.s.t(W,Y,W);S.s.t(w,Y,w);O.Trnf=m.B.Ql(W);O.nonAffineTransform=m.B.Ql(w)}}if(P==1)E.mg().rect.offset(d,y);
if(P==2){E.add.vmsk.offset(d,y);if(E.add.vogk)S.lm.t(E.add.vogk,[1,0,d,0,1,y,0,0],[])}if(P==3){E.iW(p).n.rect.offset(d,y);
if(k.length==1)E.U()}}if(k.length>0){var g=E.add.GdFl;if(g==null)g=E.add.PtFl;if(E.xP()&&!E.eo()&&E.add.vmsk!=null&&S.d.KM(E.add.vmsk.G)&&E.add.vmsk.Hu==255&&(g==null||g.Algn&&g.Algn.v)){E.rect.offset(d,y)}else E.WU(p);
var J=p.root.Mx(E.iY(p),p,a[N]);K=K.hT(J);J.offset(-d,-y);K=K.hT(J);if(E.add.SoCo||E.add.GdFl||E.add.PtFl||gA.get(E.add)!=null)K=K.hT(T);
E.SKZ()}}p.U(K)};m.OS.SNd=function(p,a){var R=[];for(var Q=0;Q<a.length;Q++){var t=p.M[a[Q]];R.push(t.Gl(p))}return R};
m.OS.yY=function(p,a,R){var Q=p.R.XG={r:[],$:[]},t=a.x+R[0],N=a.y+R[1];if(R[2]!=1e9){Q.$.push("M","L");
Q.r.push(R[2],N,R[2],N+a.T)}if(R[3]!=1e9){Q.$.push("M","L");Q.r.push(t,R[3],t+a.C,R[3])}p.$h=!0};m.OS.em=function(p,a,R,Q){var t=m.OS.SRX(p,[[a.x],[a.y]],R,Q);
return new X(a.x+t[0],a.y+t[1])};m.OS.yI=function(p,a,R,Q,t){var N=t==!0?0:1,K=m.OS.SRX(p,[[a.x,a.x+(a.C>>>N),a.x+a.C],[a.y,a.y+(a.T>>>N),a.y+a.T]],R,Q);
return K};m.OS.SRX=function(p,a,R,Q){if(Q==null)Q=[!0,null,!0];var t=[0,0,1e9,1e9];if(!R.cz)return t;
var N=JSON.parse(JSON.stringify(a));for(var K=0;K<2;K++){var T=1e9,d=a[K],y=0;for(var E=0;E<d.length;
E++){var k=m.OS.SNC(p,d[E],N[1-K][E],K,R,Q);if(k!=1e9)N[K][E]=k;if(k!=1e9&&Math.abs(k-d[E])<Math.abs(T)){T=k-d[E];
y=k}}if(T!=1e9){t[K]=T;t[K+2]=y}}return t};m.OS.SNC=function(p,a,R,Q,t,N){var K=1e9,T=t.lG,d=t.QR;if(N[0]&&T[0]&&d.zk&&t.yZ){var y=p.zk[Q];
for(var E=0;E<y.length;E++)if(Math.abs(y[E]-a)<Math.abs(K-a))K=y[E]}if(T[1]&&d.HS&&t.yZ){var k=Math.round(S.EH.CO(d.vq,p,d.vX));
if(Q==1&&d.lE==1){var P=R*.5*Math.sqrt(4/3),e;k*=Math.sqrt(4/3);e=Math.round((a-P)/k)*k+P;if(Math.abs(e-a)<Math.abs(K-a))K=e;
e=Math.round((a+P)/k)*k-P;if(Math.abs(e-a)<Math.abs(K-a))K=e}else{var e=Math.round(a/k)*k;if(Math.abs(e-a)<Math.abs(K-a))K=e}}var Y=p.GD;
if(T[3]&&d.GD&&t.yZ&&Y.length!=0){for(var E=0;E<Y.length;E++){if(!N[2]&&p.Fz.indexOf(E)!=-1)continue;
var O=m.rG.Rg(Y,E);for(var W=0;W<3;W+=2)if(O[W+Q]!=a&&Math.abs(O[W+Q]-a)<Math.abs(K-a))K=O[W+Q]}}if(N[1]){var w=N[1],g=w.C,J=w.T,U=[w.x,w.y,w.x+(g>>>1),w.y+(J>>>1),w.x+g,w.y+J];
for(var E=0;E<6;E+=2)if(Math.abs(U[E+Q]-a)<Math.abs(K-a))K=U[E+Q]}if(T[4]){var g=p.C,J=p.T,U=[0,0,g>>>1,J>>>1,g,J];
for(var E=0;E<6;E+=2)if(Math.abs(U[E+Q]-a)<Math.abs(K-a))K=U[E+Q]}var H=Math.abs(K-a)<=4*V.o()/p.z.f?K:1e9;
return H};m.Hp=function(){m.GP.call(this,[10,12],m.SKM,"tools/mwand")};m.Hp.prototype=new m.GP;m.Hp.prototype.mV=function(p,a,R,Q){this.finish(p,a,R,Q)};
m.Hp.prototype.getSelection=function(p,a,R,Q){var t=this.Nm,N=m.GP.SCx(new X(Math.floor(t.x),Math.floor(t.y)),this.dL.DS);
return N};m.Hp.SIh=function(p,a,R){if(p.V.length!=1){alert("More than one layer selected.");return null}var Q=p.M[p.V[0]],t;
if(Q.add.lsct!=null&&Q.add.lsct!=Ns.$_){alert("No layer selected.");return null}if(a.x<0||a.x>p.C||a.y<0||a.y>p.T)return null;
var N=new x(0,0,p.C,p.T),K=Q.FE<=0?null:Q.FE==1?Q.mg():Q.iW(p).n;if(K==null&&N.xA(Q.rect))t=Q.buffer;
else{t=S.p(N.u()*4);if(K==null)S.gW(Q.buffer,Q.rect,t,N);else m.WH.nO(K.channel,K.rect,K.color,t,N)}var T=m.Hp.S$G(t,N,a,null,R),d=S.Pv(T,N),y=S.p(d.u());
S.JG(T,N,y,d);return{rect:d,channel:y}};m.Hp.we=function(p,a,R){var Q=a.C,N=0,K=0,T=0,d=0;p=new Uint32Array(p.buffer);
var t=[],y=R.length;for(var E=0;E<y;E++){var k=R[E],D=Math.round(k.x-.5-a.x),P=Math.round(k.y-.5-a.y);
if(!a.lp(k))D=P=0;var e=P*Q+D,Y=p[e];t.push([Y&255,Y>>8&255,Y>>16&255,Y>>>24])}return t};m.Hp.S$G=function(p,a,R,Q,t){p=new Uint32Array(p.buffer);
var N=a.C,K=a.T,T=N*K;if(Q==null)Q=m.Hp.we(p,a,[R]);var d=Math.round(R.x-.5-a.x),y=Math.round(R.y-.5-a.y),E=y*N+d,k=Date.now(),D=S.p(N*K),P=t[0],e=1/P,Y=t[1]&&P>0?255:0;
if(t[2]){var O=S.p(D.length),W=new Uint32Array(T),w=1;W[0]=d<<16|y;O[E]=1;while(w>0){var g=W[w-1];w--;
var J=g>>>16,U=g&65535,H=U*N+J,f=m.Hp.Ls(p[H],Q);if(f>P){var j=Y*(1-Math.max(0,Math.min(1,(f-P)*e)));
D[H]=~~j}else{D[H]=255;if(U!=K-1&&O[H+N]==0){W[w++]=J<<16|U+1;O[H+N]=1}if(U!=0&&O[H-N]==0){W[w++]=J<<16|U-1;
O[H-N]=1}if(J!=N-1&&O[H+1]==0){W[w++]=J+1<<16|U;O[H+1]=1}if(J!=0&&O[H-1]==0){W[w++]=J-1<<16|U;O[H-1]=1}}}}else{for(var H=0;
H<T;H++){var f=m.Hp.Ls(p[H],Q);if(f<=P)D[H]=255}for(var U=0;U<K;U++)for(var J=0;J<N;J++){var H=U*N+J;
if(D[H]==0&&(J>0&&(D[H-1]==255||U>0&&D[H-N-1]==255||U<K-1&&D[H+N-1]==255)||J<N-1&&(D[H+1]==255||U>0&&D[H-N+1]==255||U<K-1&&D[H+N+1]==255)||U>0&&D[H-N]==255||U<K-1&&D[H+N]==255)){var f=m.Hp.Ls(p[H],Q),j=Y*(1-Math.max(0,Math.min(1,(f-P)*e)));
D[H]=~~j}}}return D};m.Hp.Ls=function(p,a){var R=a.length,Q=m.Hp.SpJ(p,a[0]),t=1;while(t!=R){Q=Math.min(Q,m.Hp.SpJ(p,a[t]));
t++}return Q};m.Hp.SpJ=function(p,a){var R=p&255,Q=p>>>8&255,t=p>>>16&255,N=p>>>24&255;if(a[3]==0)return N<5?0:255;
var K=Math.max(Math.abs(R-a[0]),Math.max(Math.abs(Q-a[1]),Math.abs(t-a[2])));return N==0?255:K};m.KB=function(){m.WH.call(this,[10,26],m.Sde,"tools/patch");
this.zy=null;this.VD=null;this.A=null;this.za=null;this.Dt=new X;this.Da=null};m.KB.prototype=new m.WH;
m.KB.prototype.JI=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);if(p.S&&S.uM(N,p.S.channel,p.S.rect)){var K=new x(0,0,p.C,p.T),T=K.Yl(p.S.rect);
if(!p.Fp()||T.RJ())return;if(!T.xA(p.S.rect)){var d=S.p(T.u());S.JG(p.S.channel,p.S.rect,d,T);p.S={channel:d,rect:T}}this.N$(p);
this.za=N;this.Dt=new X(N.x-p.S.rect.x,N.y-p.S.rect.y);this.Da=S.p(p.S.rect.u()*4);S.set(this.Da,4294967295);
if(this.dL.patch==1){var y=p.M[p.V[0]];y.$u(p,p.S,!0);if(y.KS==null)this.za=null}}else{this.VD={r:[N.x,N.y],$:["M"]};
this.zy=N}};m.KB.prototype.r$=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);if(this.za){if(this.dL.patch==1){var K=p.M[p.V[0]].KS,T=N.x-this.Dt.x,d=N.y-this.Dt.y;
m.OS.N_(p,p.V[0],Math.round(T-K.Ah.x),Math.round(d-K.Ah.y))}else this.SlF(p,N,"clone")}if(this.zy){this.VD.$.push("L");
this.VD.r.push(N.x,N.y);this.zy=N;p.R.FF=this.VD;p.$h=!0}};m.KB.prototype.Gz=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);
if(this.za){this.SlF(p,N,"heal");this.finish(p,p.S.rect);this.za=null}if(this.zy){var K=m.GP.f_(this.dL.setop,Q.g(n.ei),Q.g(n.LG)),T=new $(V.E.JF,!0);
if(this.VD.r.length<=4)T.data=m.GP.lR();else T.data=m.GP.Nh(this.VD.r,K);a.Y(T);this.zy=null;p.R.FF=null;
p.$h=!0}};m.KB.prototype.ac=function(){return this.A};m.KB.prototype.eu=function(p,a,R,Q,t){m.WH.prototype.eu.call(this,p,a,R,Q,t);
this.RH(t,Q)};m.KB.prototype.RH=function(p,a){var R="auto;";if(a!=null&&a.g(n.ei)&&!a.g(n.LG)||this.dL.setop=="union")R="copy";
var Q=new $(V.E.v,!0);Q.data={K:V.H.PA,Mz:R};if(this.caller)this.caller.Y(Q)};m.KB.prototype.SlF=function(p,a,R){var Q=new X(Math.round(this.za.x-a.x),Math.round(this.za.y-a.y));
if(this.dL.patch==1)Q.YY(-Q.x,-Q.y);this.A=Q;this.nN(p,R,this.Da,p.S.rect,p.S.rect);this.U(p,p.S.rect)};
m.pC=function(){m.WH.call(this,[10,13],m.SCh,"tools/pbucket")};m.pC.prototype=new m.WH;m.pC.prototype.enable=function(p,a,R,Q){var t=new $(V.E.v,!0);
t.data={K:V.H.PA,Mz:"default"};a.Y(t)};m.pC.prototype.JD=function(p,a){};m.pC.prototype.Gz=function(p,a,R,Q,t){if(!p.Fp())return;
var N=p.z.oD(t.x,t.y),K=m.Hp.SIh(p,N,this.dL.wconf);if(K==null)return;var T=S.p(K.rect.u()*4);S.wp(T,(R.rc&255)<<16|(R.rc>>8&255)<<8|(R.rc>>16&255)<<0);
S.RA(K.channel,T,3);this.N$(p);this.nN(p,"draw",T,K.rect,K.rect);this.U(p,K.rect);this.finish(p,K.rect)};
m.tw=function(){m.GP.call(this,[10,14],m.SdC,"tools/plasso");this.Y_="crosshair";this.RY=[];this.VD=null;
this.SCL=0};m.tw.prototype=new m.GP;m.tw.prototype.disable=function(p,a,R,Q){this.ki(p)};m.tw.prototype.mV=function(p,a,R,Q){this.RY=[n.gU,n.gZ]};
m.tw.prototype.Gk=function(p){return this.RY.indexOf(p)!=-1};m.tw.prototype.yF=function(p){return this.VD!=null};
m.tw.prototype.fu=function(){return this.VD!=null};m.tw.prototype.AM=function(){return this.VD!=null};
m.tw.prototype.tU=function(p,a,R,Q){if(this.VD==null)return;var t=this.VD,N=t.r,K=N.length-2,T=this.Nm;
if(this.tO>1&&R.g(n.LG)&&Q.Fa){N.push(0,0);t.$.push("L");K+=2}else if(R.g(n.ei))T=m.sV.du(new X(N[K-2],N[K-1]),T);
N[K]=T.x;N[K+1]=T.y;p.R.FF=t;p.$h=!0};m.tw.prototype.aD=function(p,a,R,Q){var t=Date.now();if(this.VD==null)this.VD={r:[this.Nm.x,this.Nm.y,this.Nm.x,this.Nm.y],$:["M","L"]};
else{this.tU(p,a,R,Q);this.VD.$.push("L");this.VD.r.push(this.Nm.x,this.Nm.y);p.R.FF=this.VD;if(t-this.SCL<250||X.Hz(this.Nm,new X(this.VD.r[0],this.VD.r[1]))<5*V.o()/p.z.f){this.finish(p,a,R,Q);
this.ki(p)}}this.SCL=t;p.R.FF=this.VD};m.tw.prototype.ki=function(p){this.VD=null;this.RY=[];if(p!=null){p.R.FF=null;
p.$h=!0}};m.tw.prototype.Qb=function(p,a,R,Q){m.GP.prototype.Qb.call(this,p,a,R,Q);if(this.VD==null)return;
if(Q.g(n.gU)||Q.g(n.gZ)){this.VD.r.pop();this.VD.r.pop();this.VD.$.pop();this.tU(p,R,Q)}if(Q.g(n.eL)){if(this.VD.r.length>4)this.finish(p,R,Q);
this.VD=null}if(Q.g(n.tu)){this.VD=null}p.R.FF=this.VD;p.$h=!0};m.tw.prototype.getSelection=function(p,a,R,Q){return m.GP.Nh(this.VD.r)};
m.Tw=function(){m.GP.call(this,[10,10],m.SdY,"tools/mlasso");this.Y_="crosshair";this.RY=[];this.G=[];
this.cL=[];this.Nb=[];this.cM=null;this.vO=null;this.$p=null;this.$i=0;this.cX=0};m.Tw.prototype=new m.GP;
m.Tw.prototype.disable=function(p,a,R,Q){this.clear(p)};m.Tw.prototype.yF=function(p){return this.G.length!=0};
m.Tw.prototype.AM=function(){return this.G.length!=0};m.Tw.prototype.Gk=function(p){return this.RY.indexOf(p)!=-1};
m.Tw.prototype.mV=function(p,a,R,Q){this.RY=[n.gU,n.gZ];var t=this.wH(this.SA,p);if(this.G.length!=0&&(X.Hz(t,this.G[0])<4*V.o()/p.z.f||Date.now()-this.$i<300)){this.pF(p,this.G[0]);
this.finish(p,a,R);this.clear(p);return}this.$i=Date.now();if(this.G.length!=0)t=this.LX(t,p);else{var N=p.C,K=p.T,T=S.p(N*K),d=p.iD(),y=N*K*4;
for(var E=0;E<y;E+=4)T[E>>>2]=~~(.5+S.XT(d[E],d[E+1],d[E+2])*(d[E+3]*(1/255)));this.cM=S.ar.SBm(T,N,K);
this.$p=new Uint16Array(T.length)}this.pF(p,t);this.cX=R.g(n.LG)?1:0;this.XN(p)};m.Tw.prototype.pF=function(p,a){var R=this.G;
this.cL[R.length]=this.Nb.length;if(R.length!=0){S.ar.sy(this.vO,a.y*p.C+a.x);var Q=this.Le(p,a);Q.reverse();
var t=m.Tw.Spt(p,Q);this.Nb=this.Nb.concat(t)}R.push(a);this.SNn(p)};m.Tw.prototype.SNn=function(p){var a=this.G[this.G.length-1],R=a.y*p.C+a.x;
this.vO=S.ar.SBj(this.cM.Tg,this.cM.Xi,R);this.$p.fill(0)};m.Tw.prototype.wH=function(p,a){return new X(Math.floor(Math.max(0,Math.min(a.C-1,p.x))),Math.floor(Math.max(0,Math.min(a.T-1,p.y))))};
m.Tw.prototype.clear=function(p){this.Nb=[];this.G=[];this.cL=[];this.cM=null;this.vO=null;this.$p=null;
if(p!=null){p.R.FF=null;p.R.vI=[];p.$h=!0}this.RY=[]};m.Tw.prototype.tU=function(p,a,R,Q){var t=this.G,N=t.length;
if(N==0)return;var K=this.LX(this.wH(this.Nm,p),p),T=this.Le(p,K);for(var d=0;d<T.length;d++){var y=T[d],E=new X(y%p.C,Math.floor(y/p.C));
if(this.$p[y]>30&&X.Hz(E,t[N-1])>20){this.pF(p,E);return}this.$p[y]++}if(this.cX==1&&Q.Fa)this.pF(p,K);
this.XN(p)};m.Tw.prototype.XN=function(p){var a=this.G;if(a.length!=0){var R=this.LX(this.wH(this.Nm,p),p),Q=this.Le(p,R);
Q.reverse();var t=m.Tw.Spt(p,Q),N=this.Nb.concat(t),K=p.R.FF={r:N,$:["M"]};for(var T=2;T<N.length;T+=2)K.$.push("L")}p.R.vI=[];
for(var T=0;T<a.length;T++)p.R.vI.push(a[T].x+.5,a[T].y+.5);p.$h=!0};m.Tw.prototype.aD=function(p,a,R,Q){};
m.Tw.prototype.Qb=function(p,a,R,Q){if(this.G.length==0)return;if(Q.g(n.gU)||Q.g(n.gZ)){this.G.pop();
this.Nb=this.Nb.slice(0,this.cL[this.G.length]);this.cL.pop();if(this.G.length==0)this.clear(p);else this.SNn(p);
this.XN(p)}if(Q.g(n.eL)){var t=this.wH(this.Nm,p);this.pF(p,t);this.finish(p,R,Q);this.clear(p)}if(Q.g(n.tu)){this.clear(p)}};
m.Tw.prototype.getSelection=function(p,a,R,Q){return m.GP.Nh(this.Nb)};m.Tw.prototype.Le=function(p,a){var R=this.G[this.G.length-1],Q=R.y*p.C+R.x,t=a.y*p.C+a.x;
if(this.cX==1)return[t,Q];var N=[t];while(t!=Q){t=this.vO.WQ[t];N.push(t);if(N.length>5e3){console.log(N);
throw"e"}}return N};m.Tw.Spt=function(p,a){var R=[],Q=p.C;for(var t=0;t<a.length;t++){var N=a[t];R.push(N%Q+.5,Math.floor(N/Q)+.5)}return R};
m.Tw.prototype.LX=function(p,a){var R=a.C,Q=a.T,t=p.clone(),K=3;S.ar.sy(this.vO,p.y*R+p.x);var N=this.vO.Ly[p.y*R+p.x];
for(var T=-K+1;T<K;T++)for(var d=-K+1;d<K;d++){var y=p.x+d,E=p.y+T;if(y<0||y>=R||E<0||E>=Q)continue;
S.ar.sy(this.vO,E*R+y);if(this.vO.Ly[E*R+y]<N)t.YY(y,E)}return t};m.Ex=function(){m.Eh.call(this,[10,36],m.SKF,"tools/ruler");
this.Wx=null;this.vT=null;this.DQ=null;this.DG=null};m.Ex.prototype=new m.Eh;m.Ex.prototype.yF=function(p){return p.Fa};
m.Ex.prototype.disable=function(p,a,R,Q){this.Wx=this.vT=null;if(p)this.Ll(p)};m.Ex.prototype.JI=function(p,a,R,Q,t){var N=p.z.f/V.o(),K=p.z.oD(t.x,t.y);
K.x=Math.round(K.x);K.y=Math.round(K.y);var T=this.Wx;if(T&&X.Hz(K,T[0])*N<6)this.vT=[0];else if(T&&X.Hz(K,T[1])*N<6)this.vT=[1];
else if(T&&m.Ex.SNf(T[0],T[1],K)*N<6&&Math.min(T[0].x,T[1].x)-5<=K.x&&K.x<=Math.max(T[0].x,T[1].x)+5&&Math.min(T[0].y,T[1].y)-5<=K.y&&K.y<=Math.max(T[0].y,T[1].y)+5){this.vT=[0,1];
this.DG=[T[0].clone(),T[1].clone()];this.DQ=K}else{this.Wx=[K.clone(),K.clone()];this.vT=[1]}};m.Ex.prototype.r$=function(p,a,R,Q,t){if(this.vT==null)return;
var N=this.Wx,K=this.vT,T=p.z.oD(t.x,t.y);T.x=Math.round(T.x);T.y=Math.round(T.y);if(K.length==2){var d=T.x-this.DQ.x,y=T.y-this.DQ.y;
N[0]=this.DG[0].clone();N[0].offset(d,y);N[1]=this.DG[1].clone();N[1].offset(d,y)}else{N[K[0]].YY(T.x,T.y);
if(Q.g(n.ei)){N[K[0]]=m.sV.du(N[1-K[0]],N[K[0]])}}this.Ll(p);this.an(a,V.E.v,{K:V.H.aK,Q:this.id,SOE:N[0],fX:N[1]})};
m.Ex.prototype.Gz=function(p,a,R,Q,t){this.vT=null};m.Ex.prototype.an=function(p,a,R){var Q=new $(a,!0);
Q.data=R;p.Y(Q)};m.Ex.prototype.Ll=function(p){var a=this.Wx;if(a==null){p.R.FF=null;p.R.vI=[]}else{var R=[a[0].x,a[0].y,a[1].x,a[1].y];
p.R.FF={$:["M","L"],r:R};p.R.vI=R}p.$h=!0};m.Ex.SNf=function(p,a,R){var Q=a.x-p.x,t=a.y-p.y,N=Math.abs(t*R.x-Q*R.y+a.x*p.y-a.y*p.x),K=Math.sqrt(Q*Q+t*t);
return N/K};m.wz=function(){m.WH.call(this,[10,19],m.NR,"tools/sharpen");this.Mt="copy"};m.wz.prototype=new m.WH;
m.wz.prototype.JI=function(p,a,R,Q,t){var N=this.dL.pdetail?gQ.uo:gQ.NR;if(Q.g(n.LG))N=gQ.gP;this.oF(p,R,Q,t,this.dL.strn,N);
if(this.Nj==null)return;this.cS(p)};m.wz.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.ph=function(){m.WH.call(this,[10,24],m.SlW,"tools/shbrush");
this.Mt="draw";this.dL.opacity=.5};m.ph.prototype=new m.WH;m.ph.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,1);
if(this.Nj==null)return;this.cS(p)};m.ph.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.ph.prototype.Gz=function(p,a,R,Q,t){if(this.Nj==null)return;
this.nN(p,"sheal",this.Nj.gR(),this.Nj.yk(),this.Nj.vE(),null);this.U(p,this.Nj.vE());m.WH.prototype.Gz.call(this,p,a,R,Q,t)};
m.wL=function(){m.WH.call(this,[10,20],m._A,"tools/smudge");this.Mt="copy"};m.wL.prototype=new m.WH;
m.wL.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.strn,gQ._A);if(this.Nj==null)return;this.cS(p)};
m.wL.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;
if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.wB=function(){m.WH.call(this,[10,23],m.SKd,"tools/sponge");
this.Mt="sponge"};m.wB.prototype=new m.WH;m.wB.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,this.dL.flow);
if(this.Nj==null)return;this.cS(p)};m.wB.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);if(this.hN)this.oY(p,R,t);
if(this.Nj==null)return;if(!t.Fa)return;this.Wv(p,R,Q,t);this.cS(p)};m.d$=function(){m.Eh.call(this,[10,17],m.NL,"tools/zoom");
this.zw=!1;this._R=!0;this.Ug=0;this.cv=null;this.GF=null;this.Du=0;this.so=null;this.lP=0;this.VI=new Nq([{name:[8,0],lx:"Ctrl + +"},{name:[8,1],lx:"Ctrl + -",i_:!0},{name:[20,3],lx:"Ctrl + 0"},{name:[20,2],J:function(p){return{vb:gL.get([20,2])+": 100%"}},lx:"Ctrl + 1"}],[{q:V.E.W,Q:m.NL,F:{K:"zoom",_R:!0}},{q:V.E.W,Q:m.NL,F:{K:"zoom",_R:!1}},{q:V.E.W,Q:m.NL,F:{K:"adapt",Z:"fitscr"}},{q:V.E.W,Q:m.NL,F:{K:"adapt",Z:"pixel"}}])};
m.d$.prototype=new m.Eh;m.d$.prototype.SK=function(p,a,R,Q,t){var N=this.VI;N.b();N.parent=a;N.update(p,R);
var K=new $(V.E.v,!0);K.data={K:V.H.Xf,Vw:N,x:t.ce+2,y:t.vl+1};a.Y(K)};m.d$.prototype.enable=function(p,a,R,Q){this.LO(a,Q);
if(Date.now()-this.Ug<300)this.Gj({K:"adapt",Z:"pixel"},a,p,Q,R);this.Ug=Date.now()};m.d$.prototype.JI=function(p,a,R,Q,t){this.GF=new X(t.x,t.y);
this.Du=p.z.f;this.so=p.z.A.clone()};m.d$.prototype.r$=function(p,a,R,Q,t){if(this.GF==null)return;var N=Math.round((t.x-this.GF.x)/16);
if(N==0)return;var K=m.d$.LW(this.Du),T=m.d$.hm[Math.max(0,Math.min(m.d$.hm.length-1,K-N))];p.z.f=this.Du;
p.z.A=this.so.clone();this.Gj({K:"zoom",f:T,Gm:this.GF},a,p,Q,R)};m.d$.prototype.Gz=function(p,a,R,Q,t){if(X.Hz(this.GF,t)<4){var N=this.SsI(Q);
this.Gj({K:"zoom",_R:N,Gm:t},a,p,Q,R)}this.GF=null};m.d$.hm=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
m.d$.Li=function(p,a,R,Q){var t=1;while(p*t*1/2>R||a*t*1/2>Q)t*=1/2;if(p*t*2/3>R||a*t*2/3>Q)t*=1/2;else if(p*t>R||a*t>Q)t*=2/3;
return t};m.d$.SNh=function(p,a){var R=m.d$.LW(p);if(a&&R==0)return p;if(!a&&R==m.d$.hm.length-1)return p;
return m.d$.hm[a?R-1:R+1]};m.d$.LW=function(p){var a=0;while(m.d$.hm[a]>p)a++;return a};m.d$.pO=function(p,a,R,Q){var t=p.NI;
if(Q==0||Q==null){Q=m.d$.SNh(p.f,R);if(Q==p.f)return}var N=p.oD(a.x,a.y);if(t.C*Q<=p.c.C&&t.T*Q<=p.c.T)p.A.YY(0,0);
else{p.A.x=Math.round(t.C*Q/2-N.x*Q+(a.x-p.c.C/2));p.A.y=Math.round(t.T*Q/2-N.y*Q+(a.y-p.c.T/2))}p.f=Q};
m.d$.prototype.Gj=function(p,a,R,Q,t){var N=0,K=!1,T=null;if(p.K=="adapt"){var d=0;if(p.Z=="pixel")d=1;
if(p.Z=="fitscr"){var d=0,y=R.z.c.C,E=R.z.c.T;if(R.C<=y&&R.T<=E){var k=1;while(R.C*(k+1)<=y&&R.T*(k+1)<=E)k++;
d=k}else{d=m.d$.Li(R.C,R.T,y,E)}}T=new X(Math.round(R.z.c.C/2),Math.round(R.z.c.T/2));N=d;m.d$.pO(R.z,T,K,N);
R.At=!0}if(p.K.startsWith("multi")){function D(C){var v=C[0].x-C[1].x,o=C[0].y-C[1].y;return Math.sqrt(v*v+o*o)}function P(C){return new X((C[0].x+C[1].x)/2,(C[0].y+C[1].y)/2)}var e=p.Gg,Y=P(e);
if(p.K=="multidown"){this.cv=[e,R.z.f,R.z.oD(Y.x,Y.y)]}else{N=this.cv[1]*D(e)/D(this.cv[0]);if(N>=1)N=Math.min(32,Math.round(N));
else{var O=0,W=1e9,w=m.d$.hm;for(var g=0;g<w.length;g++){var J=Math.abs(1-N/w[g]);if(J<W){W=J;O=g}}N=w[O]}if(N!=R.z.f)m.d$.pO(R.z,Y,K,N);
var U=this.cv[2],H=R.z.Jk(U.x,U.y),f=R.z.A;f.x=Math.round(f.x+Y.x-H.x);f.y=Math.round(f.y+Y.y-H.y);R.At=!0}}if(p.K=="scroll"){T=p.Gm;
this.lP+=p.rb.y;var j=14;if(this.lP<-j){K=!0;this.lP=Math.max(this.lP+j,-(j-1))}else if(this.lP>j){K=!1;
this.lP=Math.min(this.lP-j,j-1)}else return;m.d$.pO(R.z,T,K,N);R.At=!0}if(p.K=="zoom"){T=p.Gm?p.Gm:new X(Math.round(R.z.c.C/2),Math.round(R.z.c.T/2));
if(p.f!=null)N=p.f;else K=p._R;m.d$.pO(R.z,T,K,N);R.At=!0}if(p.K=="mskView"){var I=R.M[R.V[0]],L=I.FE==3?I.iW(R).n:I.mg();
if(p.Z==0){R.z.mC=[1,1,1];L.oB=!1}if(p.Z==1){R.z.mC=[1,1,1];L.oB=!0}if(p.Z==2){R.z.mC=[0,0,0];L.oB=!0}for(var g=0;
g<R.Mn.length;g++)R.Mn[g].oB=!1;R.JO=[];R.$h=!0}};m.d$.prototype.Qb=function(p,a,R,Q){if(this.zw!=Q.g(n.LG)){this.zw=Q.g(n.LG);
var t={K:V.H.aK,Q:this.id,zw:this.zw},N=new $(V.E.v,!0);N.data=t;a.Y(N);this.LO(a,Q)}};m.d$.prototype.LO=function(p,a){var R=new $(V.E.v,!0),Q=this.SsI(a);
R.data={K:V.H.PA,Mz:Q?"zoom-in":"zoom-out"};p.Y(R)};m.d$.prototype.eu=function(p,a,R,Q){this._R=p._R;
this.LO(a,Q)};m.d$.prototype.SsI=function(p){var a=this._R;if(p.g(n.xk)&&p.g(n.GA))a=!0;if(this.zw)a=!a;
return a};m.eE=function(p,a,R){m.Eh.call(this,p,a,R);this.Jc=null;this.$F=null;this.yt=null;this.SCB=0};
m.eE.prototype=new m.Eh;m.eE.prototype.enable=function(p,a,R,Q,t){this.$F=R;var N=new $(V.E.v,!0);N.data={K:V.H.PA,Mz:"default"};
a.Y(N)};m.eE.prototype.SK=function(p,a,R,Q,t){if(p.h$()[0].length==0)return;var N=new $(V.E.v,!0);N.data={K:V.H.aK,Q:this.id,sq:t,$$:p,hM:R};
a.Y(N)};m.eE.prototype.SXL=function(p,a){var R=new $(V.E.v,!0);R.data={K:V.H.es,L_:gp.SO};if(!a.yZ)p.Y(R);
R.data={K:V.H.es,L_:gp.oA};if(!a.QR.pU)p.Y(R)};m.eE.prototype.hW=function(p,a,R,Q){if(R.FD!=this.id)return;
if(p.V.length==0)return;var t=p.M[p.V[0]],N=t.add.vmsk,K=t.add.vstk,T=m.eE.Lv(p,p.V[0]);this.Jc=p;this.yt=a;
if(t.xP()&&N!=null&&(JSON.stringify(K)!=JSON.stringify(R.$y)||JSON.stringify(T)!=JSON.stringify(R.$O))){this.SCB=Date.now();
var d=new $(V.E.v,!0);d.data={K:V.H.es,L_:gp.ow,Z:T};a.Y(d);d.data={K:V.H.es,L_:gp.Yn,Z:K};a.Y(d)}};
m.eE.prototype.JD=function(p,a){if(this.Jc==null)return;if(a==gp.EP||a==gp.ow||a==gp.Yn){if(Date.now()-this.SCB<50)return;
var R=a==gp.ow,Q=this.Jc,t=R?p.$O:p.$y,N=[];for(var K=0;K<Q.V.length;K++){var T=Q.V[K],d=Q.M[T];if(!d.xP()||d.add.vmsk==null)continue;
N.push(T)}var y=new $(V.E.W,!0);y.Q=m.pw;y.data={K:l.vN,G$:N,Um:R,Z:t};if(N.length!=0)this.yt.Y(y)}};
m.eE.prototype.SNt=function(p){if(typeof p=="number"){var a=new $(V.E.JF,!0);a.data=m.Wi.FQ(0);a.data.UD.Usng.v.Type.v.Clr.v=S.e.HW({D:p>>>16&255,X:p>>>8&255,N:p>>>0&255});
this.yt.Y(a)}};m.eE.prototype.Gj=function(p,a,R,Q,t){this.yt=a;if(p.K=="newfill"){if(p.yH==0){var N=new $(V.E.v,!0);
N.data={K:V.H.XS,ax:"colorpicker",dV:t.rc,cJ:this.SNt.bind(this)};a.Y(N)}}else if(p.K=="pathedit"){var K=p.mK,T="",d=R.pU.slice(0),y=R.Op.slice(0),E=R.pU.slice(0),k=R.Op.slice(0);
if(K=="rnm"){var D=-1-p.Yo,P=d[D],e=SF.gg(p.name,P.add);E[D]=e;T="Rename"}else if(K=="new"){E.push(SF.gg("Path "+d.length));
k=[E.length-1];T="New"}else if(K=="del"){if(k.length==0)return;k.sort(function(L,F){return L-F});if(k[0]==0){E[0]=SF.gg(d[0].name);
k=k.slice(1)}var Y=0;while(k.length!=0){E.splice(k[0]-Y,1);k=k.slice(1);Y++}T="Delete"}else if(K=="fromsel"){var O=E[0]=SF.gg("Work Path");
k=[0];if(R.S==null)return;var W=R.S.channel.slice(0);for(var w=0;w<W.length;w++)W[w]=W[w]>128?2:1;var g=R.S.rect.clone();
g.vj(1,1);var J=S.p(g.u());S.JG(W,R.S.rect,J,g);var U=pl.Iw(J,g.C,g.T,Math.round(g.u()*5e-4)),H=pl.h$(U),f=new gh(1,0,0,1,-1+R.S.rect.x,-1+R.S.rect.y);
for(var w=0;w<H.length;w++)S.s.t(H[w].path.r,f,H[w].path.r);for(var w=0;w<H.length;w++){var j=H[w];if(j.color==1&&j.parent==-1)continue;
var I=S.s.Vl(H[w].path,!1);O.add.vmsk.G=O.add.vmsk.G.concat(I)}O.add.vogk=l.YH(O.add.vmsk.G);T="Selection to"}var L=new gm(T+" Path",this);
L.data={VA:d,ED:y,SOP:E,Ec:k};if(K=="fromsel"){L.data.Xu=R.S;L.data.AO=null}R.sv(L);this.gq(L.data,R)}else{var C=R.h$(p.K=="append"),H=C[0],v=C[1],O=H[v[0]],o=O.add.vmsk,Z=O.add.vogk,B=o.clone(),s=o.clone(),q=JSON.stringify(Z);
if(p.K=="remove"){if(s.V.length==0)return;var Y=0;for(var w=0;w<s.V.length;w++){Z.splice(s.V[w]+Y,1);
Y--}s.G=S.d.SJ_(s.G,s.V);s.V=[];s.mU=[]}if(p.K=="append"){m.eE.SRa(p.SO_,s,Z)}this.QI(R,O.Yo,s,Z);this.sQ(R,p.LS,O.Yo,B,s.clone(),null,q,JSON.stringify(Z))}};
m.eE.Spx=function(p,a){var R=S.d.Stg(p.G,p.V),Q=[];for(var t=0;t<p.V.length;t++)Q.push(JSON.parse(JSON.stringify(a[p.V[t]])));
return[R,Q]};m.eE.SRa=function(p,a,R){var Q=S.d.zX(a.G),t=S.d.zX(p[0]);a.G=a.G.concat(p[0].slice(2));
a.V=[];for(var N=0;N<t;N++)a.V.push(Q+N);for(var N=0;N<t;N++)R.push(JSON.parse(JSON.stringify(p[1][N])))};
m.eE.prototype.Gk=function(p,a){if(a==null)return!1;var R=a.h$(),Q=R[0],t=R[1];if(t.length==0)return!1;
var N=Q[t[0]],K=N.add.vmsk;if(K&&K.V.length+K.mU.length!=0)return[n.gU,n.gZ].indexOf(p)!=-1};m.eE.prototype.Qb=function(p,a,R,Q){if(p==null)return;
var t=p.h$(),N=t[0],K=t[1];if(K.length==0)return;var T=N[K[0]],d=T.add.vmsk;if(Q.g(n.tu)||Q.g(n.eL)){d.mU=[];
p.$h=!0}if(d.V.length!=0){var y=Q.xi();if(y.x!=0||y.y!=0){var E=d.clone(),k=d.clone(),D=new gh(1,0,0,1,y.x,y.y),P=T.add.vogk,e=JSON.stringify(P);
S.d.xv(k.G,D,k.V);S.lm.t(P,S.L.fm(D),k.V);this.QI(p,T.Yo,k,P);this.sQ(p,"Move Paths",T.Yo,E,k.clone(),!0,e,JSON.stringify(P))}if(Q.g(n.gU)||Q.g(n.gZ))this.Gj({K:"remove",LS:"Delete Paths"},a,p,Q,R)}};
m.eE.prototype.sQ=function(p,a,R,Q,t,N,K,T){var d=new gm(a,this);d.data={Hn:R,mS:Q,Nv:t,SCJ:N,SCm:K,mI:T};
p.sv(d)};m.eE.prototype.gq=function(p,a){if(p.Hn!=null)this.QI(a,p.Hn,p.Nv.clone(),JSON.parse(p.mI));
else{a.pU=p.SOP.slice(0);a.Op=p.Ec.slice(0);a.$h=a.if=!0}if(p.Xu||p.AO){a.S=p.AO;a.d_=!0}};m.eE.prototype.tk=function(p,a){if(p.Hn!=null)this.QI(a,p.Hn,p.mS.clone(),JSON.parse(p.SCm));
else{a.pU=p.VA.slice(0);a.Op=p.ED.slice(0);a.$h=a.if=!0}if(p.Xu||p.AO){a.S=p.Xu;a.d_=!0}};m.eE.prototype.QI=function(p,a,R,Q){var t=a<0?p.pU[-1-a]:a<1e6?p.M[a]:p.M[a-1e6].add.TySh;
t.add.vmsk=R;t.add.vogk=Q;if(1e6<=a){gK.RU(t);var N=p.M[a-1e6],K=t,T=this.$F,d=new NC(K.KY,T.mk),y=CG.PX(d,K);
N.rect=y.I;N.buffer=y.Yz;N.U();p.U()}else if(0<=a){R.Ol=!0;t.WU(p);p.U()}p.$h=p.if=!0};m.eE.Lv=function(p,a){var R=p.M[a],Q=R.add.vstk,t=null;
if(Q&&!Q.fillEnabled.v)t={Fb:0};else if(R.add.SoCo)t={Fb:1,Cz:R.add.SoCo};else if(R.add.GdFl)t={Fb:2,Cz:R.add.GdFl};
else if(R.add.PtFl)t={Fb:3,Cz:R.add.PtFl};return t};m.eE.wq=function(p,a){var R=p.add.vmsk,Q=p.add.vstk,t=a.Fb;
if(Q)Q.fillEnabled.v=t!=0;if(t>0){var N=["SoCo","GdFl","PtFl"][t-1];for(var K=0;K<3;K++)delete p.add[["SoCo","GdFl","PtFl"][K]];
p.add[N]=a.Cz}};m.Wi=function(p,a,R,Q){m.eE.call(this,p,a,R);this.dL={tmode:1,shape:Ck.gD(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{GY:0}};
this.Svr=Q;this.sN=null;this.me=null;this.$k=null};m.Wi.prototype=new m.eE;m.Wi.prototype.yF=function(p){return p.Fa&&this.id!=m.iV};
m.Wi.prototype.enable=function(p,a,R,Q,t){this.$F=R;var N=new $(V.E.v,!0);N.data={K:V.H.PA,Mz:"crosshair"};
a.Y(N)};m.Wi.prototype.rU=function(p,a,R,Q){};m.Wi.prototype.JI=function(p,a,R,Q,t){this.SXL(a,R);var N=this.dL.tmode;
if(N==2&&!p.Fp())return;var K=p.z.oD(t.x,t.y);K=m.OS.em(p,K,R);this.$k=[K.x,K.y];this.sN=K;this.me=new X(0,0)};
m.Wi.prototype.ShB=function(p,a,R){var Q=[this.sN.clone(),a.clone()];if(this.Svr)Q=m.Wi.LJ(Q[0],Q[1],R,!0,this.dL.cstr);
if(p)p.z.cH=new x(Q[0].x,Q[0].y,Q[1].x-Q[0].x,Q[1].y-Q[0].y);return this.rU(Q[0],Q[1],R.g(n.ei),this.$k)};
m.Wi.prototype.Sd$=function(p,a,R){var Q=p.z.oD(a.x,a.y),t=this.dL.cstr;if(t.GY==2){var N=new x(Q.x-t.x,Q.y-t.y,t.x,t.y),K=m.OS.yI(p,N,R);
Q.x+=K[0];Q.y+=K[1];m.OS.yY(p,N,K)}else Q=m.OS.em(p,Q,R);return Q};m.Wi.prototype.r$=function(p,a,R,Q,t){if(this.sN==null)return;
var N=this.Sd$(p,t,R);if(Q.g(n.xk))this.sN=N.Ai(this.me);else this.me=N.Ai(this.sN);this.$k.push(N.x,N.y);
if(this.dL.shape==null)this.dL.shape=R.$c[0];var K=this.ShB(p,N,Q)[0],T=S.s.VO(K);p.R.FF=T;if(this.id!=m.iV&&this.id!=m.aI&&this.id!=m.ae)m.Eh.gQ(t.x+10,t.y-10,p.z.cH,p,R);
p.$h=!0};m.Wi.prototype.SNV=function(p,a,R,Q){var t=p[4].clone();if(Q){t.x-=a/2;t.y-=R/2}var N=this.rU(t,new X(t.x+a,t.y+R),!1,this.$k);
this.S$U(p[0],p[1],p[2],N)};m.Wi.prototype.S$U=function(p,a,R,Q){var t=new $(V.E.JF,!0);t.data=m.Wi.SpL(Q[1],R);
a.Y(t);if(Q[1].v.classID=="customShape"&&Q[1].v.Nm.v.startsWith("--")){var N=p.h$(),K=N[0],T=N[1],d=K[T.pop()],y=d.add.vmsk,E=d.add.vogk,k=y.clone();
k.G=Q[0];this.QI(p,d.Yo,k,E)}};m.Wi.prototype.Gz=function(p,a,R,Q,t){if(this.sN==null)return;var N=this.Sd$(p,t,R),K=this.dL.binop,T=this.dL.tmode,d=this.$k,y=d.length;
if(this.id==m.iV&&y<=4){}else if(y<=4){N.x=Math.round(N.x);N.y=Math.round(N.y);var E=new $(V.E.v);E.data={K:V.H.XS,ax:"createshape",SvI:this.SNV.bind(this),SvL:this.name,SvB:[p,a,R,Q,N]};
a.Y(E)}else if(y!=2){var k=this.ShB(p,N,Q),D=k[0];if(T==0&&D.length>2){D[2].gu=[1,2,3,0][K];var P=p.h$(!0),e=P[0],Y=P[1],O=e[Y.pop()],W=O.add.vmsk,w=O.add.vogk,g=W.clone(),J=W.clone(),U=JSON.stringify(w);
J.G=J.G.concat(D.slice(2));J.V=[S.d.zX(J.G)-1];var H=S.lm.Kl(k[1]);w.push(H?H:S.lm.No());this.QI(p,O.Yo,J,w);
this.sQ(p,this.name,O.Yo,g,J,null,U,JSON.stringify(w))}else if(T==1){this.S$U(p,a,R,k)}else if(T==2){var J=new l.IC;
J.G=J.G.concat(D.slice(2));var f=J.mg(),j=S.p(f.rect.u()*4);S.wp(j,(R.rc&255)<<16|(R.rc>>8&255)<<8|(R.rc>>16&255)<<0);
S.RA(f.channel,j,3);var I=new $(V.E.W,!0);I.Q=m.JH;I.data={K:"draw",gT:{buffer:j,rect:f.rect.clone()},LS:this.name};
a.Y(I)}}this.sN=null;p.R.FF=null;p.R.XG=null;p.R.qm=[];p.z.cH=null;p.$h=!0};m.Wi.prototype.eu=function(p,a,R,Q,t){for(var R in p)this.dL[R]=p[R]};
m.Wi.LJ=function(p,a,R,Q,t){var N=p.x,K=p.y,T=a.x,d=a.y;if(t&&t.GY==2){if(Q){T=Math.round(T);d=Math.round(d)}N=T-t.x;
K=d-t.y}else{var y=0;if(t&&t.GY==1)y=t.y/t.x;else if(R&&R.g(n.ei))y=1;if(y!=0){if(Q){if(N<T)N=Math.floor(N);
else N=Math.ceil(N);if(K<d)K=Math.floor(K);else K=Math.ceil(K)}var E=Math.abs(T-N),k=Math.abs(d-K),D=E;
if(k/E<y)D*=k/E/y;T=T>N?N+D:N-D;d=d>K?K+D*y:K-D*y}if(R&&R.g(n.LG)){N-=T-N;K-=d-K}}var p=new X(N,K),a=new X(T,d);
if(Q)m.Wi.Spl(p,a);return[p,a]};m.Wi.Spl=function(p,a){if(p.x>a.x){var R=p.x;p.x=a.x;a.x=R}if(p.y>a.y){var R=p.y;
p.y=a.y;a.y=R}p.x=Math.floor(p.x);p.y=Math.floor(p.y);a.x=Math.ceil(a.x);a.y=Math.ceil(a.y)};m.Wi.Sps=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
m.Wi.FQ=function(p,a){var R=m.Wi.Sps();if(a==null)a=JSON.parse(JSON.stringify(gZ.gr[p]));gf.Pu.Ye(a,R.Usng.v.Type.v,p);
return{zt:"make",UD:R}};m.Wi.SpL=function(p,a){var R=a.$O,Q=JSON.parse(JSON.stringify(a.$y));if(R.Fb==0)Q.fillEnabled.v=!1;
var t=m.Wi.FQ(Math.max(0,R.Fb-1),R.Cz);t.UD.Usng.v.Shp=p;t.UD.Usng.v.strokeStyle={t:"Objc",v:Q};return t};
m.kO=function(){m.eE.call(this,[10,29],m.fO,"tools/pen");this.aV=null;this.Sr=null;this.$j=1;this.SCu=0;
this.ct=null;this.cA=!1};m.kO.prototype=new m.eE;m.kO.prototype.yF=function(p){return this.aV!=null};
m.kO.prototype.JI=function(p,a,R,Q,t){this.SXL(a,R);var N=p.z.oD(t.x,t.y),P,e;N.x=Math.round(N.x);N.y=Math.round(N.y);
var K=m.OS.em(p,N,R),T=p.h$(this.$j==0),d=T[0],y=T[1],E=d[y.pop()],k=E?E.add.vmsk:null,D=4*V.o()/p.z.f;
if(k)P=S.d.uM(k.G,N,!0,D);if(this.$j==1&&(k==null||(k.mU.length==0||k.mU[0]!=k.G.length-1)&&P.Yo==-1)){var Y=new $(V.E.JF,!0),O=S.lm.GX("customShape",[0,0,1,1],null,null,null,"--");
Y.data=m.Wi.SpL(O,R);a.Y(Y);T=p.h$(!0);d=T[0];y=T[1];E=d[y.pop()];k=E.add.vmsk;k.G=k.G.slice(0,2)}var W=E.add.vogk;
this.aV=k.clone();this.Sr=JSON.stringify(W);var w=k.G,g=S.d.zX(w);e=S.d.vJ(k.G,new x(N.x-D,N.y-D,D*2,D*2));
P=S.d.uM(k.G,N,!0,D);if(P.Yo!=-1&&e[0].length==0){var J=S.d.kk(w,P.Yo);while(w[J].length<=P.qT){P.qT-=w[J].length;
J+=w[J].length+1}w[J].length++;w.splice(J+2+P.qT,0,{type:4,Xe:K.clone(),i:K.clone(),k$:K.clone()});k.mU=[J+2+P.qT]}else if(e[0].length==1&&Q.g(n.LG)){var U=e[0],H=k.G.length-1,f=k.G[U];
f.k$=f.i.clone();if(U!=H)f.Xe=f.i.clone()}else{var j=0;if(k.mU.length!=1){k.V=[g];w.push({type:3,length:1,gu:[1,2,3,0][this.SCu],Xt:0,Uc:0,Wd:0});
j=w.length;W.push(S.lm.No())}else{var I=k.mU[0],L=S.d.IR(w,I),J=S.d.kk(w,L);if(I==J+w[J].length&&X.Hz(N,w[J+1].i)<D){w[J].type=0;
k.mU=[J+1];this.ct=K;this.cA=!0;this.QI(p,E.Yo,k,W);p.$h=!0;return}w[J].length++;j=I+1}if(Q.g(n.ei)&&w[j-1]&&w[j-1].i)K=m.sV.du(w[j-1].i,K);
w.splice(j,0,{type:4,Xe:K.clone(),i:K.clone(),k$:K.clone()});k.mU=[j];this.ct=K}this.QI(p,E.Yo,k,W);
p.$h=!0};m.kO.prototype.r$=function(p,a,R,Q,t){if(this.aV==null)return;var N=p.z.oD(t.x,t.y),K=m.OS.em(p,N,R),T=p.h$(this.$j==0),d=T[0],y=T[1],E=d[y.pop()],k=E.add.vmsk,D=k.G,P=D[k.mU[0]];
if(Q.g(n.xk)){if(Q.g(n.ei))K=m.sV.du(this.ct,K);var e=P.i.Ai(P.k$),Y=P.Xe.Ai(P.i);P.k$=K;P.i=K.add(e);
P.Xe=P.i.add(Y)}else{if(Q.g(n.ei))K=m.sV.du(P.i,K);if(this.cA){var O=X.Hz(P.i,K),W=O==0?0:X.Hz(P.i,P.k$)/O;
P.k$.x=P.i.x+W*(K.x-P.i.x);P.k$.y=P.i.y+W*(K.y-P.i.y)}else P.k$=K;if(Q.g(n.LG))P.type=5;else{P.type=4;
P.Xe=P.i.add(P.i.Ai(K))}this.ct=K}this.QI(p,E.Yo,k,E.add.vogk);p.$h=!0};m.kO.prototype.Gz=function(p,a,R,Q,t){if(this.aV==null)return;
var N=p.h$(this.$j==0),K=N[0],T=N[1],d=K[T.pop()],y=d.add.vmsk,E=d.add.vogk;this.sQ(p,this.cA?"Close Path":"Add Anchor Point",d.Yo,this.aV,y.clone(),null,this.Sr,JSON.stringify(E));
this.cA=!1;this.aV=null};m.kO.prototype.eu=function(p,a,R,Q,t){this.$j=p.tmode;this.SCu=p.binop};m.LD=function(){m.Wi.call(this,[10,30],m.iV,"tools/fpen",!1)};
m.LD.prototype=new m.Wi;m.LD.prototype.rU=function(p,a,R,Q){return[S.d.Ix(Q,this.dL.tolr),S.lm.GX("customShape",[0,0,1,1],null,null,null,"--")]};
m.hn=function(){m.eE.call(this,[10,27],m.Sh,"tools/pselect");this.Hk=null;this.MS=!1;this.VD=null;this.aV=null;
this.mH=null;this.Sr=null;this.mf=null;this.tb=null;this.MN=null;this.qj=null};m.hn.prototype=new m.eE;
m.hn.prototype.yF=function(p){return p.Fa};m.hn.prototype.JI=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=p.h$(),T=K[0],d=K[1],y,E;
for(var k=0;k<d.length;k++){var D=T[d[k]],P=D.add.vmsk,e=S.d.uM(P.G,N).Yo;if(e!=-1){this.VD=y=D;E=e}for(var Y=0;
Y<P.Wx.length;Y++){var O=S.d.pJ(P.G,P.Wx[Y]);if(O==null)continue;var W=X.Hz(O,N);if(W<4*V.o()/p.z.f){var w=p.M[D.Yo-1e6].add.TySh,g=w.KY.Curve,J=w.t,U=g.Reversed;
g.Reversed=!1;var g=NC.ut(w.KY.Curve);g.Reversed=U;S.s.t(g[0],J,g[0]);this.MN=[g,Y,J.Eu*J.$B-J.N*J.CI];
this.VD=y=D;E=0}}if(this.MN)break}if(y!=null){var P=y.add.vmsk;P.mU=[];var H=P.V.indexOf(E);if(Q.g(n.ei)){if(H==-1){P.V.push(E);
this.MS=!0}else P.V.splice(H,1)}else{if(H==-1)P.V=[E];this.MS=!0}this.tb=S.d.Fh(P.G,P.V)}this.Hk=N;this.qj=new rV(N);
p.if=!0;p.$h=!0};m.hn.prototype.r$=function(p,a,R,Q,t){if(this.Hk==null)return;var N=p.z.oD(t.x,t.y);
if(this.MS){N=this.qj.uf(N,Q);var K=this.VD;if(this.aV==null){this.aV=this.mH=K.add.vmsk.clone();this.Sr=this.mf=JSON.stringify(K.add.vogk);
if(Q.g(n.LG)){var T=this.aV.clone(),d=JSON.parse(this.Sr),y=m.eE.Spx(T,d);m.eE.SRa(y,T,d);this.mH=T;
this.mf=JSON.stringify(d)}}var T=this.mH.clone(),d=JSON.parse(this.mf);if(this.MN){var E=this.MN,k=E[0][0],D=S.s.On(k,N.x,N.y);
T.Wx[E[1]]=E[0][1][D];var P=k[D*2],e=k[D*2+1],Y=(k[D*2+2]-P)*(N.y-e)-(k[D*2+3]-e)*(N.x-P);if(E[2]<0)Y=-Y;
T.Rp=Y>0}else{var O=this.tb.clone(),W=O.x,w=O.y;O.offset(N.x-this.Hk.x,N.y-this.Hk.y);O.x=Math.round(O.x);
O.y=Math.round(O.y);var g=m.OS.yI(p,O,R),J=new gh(1,0,0,1,O.x-W+g[0],O.y-w+g[1]);S.d.xv(T.G,J,T.V);S.lm.t(d,S.L.fm(J),T.V);
m.OS.yY(p,O,g)}this.QI(p,K.Yo,T,d)}else{var U=this.Hk;p.R.FF=S.s.Ht(new x(U.x,U.y,N.x-U.x,N.y-U.y));
p.$h=!0}};m.hn.prototype.Gz=function(p,a,R,Q,t){if(this.Hk==null)return;var N=p.z.oD(t.x,t.y),K=this.VD,T=K?K.add.vmsk:null;
if(this.MS){var d=JSON.stringify(K.add.vogk);if(!this.Hk.xA(N))this.sQ(p,"Move Paths",K.Yo,this.aV,T,null,this.Sr,d);
if(p!=null&&p.R.XG){p.R.XG=null;p.$h=!0}}else{if(T){var y=this.Hk,E=new x(y.x,y.y,N.x-y.x,N.y-y.y),k=S.d.SJi(T.G,E);
if(Q.g(n.ei)){for(var D=0;D<k.length;D++)if(T.V.indexOf(k[D])==-1)T.V.push(k[D])}else T.V=k}p.R.FF=null;
p.$h=!0}this.Hk=null;this.aV=null;this.MN=null;this.MS=!1;this.qj=null};m.hn.prototype.hW=function(p,a,R,Q){m.eE.prototype.hW.call(this,p,a,R,Q);
if(R.FD!=this.id)return;if(p.V.length==0)return;var t=p.h$(),N=t[0],K=t[1];if(K.length==0)return;var T=N[K[0]],d=T.add.vmsk,y=T.add.vstk,E=T.add.vogk,k=new $(V.E.v,!0);
k.data={K:V.H.aK,Q:this.id,IM:"main",Uh:d?d:null,lm:E};a.Y(k)};m.hn.prototype.eu=function(p,a,R,Q,t){var N=p.dX;
if(N.Uh){var K=R.h$(),T=K[0],d=K[1],y=T[d[0]],E=y.add.vmsk.clone(),k=JSON.stringify(y.add.vogk),D=N.Uh;
this.QI(R,y.Yo,D,N.lm);var P=[18,5];if(E.G.length==D.G.length)P=E.V[0]==D.V[0]?"Fill Rule":"Path Order";
this.sQ(R,P,y.Yo,E,D,null,k,JSON.stringify(N.lm))}};m.dA=function(){m.eE.call(this,[10,28],m.Ne,"tools/dselect");
this.HR=-1;this.Je=-1;this.cD=null;this.Hk=null;this.VD=null;this.aV=null;this.Sr=null;this.Jc=null;
this.$i=0;this.Sgz={psnap:!1};this.qj=null};m.dA.prototype=new m.eE;m.dA.prototype.yF=function(p){return p.Fa};
m.dA.prototype.eu=function(p){this.Sgz=p};m.dA.prototype.Gj=function(p,a,R,Q,t){if(p.K=="crnr"){if(R==null)return;
var N=R.h$(),K=N[0],T=N[1];if(T.length==0){alert("No paths selected");return}var d=K[T[0]],y=d.add.vmsk;
if(y.mU.length==0){alert("No corners selected");return}for(var E=0;E<y.mU.length;E++){var k=y.G[y.mU[E]];
if(!k.i.xA(k.k$)||!k.i.xA(k.Xe)){alert("Only sharp corners can be rounded");return}}if(this.aV==null){this.aV=d.add.vmsk.clone();
this.Sr=JSON.stringify(d.add.vogk);this.VD=d;this.Jc=R}var D=new $(V.E.v,!0);D.data={K:V.H.XS,ax:"cornerradius",pt:5,HI:this.SpF.bind(this)};
a.Y(D)}else m.eE.prototype.Gj.call(this,p,a,R,Q,t)};m.dA.prototype.SpF=function(p){if(p=="confirm"){var a=this.Jc,R=this.VD,Q=R.add.vmsk,t=R.add.vogk;
this.sQ(a,[12,94,0],R.Yo,this.aV,Q,null,this.Sr,JSON.stringify(t));return}var Q=this.aV.clone(),t=JSON.parse(this.Sr),N=Q.mU;
if(p=="cancel"){}else{var K=[];for(var T=0;T<N.length;T++){var d=N[T],y=S.d.IR(Q.G,d),D=0;if(K.indexOf(y)!=-1)continue;
K.push(y);var E=S.d.kk(Q.G,y),k=Q.G[E].length,P=[];for(var e=0;e<k;e++){var Y=Q.mU.indexOf(E+e+1)==-1?0:p;
P.push(Y);if(Y!=0)D++}S.d.pb(Q.G,E,P);for(var e=0;e<N.length;e++)if(N[e]>E+k)N[e]+=D}Q.mU=[];this.wM(Q,t)}this.QI(this.Jc,this.VD.Yo,Q,t)};
m.dA.prototype.disable=function(p,a,R,Q){this.BK(p)};m.dA.prototype.JI=function(p,a,R,Q,t){this.BK(p);
var N=p.z.oD(t.x,t.y),k,D,P;this.cD=N.clone();var K=p.h$(),T=K[0],d=K[1];if(d.length==0)return;var y=4*V.o()/p.z.f,E=new x(N.x-y,N.y-y,y*2,y*2);
for(var e=0;e<d.length;e++){k=this.VD=T[d[e]];D=k.add.vmsk;P=S.d.vJ(D.G,E);if(P[0].length+P[1].length+P[2].length!=0)break}var Y=[!1,!1,!1];
for(var O=0;O<3;O++){for(var W=0;W<P[O].length;W++)if(D.mU.indexOf(P[O][W])!=-1){P[O]=[P[O][W]];Y[O]=!0;
break}}if(P[0].length!=0&&(Y[0]||!Y[1]&&!Y[2])){var w=P[0][0],g=D.mU.indexOf(w);if(Q.g(n.ei)){if(g==-1)D.mU.push(w);
else{D.mU.splice(g,1);p.$h=!0;return}}else if(g==-1)D.mU=[w];this.HR=w;this.Je=0}else if(P[1].length!=0&&(Y[1]||!Y[2])){this.HR=P[1][0];
this.Je=1}else if(P[2].length!=0){this.HR=P[2][0];this.Je=2}else{var J=S.d.uM(D.G,N,!0,y);if(J.Yo==-1)this.Hk=N;
else{D.V=[J.Yo];D.mU=[]}}if(this.aV==null){this.aV=k.add.vmsk.clone();this.Sr=JSON.stringify(k.add.vogk)}this.qj=new rV(N);
p.$h=!0};m.dA.prototype.r$=function(p,a,R,Q,t){if(p==null)return;var N=p.z.oD(t.x,t.y),K=this.VD;if(this.HR!=-1){var T=this.aV.clone(),d=K.add.vogk,y=T.G[this.HR];
y=[y.i,y.Xe,y.k$][this.Je];if(Q.g(n.ei)){N=this.qj.uf(N,Q);N.x+=y.x-this.cD.x;N.y+=y.y-this.cD.y}else{if(this.Sgz.psnap){N.x=Math.round(N.x);
N.y=Math.round(N.y)}N=m.OS.em(p,N,R)}if(this.Je==0){var E=new gh(1,0,0,1,N.x-y.x,N.y-y.y);S.d.xv(T.G,E,null,T.mU)}else{var k=T.G[this.HR],D=k.Xe,P=k.k$;
if(this.Je==2){D=k.k$;P=k.Xe}D.YY(N.x,N.y);if(k.type==1||k.type==4){var e=X.Hz(D,k.i),Y=X.Hz(P,k.i);
if(Y!=0){P.x=k.i.x-(D.x-k.i.x)*(Y/e);P.y=k.i.y-(D.y-k.i.y)*(Y/e)}}}this.wM(T,d);this.QI(p,K.Yo,T,d)}else if(this.Hk!=null){var O=this.Hk;
p.R.FF=S.s.Ht(new x(O.x,O.y,N.x-O.x,N.y-O.y));p.$h=!0}else{var W=p.h$(),w=W[0],g=W[1],K,T,H;if(g.length==0)return;
var J=4*V.o()/p.z.f,U=new x(N.x-J,N.y-J,J*2,J*2);for(var f=0;f<g.length;f++){K=w[g[f]];T=K.add.vmsk;
H=S.d.vJ(T.G,U);if(H[0].length+H[1].length+H[2].length!=0)break}this.BK(p);for(var j=0;j<3;j++){for(var I=0;
I<H[j].length;I++){var L=H[j][I],C=T.G[L];C=j==0?C.i:j==1?C.Xe:C.k$;p.R.Mp.push(p.R.tn.length>>>1);p.R.tn.push(C.x,C.y);
p.$h=!0}}}};m.dA.prototype.BK=function(p){if(p.R.tn.length!=0){p.R.tn=[];p.R.Mp=[];p.$h=!0}};m.dA.prototype.Gz=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=this.VD,T=K?K.add.vmsk:null,d=K?K.add.vogk:null;
if(this.HR!=-1){if(Date.now()-this.$i<300){var y=T.G[this.HR],E=this.Je,k=null;if(E==0){var D=y.Xe.xA(y.i),P=y.k$.xA(y.i);
if(!D&&!P){k="Anchor Type";if(y.type==1||y.type==4)y.type++;else{y.type--;y.k$=y.i.add(y.i.Ai(y.Xe))}}else{k="Add Handles";
if(D&&P){y.Xe.x-=30;y.k$.x+=30}else if(D)y.Xe=y.i.add(y.i.Ai(y.k$));else if(P)y.k$=y.i.add(y.i.Ai(y.Xe))}}else{k="Remove Handle";
if(E==1)y.Xe.cI(y.i);else y.k$.cI(y.i)}this.wM(T,d);this.QI(p,K.Yo,T,d);this.sQ(p,k,K.Yo,this.aV,T,null,this.Sr,JSON.stringify(d))}else if(!this.cD.xA(N)){this.sQ(p,"Drag Anchors",K.Yo,this.aV,T,null,this.Sr,JSON.stringify(d))}this.$i=Date.now()}else if(this.Hk!=null){var e=this.Hk,Y=new x(e.x,e.y,N.x-e.x,N.y-e.y);
if(Y.C<0)Y.x+=Y.C;if(Y.T<0)Y.y+=Y.T;Y.C=Math.abs(Y.C);Y.T=Math.abs(Y.T);var O=S.d.vJ(T.G,Y);T.mU=O[0];
p.R.FF=null}this.VD=null;this.aV=null;this.Hk=null;this.HR=this.Je=-1;this.qj=null;p.$h=!0};m.dA.prototype.wM=function(p,a){for(var R=0;
R<p.mU.length;R++){var Q=S.d.IR(p.G,p.mU[R]);S.lm.OM(a,Q)}};m.dA.prototype.Qb=function(p,a,R,Q){if(p==null)return;
var t=p.h$(),N=t[0],K=t[1];if(K.length==0)return;var T=N[K[0]],d=T.add.vmsk;if(d==null||d.mU.length==0)return;
var y=T.add.vogk,E=JSON.stringify(y),k=Q.xi();if(k.x!=0||k.y!=0){var D=d.clone(),P=d.clone(),e=new gh(1,0,0,1,k.x,k.y);
S.d.xv(P.G,e,null,P.mU);this.wM(P,y);this.QI(p,T.Yo,P,y);this.sQ(p,"Move Anchors",p.V[0],D,P.clone(),!0,E,JSON.stringify(y))}if(Q.g(n.gU)||Q.g(n.gZ)){var D=d.clone(),P=d.clone();
P.G=S.d.SJt(P.G,P.mU,y);P.mU=[];this.QI(p,T.Yo,P,y);this.sQ(p,"Delete Anchors",T.Yo,D,P.clone(),!0,E,JSON.stringify(y))}};
m.dA.prototype.sQ=function(p,a,R,Q,t,N,K,T){var d=p.Lx();if(N&&d!=null&&d.Q==this&&d.data.SCJ&&d.data.Hn==R&&JSON.stringify(d.data.mS.mU)==JSON.stringify(Q.mU)){d.data.Nv=t;
d.data.mI=T}else{var d=new gm(a,this);d.data={Hn:R,mS:Q,Nv:t,SCJ:N,SCm:K,mI:T};p.sv(d)}};m.Rect=function(){m.Wi.call(this,[10,32],m.aR,"tools/rect",!0)};
m.Rect.prototype=new m.Wi;m.Rect.prototype.rU=function(p,a,R){var Q=this.dL.crad,t=a.x-p.x,N=a.y-p.y;
return[S.d.y$.Rect(p.x,p.y,t,N,Q),S.lm.GX("Rctn",[p.x,p.y,a.x,a.y],[Q,Q,Q,Q])]};m.QJ=function(){m.Wi.call(this,[10,33],m.fv,"tools/ellipse",!0)};
m.QJ.prototype=new m.Wi;m.QJ.prototype.rU=function(p,a,R){var Q=a.x-p.x,t=a.y-p.y;return[S.d.y$.QJ(p.x,p.y,Q,t),S.lm.GX("Elps",[p.x,p.y,a.x,a.y])]};
m.BN=function(){m.Wi.call(this,[10,34],m.aI,"tools/pshape",!1)};m.BN.prototype=new m.Wi;m.BN.prototype.rU=function(p,a,R){var Q=this.dL.pshape,t=this.dL.crad,N=this.dL.irad/100,K=this.dL.sides,T=this.dL.width,d=this.dL.tsiz,y=this.dL.length,O;
a=a.clone();if(R){if(Math.abs(a.x-p.x)<Math.abs(a.y-p.y))a.x=p.x;else a.y=p.y}var E=p.x,k=p.y,D=a.x,P=a.y,e=Math.sqrt((D-E)*(D-E)+(P-k)*(P-k)),Y=Math.atan2(-P+k,D-E);
if(Q==0)O=S.d.y$.Ii(E,k,e,Y,K,t);if(Q==1)O=S.d.y$.Sdo(E,k,e,Y,K,t,N);if(Q==2)O=S.d.y$.Sdv(p.x,p.y,a.x,a.y,T,d/100);
if(Q==3)O=S.d.y$.SdN(E,k,e,Y,y);return[O,S.lm.GX("customShape",[p.x,p.y,a.x,a.y],null,null,null,"--")]};
m.hz=function(){m.Wi.call(this,[10,35],m.ae,"tools/line",!1)};m.hz.prototype=new m.Wi;m.hz.prototype.rU=function(p,a,R){var Q=this.dL.width;
a=a.clone();if(R){a=m.sV.du(p,a)}return[S.d.y$.hz(p.x,p.y,a.x,a.y,Q),S.lm.GX("Ln",null,null,[p.x,p.y,a.x,a.y],Q)]};
m.Bp=function(){m.Wi.call(this,[10,31],m.fJ,"tools/cshape",!0)};m.Bp.prototype=new m.Wi;m.Bp.prototype.rU=function(p,a,R){var Q=this.dL.shape,t=Q.a_.C/Q.a_.T,N=l.IC.Ce(Q.G);
a=a.clone();if(R){a.y=p.y+(a.x-p.x)/t}var K=a.x-p.x,T=a.y-p.y;S.d.xv(N,new gh(K,0,0,T,p.x,p.y));return[N,S.lm.GX("customShape",[p.x,p.y,a.x,a.y],null,null,null,Q.ts)]};
m.B=function(p,a,R){m.Eh.call(this,p,a,R);this.Hc=0;this.M=null;this.Hx=null;this.hM=null;this.ES=1;
this.cV=!1;this.cursor=null;this.lh=null;this.Xu=null;this.t_=!1;this.GM=null;this.Sgu=0;this.mL=null;
this.cX=0;this.vK=null;this.Kr=null;this.UV=null;this.mF=null;this.Sv$=null};m.B.prototype=new m.Eh;
m.B.yz=function(p,a){var R={classID:"null",null:Nr.Fx("Dcmn",!0)};if(p)R.Angl={t:"UntF",v:{type:"#Ang",val:a}};
else R.Axis={t:"enum",v:{Ornt:a}};return{zt:p?"rotateEventEnum":"flip",UD:R}};m.B.prototype.SK=function(p,a,R,Q,t){var N=new $(V.E.v,!0);
N.data={K:V.H.aK,Q:this.id,sq:t,$$:p,hM:R};a.Y(N);this.kU=!1};m.B.prototype.yF=function(p){return this.Kr&&this.Kr.SXf()};
m.B.prototype.Gj=function(p,a,R,Q,t){this.hM=t;if(p.K=="again"&&this.mL==null)return;if(p.K=="doMouseDown"){if(this.Kr==null)return;
this.JI(R,a,t,Q,p.Gm);return}if(!this.aS(R,t))return;if(this.Kr){this.SeL(p,this.Kr.xH());this.jt(R,t,0,!0);
this.hk(R);return}this.S$s(R,p.w==null,p.w);this.SNx(R);this.SeL(p);this.aO(R,a,p.LS,!1)};m.B.prototype.SeL=function(p,a){var R=this.vK;
if(a==null){var Q=p.Ut!=null?p.Ut:4;a=this.Kr.SYC()[Q]}var t=a.x,N=a.y;if(p.K=="rot"&&p.Z!=Math.PI&&(R.C+R.T&1)==1){t=Math.floor(t);
N=Math.floor(N)}var K=new gh;K.translate(-t,-N);if(p.K=="rot")K.rotate(p.Z);if(p.K=="scl")K.scale(p.Z.x,p.Z.y);
if(p.K=="mat")K.concat(p.Z);K.translate(t,N);if(p.K=="again")K=this.mL;var T=this.Kr.CH();S.s.t(T,K,T);
this.Kr.BL(T)};m.B.prototype.AM=function(){return!0};m.B.prototype.aS=function(p,a){if(p==null)return!1;
if(this.id==m.aU)return p.S!=null;var R=p.Dh(!0,null,null,!0);for(var Q=0;Q<R.length;Q++){var t=p.M[R[Q]];
if(t.qJ(2)||t.qJ(31)){alert(gL.get([6,57,0]));return!1}if(t.add.artb){alert("You can not transform the whole artboard");
return!1}if(t.add.TySh)if(!CG.vm(t.add.TySh,a.mk))return!1;if(t.add.SoLd){if(R.length==1&&!S.KF.QD(t.add.SoLd.warp.v)&&(t.mg()&&t.mg().XI||t.add.vmsk&&t.add.vmsk.XI)){alert("Unlink masks before transforming Smart Object");
return!1}if(!p.SzI(t.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+p.yL(t.add.SoLd.Idnt.v).Lf+")");
return!1}}}if(p.S==null)return!0;if(!p.Fp())return!1;return p.Ssi()};m.B.prototype.JI=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);
if(this.cX==1){var K=S.L.zw(S.L.vn(this.Kr.CH(),this.vK));N=S.L.jU(K,N)}var T=this.cX==0?this.Kr:this.UV;
this.cV=T.JI(p,R,Q,N);if(this.cV&&T.YC(N)){if(Date.now()-this.Sgu<250)this.aO(p,a,null,!0);this.Sgu=Date.now()}};
m.B.prototype.RH=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.PA,Mz:this.cursor};p.Y(a)};m.B.prototype.r$=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);
if(this.cX==1){var K=S.L.zw(S.L.vn(this.Kr.CH(),this.vK));N=S.L.jU(K,N)}var T=this.cX==0?this.Kr:this.UV;
if(!t.Fa){var d="default";if(T){var y=T.yU(N,p.z.f);if(y)d=y}if(d!=this.cursor){this.cursor=d;this.RH(a)}}if(!this.cV)return;
T.r$(p,R,Q,N);this.jt(p,R,0,!0);this.hk(p);this.yB(a)};m.B.prototype.Gz=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);
this.Kr.Gz(p,R,Q,N);this.cV=!1};m.B.prototype.Qb=function(p,a,R,Q){if(Q.g(n.eL))this.aO(p,a,null,!0);
else if(Q.g(n.tu))this.pc(p,a);else{var t=this.Kr.Qb(p,R,Q);if(t){this.jt(p,R,0,!0);this.yB(a)}}};m.B.prototype.eu=function(p,a,R,Q){if(p.IM=="commit")this.aO(R,a,null,!0);
else if(p.IM=="cancel")this.pc(R,a);else if(p.IM=="switchWarp"){this.cX=1-this.cX;this.SYS();this.hk(R);
this.yB(a)}else if(p.IM=="wrp"){this.UV.Sqb(p.c_);this.hk(R);this.jt(R,this.hM,0,!0)}else if(p.IM=="ctyp"){this.Kr.SYB(p.my);
this.hk(R);this.yB(a)}else if(p.IM=="cen"){this.Kr.SYh(p.Yq);this.hk(R);this.jt(R,this.hM,0,!0);this.yB(a)}else if(p.IM=="trn"){var t=S.L.fm(p.Uy),N=this.vK,K=S.L.vn(this.Kr.CH(),this.vK);
t[6]=K[6],t[7]=K[7];var T=[N.x,N.y,N.x+N.C,N.y,N.x+N.C,N.y+N.T,N.x,N.y+N.T];S.L.apply(t,T);this.ES=p.ES;
this.Kr.BL(T);this.hk(R);this.jt(R,this.hM,0,!0)}};m.B.prototype.hk=function(p){if(this.cX==0)this.Kr.mB(p,this.hM);
else{this.UV.mB(p);var a=S.L.vn(this.Kr.CH(),this.vK);S.L.apply(a,p.R.FF.r);S.L.apply(a,p.R.vI)}};m.B.prototype.aO=function(p,a,R,Q){this.jt(p,this.hM,this.ES);
var t=new gm(R?R:this.name,this);if(this.Hc==0)t.data={type:this.Hc,M:this.M,GM:this.Hx,xg:m.B.pA(p,this.M)};
else if(this.Hc==1){var N=p.M[this.M[0]],K;if(N.KS.FE<=0){K=S.p(N.KS.Ah.u());S.vh(N.KS.at,K,3)}else K=p.S.channel;
var T={rect:N.KS.Ah.clone(),channel:K};t.data={type:this.Hc,w:this.M[0],Xu:this.Xu,AO:T,lh:this.lh,t_:this.t_,KS:N.KS,GM:this.GM,xg:{I:N.KS.Ah,UJ:N.KS.at}}}else if(this.Hc==2){t.data={type:this.Hc,Xu:this.Xu,AO:{rect:p.S.rect.clone(),channel:S.clone(p.S.channel)}}}p.sv(t);
var d=this.vK,y=new X(d.x+d.C/2,d.y+d.T/2),E=S.L.vn(this.Kr.CH(),d),k=S.L.tz(E),D=new gh;D.translate(y.x,y.y);
D.concat(k);D.translate(-y.x,-y.y);k=D.clone();var P=-Math.atan2(-k.N,k.Eu),e=new gh;e.rotate(P);k.concat(e);
function Y(W,w){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][w],val:W}}}var O={classID:"null",null:Nr.Fx("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Y(D.NE,0),Vrtc:Y(D.GV,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Y(Math.atan(k.CI)*180/Math.PI,2),Vrtc:Y(0,2)}},Wdth:Y(k.Eu*100,1),Hght:Y(k.$B*100,1),Angl:Y(P*180/Math.PI,2)};
this.yt=a;this.track({zt:"transform",UD:O});this.escape(p,a,Q)};m.B.prototype.pc=function(p,a){if(this.Hc==0)m.B.YZ(p,this.M,this.Hx);
else if(this.Hc==1){var R=p.M[this.M[0]];p.S=this.Xu;if(!this.t_){R.KS.Ah=this.GM.I;R.KS.at=this.GM.UJ;
R.UF(p,0,0,p.S)}else{R.$V(p,this.lh)}p.U();p.d_=!0}else if(this.Hc==2){p.S=this.Xu;p.d_=!0}this.escape(p,a,!0)};
m.B.prototype.escape=function(p,a,R){this.Kr.clear(p);this.Kr=null;this.UV=null;this.cX=0;if(R)this.an(a,V.E.v,{K:V.H.xc})};
m.B.prototype.gq=function(p,a){if(p.type==0)m.B.YZ(a,p.M,p.xg);else{if(p.type==1){var R=a.M[p.w];if(p.t_){R.KS=p.KS}else{R.KS.Ah=p.xg.I;
R.KS.at=p.xg.UJ}R.UF(a,0,0,a.S);a.U()}a.S={rect:p.AO.rect.clone(),channel:S.clone(p.AO.channel)};a.d_=!0}};
m.B.prototype.tk=function(p,a){if(p.type==0)m.B.YZ(a,p.M,p.GM);else{if(p.type==1){var R=a.M[p.w];if(p.t_){R.$V(a,p.lh)}else{R.KS.Ah=p.GM.I;
R.KS.at=p.GM.UJ;R.UF(a,0,0,a.S)}a.U()}a.S=p.Xu;a.d_=!0}};m.B.prototype.S$s=function(p,a,R){p.h$();var Q=[];
if(R==null)for(var t=0;t<p.Op.length;t++)if(p.pU[p.Op[t]].add.vmsk.G.length>2)Q.push(-1-p.Op[t]);var N=[];
if(R!=null||Q.length==0||p.FS!=null&&p.FS.length!=0)N=p.Dh(a,R,null,!0);N=N.concat(Q);this.M=N};m.B.prototype.enable=function(p,a,R,Q,t,N,K){if(this.cursor==null)this.cursor="default";
this.RH(a);if(this.Kr)return;this.hM=R;this.S$s(p,!0);this.SNx(p,N&&N.pp!=null&&N.pp!=-1?N.pp:null,K);
this.yB(a);this.hk(p);if(N&&N.pp==-1)this.eu({IM:"switchWarp"},a,p,Q)};m.B.prototype.yB=function(p){var a={K:V.H.aK,Q:this.id};
if(this.cX==0){var R=S.L.vn(this.Kr.CH(),this.vK),Q=S.L.tz(R);a.Uy={EF:Q,my:this.Kr.SYL(),Yq:this.Kr.xH(),I:this.vK.clone()}}else{a.c_=this.UV.BX()}a.SvW=this.UV!=null;
this.an(p,V.E.v,a)};m.B.prototype.SNx=function(p,a,R){var Q=this.id==m.aU,t=!0,N=this.M[0],K=p.M[N],y=null;
if(Q){this.Hc=2;this.Xu=p.S}else if(p.S&&this.M.length==1&&N>=0&&!K.rect.RJ()){this.Hc=1;this.Xu=p.S;
this.lh=K.KS;this.t_=!1;if(!K.GZ(p,p.S)){this.t_=!0;K.$u(p,p.S,!1)}this.GM={UJ:K.KS.at,I:K.KS.Ah}}else{this.Hc=0;
this.Hx=m.B.pA(p,this.M,null,R);for(var T=0;T<this.Hx.length;T++)if(this.Hx[T][3]!=null)t=!1}var d=this.Hc==1;
if(this.Hx&&this.Hx.length==1){var E=this.Hx[0];if(E[3]==null)d=!0;if(E[4]!=null){y=p.M[this.M[0]].add.SoLd;
if(E[1]||E[2])d=!1}}var k=Q?p.S.rect.clone():m.B.yk(p,this.M,R);this.vK=k;if(!Q&&y){var D=m.B.jz(y.nonAffineTransform);
this.vK=S.s.wh(S.KF.tM(y.warp.v));if(d)this.UV=new dK(y.warp.v);this.mF=S.L.vn(D,this.vK);this.Kr=new KW(D,!0,!0,t,!1,!1,a)}else{if(d||Q)this.UV=new dK(S.KF.p(this.vK));
this.mF=[1,0,0,0,1,0,0,0];this.Kr=new KW([k.x,k.y,k.x+k.C,k.y,k.x+k.C,k.y+k.T,k.x,k.y+k.T],!0,!0,t,!1,!1,a)}this.Sv$=[1,0,0,0,1,0,0,0]};
m.B.yk=function(p,a,R){if(a==null)a=p.Dh(!0,null,null,!0);var Q=new x;if(p.S&&a.length==1&&a[0]>=0)Q=p.S.rect.clone();
else for(var t=0;t<a.length;t++){var N=a[t],K=0<=N?p.M[N]:p.pU[-1-N],T=K.add.vmsk,d=0<=N?K.iY(p,a.length==1,!1,R):S.d.Fh(T.G,a.length==1&&T.V.length!=0?T.V:null);
Q=Q.hT(d)}return Q};m.B.prototype.an=function(p,a,R,Q){var t=new $(a,!0);t.data=R;if(Q)t.Q=Q;p.Y(t)};
m.B.pA=function(p,a,R,Q){var t=[];for(var N=0;N<a.length;N++){var K=a[N],T,d;if(K>=0){T=p.M[K];d=T.Gl(p,R,Q)}else{T=p.pU[-1-K];
d=[2]}var y=[];if(d.indexOf(0)!=-1){var E={mQ:[S.clone(T.buffer),T.rect.clone()]};y.push(E);if(T.kF()){var k=T.iW(p);
E.SvO=S.clone(k.buffer);E.Svw=k.rect.clone()}}else y.push(null);if(d.indexOf(1)!=-1)y.push(T.mg().clone());
else y.push(null);if(d.indexOf(2)!=-1)y.push({Uh:T.add.vmsk.clone(),up:T.add.vstk?JSON.parse(JSON.stringify(T.add.vstk)):null,Cz:T.add.vstk?m.eE.Lv(p,K):null,lm:T.add.vogk?JSON.parse(JSON.stringify(T.add.vogk)):null});
else y.push(null);if(T.add.TySh&&y[0]){gK.RU(T.add.TySh);y.push(T.add.TySh.t.clone())}else y.push(null);
if(T.add.SoLd&&y[0])y.push(JSON.parse(JSON.stringify(T.add.SoLd)));else y.push(null);if(d.indexOf(3)!=-1)y.push(T.iW(p).n.clone());
else y.push(null);if(T.add.lmfx)y.push(JSON.stringify(T.add.lmfx));else y.push(null);t.push(y)}return t};
m.B.YZ=function(p,a,R){for(var Q=0;Q<a.length;Q++){var t=a[Q],N=0<=t?p.M[t]:p.pU[-1-t],K=R[Q];if(K[0]){N.rect=K[0].mQ[1].clone();
N.buffer=S.clone(K[0].mQ[0]);if(N.kF()){var T=N.iW(p);T.buffer=S.clone(K[0].SvO);T.rect=K[0].Svw.clone()}}if(K[1]){N.mg().channel=S.clone(K[1].channel);
N.mg().rect=K[1].rect.clone();N.mg().Ol=!0}if(K[2]){N.add.vmsk=K[2].Uh.clone();if(K[2].Cz)m.eE.wq(N,K[2].Cz);
if(K[2].up)N.add.vstk=JSON.parse(JSON.stringify(K[2].up));if(K[2].lm)N.add.vogk=JSON.parse(JSON.stringify(K[2].lm))}if(K[3]){N.add.TySh.t=K[3].clone();
gK.SS(N.add.TySh)}if(K[4]){N.add.SoLd=JSON.parse(JSON.stringify(K[4]))}if(K[5]){var d=N.iW(p).n;d.channel=S.clone(K[5].channel);
d.rect=K[5].rect.clone()}if(K[6]){N.add.lmfx=JSON.parse(K[6])}if(0<=t){N.WU(p);N.U()}}p.U()};m.B.Of=function(p){var a=p.clone(),R=Math.atan2(-a.N,a.Eu),Q=new gh;
Q.rotate(-R);a.concat(Q);return(Math.abs(a.Eu)+Math.abs(a.$B))/2};m.B.BY=function(p,a,R,Q,t,N,K,T,d,y){var E=S.L.tz(N),k=m.B.Of(E);
for(var D=0;D<R.length;D++){var P=R[D],e=0<=P?p.M[P]:p.pU[-1-P],Y=Q[D];if(e.add.lmfx&&T)gB.SfF(e.add.lmfx,k);
if(Y[0]&&!Y[3]&&!Y[4]&&!Y[5]){var O=Y[0].mQ;if(d){var W=d.clone(),w=S.p(W.u()*4);S.gW(O[0],O[1],w,W);
O=[w,W]}var g=m.B.hc(O,t,N,K,t==0?e.buffer.buffer:null,null,null,y);if(g){e.rect=g.rect;e.buffer=g.buffer}}if(Y[1])m.B.Spm(p,Y[1],e.mg(),t,N,K);
if(Y[2]){var J=K&&!S.KF.QD(K),U=Y[2].Uh.clone(),H=R.length==1&&U.V.length!=0,f=R.length==1&&U.mU.length>1;
if(f)H=!1;var j=H?U.V:null,I=f?U.mU:null;if(J){var L=S.KF.tM(K);S.L.apply(N,L);S.d.Svp(U.G,L,j,I)}else S.d.SvN(U.G,N,j,I);
if(e.add.vstk&&T){e.add.vstk.strokeStyleLineWidth.v.val=Y[2].up.strokeStyleLineWidth.v.val*k;var C=Y[2].Cz;
if(C.Fb==3){C=JSON.parse(JSON.stringify(C));var v=C.Cz.phase.v;C.Cz.Scl.v.val=Math.round(C.Cz.Scl.v.val*k);
v.Hrzn.v=Math.round(v.Hrzn.v*k);v.Vrtc.v=Math.round(v.Vrtc.v*k);m.eE.wq(e,C)}}if(e.add.vogk){e.add.vogk=JSON.parse(JSON.stringify(Y[2].lm));
if(J||f)S.lm.Sho(e.add.vogk);else S.lm.t(e.add.vogk,N,R.length>1?[]:U.V,T)}U.Ge*=k;e.add.vmsk=U;if(e.add.vogk)S.lm.OX(e.add.vogk,e.add.vmsk)}if(Y[3]){var o=Y[3].clone();
o.concat(E);e.add.TySh.t=o;gK.SS(e.add.TySh);var Z=new NC(e.add.TySh.KY,a.mk),B=CG.PX(Z,e.add.TySh);
e.rect=B.I;e.buffer=B.Yz}if(Y[4]){var s=e.add.SoLd,q=m.B.jz(Y[4].nonAffineTransform);S.L.apply(N,q);
var F=S.s.bs(q);if(KW.BB(q)){if(K){var b=S.s.wh(S.KF.tM(Y[4].warp.v)),G=S.L.vn(q,b),u=S.s.wh(S.KF.tM(K));
q=[u.x,u.y,u.x+u.C,u.y,u.x+u.C,u.y+u.T,u.x,u.y+u.T];S.L.apply(G,q);s.warp.v=K}var h=S.L.vn(q),z=q;if(!S.L.OC(h)){h[6]=h[7]=0;
z=[0,0,1,0,1,1,0,1];S.L.apply(h,z)}s.Trnf=m.B.Ql(z);s.nonAffineTransform=m.B.Ql(q);e.eU(p,t==0)}}if(Y[5])m.B.Spm(p,Y[5],e.iW(p).n,t,N,K);
if(0<=P){if(t!=0)e.dT();e.WU(p);e.U()}}p.U()};m.B.hj=function(p,a,R,Q,t,N){if(R==null)R=!1;return m.B.hc(p,R?0:1,S.L.fm(a),null,Q,t,N,R)};
m.B.hc=function(p,a,R,Q,t,N,K,T){if(T==null)T=!1;if(T&&K)throw"e";var d={},D=0,P=.3;if(Q&&!S.KF.QD(Q)){var y=S.KF.tM(Q);
S.L.apply(R,y);d.rect=S.s.bs(y);d.buffer=S.p(d.rect.u()*4);S.Lp.drawImage(y,p[0],p[1].C,p[1].T,d.buffer,d.rect,a==0);
return d}S.UR(p);var E=p[0],k=p[1],e=k.u()*m.B.Of(S.L.tz(R));if(T&&e>4e6)P=e>8e6?2.2:1.2;while(D+3<p.length&&p[D+3].u()>16&&S.L.OC(R)&&m.B.Of(S.L.tz(R))<P){D+=2;
var Y=p[D],O=p[D+1],W=k.C/O.C,w=k.T/O.T;R=S.L.Xl(R,[1,0,k.x,0,1,k.y,0,0]);R=S.L.Xl(R,[W,0,0,0,w,0,0,0]);
R=S.L.Xl(R,[1,0,-k.x,0,1,-k.y,0,0]);k=O;E=Y}var g=S.L.Xl(R,S.L.fm(new gh(k.C,0,0,k.T,k.x,k.y))),J=[0,0,1,0,1,1,0,1];
S.L.apply(g,J);d.rect=S.s.bs(J);if(K)d.rect=d.rect.Yl(K);if(T){while((d.rect.C&3)!=0)d.rect.C++;while((d.rect.T&3)!=0)d.rect.T++}if(!KW.BB(J)||d.rect.C>1e5||d.rect.T>1e5||d.rect.u()>3e4*3e4)return null;
var U=d.rect.u()*4;if(t&&t.byteLength>=U&&U>=t.byteLength>>2){d.buffer=new Uint8Array(t)}else{d.buffer=S.p(U)}S.L.drawImage(g,E,k.C,k.T,d.buffer,d.rect,a==0,N,T);
if(a==2&&d.buffer){var H=d.rect.C,f=d.rect.T,j;j=[0,-1,0,-1,16,-1,0,-1,0];j=S.eF.Fs(j);var I=d.buffer.slice(0);
S.S$(I);S.eF.DP(I,d.buffer,H,f,j,0);S.cn(d.buffer);S.SX(d.buffer)}if(d.buffer)return d};m.B.Spm=function(p,a,R,Q,t,N){if(a.color==255)S.zw(a.channel);
var K=a.rect,T=S.p(K.u()*4);S.RA(a.channel,T,3);var d=m.B.hc([T,K],Q,t,N);if(d){R.rect=d.rect;R.channel=S.p(d.rect.u());
S.vh(d.buffer,R.channel,3);R.Ol=!0}if(a.color==255){S.zw(a.channel);if(d)S.zw(R.channel)}};m.B.jz=function(p){var a=[],R=p.v.length;
for(var Q=0;Q<R;Q++)a.push(p.v[Q].v);return a};m.B.Ql=function(p){var a={t:"VlLs",v:[]},R=p.length;for(var Q=0;
Q<R;Q++)a.v.push({t:"doub",v:p[Q]});return a};m.B.prototype.SYS=function(){var p=S.s.wh(S.KF.tM(this.UV.BX())),a=S.L.vn(this.Kr.CH(),this.vK),R=[p.x,p.y,p.x+p.C,p.y,p.x+p.C,p.y+p.T,p.x,p.y+p.T];
S.L.apply(a,R);this.Kr.BL(R);this.vK=p};m.B.prototype.jt=function(p,a,R,Q){var t=S.L.vn(this.Kr.CH(),this.vK);
t=S.L.Xl(t,S.L.zw(this.mF));var N=this.UV?this.UV.BX():null;if(this.Hc==0){this.mL=S.L.tz(t);m.B.BY(p,a,this.M,this.Hx,R,t,N,null,null,Q)}else if(this.Hc==1){var K=p.M[this.M[0]],T=this.GM.I;
if(K.FE<=0){var d=this.GM.UJ,y=this.Xu;if(N&&!S.KF.QD(N)&&!y.rect.xA(T)){var E=S.p(y.rect.u()*4);S.gW(d,T,E,y.rect);
d=E;T=y.rect}var k=m.B.hc([d,T],R,t,N);if(k){K.KS.at=k.buffer;K.KS.Ah=k.rect;var D=S.p(k.rect.u());S.vh(K.KS.at,D,3);
p.S={channel:D,rect:K.KS.Ah.clone()}}}else{var P=S.p(T.u()*4);S.RA(this.GM.UJ,P,3);var k=m.B.hc([P,T],R,t,N);
if(k){K.KS.at=S.p(k.rect.u());S.vh(k.buffer,K.KS.at,3);K.KS.Ah=k.rect}this.SBG(p,R,t,N)}K.UF(p,0,0,p.S);
if(R!=0){K.dT();S.dT(p.S)}p.d_=!0;p.U()}else if(this.Hc==2)this.SBG(p,R,t,N)};m.B.prototype.SBG=function(p,a,R,Q){var t=this.Xu.rect,N=S.p(t.u()*4);
S.RA(this.Xu.channel,N,3);var K=m.B.hc([N,t],a,R,Q),T=S.p(K.rect.u());S.vh(K.buffer,T,3);p.S={channel:T,rect:K.rect};
p.d_=!0};m.B.prototype.disable=function(p,a,R,Q){if(this.Kr)this.aO(p,a,null,!0)};m.Ssm=function(){m.B.call(this,[10,16],m.oj,"tools/transform")};
m.Ssm.prototype=new m.B;m.SHx=function(){m.B.call(this,[7,10],m.aU,"tools/transform")};m.SHx.prototype=new m.B;
m.z$=function(p,a,R){m.Eh.call(this,[10,46],m.fT,"tools/transform");this.Uk=[1,1,2,!0];this.CY="\0\0\x03\x82";
this.mG=null;this.SNq=null;this.J$=null;this.rp=null;this.dk=null;this.pE=null;this.Ev=[]};m.z$.prototype=new m.Eh;
m.z$.prototype.AM=function(){return!0};m.z$.SSk=function(p){if(p==null)return!1;if(p.V.length!=1)return!1;
var a=p.M[p.V[0]];return a.add.SoLd||p.Fp(!1)};m.z$.prototype.aS=function(p,a){return m.z$.SSk(p)};m.z$.prototype.enable=function(p,a,R,Q,t,N,K){this.SNq=N.zW;
var T=N.zW,d,Y=null;if(T){var y=p.M[T.w];if(y.add.SoLd.filterFX!=null){var E=y.add.SoLd.filterFX.v.filterFXList.v;
if(E[T.index])d=JSON.parse(JSON.stringify(E[T.index].v.Fltr.v))}}var k=d==null,y=p.M[p.V[0]],D=y.buffer,P=y.rect,e=y.add.SoLd;
if(e){var O=e.nonAffineTransform.v;Y=[];for(var W=0;W<4;W++)Y.push(O[W*2].v,O[W*2+1].v);if(k)this.wX("edit",a);
var w=y.iW(p);D=w.buffer;P=w.rect}this.mG={buffer:D.slice(0),rect:P.clone(),SvA:Y};if(k)d=m.z$.Sqw(this.mG,this.Uk);
this.J$=d;this.rp=m.z$.BI(this.J$,this.Uk);this.Br();this.Ll(p);if(k)this.$X(a);var g=new $(V.E.v,!0);
g.data={K:V.H.aK,Q:this.id,L_:this.Uk};a.Y(g);g.data={K:V.H.PA,Mz:"default"};a.Y(g)};m.z$.prototype.disable=function(p,a,R,Q){if(this.rp)this.aO(p,a,!0)};
m.z$.prototype.Br=function(p){var a=this.rp;this.Ev=[];for(var R=0;R<a.length;R++){var Q=a[R];for(var t=0;
t<Q.V.length;t++)this.Ev.push([R,Q.V[R]]);Q.bP=S.GH.zJ(Q);if(p)S.GH.zL(Q)}};m.z$.prototype.eu=function(p,a,R,Q){if(p.IM=="commit")this.aO(R,a,!0);
else if(p.IM=="cancel")this.pc(R,a,!0);else if(p.IM=="prm"){var t=!1;for(var N=0;N<3;N++)if(this.Uk[N]!=p.L_[N])t=!0;
this.Uk=p.L_;if(t){this.J$=m.z$.Sqw(this.mG,this.Uk,this.J$);this.rp=m.z$.BI(this.J$,this.Uk);this.Br(!0);
this.$X(a)}this.Ll(R)}else if(p.IM=="moveDepth"){var K=this.rp;for(var T=0;T<K.length;T++){var d=K[T];
for(var N=0;N<d.V.length;N++){var y=d.V[N];d.Et[y]+=p.SvD?1:-1}}this.$X(a)}};m.z$.prototype.Gk=function(p,a){return p==n.gU||p==n.gZ};
m.z$.prototype.Qb=function(p,a,R,Q){var t=Q.xi();if(Q.g(n.eL))this.aO(p,a,!0);else if(Q.g(n.tu))this.pc(p,a,!0);
else if(Q.g(n.gU)||Q.g(n.gZ)){var N=this.rp;for(var K=0;K<N.length;K++){var T=N[K];T.V.sort(function(k,D){return D-k});
for(var d=0;d<T.V.length;d++){var y=T.V[d],E=y*2;T.Et.splice(y,1);T.jS.splice(y,1);T.jR.splice(y,1);
T.iI.splice(y,1);T.rd.splice(E,2);T.kr.splice(E,2)}T.V=[];if(T.iI.length==0){T.wD=T.zF.slice(0);T.YT=T.zF.slice(0)}}this.Br(!0);
this.$X(a);this.Ll(p)}else if(t.x!=0||t.y!=0){this.SCR(p,t.x,t.y,a);this.pm=null}};m.z$.prototype.aO=function(p,a,R){this.wX("confirm",a);
this.escape(p,a,R)};m.z$.prototype.pc=function(p,a,R){this.wX("cancel",a);this.escape(p,a,R)};m.z$.prototype.escape=function(p,a,R){p.R.FF=null;
p.R.tn=[];p.$h=!0;this.rp=null;var Q=new $(V.E.v,!0);Q.data={K:V.H.xc};if(R)a.Y(Q)};m.z$.prototype.JI=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=N.x,T=N.y,d=this.rp,y=null,E=[0,2,4,1.2,1.2,1.2],k=-1,D=V.o()*5/p.z.f;
for(var P=0;P<d.length;P++){var e=d[P],Y=S.s.On(e.kr,K,T,D);if(Y!=-1)y=[P,Y];if(k==-1&&S.GH.LN.Syr(e.YT,e.eG,K,T))k=P}if(y==null&&k!=-1){var e=d[k];
m.z$.Sdj(e,K,T,K,T,0);y=[k,e.iI.length-1];e.bP=S.GH.zJ(e)}this.dk=N;if(y){var O=d[y[0]].V.indexOf(y[1])!=-1;
if(Q.g(n.ei)&&!O){d[y[0]].V.push(y[1]);this.Ev.push(y)}else if(!O){d[y[0]].V=[y[1]];this.Ev=[y]}}this.Ll(p)};
m.z$.Sdj=function(p,a,R,Q,t,N){var K=S.s.On(p.YT,a,R);p.iI.push(K);p.kr.push(Q,t);p.rd.push(p.YT[K*2]-a,p.YT[K*2+1]-R);
p.jR.push(0);p.jS.push(!1);p.Et.push(N)};m.z$.prototype.r$=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=this.dk;
if(K)this.SCR(p,N.x-K.x,N.y-K.y,a)};m.z$.prototype.SCR=function(p,a,R,Q){var t={},N=this.Ev,K=this.rp;
if(this.pm==null){this.pm=[];for(var T=0;T<K.length;T++)this.pm.push(K[T].kr.slice(0))}for(var T=0;T<N.length;
T++){var d=this.Ev[T],y=d[0],E=K[d[0]],k=d[1]*2;E.kr[k+0]=this.pm[y][k+0]+a;E.kr[k+1]=this.pm[y][k+1]+R;
t[y]=y}for(var y in t)S.GH.zL(this.rp[t[y]]);this.Ll(p);this.$X(Q)};m.z$.prototype.wX=function(p,a){var R=new $(V.E.W,!0);
R.Q=m.tQ;R.data={K:p,zW:this.SNq,CY:this.CY,Lr:this.J$};a.Y(R)};m.z$.prototype.Gz=function(p,a,R,Q,t){this.dk=null;
this.pm=null};m.z$.prototype.$X=function(p){m.z$.SFw(this.rp,this.Uk,this.J$);this.wX("edit",p)};m.z$.prototype.Ll=function(p){var a=this.rp,R=this.J$;
p.R.FF={r:[],$:[]};p.R.tn=[];p.R.Mp=[];for(var Q=0;Q<a.length;Q++){var t=a[Q];for(var N=0;N<t.V.length;
N++)p.R.Mp.push((p.R.tn.length>>>1)+t.V[N]);p.R.tn=p.R.tn.concat(t.kr);if(this.Uk[3])S.s.concat(p.R.FF,S.s.Sxm(t.YT,t.eG))}p.$h=!0};
m.z$.Sqw=function(p,a,R){var Q=p.buffer,t=p.rect,N=p.SvA,K=gw.gD("\0\0\x03\x82");if(N)for(var T=0;T<4;
T++){K["PuX"+T].v=N[T*2];K["PuY"+T].v=N[T*2+1]}var d=K.puppetShapeList.v,y=S.GH.SHN(Q,t.C,t.T,a[1],a[2]),E=[];
for(var k=0;k<y.length;k++){var D={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
D.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var P=y[k];d.push({t:"Objc",v:D});var e=P.zF.slice(0);S.s.t(e,new gh(1,0,0,1,t.x,t.y),e);var Y=P.eG;
for(var T=0;T<Y.length;T+=3){var O=Y[T+1];Y[T+1]=Y[T+2];Y[T+2]=O}E.push({eG:Y,zF:e,wD:e,YT:e,iI:[],rd:[],kr:[],bP:null,V:[],jR:[],jS:[],Et:[]})}if(R){var W=m.z$.BI(R,[]),w=E[0];
for(var T=0;T<W.length;T++){var g=W[T];for(var J=0;J<g.V.length;J++)w.V.push((w.kr.length>>>1)+g.V[J]);
for(var J=0;J<g.iI.length;J++){var U=g.iI[J]*2,H=g.zF[U]-g.rd[J*2],f=g.zF[U+1]-g.rd[J*2+1];m.z$.Sdj(w,H,f,g.kr[J*2],g.kr[J*2+1],g.Et[J])}}}m.z$.SFw(E,a,K);
return K};m.z$.BI=function(p,a){function R(f){var j=[];for(var Y=0;Y<f.length;Y++)j.push(f[Y].v);return j}var Q=p.puppetShapeList.v,t=[];
for(var N=0;N<Q.length;N++){var K=Q[N].v;a[0]=K.meshRigidity.v-1;a[1]=K.meshQuality.v-1;a[2]=K.meshExpansion.v;
var T=K.pinVertexIndices.v.length,d=K.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;d.v=[];
var y=new Uint32Array(new Uint8Array(K.indexArray.v).buffer),E=new Float32Array(new Uint8Array(K.originalVertexArray.v).buffer),k=new Float32Array(new Uint8Array(K.deformedVertexArray.v).buffer),D=[],P=[],e=[];
for(var Y=0;Y<y.length;Y++)D.push(y[Y]);for(var Y=0;Y<E.length;Y++){P.push(E[Y]);e.push(k[Y])}var O=R(K.pinVertexIndices.v),W=R(K.pinOffsets.v),w=R(K.posFinalPins.v),g=R(K.PnRt.v),J=R(K.PnOv.v),U=R(K.PnDp.v),H=R(K.selectedPin.v);
t.push({eG:D,zF:P,wD:e.slice(0),YT:e,iI:O,rd:W,kr:w,bP:null,jR:g,jS:J,Et:U,V:H})}return t};m.z$.SFw=function(p,a,R){function Q(P,e){var Y=[];
for(var E=0;E<P.length;E++)Y.push({t:e,v:P[E]});return Y}function t(P,e,Y){var O=new(Y?Uint32Array:Float32Array)(P),W=new Uint8Array(O.buffer);
for(var E=0;E<W.length;E++)e[E]=W[E]}var N=R.puppetShapeList.v;for(var K=0;K<N.length;K++){var T=p[K],d=N[K].v;
d.meshRigidity.v=a[0]+1;d.meshQuality.v=a[1]+1;d.meshExpansion.v=a[2];t(T.eG,d.indexArray.v,!0);t(T.zF,d.originalVertexArray.v);
t(T.YT,d.deformedVertexArray.v);var y=[];for(var E=0;E<T.iI.length;E++){var k=T.iI[E]*2,D=E*2;y[D]=T.zF[k]-T.rd[D];
y[D+1]=T.zF[k+1]-T.rd[D+1]}d.PinP.v=Q(y,"doub");d.pinVertexIndices.v=Q(T.iI,"long");d.pinOffsets.v=Q(T.rd,"doub");
d.posFinalPins.v=Q(T.kr,"doub");d.PnRt.v=Q(T.jR,"long");d.PnOv.v=Q(T.jS,"bool");d.PnDp.v=Q(T.Et,"doub");
d.selectedPin.v=Q(T.V,"long")}};m.rG=function(p,a,R){m.Eh.call(this,p?p:[10,40],a?a:m.ap,R?R:"tools/slice");
this.zV=null;this.yt=null;this.Mr=null;this.SYA=null;this.YG=null;this.VI=null};m.rG.prototype=new m.Eh;
m.rG.uM=function(p,a){var R=-1;for(var Q=0;Q<p.length;Q++){var t=m.rG.Rg(p,Q);if(t[0]<=a.x&&a.x<=t[2]&&t[1]<=a.y&&a.y<=t[3]){R=Q;
break}}return R};m.rG.prototype.Gj=function(p,a,R,Q,t){this.SY(R);R.GD[R.Fz[0]].v=p;R.$h=!0;this.yq(R)};
m.rG.prototype.enable=function(p,a,R,Q,t,N){m.Eh.prototype.enable.call(this,p,a,R,Q,t,N);if(!R.QR.GD){var K=new $(V.E.v,!0);
K.data={K:V.H.es,L_:gp.AG};a.Y(K)}};m.rG.prototype.disable=function(){this.zV=null;this.yt=null};m.rG.prototype.SK=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y),K=m.rG.uM(p.GD,N);
if(K==-1)return;this.zV=p;this.yt=a;p.Fz=[K];p.$h=!0;if(this.VI==null){this.VI=new Nq([{name:[5,4]},{name:[8,11,1],Kk:!0}]);
this.VI.h("select",this.zQ,this)}var T=this.VI;T.parent=a;T.b();T.update(p,R);var d=new $(V.E.v,!0);
d.data={K:V.H.Xf,Vw:T,x:t.ce+2,y:t.vl+1};a.Y(d)};m.rG.prototype.zQ=function(p){var a=this.VI.UK()[0],R=this.zV;
if(a==0){this.SY(R);R.GD.splice(R.Fz[0],1);R.Fz=[];R.$h=!0;this.yq(R)}if(a==1){var Q=new $(V.E.v,!0);
Q.data={K:V.H.XS,ax:"soptions",Z:R.GD[R.Fz[0]].v};this.yt.Y(Q)}};m.rG.prototype.JI=function(p,a,R,Q,t){if(p==null)return;
this.SY(p);var N=p.z.oD(t.x,t.y);N=m.OS.em(p,N,R,[!0,null,!1]);N.x=Math.round(N.x);N.y=Math.round(N.y);
this.YG=N;p.GD.unshift(m.rG.Sep());p.Fz=[0];m.rG.Sl(p.GD,0,[N.x,N.y,N.x+20,N.y+20]);p.$h=!0};m.rG.prototype.r$=function(p,a,R,Q,t){if(this.Mr==null)return;
var N=p.z.oD(t.x,t.y),K=this.YG;N=m.OS.em(p,N,R,[!0,null,!1]);N.x=Math.round(N.x);N.y=Math.round(N.y);
var T=[K.x,K.y,N.x,N.y];m.rG.SIG(T);m.rG.Sl(p.GD,0,T);p.$h=!0};m.rG.prototype.Gz=function(p,a,R,Q,t){this.yq(p);
this.YG=null};m.rG.prototype.SY=function(p){this.Mr=JSON.stringify(p.GD);this.SYA=JSON.stringify(p.Fz)};
m.rG.prototype.yq=function(p){var a=JSON.stringify(p.GD);if(a!=this.Mr){var R=new gm(this.name,this);
R.data={GM:this.Mr,xg:a,Svm:this.SYA,SJC:JSON.stringify(p.Fz)};p.sv(R)}this.Mr=null};m.rG.prototype.tk=function(p,a){a.GD=JSON.parse(p.GM);
a.Fz=JSON.parse(p.Svm);a.$h=!0};m.rG.prototype.gq=function(p,a){a.GD=JSON.parse(p.xg);a.Fz=JSON.parse(p.SJC);
a.$h=!0};m.rG.prototype.Gk=function(p,a){return a!=null&&a.Fz.length!=0&&(p==n.gU||p==n.gZ)};m.rG.prototype.Qb=function(p,a,R,Q){if(p==null)return;
this.SY(p);var t=Q.xi();if(t.x!=0||t.y!=0)m.rG.mN(p,t);if(Q.g(n.gU)||Q.g(n.gZ)){var N=p.GD.slice(0);
for(var K=0;K<p.Fz.length;K++)p.GD.splice(p.GD.indexOf(N[p.Fz[K]]),1);p.Fz=[]}this.yq(p)};m.rG.prototype.eu=function(p,a,R,Q,t){if(R==null||R.Fz.length==0)return;
this.SY(R);var N=R.GD,K=R.Fz;K.sort(function(e,Y){return e-Y});console.log(K);var T=N.slice(0),d=[],y=[];
for(var E=0;E<K.length;E++){var k=K[E],D=N[k];y.push(D);T.splice(T.indexOf(D),1)}var P=Math.max(0,Math.min(T.length,K[0]-p.dir));
for(var E=0;E<y.length;E++){T.splice(P+E,0,y[E]);d.push(P+E)}R.GD=T;R.Fz=d;this.yq(R)};m.rG.SYd=function(p,a,R,Q){var t=new X(-a.x,-a.y),N=a.C/R.C,K=a.T/R.T,T=[0,0,a.C,a.T];
for(var d=0;d<p.length;d++){var y=m.rG.Rg(p,d);if(Q){y[0]=Math.round(y[0]*N);y[1]=Math.round(y[1]*K);
y[2]=Math.round(y[2]*N);y[3]=Math.round(y[3]*K)}else{m.rG.Be(y,t);m.rG.SYK(y,T)}if(y[0]>=y[2]||y[1]>=y[3]){p.splice(d,1);
d--;continue}m.rG.Sl(p,d,y)}};m.rG.mN=function(p,a){var R=p.GD;for(var Q=0;Q<p.Fz.length;Q++){var t=m.rG.Rg(R,p.Fz[Q]);
m.rG.Be(t,a);m.rG.Sl(R,p.Fz[Q],t)}};m.rG.SYK=function(p,a){if(p[0]<a[0])p[0]=a[0];if(p[1]<a[1])p[1]=a[1];
if(a[2]<p[2])p[2]=a[2];if(a[3]<p[3])p[3]=a[3]};m.rG.Be=function(p,a){p[0]=Math.round(p[0]+a.x);p[2]=Math.round(p[2]+a.x);
p[1]=Math.round(p[1]+a.y);p[3]=Math.round(p[3]+a.y)};m.rG.Sl=function(p,a,R){var Q=p[a].v.bounds.v;Q.Left.v=R[0];
Q.Top.v=R[1];Q.Rght.v=R[2];Q.Btom.v=R[3]};m.rG.Rg=function(p,a){var R=p[a].v.bounds.v;return[R.Left.v,R.Top.v,R.Rght.v,R.Btom.v,a]};
m.rG.SIG=function(p){if(p[2]<p[0]){var a=p[0];p[0]=p[2];p[2]=a}if(p[2]==p[0])p[2]++;if(p[3]<p[1]){var a=p[1];
p[1]=p[3];p[3]=a}if(p[3]==p[1])p[3]++};m.rG.wh=function(p,a){var R=1e9,Q=-1e9,t=1e9,N=-1e9;for(var K=0;
K<a.length;K++){var T=m.rG.Rg(p,a[K]);R=Math.min(R,T[0]);t=Math.min(t,T[1]);Q=Math.max(Q,T[2]);N=Math.max(N,T[3])}return[R,t,Q,N]};
m.rG.Sep=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
m.xr=function(){m.rG.call(this,[10,41],m.fW,"tools/sselect");this.YG=null;this.ab=null;this.FO=null;
this.pE=null;this.mn=!1};m.xr.prototype=new m.rG;m.xr.prototype.JI=function(p,a,R,Q,t){if(p==null)return;
var N=p.z.oD(t.x,t.y),K=m.xr.SqP(N,4/p.z.f,p.GD,p.Fz);K.pop();if(K.length!=0){this.YG=N;this.FO=K;this.SY(p);
return}var T=p.GD,d=m.rG.uM(T,N);if(d==-1)p.Fz=[];else{var y=p.Fz.indexOf(d);if(Q.g(n.ei)){if(y==-1)p.Fz.push(d);
else p.Fz.splice(y,1)}else{p.Fz.sort(function(O,W){return O-W});if(y==-1)p.Fz=[d];this.YG=N;this.SY(p);
this.ab=m.rG.wh(T,p.Fz);this.pE=[];for(var E=0;E<p.Fz.length;E++)this.pE.push(m.rG.Rg(T,p.Fz[E]));if(Q.g(n.LG)){var k=T.slice(0),D=p.Fz,P=[];
for(var E=0;E<D.length;E++){var d=D[E],e=k[d],Y=T.indexOf(e);P.push(Y);T.splice(Y,0,JSON.parse(JSON.stringify(e)))}p.Fz=P}}}p.$h=!0};
m.xr.prototype.r$=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);if(this.YG==null){var K=m.xr.SqP(N,4/p.z.f,p.GD,p.Fz),T=K.pop(),d=K.length==0?"default":["ew","nwse","ns","nesw"][T]+"-resize",y=new $(V.E.v,!0);
y.data={K:V.H.PA,Mz:d};a.Y(y);return}if(!this.mn&&N.xA(this.YG))return;this.mn=!0;var E=p.GD,K=this.FO;
if(K){N=m.OS.em(p,N,R,[!0,null,!1]);var k=Math.round(N.x),D=Math.round(N.y);for(var P=0;P<K.length;P+=2){var e=m.rG.Rg(E,K[P]),Y=K[P+1];
e[Y]=(Y&1)==0?k:D;m.rG.SIG(e);m.rG.Sl(E,K[P],e)}}else{var O=N.Ai(this.YG),W=this.ab.slice(0);m.rG.Be(W,O);
var w=new x(W[0],W[1],W[2]-W[0],W[3]-W[1]),g=m.OS.yI(p,w,R,[!0,null,!1],!0);m.OS.yY(p,w,g);O.x+=g[0];
O.y+=g[1];for(var P=0;P<p.Fz.length;P++)m.rG.Sl(E,p.Fz[P],this.pE[P]);m.rG.mN(p,O)}p.$h=!0};m.xr.prototype.Gz=function(p,a,R,Q,t){if(this.YG==null)return;
this.yq(p);p.R.XG=null;p.$h=!0;this.YG=null;this.FO=null;this.pE=null;this.mn=!1};m.xr.SqP=function(p,a,R,Q){var t=p.x,N=p.y,K=[],T=-1,d=[];
for(var y=0;y<Q.length;y++){var E=Q[y],k=m.rG.Rg(R,E),D=k[0],P=k[1],e=k[2],Y=k[3];if(t<D-a||e+a<t||N<P-a||Y+a<N)continue;
var O=[t<D+a,N<P+a,e-a<t,Y-a<N],W=-1;for(var w=0;w<4;w++){if(O[w]&&O[w+1&3])W=1+2*(w&1);if(O[w])K.push(E,w)}if(W==-1){if(O[0]||O[2])W=0;
if(O[1]||O[3])W=2}if(W!=-1){T=W;d.push(E)}}var g=K.length;for(var y=0;y<g;y+=2){var E=K[y],J=K[y+1],U=m.rG.Rg(R,E)[J];
for(var w=0;w<Q.length;w++){var H=Q[w];if(d.indexOf(H)!=-1)continue;var k=m.rG.Rg(R,H);if(k[J&1]==U)K.push(H,J&1);
if(k[2+(J&1)]==U)K.push(H,2+(J&1))}}K.push(T);return K};m.Kv=function(){m.GP.call(this,[10,44],m.SSG,"tools/oselect");
this.Y_="crosshair";this.SYE=0};m.Kv.prototype=new m.GP;m.Kv.prototype.mV=function(p,a,R,Q){if(Math.random()<1/(1+this.SYE)){alert("The cross should be fully inside the object.",3500);
this.SYE++}};m.Kv.prototype.tU=function(p,a,R,Q){m.Lo.Sph(p,m.GP.Qq,this.yt);if(!Q.Fa||!this.Nl)return;
var t=this.yk(p,R,!1),N=t.C,K=t.T,T=t.x,d=t.y,y=t.x+N,E=t.y+K,k=T+N/2,D=d+K/2,P=m.Kv.SKn;p.R.FF={r:[T,d,y,d,y,E,T,E,k-N*P,D,k+N*P,D,k,D-K*P,k,D+K*P],$:"M L L L Z M L M L".split(" ")};
p.$h=!0};m.Kv.SKn=.12;m.Kv.prototype.aD=function(p,a,R,Q){p.R.FF=null;p.$h=!0;this.finish(p,a,R,Q)};
m.Kv.prototype.getSelection=function(p,a,R,Q){if(this.SA.xA(this.Nm)||!this.Nl)return null;var t=this.yk(p,R,!1),N=p.M[p.V[0]];
if(t.RJ()||!t.jv(N.rect))return null;return m.GP.fA("ObSl",t)};m.Lo=function(){m.WH.call(this,[10,37],m.SI,"tools/qselect");
this.Mt="qselect"};m.Lo.prototype=new m.WH;m.Lo.prototype.JI=function(p,a,R,Q,t){this.oF(p,R,Q,t,1);
if(this.Nj==null)return;this.cS(p)};m.Lo.prototype.r$=function(p,a,R,Q,t){this.Wf(p,a,R);m.Lo.Sph(p,m.GP.Qq,a);
if(this.hN)this.oY(p,R,t);if(this.Nj==null)return;if(!t.Fa)return;var N=this.Wv(p,R,Q,t);if(N!=1)this.cS(p)};
m.Lo.Sph=function(p,a,R){if(p&&a.key!=m.Lo.BH(p)){a.key=m.Lo.BH(p);var Q=p.M[p.V[0]].rect.u(),N="Image Analysis ...";
if(Q==0)return;var t=Q>1e6,K=new $(V.E.v,!0);K.data={K:V.H.ir,Jv:N};if(t)R.Y(K);setTimeout(function(){var T=m.Lo.Sqz(p);
for(var d in T)a[d]=T[d];var K=new $(V.E.v,!0);K.data={K:V.H.iH,Jv:N};if(t)R.Y(K)},30)}};m.Lo.BH=function(p){var a=p.V[0],R=p.M[a],Q=R.rect,t=Q.C,N=Q.T,K=t*N,T=R.buffer;
return[a,Q.x,Q.y,t,N,T[0],T[1],T[2],T[3]].join(",")};m.Lo.Sqz=function(p){var a=p.V[0],R=p.M[a],Q=R.rect,t=Q.C,N=Q.T,K=t*N,T=R.buffer,d=Date.now(),y=S.p(K);
y.fill(128);var E=S.Lt.Lh(T,t,N);console.log(Date.now()-d);var k={key:m.Lo.BH(p),Gw:T,rect:Q.clone(),Xs:t,hZ:N,Wn:12,SYm:!1,UO:y,ud:E,S:S.p(K),it:null,jM:null,jX:null};
m.Lo.wF(k);return k};m.Lo.wF=function(p,a){var R=p.Xs,Q=p.hZ,t=0,N=0,K=Date.now(),T=p.it!=null&&S.Lt.SCk(p.ud.eG,p.it.eG,p.it.xM,p.UO);
t=Date.now()-K;K=Date.now();if(!T&&!p.SYm){p.it=S.Lt.Ix(p.ud,R,Q,p.UO,p.Wn);if(!S.Lt.SCk(p.ud.eG,p.it.eG,p.it.xM,p.UO)){p.SYm=!0;
console.log("conflict")}p.jM=S.Lt.SyX(p.Gw,R,Q,p.it.eG,p.it.xM);p.jX=[p.jM[0].slice(0),[]];N=Date.now()-K;
K=Date.now()}var K=Date.now();if(a){p.jX[0].set(p.jM[0]);var d=p.jM[1],y=p.jX[1];for(var E=0;E<d.length;
E++)y[E]=d[E].slice(0);S.Lt.SyF(p.it.eG,R,Q,p.it.xM,p.UO,p.S,p.jX)}};function KW(p,a,R,Q,t,N,K,T){this.VA=null;
this.Wx=p?p.slice(0):null;this.zm=4;this.Nm=null;this.uK=null;this.ji=null;this.SW=-1;this.Ld=null;this.Slt=!1;
this.SIB=[];for(var d=0;d<8;d++)this.SIB.push(gr.Spf(0,PIMG.rotate,-.5,-.5,-45-d*45));this.SIQ=a;this.SJY=R;
this.SJl=Q;this.SJR=t;this.SIw=N;this.pp=K;this.SJe=T}KW.prototype.SXf=function(){return this.SW!=-1};
KW.prototype.CH=function(){return this.Wx.slice(0)};KW.prototype.BL=function(p){this.Wx=p};KW.prototype.SYC=function(){return this.Ss(this.Wx)};
KW.prototype.SYL=function(){return this.zm};KW.prototype.SYB=function(p){this.zm=p};KW.prototype.xH=function(p){if(p==null)p=this.Wx;
if(this.zm==9)return this.Nm;else return this.Ss(p)[this.zm]};KW.prototype.SYh=function(p){if(this.zm==9)this.Nm=p.clone();
else{var a=this.xH(),R=new gh(1,0,0,1,p.x-a.x,p.y-a.y);S.s.t(this.Wx,R,this.Wx)}};KW.prototype.yU=function(p,a,R){var Q=this.Yr(p,a),t;
if(Q==9)return"default";if(Q==10){if(R)return null;return!this.SIQ?"move":null}if(Q==-1||Q==4)return null;
if(Q==11){var N=this.xH().Ai(p);t=90-Math.atan2(N.y,N.x)*180/Math.PI;var K=Math.round(8*(t/360));K=(K+8)%8;
return this.SIB[K]}else{var T=this.yE(p,this.Wx);t=[135,90,45,180,0,0,225,270,315][Q];var d=S.L.vn(this.Wx);
t+=Math.atan2(-d[3],d[0])*180/Math.PI;var y="ew nesw ns nwse ew nesw ns nwse".split(" "),K=Math.round(8*(t/360));
K=(K+8)%8;return y[K]+"-resize"}};KW.prototype.yE=function(p,a){var R=S.L.zw(S.L.vn(a)),Q=new Float64Array(2);
S.L.su(p.x,p.y,R,Q);return new X(Q[0],Q[1])};KW.prototype.YC=function(p){var a=this.yE(p,this.Wx);return 0<=a.x&&a.x<=1&&0<=a.y&&a.y<=1};
KW.prototype.JI=function(p,a,R,Q,t,N){this.Slt=N;this.Ld=Q;var K=p.z.f,T;if(this.Wx==null)Q=m.OS.em(p,Q,a);
this.ji=Q.clone();if(this.Wx==null){this.ji.offset(1,1);var d=t==null?1:1/t;this.Wx=[Q.x,Q.y,Q.x+1,Q.y,Q.x+1,Q.y+d,Q.x,Q.y+d];
T=8}else{T=this.Yr(Q,K);if(0<=T&&T<=8)this.ji=this.Ss(this.Wx)[T]}this.VA=this.Wx.slice(0);this.SW=T;
this.mB(p,a);this.uK=this.xH();return T!=-1};KW.prototype.Yr=function(p,a){var R=-1,Q=this.Ss(),t=6*V.o()/a;
if(R==-1)if(X.Hz(this.xH(),p)<t)R=9;if(R==-1)for(var N=0;N<Q.length;N++)if(N!=4&&X.Hz(Q[N],p)<t)R=N;
if(R==-1||this.pp==4){if(this.YC(p)){if(this.SIQ)R=10}else{var K=this.yE(p,this.Wx),T=new x(0,0,1,1);
T.vj(.2,.2);R=T.lp(K)&&this.pp!=3?11:10}}return R};KW.prototype.r$=function(p,a,R,Q){if(this.SW==-1)return;
this.Ld=Q;var t=R.g(n.ei),N=R.g(n.LG),K=R.g(n.GA),T=p.z.f,d=this.ji,y=this.SW,E=this.Ss(),k=m.OS.em(p,d,a),D=m.OS.em(p,Q,a),P,e;
if(y==9){var E=this.Ss(),Y=-1;for(var O=0;O<E.length;O++)if(X.Hz(E[O],D)*T<10)Y=O;this.zm=Y==-1?9:Y;
this.Nm=t?m.sV.du(k,D):D.clone()}else if(y==10){e=S.s.wh(this.VA);var W=e.x,w=e.y;e.offset(Q.x-d.x,Q.y-d.y);
if(this.SRK()){e.x=Math.round(e.x);e.y=Math.round(e.y)}P=m.OS.yI(p,e,a);var g=new gh(1,0,0,1,e.x-W+P[0],e.y-w+P[1]);
S.s.t(this.VA,g,this.Wx)}else if(y==11){var J=this.xH(this.VA),U=J.Ai(Q),H=J.Ai(d),f=Math.atan2(U.y,U.x),j=Math.atan2(H.y,H.x),g=new gh(1,0,0,1,-J.x,-J.y),I=Math.PI/12;
if(t)g.rotate(Math.round((j-f)/I)*I);else g.rotate(j-f);g.translate(J.x,J.y);S.s.t(this.VA,g,this.Wx)}else{var L,C=this.VA,v=y==0||y==2||y==6||y==8;
if(this.pp==1){if(v)t=N=K=!0}else if(this.pp==2&&v&&this.Slt!=!0)K=!0;if(this.pp==3)K=!1;if(this.SJl&&v&&K){var O=[0,0,2,0,0,0,6,0,4,0][y],o=-1,Z=D.x,B=D.y;
if(t){var s=O+6&7,q=O+10&7,F=KW.SZG(C[O],C[O+1],C[s],C[s+1],D.x,D.y),b=KW.SZG(C[O],C[O+1],C[q],C[q+1],D.x,D.y),G=F[2]<b[2]?F:b;
Z=G[0];B=G[1];if(N)o=F[2]<b[2]?s:q}else if(N)o=O+4&7;L=C.slice(0);if(o!=-1){var u=C[o],h=C[o+1],z=(C[O]+u)/2,r=(C[O+1]+h)/2;
L[o]=z-(Z-z);L[o+1]=r-(B-r)}L[O]=Z;L[O+1]=B}else if(v&&N){var J=this.uK,i=J.x,gg=J.y,gC=k.x-i,gd=k.y-gg,gN=1,gS=1;
if(Math.abs(gC)>=1)gN=(D.x-i)/gC;if(Math.abs(gd)>=1)gS=(D.y-gg)/gd;if(t)gN=gS=(gN+gS)/2;var M=new gh;
M.translate(-i,-gg);M.scale(gN,gS);M.translate(i,gg);L=C.slice(0);S.s.t(L,M,L)}else{if(this.SRK()){D.x=Math.round(D.x);
D.y=Math.round(D.y)}var Cj=[0,1,2,5,8,7,6,3],gs=Cj[(Cj.indexOf(y)+4)%8],gl=[];for(var O=0;O<3;O++)for(var o=0;
o<3;o++)gl.push(new X(o/2,O/2));var J=this.uK,gR=this.yE(D,C),ge=this.yE(d,C),So=N&&(this.zm==4||this.zm==9)?this.yE(J,C):gl[gs],gq=new gh,gH=new gh,gN=(gR.x-So.x)/(ge.x-So.x);
if(gN==0)gN=1e-4;var gS=(gR.y-So.y)/(ge.y-So.y);if(gS==0)gS=1e-4;if(this.SJR){gN=Math.max(gN,0);gS=Math.max(gS,0)}if(y==0||y==2||y==6||y==8){if(t||this.SIw)gq.scale(gN,gN);
else gq.scale(gN,gS)}if(y==1||y==3||y==5||y==7){var gx=this.SIw;if(y==1||y==7)gq.scale(gx?gS:1,gS);else gq.scale(gN,gx?gN:1);
if(this.SJY&&K){if(y==1||y==7)gH.CI=(gR.x-So.x)/(gR.y-So.y);else gH.N=(gR.y-So.y)/(gR.x-So.x)}}var M=new gh;
M.translate(-So.x,-So.y);M.concat(gq);M.concat(gH);M.translate(So.x,So.y);L=[0,0,1,0,1,1,0,1];S.s.t(L,M,L);
var G=S.L.vn(C);S.L.apply(G,L)}if(KW.BB(L))this.Wx=L}this.mB(p,a);if(P)m.OS.yY(p,e,P)};KW.SZG=function(p,a,R,Q,t,N){var K=R-p,T=Q-a,d=t-p,y=N-a,E=K*K+T*T,k=d*K+y*T,D=k/E,P=p+D*K,e=a+D*T,Y=t-P,O=N-e;
return[P,e,Math.sqrt(Y*Y+O*O)]};KW.prototype.SRK=function(){var p=this.Wx;return Math.abs(p[1]-p[3])<1e-6&&Math.abs(p[2]-p[4])<1e-6||Math.abs(p[0]-p[2])<1e-6&&Math.abs(p[3]-p[5])<1e-6};
KW.BB=function(p){return S.s.KT(p)||S.s.KT([p[6],p[7],p[4],p[5],p[2],p[3],p[0],p[1]])};KW.prototype.Gz=function(p,a,R,Q){this.SW=-1;
this.Ld=null;p.R.XG=null;p.R.qm=[];p.$h=!0};KW.prototype.Qb=function(p,a,R){var Q=R.xi();if(Q.x||Q.y){var t=new gh(1,0,0,1,Q.x,Q.y);
S.s.t(this.Wx,t,this.Wx);this.mB(p,a);return!0}return!1};KW.prototype.Ss=function(p){if(p==null)p=this.Wx;
var a=p[6]-p[0],R=p[7]-p[1],Q=p[4]-p[2],t=p[5]-p[3],N=[p[0],p[1],p[2],p[3],p[0]+a/2,p[1]+R/2,p[2]+Q/2,p[3]+t/2,p[6],p[7],p[4],p[5]],K=[];
for(var T=0;T<3;T++){var d=T*4,y=N[d+0],E=N[d+1],k=N[d+2],D=N[d+3];K.push(new X(y,E));K.push(new X(y+(k-y)/2,E+(D-E)/2));
K.push(new X(k,D))}return K};KW.prototype.mB=function(p,a,R){if(R==null)R=!1;var Q=this.Ss(),t=Q[0],N=Q[2],K=Q[6],T=Q[8];
p.R.FF={$:[],r:[]};p.R.FF.$.push("M","L","L","L","Z");p.R.FF.r.push(t.x,t.y,N.x,N.y,T.x,T.y,K.x,K.y);
if(this.SJe){var d=N.Ai(t),y=K.Ai(t),E=T.Ai(N),k=T.Ai(K);for(var D=0;D<3;D++){p.R.FF.$.push("M","L","M","L");
var P=(D+1)*.25;p.R.FF.r.push(t.x+d.x*P,t.y+d.y*P,K.x+k.x*P,K.y+k.y*P);p.R.FF.r.push(t.x+y.x*P,t.y+y.y*P,N.x+E.x*P,N.y+E.y*P)}}p.z.cH=new x(0,0,X.Hz(Q[0],Q[2]),X.Hz(Q[0],Q[6]));
if(this.SW!=-1&&this.SW<9&&this.Ld){var e=p.z.Jk(this.Ld.x,this.Ld.y);m.Eh.gQ(e.x+10,e.y-10,p.z.cH,p,a)}if(!R){p.R.vI=[];
for(var D=0;D<Q.length;D++)if(D!=4)p.R.vI.push(Q[D].x,Q[D].y);var Y=this.xH();p.R.vI.push(Y.x,Y.y)}p.$h=!0};
KW.prototype.clear=function(p){p.z.cH=null;p.R.XG=null;p.R.FF=null;p.R.vI=[];p.$h=!0};function dK(p,a){this.KF=null;
this.SW=-1;this.Sqb(p)}dK.prototype.BX=function(){return JSON.parse(JSON.stringify(this.KF))};dK.prototype.Sqb=function(p){this.KF=JSON.parse(JSON.stringify(p))};
dK.prototype.YC=function(p){return!0};dK.prototype.yU=function(p,a){var R=this.Yr(p,a);if(R==-1)return"default";
return"pointer"};dK.prototype.JI=function(p,a,R,Q){this.SW=this.Yr(Q,p.z.f);return this.SW!=-1};dK.prototype.Yr=function(p,a){var R=-1,Q=20*V.o(),t=this.Spa();
for(var N=0;N<t.length;N++)if(X.Hz(t[N],p)*a<Q)R=N;return R};dK.prototype.r$=function(p,a,R,Q){if(this.SW==-1)return;
var t=p.z.f,N=this.SW,K=S.KF.tM(this.KF);K[N*2]=Q.x;K[N*2+1]=Q.y;S.KF.Yp(K,this.KF)};dK.prototype.Gz=function(p,a,R,Q){this.SW=-1;
p.$h=!0};dK.prototype.Qb=function(p,a,R){var Q=R.xi();if(Q.x||Q.y){var t=new gh(1,0,0,1,Q.x,Q.y);S.s.t(this.Wx,t,this.Wx);
this.mB(p)}};dK.prototype.Spa=function(p){var a=S.KF.tM(this.KF),R=[];for(var Q=0;Q<a.length;Q+=2)R.push(new X(a[Q],a[Q+1]));
return R};dK.prototype.mB=function(p){var a=this.Spa();p.R.FF={$:[],r:[]};p.R.FF.$.push("M","C","C","C","C");
var R=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var Q=0;Q<R.length;Q++)p.R.FF.r.push(a[R[Q]].x,a[R[Q]].y);
p.R.FF.$.push("M","L","L","M","L","L","M","L","L","M","L","L");R=[4,0,1,2,3,7,11,15,14,13,12,8];for(var Q=0;
Q<R.length;Q++)p.R.FF.r.push(a[R[Q]].x,a[R[Q]].y);p.R.vI=[];for(var Q=0;Q<a.length;Q++)p.R.vI.push(a[Q].x,a[Q].y);
p.$h=!0};dK.prototype.clear=function(p){p.R.FF=null;p.R.vI=[];p.$h=!0};var gf={};gf.wK=function(p){this.id=p;
this.yt=null};gf.wK.prototype.Gj=function(p,a,R,Q,t){};gf.wK.prototype.gq=function(p,a){};gf.wK.prototype.tk=function(p,a){};
gf.wK.prototype.track=function(p){var a=new $(V.E.JF,!0);a.data=p;p.Bn=!0;this.yt.Y(a)};gf.History=function(){gf.wK.call(this,m.EI);
this.uY=!0;this.SIb=0};gf.History.prototype=new gf.wK;gf.History.prototype.Gj=function(p,a,R,Q){R.At=!0;
if(p.K=="h_itemchange"){if(p.index<R.oR)for(var t=R.oR;t>p.index;t--)this.BT(R);if(p.index>R.oR)for(var t=R.oR;
t<p.index;t++)this.Bb(R)}if(p.K=="h_stepfwd")this.Bb(R);if(p.K=="h_stepbck")this.BT(R);if(p.K=="h_undoredo"){var N=this.uY||this.SIb!=R.oR;
if(N){this.BT(R);N=!1}else{this.Bb(R);N=!0}this.uY=N;this.SIb=R.oR}else this.uY=!0};gf.History.prototype.BT=function(p){if(p.oR==0)return;
var a=p.history[p.oR];a.Q.tk(a.data,p);p.oR--};gf.History.prototype.Bb=function(p){if(p.oR==p.history.length-1)return;
var a=p.history[p.oR+1];a.Q.gq(a.data,p);p.oR++};gf.Pu=function(){gf.wK.call(this,m.pw);this.yt=null};
gf.Pu.prototype=new gf.wK;gf.Pu.prototype.Gj=function(p,a,R,Q,t){this.yt=a;var N=p.K,K=p.w!=null?p.w:R.V.length!=0?R.V[0]:R.M.length-1,T=R.M[K];
R.if=!0;if(N==l.C_&&R.S==null)N=l.iP;if(N==l.Ko){var d=new gm([6,33],this),y=T.sc()?["pass"].concat(gE.TV):gE.TV,E=p.w!=null?[p.w]:R.V,k=JSON.stringify(E),D=[];
for(var P=0;P<E.length;P++)D.push(R.M[E[P]].bQ);d.data={K:N,G$:k,_v:D,yD:y[p.yD]};R.sv(d);this.gq(d.data,R);
this.track(Nr.$l("Md",{t:"enum",v:{BlnM:gE.$Z[p.yD]}}))}if(N==l.KD){var d,e=R.Lx(),E=p.w!=null?[p.w]:R.V,k=JSON.stringify(E);
if(e&&e.data&&e.data.K==N&&e.data.G$==k)d=e;else{var Y=Nr.$l("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(Y);var D=[];for(var P=0;P<E.length;P++)D.push(R.M[E[P]].opacity);d=new gm([6,32],this);d.data={K:N,G$:k,_v:D,yD:p.yD,ur:Y.UD};
R.sv(d)}d.data.yD=p.yD;d.data.ur.T.v.Opct.v.val=Math.round(p.yD*100/255);this.gq(d.data,R)}if(N==l.sK){if(T.add.iOpa==null)T.add.iOpa=255;
var d,e=R.Lx();if(e&&e.data&&e.data.K==N&&e.data.w==K)d=e;else{d=new gm("Fill Opacity Change",this);
d.data={K:N,w:K,_v:T.add.iOpa,yD:p.yD};R.sv(d)}d.data.yD=p.yD;this.gq(d.data,R)}if(N==l.OP){if(T.add.lspf==null)T.add.lspf=0;
var D=T.add.lspf,O=D,W=p.yD,d;for(var P=0;P<W[0].length;P++){var w=W[1][P],g=1<<w;if((O&g)==0&&W[0][P])O^=g;
else if((O&g)!=0&&!W[0][P])O^=g}var e=R.Lx();if(e&&e.data&&e.data.K==N&&e.data.w==K)d=e;else{var d=new gm([6,57,1],this);
d.data={K:N,w:K,_v:D,yD:O};R.sv(d)}d.data.yD=O;this.gq(d.data,R)}if(N==l.Er){var J="----",U=p.jE,O=null;
for(var P=0;P<gT.am.Rm.length;P++)if(T.add[gT.am.Rm[P]])J=gT.am.Rm[P];var H=T.add[J];if(U=="TySh")O=gK.oG(50,50,t.og);
var d=new gm("Layer Type",this);d.data={K:N,w:K,SIc:[J,H],jE:[U,O]};R.sv(d);this.gq(d.data,R)}if(N==l.ia){var f=[];
if(Q.g(n.LG)){var j=R.Lx(),I=j?j.data:null;if(j!=null&&j.Q==this&&I.K==l.ia&&I.G$.length!=1){var L=new $(V.E.W);
L.Q=m.EI;L.data={K:"h_stepbck"};a.Y(L);if(I.w==K)return}var C=R.root.GE(K),v=R.Dh(null,K);while(C.parent!=R.root){v.push(C.parent.index);
C=C.parent}for(var P=0;P<R.M.length;P++){var o=R.M[P],Z=o.Aw(),B=v.indexOf(P)!=-1;if(!B&&Z)f.push(P);
if(P==K&&!Z)f.push(P)}}else{f.push(K);var Z=R.M[K].Aw(),Y={zt:Z?"hide":"show",UD:{classID:Z?"Hd":"Shw",null:{t:"VlLs",v:[Nr.Fx("Lyr",!0)]}}};
this.track(Y)}var d=new gm("Layer visibility",this,!0);d.data={K:N,G$:f,w:K};R.sv(d);this.gq(d.data,R)}if(N==l.K_){var Y={zt:"select",UD:{classID:"null",MkVs:{t:"bool",v:!1}}},s,escape=!1;
if(R.z.mC.join("")!="111"){R.z.mC=[1,1,1];R.$h=!0}if(Q.g(n.GA)||p.Seu==0){var q=R.V.indexOf(K);if(q==-1)R.V.push(K);
else if(R.V.length>1)R.V.splice(q,1);R.V.sort(function(d,ND){return d-ND});Y.UD.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
s=K}else if(Q.g(n.ei)&&!Q.g(n.LG)&&p.dj>0){N=p.dj==1?l.dn:p.dj==2?l.Wz:l.lT;escape=!0}else if((Q.g(n.ei)||p.Seu==1)&&R.V.length>0){var F=Math.min(K,R.V[0]),b=Math.max(K,R.V[R.V.length-1]);
R.V=[];for(var P=F;P<=b;P++)if(R.M[P].add.lsct!=Ns.iL)R.V.push(P);Y.UD.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
s=K}else{s=K;var o=R.M[K];if(o.sc()&&p.SJH)o.add.lsct=Ns.hI;else if(R.V.length==1&&R.V[0]==K&&p.dj==o.FE){return}R.V=[K];
R.Mv()}if(s!=null){Y.UD.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:R.M[s].getName()}}]},this.track(Y)}if(!escape){if(R.V.length==1){var G=R.V[0];
for(var P=0;P<R.M.length;P++){if(P==G)continue;var u=R.M[P];u.FE=0;u.LK=!1}var T=R.M[G];if(p.dj==2)T.LK=!T.LK;
else{T.FE=p.dj<=0?0:p.dj;if(p.dj==1||p.dj==3){var h=p.dj==3?T.iW(R).n:T.mg();h.oB=!1}}}else for(var P=0;
P<R.M.length;P++){var u=R.M[P];u.FE=0;u.LK=!1}R.FS=null;R.At=!0}}if(N==l.dn||N==l.lT){var z=N==l.dn,h=z?T.mg():T.iW(R).n;
if(h==null)return;var d=new gm(h.isEnabled?z?[6,15]:[6,42]:z?[6,14]:[6,41],this);d.data={K:N,w:K};R.sv(d);
this.gq(d.data,R)}if(N==l.Wz){var h=T.add.vmsk;if(h==null)return;var d=new gm(h.isEnabled?[6,17]:[6,16],this);
d.data={K:N,w:K};R.sv(d);this.gq(d.data,R)}if(N==l.Sev){if(T.add.lsct==Ns.hI)T.add.lsct=Ns.AH;else T.add.lsct=Ns.hI;
R.At=!0}if(N==l.CX){if(!R.EE(K))return;var d=new gm(T.$L?[6,19]:[6,18],this);d.data={K:N,w:K};R.sv(d);
if(p.yD==null||p.yD!=T.$L)this.gq(d.data,R);this.track({zt:"groupEvent",UD:{classID:"GrpL",null:{t:"obj ",v:[Nr.Fx("Lyr",!0)]}}})}if(N==l.SHO){if(T.lC())T.KN-=32;
else T.KN+=32;R.At=!0}if(N==l.sC||N==l.sA){var d;if(N==l.sC)d=new gm(T.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(N==l.sA)d=new gm(T.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);d.data={K:N,w:K};R.sv(d);this.gq(d.data,R)}if(N==l.sg||N==l.sP){var G=p.index,d;
if(N==l.sg)d=new gm(T.add.lmfx[gZ.lV[G[0]]].v[G[1]].v.enab.v?[6,30]:[6,29],this);if(N==l.sP)d=new gm(T.add.SoLd.filterFX.v.filterFXList.v[G].v.enab.v?[6,44]:[6,43],this);
d.data={K:N,w:K,index:p.index};R.sv(d);this.gq(d.data,R)}if(N==l.EB){if(p.src==p.QW)return;var r=R.M[p.src],i=R.M[p.QW],gg=r.add.lmfx?JSON.stringify(r.add.lmfx):"",gC=i.add.lmfx?JSON.stringify(i.add.lmfx):"";
if(i.add.lmfx==null){i.add.lmfx=JSON.parse(gZ.default);for(var P=0;P<gZ.order.length;P++)i.add.lmfx[gZ.lV[P]]={t:"VlLs",v:[]}}if(p.nH==null){i.add.lmfx=JSON.parse(gg);
if(!p.TZ)delete r.add.lmfx}else{var gd=p.nH[0],gY=gZ.lV[gd];if(gZ.SIC.indexOf(gZ.order[gd])==-1)i.add.lmfx[gY].v=[];
i.add.lmfx[gY].v.push(r.add.lmfx[gY].v[p.nH[1]]);if(!p.TZ)r.add.lmfx[gY].v.splice(p.nH[1],1)}var gN=r.add.lmfx?JSON.stringify(r.add.lmfx):"",gS=i.add.lmfx?JSON.stringify(i.add.lmfx):"";
if(!i.lC())i.KN+=32;var d=new gm("Move Layer Styles",this);d.data={K:N,SHf:p.src,SHt:p.QW,SJz:gg,SJX:gC,SJF:gN,SJo:gS};
R.sv(d);this.gq(d.data,R)}if(N==l.SS_){var u=R.M[p.src],M=JSON.stringify(u.add.SoLd),Cj=JSON.parse(M),gs=Cj.filterFX.v.filterFXList.v;
gs.splice(p.nH,1);var d=new gm([6,53],this);d.data={K:l.sj,eW:[{Hn:p.src,JA:[M,JSON.stringify(Cj)]}]};
R.sv(d);this.gq(d.data,R)}if(N==l.SSJ){var r=R.M[p.src],i=R.M[p.QW],gl=[];if(r!=i&&i.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(r==i&&!p.TZ&&(p.nH==p.ju||p.nH==-1))return;var gR=r.iW(R),M=JSON.stringify(r.add.SoLd),Cj=JSON.parse(M),gs=Cj.filterFX.v.filterFXList.v;
if(r==i){gs.splice(p.ju,0,gs[p.nH]);if(!p.TZ)gs.splice(p.nH+(p.nH<p.ju?0:1),1);gl.push({Hn:p.src,JA:[M,JSON.stringify(Cj)]})}else if(p.nH==-1){var ge=Cj.filterFX;
if(!p.TZ){delete Cj.filterFX;gl.push({Hn:p.src,JA:[M,JSON.stringify(Cj)],F_:[gR,null]})}var So=i.kF()?i.iW(R):null,gq=SF.SRd(gR),gH=JSON.stringify(i.add.SoLd),gx=JSON.parse(gH);
gx.placed.v=gq.id;gx.filterFX=ge;gl.push({Hn:p.QW,JA:[gH,JSON.stringify(gx)],F_:[So,gq]})}else{var g$=gs[p.nH];
if(!p.TZ){gs.splice(p.nH,1);gl.push({Hn:p.src,JA:[M,JSON.stringify(Cj)]})}var gH=JSON.stringify(i.add.SoLd),gx=JSON.parse(gH);
if(gx.filterFX==null)gx.filterFX=gw.Dk();var gy=gx.filterFX.v.filterFXList.v;gy.splice(p.ju,0,g$);var SZ={Hn:p.QW,JA:[gH,JSON.stringify(gx)]};
if(!i.kF()){var gq=SF.SRs(i.add.SoLd.placed.v);SZ.F_=[null,gq]}gl.push(SZ)}var d=new gm([6,52],this);
d.data={K:l.sj,eW:gl};R.sv(d);this.gq(d.data,R)}if(N==l.sd){var h=T.mg(),d=new gm(h.XI?[6,26]:[6,25],this);
d.data={K:N,w:K};R.sv(d);this.gq(d.data,R);this.track({zt:"set",UD:{classID:"setd",null:{t:"obj ",v:[Nr.Fx("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:h.XI}}}}})}if(N==l.Gu){var h=T.add.vmsk,d=new gm(h.XI?[6,28]:[6,27],this);
d.data={K:N,w:K};R.sv(d);this.gq(d.data,R)}if(N==l.Gn){var dU=[],d;for(var P=0;P<R.V.length;P++){var gz=R.V[P],o=R.M[gz];
if(o.add.vogk)dU.push(gz,JSON.stringify(o.add.vogk))}for(var P=0;P<R.Op.length;P++){var gz=R.Op[P],o=R.pU[gz];
if(o.add.vogk)dU.push(-1-gz,JSON.stringify(o.add.vogk))}S.lm.SxY(R,p.a_,p.SJU);var gX=[];for(var P=0;
P<R.V.length;P++){var gz=R.V[P],o=R.M[gz];if(o.add.vogk)gX.push(gz,JSON.stringify(o.add.vogk))}for(var P=0;
P<R.Op.length;P++){var gz=R.Op[P],o=R.pU[gz];if(o.add.vogk)gX.push(-1-gz,JSON.stringify(o.add.vogk))}var e=R.Lx();
if(e&&e.data&&e.data.K==N){var gJ=!0;for(var P=0;P<dU.length;P+=2)if(dU[P]!=e.data.SZ[P])gJ=!1;if(gJ){d=e;
d.data.YP=gX}}if(d==null){var d=new gm([12,91,1],this);d.data={K:N,SZ:dU,YP:gX};R.sv(d)}this.gq(d.data,R)}if(N==l.EK){var d,e=R.Lx();
if(e&&e.data&&e.data.K==N&&e.data.w==K){d=e;d.data.Ml=JSON.stringify(p.Ml)}if(d==null){var d=new gm("Editing Artboard",this);
d.data={K:N,w:K,SJW:JSON.stringify(T.add.artb),Ml:JSON.stringify(p.Ml)};R.sv(d)}this.gq(d.data,R)}if(N==l.Kx){var gX=R.Mn.slice(0),SR=R.JO.slice(0),gF=R.S,gv=R.S;
if(p.mK=="fromAction"){var SU=p.Z.zt,ga=p.Z.UD;if(SU=="make"||SU=="duplicate"){var Sg=gX.length,SC=!1,gk=!1;
if(R.zu())Sg--;var gO=new l.TU;gO.name="Alpha "+(Sg+1);if(SU=="make"){var Np=ga.Nw.v;gO.color=255;SR=[Sg];
gO.oB=!0;gO.BS=Np.Opct.v;if(Np.Nm)gO.name=Np.Nm.v;if(Np.classID=="SCch"){SC=!0;gv=null;gO.yH=1}}else{var SO=ga.null.v[0].v;
if(SO.keyID=="fsel")SC=!0;else{var NZ=m.GP.SKb(R);gv=m.GP.SdE(R,NZ);gO.color=0;gO.rect=gv.rect;gO.channel=gv.channel}}if(SC){gO.color=0;
if(R.S){gO.rect=R.S.rect.clone();gO.channel=R.S.channel.slice(0)}if(gk){gO.color=255-gO.color;S.zw(gO.channel)}}gX.splice(Sg,0,gO)}else if(SU=="delete"){var v=R.JO;
v.sort(function(d,ND){return ND-d});if(v.length==0)return;for(var P=0;P<v.length;P++)gX.splice(v[P],1);
SR=[]}else if(SU=="hide"){gX[SR[0]]=gX[SR[0]].clone();gX[SR[0]].oB=!1}}if(p.mK=="rnm"){gX[p.Yo]=gX[p.Yo].clone();
gX[p.Yo].name=p.name}var d=new gm("Channel Edit",this);d.data={K:N,SZ:R.Mn.slice(0),ED:R.JO.slice(0),YP:gX,Ec:SR,Xu:gF,AO:gv};
this.gq(d.data,R);R.sv(d)}if(N==l.uL){var d=new gm(p.LS,this);d.data={K:l.uL,Jt:R.M.slice(0),eP:p.eP,dQ:R.V.slice(0),KA:p.AO};
R.sv(d);this.gq(d.data,R)}if(N==l.iU){var gD=R.Dh(null,p.w),go=1e10;if(gD.length==0)return;if(R.M.length==gD.length){alert("Project must have at least 1 layer");
return}var gI=[];for(var P=0;P<R.M.length;P++)if(gD.indexOf(P)==-1)gI.push(R.M[P]);for(var P=0;P<gD.length;
P++)go=Math.min(go,gD[P]);go=Math.max(go-1,0);while(gI[go].name=="</Layer group>")go++;this.track({zt:"delete",UD:{classID:"Dlt",null:Nr.Fx("Lyr",!0)}});
var d=new gm([6,31],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[go]};R.sv(d);this.gq(d.data,R)}if(N==l.WC){var v=p.Sfz?p.Sfz:R.V,NS=0,NX=!1;
if(v.length==0)return;if(v.length==1&&R.M[v[0]].dI==0){alert(gL.get([15,7,5]));return}var NK=[];for(var P=0;
P<R.M.length;P++){var gP=R.M[P].dI;NK.push(gP);NS=Math.max(NS,gP)}var Nd=-1,Ni=-1;for(var P=0;P<v.length;
P++){var gP=R.M[v[P]].dI;if(gP==0)NX=!0;else if(Nd==-1||Nd==gP)Nd=gP;else Ni=gP}if(!NX)for(var P=0;P<v.length;
P++)R.M[v[P]].dI=0;else if(Nd!=-1&&Ni==-1)for(var P=0;P<v.length;P++)R.M[v[P]].dI=Nd;else for(var P=0;
P<v.length;P++)R.M[v[P]].dI=NS+1;var NH=[];for(var P=0;P<R.M.length;P++){var gP=R.M[P].dI;if(NH[gP]==null)NH[gP]=0;
NH[gP]++}for(var P=0;P<R.M.length;P++){var gP=R.M[P].dI;if(NH[gP]==1)R.M[P].dI=0}var NE=NK;NK=[];for(var P=0;
P<R.M.length;P++){var gP=R.M[P].dI;NK.push(gP);NS=Math.max(NS,gP)}var d=new gm(NX?[6,54,0]:[6,54,1],this);
d.data={K:l.WC,SJv:NE,SJJ:NK};R.sv(d);this.gq(d.data,R)}if(N==l.iP&&(p.w!=null||R.V.length!=0)||N==l.$n){var NJ=R.RC(N==l.iP?p.w:K,null,p.SOa);
if(N==l.$n){var u=NJ[0],SU=u.add.SoLd.Idnt.v,Nl=R.yL(SU).clone();u.add.SoLd.Idnt.v=Nl.HN=SF.zP()+SU.slice(8);
R.add.lnk2.push(Nl)}if(N==l.iP){var NL={zt:"duplicate",UD:{classID:"null",null:Nr.Fx("Lyr",!0)}};if(p.Kb){NJ[0].xJ(p.Kb);
NL.Nm={t:"TEXT",v:p.Kb}}this.track(NL);p.SLB=p.w}N=l.sL;p.M=NJ;p.Hy=R;p.Sd=R}if(N==l.sL){var py,SJ,Nz=p.Hy,No=p.Sd;
if(Nz!=No){console.log("ADDLAYERS different projs");var py=new x(0,0,Nz.C,Nz.T),SJ=new x(0,0,No.C,No.T),Ss=[],Nt=[];
for(var P=0;P<p.M.length;P++){var u=p.M[P];if(u.add.SoLd==null)continue;var SU=u.add.SoLd.Idnt.v;if(Ss.indexOf(SU)==-1){Ss.push(SU);
Nt.push(SF.zP()+SU.slice(8))}u.add.SoLd.Idnt.v=Nt[Ss.indexOf(SU)];var gR=u.iW(Nz);if(gR){Nz.MU(gR);No.Cp(gR)}}if(Ss.length>0){if(No.add.lnk2==null)No.add.lnk2=[];
for(var P=0;P<Ss.length;P++){var gj=Nz.yL(Ss[P]),Nl=gj.clone();Nl.HN=Nt[P];No.add.lnk2.push(Nl)}}}var gF=No.V.slice(0);
gF.sort(function(d,ND){return d-ND});var gI=No.M.slice(0),gv=[],NI=-1;for(var P=0;P<gF.length;P++)NI=Math.max(NI,gF[P]);
if(p.SLB!=null)NI=p.SLB;NI++;for(var P=0;P<p.M.length;P++){var o=p.M[P];gI.splice(NI,0,o);gv.push(NI);
NI++}if(p.M[p.M.length-1].sc())gv=[NI-1];var d=new gm([6,0],this);d.data={K:l.uL,Jt:No.M.slice(0),eP:gI,dQ:gF,KA:gv};
No.sv(d);this.gq(d.data,No)}if(N==l.SJS){var Si=p.w!=null?[p.w]:R.Dh(),gI=R.M.slice(0);for(var P=0;P<Si.length;
P++){var o=R.M[Si[P]].clone();o.Ssr(R);gI.splice(Si[P],1,o)}var d=new gm([6,8],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:R.V.slice(0)};
R.sv(d);this.gq(d.data,R)}if(N==l.SKQ){var gI=R.M.slice(0),o=gI[R.V[0]]=gI[R.V[0]].clone(),Kl=o.add.lmfx,KA=0;
delete o.add.lmfx;var CP=S.p(o.rect.u());S.vh(o.buffer,CP,3);var pz=gB.MG(Kl,null,CP,o.rect,R,o.rect).type;
for(var P=0;P<gZ.order.length;P++){var dq=gZ.order[P],S$=pz[dq],SS=P>7;for(var NF=0;NF<S$.length;NF++){var N$=S$[NF],E=R.hX();
E.bQ=N$.Hr;E.opacity=Math.round(255*N$.WV);E.$L=!SS;E.buffer=N$.Yz;E.rect=N$.Cy;E.rect.offset(o.rect.x,o.rect.y);
E.xJ(o.getName()+"'s "+gL.get(gZ.names[P]));gI.splice(R.V[0]+(SS?0:1),0,E);if(SS)KA++}}var d=new gm("Styles to Layers",this);
d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[R.V[0]+KA]};R.sv(d);this.gq(d.data,R)}if(N==l.Md){var Si=R.Dh(),gI=R.M.slice(0),Kq=new x(0,0,R.C,R.T);
for(var P=0;P<Si.length;P++){var SX=R.M[Si[P]],pZ=SX.Aw();SX.mt(!0);var Ki=R.root.GE(Si[P]);if(SX.sc())continue;
if(Ki==null)continue;var o=SX.clone();o.Ssr(R);var Se=Ki.yk(R,!0),SM=R.M;R.ag([SX]);R.U();R.G_();o.buffer=S.p(Se.u()*4);
S.gW(R.iD(),Kq,o.buffer,Se);o.rect=Se;o.opacity=255;o.add.iOpa=255;o.bQ="norm";o.U();o.j.Cc=!0;R.ag(SM);
if(o.add.lmfx)delete o.add.lmfx;o.n=o.zA=null;gI.splice(Si[P],1,o);o.mt(pZ);SX.mt(pZ)}var d=new gm([6,34],this);
d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:R.V.slice(0)};R.sv(d);this.gq(d.data,R)}if(N==l.SfY){var Si=R.Dh(),gI=R.M.slice(0);
for(var P=0;P<Si.length;P++){var o=R.M[Si[P]],Sd=o.add.TySh;if(Sd==null)continue;var u=new NC(Sd.KY,t.mk),NT=S.s.RT(CG.uv(u,Sd));
for(var Yp in NT){var pg=NT[Yp],d$=o.clone();delete d$.add.TySh;d$.KN=d$.KN|1<<4;d$.add.SoCo=JSON.parse(JSON.stringify(gZ.gr[0]));
var NP=d$.add.SoCo.Clr.v;NP.Rd.v=parseInt(Yp.slice(1,3),16);NP.Grn.v=parseInt(Yp.slice(3,5),16);NP.Bl.v=parseInt(Yp.slice(5,7),16);
var pN=new l.IC;pN.G=S.s.Vl(pg,!1);if(d$.add.vmsk!=null){d$.add.vmsk.SfD();pN.concat(d$.add.vmsk)}d$.add.vmsk=pN;
d$.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));d$.YH();d$.WU(R);gI.splice(gI.indexOf(o),0,d$)}gI.splice(gI.indexOf(o),1)}var gv=R.V.slice(0);
for(var P=gv.length-1;P>=0;P--)if(gv[P]>=gI.length)gv.splice(P,1);var d=new gm([6,40],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:gv};
R.sv(d);this.gq(d.data,R)}if(N==l.Shb){var Sx=R.V.length;if(Sx<2)return;if(!R.Ej())return;var d$=R.M[R.V[0]].clone(),gI=[];
for(var P=0;P<R.M.length;P++)if(R.V.indexOf(P)==-1)gI.push(R.M[P]);gI.splice(R.V[0],0,d$);for(var P=1;
P<Sx;P++){var o=R.M[R.V[P]],pH=o.rect.clone();pH.vj(1,1);var ND=S.p(pH.u()*4);S.gW(o.buffer,o.rect,ND,pH);
d$.extend(pH);var Yi=S.p(pH.u()*4);S.gW(d$.buffer,d$.rect,Yi,pH);var d=S.p(pH.u());S.vh(ND,d,3);S.round(d,200);
S.RA(d,ND,3);S.O.KJ("norm",ND,pH,Yi,pH,pH,1);S.Ok.dd(Yi,d,pH);S.gW(Yi,pH,d$.buffer,d$.rect)}var d=new gm([2,10],this);
d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[R.V[0]]};R.sv(d);this.gq(d.data,R)}if(N==l.MX){var gI=R.M.slice(0),SR=R.V.slice(0);
for(var P=0;P<gI.length;P++){var o=gI[P],dm=o.add.vmsk;if(o.xP()&&dm&&o.add.vstk.strokeEnabled.v&&!o.add.vstk.fillEnabled.v){var dN=dm.G,Ka=0,pB=-1;
for(var NF=0;NF<dN.length;NF++){if((dN[NF].type==0||dN[NF].type==3)&&dN[NF].gu!=-1){Ka++;if(dN[NF].type==3&&pB==-1){dN[NF].Xt=dN[NF].gu=1;
pB=NF}}}if(Ka>1&&pB!=-1){console.log("separating an open path into a new layer");o=o.clone();dm=o.add.vmsk;
dN=dm.G;var E=dN[pB].length,Kg=o.clone();Kg.add.lyid=R.E_();dm.G=dN.slice(0,2).concat(dN.slice(pB,pB+E+1));
dm.V=[];o.WU(R);o.U();var NO=Kg.add.vmsk.G;Kg.add.vmsk.G=NO.slice(0,pB).concat(NO.slice(pB+E+1,NO.length));
Kg.add.vmsk.V=[];Kg.WU(R);gI[P]=o;gI.splice(P+1,0,Kg);for(var NF=0;NF<SR.length;NF++)if(SR[NF]>P)SR[NF]++;
var YS=SR.indexOf(P);if(YS!=-1){SR.splice(YS+1,0,P+1)}}}}if(gI.length!=R.M.length){var d=new gm("Splitting open paths",this);
d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:SR};R.sv(d);this.gq(d.data,R)}}if(N==l.Sqr){this.Gj({K:l.MX},a,R,Q,t);
var gF=R.V.slice(0),SM=R.M.slice(0),Si=R.Dh();if(Si.length==0)return;R.SqV(Si);var d=new gm([6,36,0],this);
d.data={K:l.uL,Jt:SM,eP:R.M.slice(),dQ:gF,KA:R.V.slice(0)};R.sv(d);this.gq(d.data,R)}if(N==l.lz){var gj=p.NI.yL(p.id),Nl=gj.clone();
Nl.raw=p.data;Nl.Av="8BIM";Nl.Fb="8BPB";Nl.Lf=Nl.Lf+".psd";Nl.iD(!1);gj.iD(!1);var d=new gm([6,36,1],this);
d.data={K:l.lz,id:p.id,Sg:gj,SN:Nl};p.NI.sv(d);this.gq(d.data,p.NI)}if(N==l.Sil){var YX,pi;if(p.ET){YX=p.NI;
pi=p.ET}else{p.NI.yP();p.NI.mA();p.NI.U();p.NI.G_();p.NI.iD();YX=gr.PSD.WL(p.NI,0,0,[!0,!0]);pi=p.NI.name}if(!(YX instanceof ArrayBuffer))throw"e";
YX=new Uint8Array(YX);var q=p.ll!=null?p.ll:R.V[R.V.length-1]+1,pR=R.Cf(YX,pi,0,0,!0),gI=R.M.slice(0);
gI.splice(q,0,pR);var d=new gm([6,36,2],this);d.data={K:l.uL,Jt:R.M.slice(),eP:gI,dQ:R.V.slice(0),KA:[gI.indexOf(pR)]};
R.sv(d);this.gq(d.data,R)}if(N==l.Sll){var YN=[],KO=[],Kp=0;for(var P=0;P<R.V.length;P++){var gz=R.V[P],o=R.M[gz];
if(o.sc()&&YN.indexOf(gz)==-1){YN.push(gz);KO.push(o.getName())}}if(YN.length!=2){YN=[];KO=[];for(var P=0;
P<R.M.length;P++){var gz=P,o=R.M[gz];if(o.sc()&&YN.indexOf(gz)==-1){YN.push(gz);KO.push(o.getName())}}}if(YN.length<2){alert("We need at least two folders of layers");
return}var S$=[];for(var YP=0;YP<YN.length;YP++){var C=R.root.GE(YN[YP]),SZ=[[],[],0,YP];S$.push(SZ);
if(C.children.length==0){alert("There is a folder \""+C.w.getName()+"\" without any layers.");return}for(var P=0;
P<C.children.length;P++){var gz=C.children[P].index,o=C.children[P].w,gO=o.getName(),NW=20;if(!gO.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var Nk=gO.split(",");if(Nk.length>1){var CX=parseInt(Nk.pop());if(!isNaN(CX)&&CX!=0)NW=CX}SZ[0].push(o);
SZ[1].push(NW);SZ[2]+=NW}}S$.sort(function(d,ND){return ND[2]-d[2]});var dI=S$[0],dw=dI[2];for(var dH=1;
dH<S$.length;dH++){var SZ=S$[dH],pJ=1,pw=SZ[1].slice(0),Kv=0;while((pJ+1)*SZ[2]<=dI[2]){pJ++;pw=pw.concat(SZ[1])}SZ[1]=pw;
SZ[2]*=pJ;var Yu=dI[2]/SZ[2];for(var P=0;P<SZ[1].length;P++){var Sy=Math.floor(SZ[1][P]*Yu);SZ[1][P]=Sy;
Kv+=Sy}while(Kv<dw){Kv++;SZ[1][SZ[1].length-1]++}SZ[2]=Kv}var Cp=[],NY=[],Sy=[];for(var P=0;P<S$.length;
P++){Cp.push(0);NY.push(0)}while(Kp<dw){var S_=1e9,Sg=-1;for(var P=0;P<S$.length;P++){var rS=S$[P][1],KY=Cp[P];
if(KY!=rS.length&&NY[P]+rS[KY]<Kp+S_){Sg=P;S_=NY[P]+rS[KY]-Kp}}NY[Sg]+=S$[Sg][1][Cp[Sg]];Cp[Sg]++;if(S_!=0){Sy.push(S_);
Kp+=S_}}for(var P=0;P<Sy.length;P++){var Cg=Sy[P],dG=Cg>>>1;if(Cg<17){var gz=Sy.length-1;if(P==0)Sy[1]+=Cg;
else if(P==Sy.length-1)Sy[gz-1]+=Cg;else{Sy[P-1]+=dG;Sy[P+1]+=Cg-dG}Sy.splice(P,1);P--}}var Ca=R.V.slice(0);
R.V=YN;var gD=R.Dh();gD.sort(function(d,ND){return d-ND});var gI=[];for(var P=0;P<R.M.length;P++){if(gD.indexOf(P)==-1)gI.push(R.M[P])}S$.sort(function(d,ND){return d[3]-ND[3]});
function pU(rS,rq){var P=0,r$=0;while(r$+rS[P]<=rq){r$+=rS[P];P++}return P}Kp=0;gI.splice(gD[0],0,R.Df());
for(var dc=0;dc<Sy.length;dc++){var f=[],NV=new x;for(var P=0;P<S$.length;P++){var KY=pU(S$[P][1],Kp)%S$[P][0].length,o=S$[P][0][KY];
f.push(o);NV=NV.hT(o.rect)}var o=R.hX();o.rect=NV;o.buffer=S.p(NV.u()*4);for(var P=0;P<S$.length;P++){var Yy=f[P],CB=R.M[YN[P]],YC=Yy.opacity/255*(CB.opacity/255),pG=Yy.bQ;
if(pG=="norm"&&CB.bQ!="pass")pG=CB.bQ;S.O.KJ(pG,Yy.buffer,Yy.rect,o.buffer,NV,NV,YC)}o.mt(dc==0);o.xJ("_a_frm"+dc+","+Sy[dc]);
gI.splice(gD[0]+1+dc,0,o);Kp+=Sy[dc]}var o=R.hX();o.xJ(KO.join(" + "));o.bQ="pass";o.add.lsct=Ns.AH;
o.KN=24;gI.splice(gD[0]+1+Sy.length,0,o);var d=new gm([6,12,0],this);d.data={K:l.uL,Jt:R.M,eP:gI,dQ:Ca,KA:[gD[0]+1+Sy.length]};
R.sv(d);this.gq(d.data,R)}if(N==l.dw||N==l.lq||N==l.lU){var SM=R.M.slice(0),gF=R.V.slice(0),Kd=!0,pR,gv;
if(N==l.dw)R.V=[R.V[0],R.V[0]-1];if(N==l.lU){R.V=[];for(var P=0;P<R.M.length;P++)if(R.M[P].Aw())R.V.push(P)}var Si=R.Dh();
Si.sort(function(d,ND){return d-ND});var Nw=new x,Kq=new x(0,0,R.C,R.T);for(var P=0;P<Si.length;P++){var gz=Si[P],o=R.M[gz];
Kd=Kd&&o.xP()&&o.add.vmsk!=null;Nw=Nw.hT(R.root.GE(gz).yk(R,!0))}if(Kd){pR=R.M[Si[0]].clone();var dm=pR.add.vmsk;
for(var P=1;P<Si.length;P++){var E=R.M[Si[P]],NO=l.IC.Ce(E.add.vmsk.G);dm.G=dm.G.concat(NO.slice(2));
pR.add.vogk=pR.add.vogk.concat(JSON.parse(JSON.stringify(E.add.vogk)))}pR.add.vmsk.Ol=!0;pR.WU(R)}else if(Kq.tT(Nw)){pR=R.hX();
pR.xJ(R.M[Si[Si.length-1]].getName());pR.rect=Nw;pR.buffer=S.p(Nw.u()*4);var YY=R.iD(Si);S.gW(YY,Kq,pR.buffer,Nw);
pR.U()}else{R.SqV(Si,!0);pR=R.M[R.V[0]];R.M.splice(R.V[0],1);var Yr=R.yL(pR.add.SoLd.Idnt.v);R.add.lnk2.splice(R.add.lnk2.indexOf(Yr),1);
delete pR.add.SoLd}var rG=Q.g(n.LG),p$=-1;if(p.UD&&p.UD.Dplc&&p.UD.Dplc.v)rG=!0;if(rG&&N==l.lU&&R.M[gF[0]].iF()&&R.M[gF[0]].rect.RJ()){p$=gF[0];
pR.xJ(R.M[p$].getName())}var gI=[];for(var P=0;P<R.M.length;P++)if(rG||Si.indexOf(P)==-1)if(P!=p$)gI.push(R.M[P]);
var Ks=Si[Si.length-1],pA=Ks==R.M.length-1?null:R.M[Ks+1],KK=pA?gI.indexOf(pA):gI.length;gI.splice(KK,0,pR);
gv=[KK];var d=new gm([6,12,0],this);d.data={K:l.uL,Jt:SM,eP:gI,dQ:gF,KA:gv};R.sv(d);this.gq(d.data,R)}if(N==l.MY){var d$=R.hX();
d$.rect=new x(0,0,R.C,R.T);d$.buffer=S.p(d$.rect.u()*4);S.wp(d$.buffer,4294967295);S.O.KJ("norm",R.iD(),d$.rect,d$.buffer,d$.rect,d$.rect,1);
d$.xJ("Background");d$.add.lspf=1<<2;var d=new gm([6,12,1],this);d.data={K:l.uL,Jt:R.M.slice(),eP:[d$],dQ:R.V.slice(0),KA:[0]};
R.sv(d);this.gq(d.data,R)}if(N==l.iw||N==l.sF||N==l.iA||N==l.sW||N==l.C_){var o=N==l.C_?R.M[R.V[0]].clone():R.hX(),Sk=gL.get([0,3]),dx=p.Kb,du=!1,dE,dj;
if(N==l.iA)Sk=gL.get([12,76,1]);if(N==l.C_){var SX=R.M[R.V[0]],pu=SX.Ssd(R,R.S);if(pu==null){alert("Copied area is empty");
return}o.rect=pu.rect,o.buffer=pu.UJ}if(N==l.sW){o.rect=gf.Pu.Srp(p.gT,R);o.buffer=S.clone(p.gT.buffer)}if(N==l.iw){this.track({zt:"make",UD:{classID:"Mk",null:Nr.Fx("Lyr")}})}if(N==l.sF){o.KN|=16;
var N_=p.UD.Usng.v,pY=N_.Type.v,dQ=gA.DD[pY.classID];Sk=gL.get(gA.names[dQ]);if(N_.Nm)dx=N_.Nm.v;o.add[dQ]=gw.gD(dQ);
for(var Y$ in pY)o.add[dQ][Y$]=JSON.parse(JSON.stringify(pY[Y$]));o.n=gf.Pu.Szy(R)}if(N==l.iA){o.KN|=16;
var ga=p.UD,N_=ga.Usng.v,Yv=N_.Type.v,dh=N_.Shp;if(dh==null)o.n=gf.Pu.Szy(R);else{console.log(N_);o.add.vmsk=new l.IC;
o.add.vstk=JSON.parse(JSON.stringify(N_.strokeStyle?N_.strokeStyle.v:gZ.up.default));o.add.vogk=[];if(dh){var YA=S.lm.Kl(dh);
if(YA){o.add.vogk=[YA];o.add.vmsk.G.push({type:0,gu:1,length:0});S.lm.OX(o.add.vogk,o.add.vmsk)}else{dh=dh.v;
var YI=dh.classID;if(YI=="Plgn"){var pn=dh.Cntr.v,SW=dh.corner.v;pn=new X(pn.Hrzn.v.val,pn.Vrtc.v.val);
SW=new X(SW.Hrzn.v.val,SW.Vrtc.v.val);o.add.vmsk.G=S.d.y$.Ii(pn.x,pn.y,Math.sqrt(SW.x*SW.x+SW.y*SW.y),Math.atan2(SW.y,SW.x),dh.sides.v,0)}else if(YI=="customShape"){var pM=S.lm.RX(dh),CV=pM[2]-pM[0],dA=pM[3]-pM[1],Yh=t.$c,YW,po;
for(var P=0;P<Yh.length;P++)if(Yh[P].ts==dh.Nm.v)YW=Yh[P];if(YW){po=l.IC.Ce(YW.G);S.d.xv(po,new gh(CV,0,0,dA,pM[0],pM[1]))}else po=S.d.y$.Rect(pM[0],pM[1],CV,dA,0);
o.add.vmsk.G=po}o.YH()}}}var pI={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Yv.classID],Ko=["SoCo","GdFl","PtFl"][pI];
o.add[Ko]=JSON.parse(JSON.stringify(gZ.gr[pI]));gf.Pu.Ye(Yv,o.add[Ko],pI);if(dh==null)Sk=gL.get([6,48,0,pI]);
if(Ko=="PtFl")R.yK(gB.QE(o.add[Ko].Ptrn.v,t.Ym));o.WU(R)}var Sx=gf.Pu.Svn(R,Sk+" ");o.xJ(Sk+" "+(Sx+1));
if(dx)o.xJ(dx);var pE=R.V.length==0?R.M.length-1:R.V[R.V.length-1],YK=R.M[pE];if(N==l.iA&&YK.iF()&&YK.rect.RJ()){du=!0;
o.xJ(YK.getName());dE=pE}else{dE=pE+1;if(YK.add.lsct==Ns.hI)dE--}var gI=R.M.slice(0);gI.splice(dE,du?1:0,o);
var pV=[5,2];if(N==l.iw)pV=[6,13];if(N==l.sF)pV=[6,1];if(N==l.iA){pV=[6,48,1];var dh=p.UD.Usng.v.Shp;
if(dh){var Ys={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[dh.v.classID];
if(Ys)pV=Ys}}if(N==l.C_){pV=[6,49]}if(N==l.C_||N==l.iA||N==l.sW)if(R.S)dj=[R.S,null];var d=new gm(pV,this);
d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[dE],Hb:dj};R.sv(d);this.gq(d.data,R);if(N==l.iA&&dh==null&&pI!=0||N==l.sF){var YO=new $(V.E.v);
YO.data={K:V.H.Jh,ax:gV.Ny.VF};a.Y(YO)}}if(N==l.El){var o=R.hX();o.xJ(gL.get([0,4])+" "+R.M.length);
o.bQ="pass";o.add.lsct=Ns.hI;o.KN=24;var KN=R.Df(),pE=K,dE=pE+1,gI=R.M.slice(0);gI.splice(dE,0,KN,o);
var d=new gm([6,20],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[dE+1]};R.sv(d);this.gq(d.data,R)}if(N==l.vS||N==l.CC){var Sm=N==l.vS?p.source:R.V[0],NG,pc,Yb=R.V.indexOf(Sm)!=-1,pj=Q.g(n.LG)|p.SJa,NA;
if(Yb)NA=R.Dh();else NA=R.RN(Sm);NA.sort(function(d,ND){return d-ND});if(N==l.vS){NG=p.target;pc=p.ul>.5}else if(p.target!=null){NG=p.target;
pc=!0;R.Es=!0}else{var pa=p.mK;pc=pa>1;if(pa==0){NG=R.M.length-1}if(pa==1){NG=NA[NA.length-1]+1;var E=R.RN(NG);
if(E.indexOf(Sm)==-1)NG+=E.length-1}if(pa==2){NG=NA[0]-1;var E=R.RN(NG);if(E.indexOf(Sm)==-1)NG-=E.length-1}if(pa==3){NG=0}if(NG<0||NG>R.M.length-1)return;
R.Es=!0}if(NA.indexOf(NG)!=-1)return;var Yz=R.M[NG],gI=[];if(pj)gI=R.M.slice(0);else for(var P=0;P<R.M.length;
P++)if(NA.indexOf(P)==-1)gI.push(R.M[P]);var Cn=gI.indexOf(Yz);if(N==l.vS&&Yz.sc()&&Yz.add.lsct==Ns.AH&&p.ul>.8)Cn-=R.RN(NG).length-1;
var YU=[],Sn=pj?R.RC(Yb?null:Sm):null;for(var P=0;P<NA.length;P++){var Yg=Cn+(pc?0:1)+P,u=pj?Sn[P]:R.M[NA[P]];
gI.splice(Yg,0,u);YU.push(Yg)}var d=new gm(pj?[6,0]:[6,35],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:YU};
R.sv(d);this.gq(d.data,R);var ga={classID:"move",null:Nr.Fx("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:Cn+(pc?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:pj}};
this.track({zt:"move",UD:ga})}if(N==l.vd){var o=R.hX(),Yx=gL.get([0,4])+" ";o.xJ(Yx+(gf.Pu.Svn(R,Yx)+1));
o.bQ="pass";if(p.Kb)o.xJ(p.Kb);o.add.lsct=R.V.length==1?Ns.hI:Ns.AH;o.KN=24;var KN=R.Df(),NA=R.Dh();
if(NA.length==0)return;NA.sort(function(d,ND){return d-ND});var gI=[];for(var P=0;P<R.M.length;P++)if(NA.indexOf(P)==-1)gI.push(R.M[P]);
var pE=R.V[R.V.length-1]-NA.length;gI.splice(pE+1,0,KN);for(var P=0;P<NA.length;P++)gI.splice(pE+2+P,0,R.M[NA[P]]);
gI.splice(pE+2+NA.length,0,o);var d=new gm([6,9],this);d.data={K:l.uL,Jt:R.M.slice(0),eP:gI,dQ:R.V.slice(0),KA:[gI.indexOf(o)]};
R.sv(d);this.gq(d.data,R);var Y={zt:"make",Bn:!0};Y.UD={classID:"Mk",null:Nr.Fx("layerSection"),From:Nr.Fx("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:o.getName()}}}};
this.track(Y)}if(N==l.Slm){if(R.V.length!=1)return;var q=R.V[0],Ya=Q.g(n.LG);if(R.M[q].mg()==null){N=l.ft;
p.pp=R.S?!Ya?"RvlS":"HdSl":!Ya?"RvlA":"HdAl"}else N=l.Kq}if(N==l.ft){if(R.V.length!=1)return;var q=R.V[0],o=R.M[q],rg=o.mg();
if(rg==null||p.SJA){var d=new gm([6,21],this),YL=new l.TU,pX=p.pp,rY=pX=="RvlS"||pX=="HdSl";if(pX=="RvlS"||pX=="HdAl"||pX=="Trns")YL.color=0;
if(rY){YL.channel=S.clone(R.S.channel);YL.rect=R.S.rect.clone();if(pX=="HdSl")S.zw(YL.channel)}if(pX=="Trns"){YL.rect=o.rect.clone();
YL.channel=S.p(o.rect.u());S.vh(o.buffer,YL.channel,3)}d.data={K:N,w:q,n:YL,us:rg,Hb:rY?[R.S,null]:null};
R.sv(d);this.gq(d.data,R);R.M[q].FE=1;this.track({zt:"make",UD:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:pX}}}})}}else if(N==l.Go){var r=R.M[p.src],i=R.M[p.QW];
if(i.mg())return;var d=new gm([6,21],this),YL=r.mg();if(p.TZ){d.data={K:l.ft,w:p.QW,n:YL.clone()}}else{d.data={K:N,src:p.src,QW:p.QW,n:YL}}R.sv(d);
this.gq(d.data,R)}if(N==l.Wk){if(R.V.length!=1)return;var q=K;if(R.M[q].mg()!=null){var d=new gm([6,22],this);
d.data={K:N,w:q,n:R.M[q].mg()};R.sv(d);this.gq(d.data,R)}}if(N==l.MB){var SM=R.M.slice(0),d$=T.clone(),YE=d$.mg();
S.fq(YE.iQ(d$.rect),d$.rect,d$.buffer,d$.rect);gf.Pu.y_(R,d$);R.M[R.V[0]]=d$;var d=new gm([5,8],this);
d.data={K:l.uL,Jt:SM,eP:R.M.slice(),dQ:R.V.slice(0),KA:R.V.slice(0)};R.sv(d);this.gq(d.data,R)}if(N==l.Ei){if(R.V.length!=1)return;
var q=R.V[0];if(R.M[q].iW(R).n==null){var d=new gm([6,45],this);d.data={K:N,w:q,n:new l.TU};R.sv(d);
this.gq(d.data,R)}}if(N==l.EW){if(R.V.length!=1)return;var q=R.V[0];if(R.M[q].iW(R).n!=null){var d=new gm([6,46],this);
d.data={K:N,w:q,n:R.M[q].iW(R).n};R.sv(d);this.gq(d.data,R)}}if(N==l.Mq){if(p.w==null&&R.V.length!=1)return;
if(R.M[K].kF()){var d=new gm([6,47],this),M=JSON.stringify(R.M[K].add.SoLd),Cj=JSON.parse(M);delete Cj.filterFX;
d.data={K:l.sj,eW:[{Hn:K,JA:[M,JSON.stringify(Cj)],F_:[R.M[K].iW(R),null]}]};R.sv(d);this.gq(d.data,R)}}if(N==l.Kq){if(R.V.length!=1)return;
if(T.add.vmsk==null){var d=new gm([6,23],this),YL=new l.IC;YL.G[1].all=p.SqR?0:1;d.data={K:N,w:K,uI:!0,n:YL,lm:"[]",up:null};
if(T.xP()){d.data.up=JSON.stringify(gZ.up.default)}R.sv(d);this.gq(d.data,R)}}if(N==l.GU){var r=R.M[p.src],i=R.M[p.QW];
if(i.add.vmsk)return;var d=new gm([6,23],this),dm=r.add.vmsk;d.data={w:p.QW,uI:r.LK,n:dm.clone(),lm:JSON.stringify(r.add.vogk),up:r.add.vstk?JSON.stringify(r.add.vstk):null};
if(p.TZ){d.data.K=l.Kq}else{d.data.K=N;d.data.src=p.src;d.data.QW=p.QW}R.sv(d);this.gq(d.data,R)}if(N==l.Og){if(R.V.length!=1)return;
var o=R.M[K],dm=o.add.vmsk;if(dm!=null){var d=new gm([6,24],this);d.data={K:N,w:K,uI:o.LK,n:dm,lm:JSON.stringify(o.add.vogk),up:o.add.vstk?JSON.stringify(o.add.vstk):null};
R.sv(d);this.gq(d.data,R)}}if(N==l.Eq){var d=new gm("Metadata",this);d.data={K:N,GM:JSON.stringify(R.SE),xg:JSON.stringify(p.xg)};
R.sv(d);this.gq(d.data,R)}if(N==l.sO){var rr=p.QW?p.QW:R,YQ=rr.name,dx=p.Z+".psd";if(YQ==dx)return;var d=new gm([6,37],this);
d.data={K:N,ue:YQ,Kb:dx};if(p.SJG!=!0)rr.sv(d);this.gq(d.data,rr)}if(N==l.vC){var YQ=T.getName(),dx=p.name.substring(0,255);
if(YQ==dx)return;var d=new gm([6,37],this);d.data={K:N,w:K,ue:YQ,Kb:dx,Sqi:T.add.lnsr,S$N:null};R.sv(d);
this.gq(d.data,R);this.track(Nr.$l("Nm",{t:"TEXT",v:dx}))}if(N==l.vg){var YG=R.Dh(),dz=[],re=[];for(var P=0;
P<YG.length;P++){dz.push(R.M[YG[P]].add.lclr);re.push(p.S$p)}var d=new gm([6,38],this);d.data={K:N,M:YG,SJE:dz,SJj:re};
R.sv(d);this.gq(d.data,R)}if(N==l.EJ){var d=R.history[R.oR];if(d!=null&&d.Q==this&&d.data.K==N&&d.data.w==p.uH&&d.data.yD.Ea==p.Gx.Ea)d.data.yD=p.Gx;
else{d=new gm("Mask Density / Feather",this);d.data={K:N,w:p.uH,pt:R.M[p.uH].SsO(p.Gx.Ea),yD:p.Gx};R.sv(d)}this.gq(d.data,R)}if(N==l.vN){var rH=JSON.stringify(p.Z),Ke=JSON.parse(rH),d=R.history[R.oR];
if(d!=null&&d.Q==this&&d.data.K==N&&d.data.Um==p.Um&&d.data.G$.join(",")==p.G$.join(",")){for(var P=0;
P<p.G$.length;P++)d.data.u$[P]=Ke;if(d.data.UD&&Ke.Fb!=0)gf.Pu.Ye(Ke.Cz,d.data.UD.T.v,Ke.Fb-1)}else{d=new gm([11,6],this);
d.data={K:N,G$:p.G$,Um:p.Um,S$w:[],u$:[]};var pm=!1;for(var P=0;P<p.G$.length;P++){var gz=p.G$[P],o=R.M[gz],YV=p.Um?m.eE.Lv(R,gz):JSON.parse(JSON.stringify(o.add.vstk));
d.data.S$w.push(YV);d.data.u$.push(Ke);if(JSON.stringify(YV)!=rH)pm=!0}if(!pm)return;R.sv(d);if(p.Um&&Ke.Fb>0){var ga=d.data.UD={classID:"setd",null:Nr.Fx("contentLayer",!0),T:{t:"Objc",v:{}}},Ko=["SoCo","GdFl","PtFl"][Ke.Fb-1];
gf.Pu.Ye(Ke.Cz,ga.T.v,Ke.Fb-1);this.track({zt:"set",UD:ga})}}if(p.Um&&Ke.Fb==3)R.yK(gB.QE(Ke.Cz.Ptrn.v,t.Ym));
if(!p.Um){var rl=Ke.strokeStyleContent.v;if(rl.classID==gZ.up.sZ[2])R.yK(gB.QE(rl.Ptrn.v,t.Ym))}this.gq(d.data,R)}};
gf.Pu.Ye=function(p,a,R){var Q=[gZ.Yw,gZ.aH,gZ.QN][R];if(a.classID==null)a.classID=["solidColorLayer","gradientLayer","patternLayer"][R];
for(var t=0;t<Q.length;t++)if(p[Q[t]])a[Q[t]]=JSON.parse(JSON.stringify(p[Q[t]]))};gf.Pu.Szy=function(p){var a=new l.TU;
if(p.S!=null){a.color=0;a.channel=S.clone(p.S.channel);a.rect=p.S.rect.clone()}return a};gf.Pu.SFT=function(p,a,R,Q){var t=Q.C/R.C,N=Q.T/R.T,K=Q.C/2,T=Q.T/2,d=S.s.Ht(Q).r;
for(var y=0;y<p.M.length;y++){var E=p.M[y],k=E.add.SoLd;if(k==null||k.Idnt.v!=a)continue;if(t!=1||N!=1){var D=m.B.jz(k.nonAffineTransform),P=S.L.vn(D,Q),e=new gh;
e.translate(-K,-T);e.scale(t,N);e.translate(K,T);var Y=S.L.Xl(P,S.L.fm(e)),O=d.slice(0);S.L.apply(Y,O);
k.Trnf=m.B.Ql(O);k.nonAffineTransform=m.B.Ql(O)}E.eU(p)}p.U()};gf.Pu.SWq=function(p,a,R){a.color=255-a.color;
S.zw(a.channel);a.Ol=!0;p.WU(R);R.U()};gf.Pu.prototype.tk=function(p,a){var R=p.K,Q=a.M[p.w];a.if=!0;
if(R==l.lz){a.add.lnk2.splice(a.add.lnk2.indexOf(p.SN),1,p.Sg);gf.Pu.SFT(a,p.id,p.SN.UG[1],p.Sg.UG[1])}if(R==l.Ko){var t=JSON.parse(p.G$);
for(var N=0;N<t.length;N++)a.M[t[N]].bQ=p._v[N];a.U()}if(R==l.KD){var t=JSON.parse(p.G$);for(var N=0;
N<t.length;N++)a.M[t[N]].opacity=p._v[N];a.U()}if(R==l.OP){Q.add.lspf=p._v}if(R==l.Er){var K=p.jE,T=p.SIc;
delete Q.add[K[0]];if(T[0]!="----")Q.add[T[0]]=T[1]}if(R==l.sK){Q.add.iOpa=p._v;a.U()}if(R==l.ia){for(var N=0;
N<p.G$.length;N++){var d=a.M[p.G$[N]];d.mt(!d.Aw())}a.U()}if(R==l.dn){var y=Q.mg();y.isEnabled=!y.isEnabled;
Q.WU(a);a.U()}if(R==l.lT){var y=Q.iW(a).n;y.isEnabled=!y.isEnabled;Q.U();a.U()}if(R==l.Wz){var y=Q.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(Q.zA){Q.n=Q.zA;Q.zA=null}else Q.n=null}else if(Q.n){Q.zA=Q.n;
Q.n=null}Q.WU(a);a.U()}if(R==l.CX){Q.$L=!Q.$L;a.U()}if(R==l.sC){Q.add.lmfx.masterFXSwitch.v=!Q.add.lmfx.masterFXSwitch.v;
Q.j.Cc=!0;a.U()}if(R==l.sA){Q.add.SoLd.filterFX.v.enab.v=!Q.add.SoLd.filterFX.v.enab.v;Q.Cg(a);a.U()}if(R==l.sg){var E=p.index,k=Q.add.lmfx[gZ.lV[E[0]]].v[E[1]].v;
k.enab.v=!k.enab.v;Q.j.Cc=!0;a.U()}if(R==l.EB){var D=a.M[p.SHf],P=a.M[p.SHt],e=p.SJz,Y=p.SJX;if(e=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(e);if(Y=="")delete P.add.lmfx;else P.add.lmfx=JSON.parse(Y);D.j.Cc=!0;P.j.Cc=!0;
a.U()}if(R==l.sP){var O=Q.add.SoLd.filterFX.v.filterFXList.v[p.index].v;O.enab.v=!O.enab.v;Q.Cg(a);a.U()}if(R==l.SdG){Q.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(p.SzK));
Q.Cg(a);a.U()}if(R==l.sd){var y=Q.mg();y.XI=!y.XI}if(R==l.Gu){var y=Q.add.vmsk;y.XI=!y.XI}if(R==l.Gn){var W=p.SZ;
for(var N=0;N<W.length;N+=2){var w=W[N],d=w>=0?a.M[w]:a.pU[-1-w];d.add.vogk=JSON.parse(W[N+1]);S.lm.OX(d.add.vogk,d.add.vmsk);
if(w>=0)d.WU(a)}a.U()}if(R==l.EK){Q.add.artb=JSON.parse(p.SJW);a.U()}if(R==l.Kx){a.S=p.Xu;a.Mn=p.SZ.slice(0);
a.JO=p.ED.slice(0);a.$h=a.At=!0}if(R==l.WC){var g=p.SJv;for(var N=0;N<g.length;N++)a.M[N].dI=g[N]}if(R==l.uL){if(p.dQ)a.V=p.dQ;
if(p.Hb)a.S=p.Hb[0];a.FS=null;a.U();a.ag(p.Jt)}if(R==l.ft){gf.Pu.y_(a,Q);if(p.us)gf.Pu.YF(a,Q,p.us);
if(p.Hb){var J=p.Hb[0];if(J==null)delete a.S;else a.S=J}}if(R==l.Go){gf.Pu.y_(a,a.M[p.QW]);gf.Pu.YF(a,a.M[p.src],p.n)}if(R==l.Wk){gf.Pu.YF(a,Q,p.n)}if(R==l.Ei){Q.iW(a).n=null;
Q.U();a.U()}if(R==l.EW){Q.iW(a).n=p.n;Q.U();a.U()}if(R==l.sj){gf.Pu.SNT(a,p.eW,0)}if(R==l.Kq){gf.Pu.wi(a,Q,!0)}if(R==l.GU){gf.Pu.wi(a,a.M[p.QW],p.n.isEnabled);
gf.Pu.wo(a,a.M[p.src],p)}if(R==l.Og){gf.Pu.wo(a,Q,p)}if(R==l.Eq){a.SE=JSON.parse(p.GM)}if(R==l.sO){a.name=p.ue}if(R==l.vC){Q.xJ(p.ue);
if(p.Sqi)Q.add.lnsr=p.Sqi;else delete Q.add.lnsr}if(R==l.vg){for(var N=0;N<p.M.length;N++)a.M[p.M[N]].add.lclr=p.SJE[N]}if(R==l.vN){var U=p.S$w;
for(var N=0;N<p.G$.length;N++){var d=a.M[p.G$[N]],H=U[N];if(!p.Um)d.add.vstk=JSON.parse(JSON.stringify(H));
else m.eE.wq(d,JSON.parse(JSON.stringify(H)));d.Dj(a)}a.U()}if(R==l.EJ){Q.SRR(p.pt);Q.WU(a);a.U()}a.At=!0};
gf.Pu.prototype.gq=function(p,a){var R=p.K,Q=a.M[p.w];a.if=!0;if(R==l.lz){a.add.lnk2.splice(a.add.lnk2.indexOf(p.Sg),1,p.SN);
gf.Pu.SFT(a,p.id,p.Sg.UG[1],p.SN.UG[1])}if(R==l.Ko){var t=JSON.parse(p.G$);for(var N=0;N<t.length;N++)a.M[t[N]].bQ=p.yD;
a.U()}if(R==l.KD){var t=JSON.parse(p.G$);for(var N=0;N<t.length;N++)a.M[t[N]].opacity=p.yD;a.U()}if(R==l.OP){Q.add.lspf=p.yD}if(R==l.Er){var K=p.SIc,T=p.jE;
delete Q.add[K[0]];if(T[0]!="----")Q.add[T[0]]=T[1]}if(R==l.sK){Q.add.iOpa=p.yD;a.U()}if(R==l.ia){for(var N=0;
N<p.G$.length;N++){var d=a.M[p.G$[N]];d.mt(!d.Aw())}a.U()}if(R==l.dn){var y=Q.mg();y.isEnabled=!y.isEnabled;
Q.WU(a);a.U()}if(R==l.lT){var y=Q.iW(a).n;y.isEnabled=!y.isEnabled;Q.U();a.U()}if(R==l.Wz){var y=Q.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(Q.zA){Q.n=Q.zA;Q.zA=null}else Q.n=null}else if(Q.n){Q.zA=Q.n;
Q.n=null}Q.WU(a);a.U()}if(R==l.CX){Q.$L=!Q.$L;a.U()}if(R==l.sC){Q.add.lmfx.masterFXSwitch.v=!Q.add.lmfx.masterFXSwitch.v;
Q.j.Cc=!0;a.U()}if(R==l.sA){Q.add.SoLd.filterFX.v.enab.v=!Q.add.SoLd.filterFX.v.enab.v;Q.Cg(a);a.U()}if(R==l.sg){var E=p.index,k=Q.add.lmfx[gZ.lV[E[0]]].v[E[1]].v;
k.enab.v=!k.enab.v;Q.j.Cc=!0;a.U()}if(R==l.EB){var D=a.M[p.SHf],P=a.M[p.SHt],e=p.SJF,Y=p.SJo;if(e=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(e);if(Y=="")delete P.add.lmfx;else P.add.lmfx=JSON.parse(Y);D.j.Cc=!0;P.j.Cc=!0;
a.U()}if(R==l.sP){var O=Q.add.SoLd.filterFX.v.filterFXList.v[p.index].v;O.enab.v=!O.enab.v;Q.Cg(a);a.U()}if(R==l.SdG){Q.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(p.SzC));
Q.Cg(a);a.U()}if(R==l.sd){var y=Q.mg();y.XI=!y.XI}if(R==l.Gu){var y=Q.add.vmsk;y.XI=!y.XI}if(R==l.Gn){var W=p.YP;
for(var N=0;N<W.length;N+=2){var w=W[N],d=w>=0?a.M[w]:a.pU[-1-w];d.add.vogk=JSON.parse(W[N+1]);S.lm.OX(d.add.vogk,d.add.vmsk);
if(w>=0)d.WU(a)}a.U()}if(R==l.EK){Q.add.artb=JSON.parse(p.Ml);a.U()}if(R==l.Kx){a.S=p.AO;a.Mn=p.YP.slice(0);
a.JO=p.Ec.slice(0);a.$h=a.At=!0}if(R==l.WC){var g=p.SJJ;for(var N=0;N<g.length;N++)a.M[N].dI=g[N]}if(R==l.uL){var J=p.eP,U=0,H;
for(var N=0;N<J.length;N++){var d=J[N],f=d.add.lsct;if(f==Ns.iL)U++;else if(f==Ns.hI||f==Ns.AH)U--;if(d.add.artb&&U!=0)H="Artboards can not be inside folders."}if(H){a.history.pop();
a.oR--;alert(H);return}if(p.KA)a.V=p.KA;if(p.Hb)a.S=p.Hb[1];a.FS=null;a.U();a.ag(p.eP)}if(R==l.ft){if(p.us)gf.Pu.y_(a,Q);
gf.Pu.YF(a,Q,p.n);if(p.Hb){var j=p.Hb[1];if(j==null)delete a.S;else a.S=j}}if(R==l.Go){gf.Pu.y_(a,a.M[p.src]);
gf.Pu.YF(a,a.M[p.QW],p.n)}if(R==l.Wk){gf.Pu.y_(a,Q)}if(R==l.Ei){Q.iW(a).n=p.n;Q.FE=0;Q.U();a.U()}if(R==l.EW){Q.iW(a).n=null;
Q.FE=0;Q.U();a.U()}if(R==l.sj){gf.Pu.SNT(a,p.eW,1)}if(R==l.Kq){gf.Pu.wo(a,Q,p)}if(R==l.GU){gf.Pu.wi(a,a.M[p.src],p.n.isEnabled);
gf.Pu.wo(a,a.M[p.QW],p)}if(R==l.Og){gf.Pu.wi(a,Q,p.n.isEnabled)}if(R==l.Eq){a.SE=JSON.parse(p.xg)}if(R==l.sO){a.name=p.Kb}if(R==l.vC){Q.xJ(p.Kb);
if(p.S$N)Q.add.lnsr=p.S$N;else delete Q.add.lnsr}if(R==l.vg){for(var N=0;N<p.M.length;N++)a.M[p.M[N]].add.lclr=p.SJj[N]}if(R==l.vN){var I=p.u$;
for(var N=0;N<p.G$.length;N++){var d=a.M[p.G$[N]],L=I[N];if(!p.Um)d.add.vstk=JSON.parse(JSON.stringify(L));
else m.eE.wq(d,JSON.parse(JSON.stringify(L)));d.Dj(a)}a.U()}if(R==l.EJ){Q.SRR(p.yD);Q.WU(a);a.U()}a.At=!0};
gf.Pu.Svn=function(p,a){var R=0;for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q].getName();if(t.startsWith(a)){var N=t.slice(a.length).trim(),K=parseInt(N);
if(!isNaN(K)&&K+""==N)R=K}}return R};gf.Pu.SNT=function(p,a,R){for(var Q=0;Q<a.length;Q++){var t=a[Q],N=p.M[t.Hn];
if(t.JA){N.add.SoLd=JSON.parse(t.JA[R])}if(t.F_){if(t.F_[1-R]!=null)p.MU(t.F_[1-R]);if(t.F_[R]!=null)p.Cp(t.F_[R]);
else N.FE=0}N.eU(p)}};gf.Pu.Srp=function(p,a){var R=p.rP,Q=p.rect.clone();if(R!=null&&(R.x!=a.C||R.y!=a.T)){Q.x=Math.floor((a.C-Q.C)/2);
Q.y=Math.floor((a.T-Q.T)/2)}return Q};gf.Pu.y_=function(p,a){if(a.zA)a.zA=null;else a.n=null;a.WU(p);
p.U();a.FE=0};gf.Pu.YF=function(p,a,R){if(a.n)a.zA=R;else a.n=R;a.WU(p);p.U()};gf.Pu.wi=function(p,a,R){if(a.zA&&R){a.n=a.zA;
a.zA=null}else if(a.n&&R){a.n=null}delete a.add.vogk;delete a.add.vstk;delete a.add.vmsk;a.WU(p);a.LK=!1;
p.U()};gf.Pu.wo=function(p,a,R){a.add.vogk=JSON.parse(R.lm);if(R.up)a.add.vstk=JSON.parse(R.up);else delete a.add.vstk;
a.add.vmsk=R.n.clone();if(a.n&&a.add.vmsk.isEnabled)a.zA=a.n;a.WU(p);a.LK=R.uI;p.U()};gf.GQ=function(){gf.wK.call(this,m.hO);
this.rs=null;this.WK=null;this.fK=null;this.pB=[];this.Sp=null};gf.GQ.prototype=new gf.wK;gf.GQ.prototype.Gj=function(p,a,R,Q,t){var N=R.M[p.w],K=p.Yo,d=null;
if(this.rs==null){this.fK=gf.GQ.Kt(R,N);this.rs=JSON.stringify(this.fK);if(N.add.lmfx)this.WK=JSON.stringify(N.add.lmfx)}if(N.add.lmfx==null){N.add.lmfx=JSON.parse(gZ.default);
for(var T=0;T<gZ.order.length;T++)N.add.lmfx[gZ.lV[T]]={t:"VlLs",v:[]}}if(p.K=="changeprop"){if(K!=0){var y=this.pB[K[0]];
if(y==null)y=gZ.pB[K[0]];y=JSON.parse(y);var E=N.add.lmfx[gZ.lV[K[0]]].v;if(E[K[1]]==null)E[K[1]]={t:"Objc",v:y};
d=E[K[1]].v;for(var k in y)if(d[k]==null)d[k]=y[k]}if(p.K=="changeprop"){if(K==0){this.fK[p.Lz].v=p.Z;
gf.GQ.Yi(R,N,this.fK)}else if(p.Lz=="lagl"){if(d.uglg&&d.uglg.v){R.mZ(p.Z.val);this.fK.S$A=R.Co()}else d[p.Lz].v=p.Z}else if(p.Lz=="Lald"){if(d.uglg.v){R.md(p.Z.val);
this.fK.SMT=R.RS()}else d[p.Lz].v=p.Z}else if((K[0]==3||K[0]==8)&&(p.Lz=="Clr"||p.Lz=="Grad")){if(p.Lz=="Clr"){d.Clr={t:"Objc",v:p.Z};
delete d.Grad}if(p.Lz=="Grad"){d.Grad={t:"Objc",v:p.Z};delete d.Clr}}else{d[p.Lz].v=p.Z}if(K!=0)this.pB[K[0]]=JSON.stringify(d)}if(K!=0)if(d.Ptrn)R.yK(gB.QE(d.Ptrn.v,t.Ym))}else if(p.K=="setstl"){var D=p.Z.Lefx;
if(D)gB.SBo(D,R,t.Ym);gB.SpC(p.Z,N);this.fK=gf.GQ.Kt(R,N)}else if(p.K=="st_dupsingle"){var P=N.add.lmfx[gZ.lV[p.Xx[0]]].v;
if(P[p.Xx[1]]==null)return;var e=JSON.parse(JSON.stringify(P[p.Xx[1]]));P.splice(p.Xx[1],0,e)}else if(p.K=="st_movsingle"){var Y=p.Xx[1],P=N.add.lmfx[gZ.lV[p.Xx[0]]].v;
if(P[p.Xx[1]]==null)return;var O=Math.max(0,Math.min(P.length-1,Y+p.SXl)),W=P[O];P[O]=P[Y];P[Y]=W}else if(p.K=="cancel"){if(this.WK==null)delete N.add.lmfx;
else N.add.lmfx=JSON.parse(this.WK);gf.GQ.Yi(R,N,JSON.parse(this.rs));this.rs=null;this.WK=null}else if(p.K=="confirm"){var w=new gm([11,6],this);
w.data={M:[p.w],uX:[this.WK],uF:[JSON.stringify(N.add.lmfx)],uh:[this.rs],ux:[JSON.stringify(this.fK)]};
R.sv(w);this.rs=null;this.WK=null}else if(p.K=="st_copy"){this.Sp=[this.rs,this.WK];this.rs=null;this.WK=null}else if(p.K=="st_paste"||p.K=="st_clear"){if(p.K=="st_paste"&&this.Sp==null)return;
var g=R.V.indexOf(p.w)==-1?[p.w]:R.V.slice(0),J=[],U=[],H=[],f=[];for(var T=0;T<g.length;T++){var N=R.M[g[T]],j=gf.GQ.Kt(R,N);
J.push(N.add.lmfx?JSON.stringify(N.add.lmfx):null);H.push(JSON.stringify(j));if(p.K=="st_paste"){U.push(this.Sp[1]);
f.push(this.Sp[0])}else{U.push(null);j.lrMd.v=0;j.Opct.v.val=100;j.iOpa.v.val=100;j.blIf={v:[]};for(var I=0;
I<10;I++)j.blIf.v.push(0,0,255,255);f.push(JSON.stringify(j))}}var w=new gm([11,6],this);w.data={M:g,uX:J,uF:U,uh:H,ux:f};
this.gq(w.data,R);R.sv(w);this.rs=null;this.WK=null}else{var L=this.fK,C=null;if(p.K=="st_delsingle"){C=JSON.parse(this.WK);
C[gZ.lV[p.Xx[0]]].v.splice(p.Xx[1],1);C=JSON.stringify(C)}if(C==null)delete N.add.lmfx;else N.add.lmfx=JSON.parse(C);
if(L!=null)gf.GQ.Yi(R,N,L);var w=new gm([11,6],this);w.data={M:[p.w],uX:[this.WK],uF:[C],uh:[this.rs],ux:[JSON.stringify(L)]};
R.sv(w);this.rs=null;this.WK=null}N.j.Cc=!0;R.if=!0;R.U()};gf.GQ.Kt=function(p,a){if(a.add.iOpa==null)a.add.iOpa=255;
var R=a.sc()?["pass"].concat(gE.TV):gE.TV;return{lrMd:{v:R.indexOf(a.bQ)},Opct:{v:{type:"#Prc",val:Math.round(a.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(a.add.iOpa*100/255)},t:"UntF"},blIf:{v:a.SP.slice(0)},S$A:p.Co(),SMT:p.RS(),sc:a.sc()}};
gf.GQ.Yi=function(p,a,R){var Q=a.sc()?["pass"].concat(gE.TV):gE.TV;a.bQ=Q[R.lrMd.v];a.opacity=Math.round(R.Opct.v.val*255/100);
a.add.iOpa=Math.round(R.iOpa.v.val*255/100);a.SP=R.blIf.v.slice(0);p.mZ(R.S$A);p.md(R.SMT)};gf.GQ.prototype.tk=function(p,a){for(var R=0;
R<p.M.length;R++){var Q=a.M[p.M[R]],t=p.uX[R];if(t==null)delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(t);
gf.GQ.Yi(a,Q,JSON.parse(p.uh[R]));Q.j.Cc=!0}a.if=!0;a.U()};gf.GQ.prototype.gq=function(p,a){for(var R=0;
R<p.M.length;R++){var Q=a.M[p.M[R]],t=p.uF[R];if(t==null)delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(t);
gf.GQ.Yi(a,Q,JSON.parse(p.ux[R]));Q.j.Cc=!0}a.if=!0;a.U()};gf.$Y=function(){gf.wK.call(this,m.aW)};gf.$Y.prototype=new gf.wK;
gf.$Y.prototype.Gj=function(p,a,R,Q){var t=JSON.parse(JSON.stringify(R.FA)),N=JSON.parse(JSON.stringify(R.FA)),K=null,T=null,d=null,y=-1,E=!1;
if(p.K=="delLC"){var k=gf.$Y.Ad(R.FA,p.Yo),D=R.FA.lastAppliedComp?R.FA.lastAppliedComp.v:0;N.list.v.splice(k,1);
if(D==p.Yo)delete N.lastAppliedComp;K="Delete Layer Comp"}if(p.K=="editLC"){var k=gf.$Y.Ad(R.FA,p.Yo),P=N.list.v[k].v;
if(p.Kb!=null)P.Nm.v=p.Kb;if(p.SXB!=null){var e=p.SXB,Y=P.capturedInfo.v,O=Y&(1<<e)-1;Y=Y>>e;if((Y&1)==1)Y--;
else Y++;P.capturedInfo.v=(Y<<e)+O}K="Layer Comp properties"}if(p.K=="setLC"){gf.$Y.wG(R);if(p.Yo==0)delete N.lastAppliedComp;
else N.lastAppliedComp={t:"long",v:p.Yo};K="Switch Layer Comp";E=!0}if(p.K=="updLC"){gf.$Y.wG(R);T=gf.$Y.SYn(R,p.Yo);
d=gf.$Y.qI(R,p.Yo);N.lastAppliedComp={t:"long",v:p.Yo};K="Update Layer Comp";y=p.Yo;E=!0}if(p.K=="addLC"){gf.$Y.wG(R);
var W=1;for(var w=0;w<N.list.v.length;w++)W=Math.max(W,N.list.v[w].v.compID.v)+1;W+=Math.floor(Math.random()*1e4);
var g={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(N.list.v.length+1)},compID:{t:"long",v:W},capturedInfo:{t:"long",v:7}}};
N.list.v.push(g);N.lastAppliedComp={t:"long",v:W};K="New Layer Comp";var J=gf.$Y.qI(R,W);gf.$Y.Af(R,J,W)}var U=new gm(K,this);
U.data={Std:t,SZS:N,SX$:T,SXJ:d,Yo:y,XN:E};this.gq(U.data,R);R.sv(U)};gf.$Y.prototype.gq=function(p,a){a.FA=p.SZS;
a.if=!0;if(p.SXJ)gf.$Y.Af(a,p.SXJ,p.Yo);if(p.XN){var R=a.FA.lastAppliedComp?a.FA.lastAppliedComp.v:0,Q=gf.$Y.Ad(a.FA,R),t=Q==-1?null:a.FA.list.v[Q].v,N=t?t.capturedInfo.v:7;
gf.$Y.Ag(a,R,N);a.U()}};gf.$Y.prototype.tk=function(p,a){a.FA=p.Std;a.if=!0;if(p.SX$)gf.$Y.Af(a,p.SX$,p.Yo);
if(p.XN){var R=a.FA.lastAppliedComp?a.FA.lastAppliedComp.v:0,Q=gf.$Y.Ad(a.FA,R),t=Q==-1?null:a.FA.list.v[Q].v,N=t?t.capturedInfo.v:7;
gf.$Y.Ag(a,R,N);a.U()}};gf.$Y.wG=function(p){if(p.FA.lastAppliedComp!=null||!p.ui)return;var a=gf.$Y.qI(p,0);
gf.$Y.Af(p,a,0);p.ui=!1};gf.$Y.wn=function(p,a,R){p.v.Hrzn.v+=a;p.v.Vrtc.v+=R};gf.$Y.Ad=function(p,a){var R=p.list.v;
for(var Q=0;Q<R.length;Q++)if(R[Q].v.compID.v==a)return Q;return-1};gf.$Y.SYb=function(p){var a=p.layerSettings.v,t=null;
if(a.length==0)return;var R="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),Q=a[0].v;
if(Q.enab==null)Q.enab={t:"bool",v:!0};if(Q.Ofst==null)Q.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var N=0;N<a.length;N++){var K=a[N].v;if(t==null)t=JSON.parse(JSON.stringify(K));else for(var T=0;
T<R.length;T++){var d=R[T];if(K[d])t[d]=JSON.parse(JSON.stringify(K[d]))}a[N].v=JSON.parse(JSON.stringify(t))}};
gf.$Y.Slq=function(p,a){var R=p.add.shmd.cmls,Q=R.layerSettings.v;for(var t=0;t<Q.length;t++){var N=Q[t].v,K=N.compList.v[0].v;
if(K==a)return t}return-1};gf.$Y.Sst=function(p,a){var R=gf.$Y.Slq(p,a);return R==-1?null:p.add.shmd.cmls.layerSettings.v[R].v};
gf.$Y.Ag=function(p,a,R){for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q],N=t.add.shmd.cmls;if(N==null)continue;
var K=N.layerSettings.v,T=gf.$Y.Sst(t,a);if(T==null){t.mt(!1);continue}if((R&1)!=0){if(T.enab)t.mt(T.enab.v);
else t.mt(!0)}if((R&2)!=0){if(T.Ofst){var d=T.Ofst.v,y=t.iY(p),E=Math.round(d.Hrzn.v-y.x),k=Math.round(d.Vrtc.v-y.y);
if(E!=0||k!=0)m.OS.Lg(p,[Q],null,E,k)}}if((R&4)!=0){if(T.Lefx){var D=JSON.parse(JSON.stringify(T.Lefx.v));
pC.Ju(D);if(JSON.stringify(D)!=JSON.stringify(t.add.lmfx)){t.add.lmfx=D;t.j.Cc=!0}}else delete t.add.lmfx;
if(T.blendOptions){var P=T.blendOptions.v;if(P.Opct)t.opacity=Math.round(255*P.Opct.v.val/100);if(P.Md)t.bQ=t.add.lsct==Ns.iL?"norm":gE.Me(P.Md.v.BlnM)}else{t.opacity=255;
t.bQ=t.sc()?"pass":"norm"}}}};gf.$Y.SYn=function(p,a){var R={};for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q];
if(t.add.shmd==null||t.add.shmd.cmls==null)continue;R["l"+t.add.lyid]=JSON.parse(JSON.stringify(gf.$Y.Sst(t,a)))}return R};
gf.$Y.qI=function(p,a){var R={};for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q],N=t.add.lyid;R["l"+N]=gf.$Y.SLL(p,t,a)}return R};
gf.$Y.SLL=function(p,a,R){var Q=a.add.shmd?a.add.shmd.cmls:null,t={classID:"null"},N=a.iY(p),K={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:N.x},Vrtc:{t:"long",v:N.y}}};
t.compList={t:"VlLs",v:[{t:"long",v:R}]};t.enab={t:"bool",v:a.Aw()};t.Ofst=JSON.parse(JSON.stringify(K));
t.FXRefPoint=JSON.parse(JSON.stringify(Q&&Q.origFXRefPoint?Q.origFXRefPoint:K));t.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:gE.UX(a.bQ)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*a.opacity/255}}}};
if(a.add.vmsk){t.vectorMask={t:"Objc",v:{classID:"null"}};t.vectorMask.v.Ofst=JSON.parse(JSON.stringify(K))}if(a.add.lmfx){t.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(a.add.lmfx))};
pC.eC(t.Lefx.v)}return t};gf.$Y.SrC=function(p,a){var R=a.add.lyid;if(a.add.shmd==null)a.add.shmd={};
if(a.add.shmd.cmls==null){a.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:R},layerSettings:{t:"VlLs",v:[{t:"Objc",v:gf.$Y.SLL(p,a,0)}]}}}};
gf.$Y.Af=function(p,a,R){for(var Q=0;Q<p.M.length;Q++){var t=p.M[Q],N=t.add.lyid;gf.$Y.SrC(p,t);var K=t.add.shmd.cmls,T=K.layerSettings.v,d=a["l"+N];
if(d!=null)d={t:"Objc",v:JSON.parse(JSON.stringify(d))};var y=gf.$Y.Slq(t,R);if(y==-1){if(d==null)continue;
else T.push(d)}else{if(d==null)T.splice(y,1);else T[y]=d}}};gf.$Y.qM=function(p,a){for(var R=0;R<p.M.length;
R++){var Q=p.M[R],t=Q.add.lyid;if(Q.add.shmd==null||Q.add.shmd.cmls==null)continue;var N=Q.iY(p),K=Math.round(N.x),T=Math.round(N.y);
if(!a){K=-K;T=-T}var d=Q.add.shmd.cmls,y=d.layerSettings.v;if(d.origFXRefPoint)gf.$Y.wn(d.origFXRefPoint,-K,-T);
for(var E=0;E<y.length;E++){var k=y[E].v;gf.$Y.wn(k.Ofst,K,T);var D=k.imageMask,P=k.vectorMask;if(D&&D.v.Ofst)gf.$Y.wn(D.v.Ofst,K,T);
if(P&&P.v.Ofst)gf.$Y.wn(P.v.Ofst,K,T)}}};gf.GI=function(){gf.wK.call(this,m.Sb);this.xg=null;this.tS=null};
gf.GI.prototype=new gf.wK;gf.GI.Ao=function(p,a,R,Q){if(Q)a/=4;var t=0,N=0,K=255,T=0,d=0,y=255;while(N+p[t]<a){N+=p[t];
t++}while(T+p[K]<a){T+=p[K];K--}if(Q){t-=Math.round(p[t]/(R/32));K+=Math.round(p[K]/(R/32));if(t<0)d=Math.round(-t*255/(K-t));
if(K>255)y=255-Math.round((K-255)*255/(K-t))}return[Math.max(t,0),Math.min(K,255),d,y,100]};gf.GI.prototype.Gj=function(p,a,R,Q,t){var N=p.K;
if(N=="auto"){var K=p.uU,T=gf.GI.getData(R);for(var d=0;d<T.length;d++){var y=T[d],E;if(K<3){}else{var k=gw.gD("hue2");
Sj.Gq(k,0,[0,-100,0]);E=gA.Sm("hue2",k)}gA.pW(E,y.UJ,y.f$,y.I)}gf.GI.qo(R,T);gf.GI.qF(R,T,K<3?[4,16,K]:[19,7,0],this);
R.U()}if(N=="edit_layer")this.Srl(p,a,R,Q);if(N=="edit"||N=="confirm"||N=="cancel")this.qX(p,a,R,t,!0);
if(N=="start"){if(R.V.length==0)return;var D=R.M[R.V[0]];if(D.add.SoLd&&D.FE<=0){var P=new $(V.E.W,!0);
P.Q=m.tQ;P.data={K:"start",CY:p.sD};a.Y(P);return}if(!R.Ej(a,null,!0))return;if(c[p.sD]&&p.Lr==null){if(R.V.length!=1)alert("Will be applied to "+R.V.length+" layers.");
var P=new $(V.E.v,!0);P.data={K:V.H.XS,ax:"afw_"+p.sD};a.Y(P)}else{this.qX({K:"edit",Lr:p.Lr,CY:p.sD},a,R,t);
this.qX({K:"confirm",CY:p.sD},a,R,t)}}};gf.GI.prototype.Srl=function(p,a,R,Q){var t=p.K,N=R.V[0],K=R.M[N],T=R.history[R.oR],d;
if(T&&T.Q==this&&T.data.pt!=null&&T.data.w==N)d=T;else{var y=new $(V.E.JF,!0),E={classID:"setd",null:Nr.Fx("AdjL",!0),T:{t:"Objc",v:p.Z}};
y.data={Bn:!0,zt:"set",UD:E};a.Y(y);var d=new gm([6,39],this),k=gA.get(K.add);d.data={w:N,pt:K.add[k],yD:p.Z,ur:E};
R.sv(d)}d.data.yD=p.Z;d.data.ur.T.v=p.Z;this.gq(d.data,R)};gf.GI.getData=function(p,a,R){var Q=[],t=new x(0,0,p.C,p.T),N=p.JO.length!=0?[-1-p.JO[0]]:p.V;
for(var K=0;K<N.length;K++){var T=N[K],d=T<0?null:p.M[T],y={w:T,tF:T<0?1:d.FE};Q.push(y);var E=p.Mn[-1-T];
if(0<=T)E=d.FE<=0?null:d.FE==1?d.mg():d.iW(p).n;var k=E?E.rect:d.rect;if(p.S)y.I=E!=null?p.S.rect.Yl(t):p.S.rect.Yl(k);
else y.I=a||E!=null?k.hT(t):k.clone();if(R)y.I=R[K].I.clone();var D=y.I.u();y.UJ=S.p(D*4);if(E)m.WH.nO(E.channel,E.rect,E.color,y.UJ,y.I);
else S.gW(d.buffer,k,y.UJ,y.I);y.f$=y.UJ.slice(0);if(p.S){y.EQ=S.p(D);S.JG(p.S.channel,p.S.rect,y.EQ,y.I)}}return Q};
gf.GI.SrR=function(p,a,R){if(a==null)return a;var Q=gA.$R(p,a),N;if(Q==-1)return a;var t=R.length>>>2,K=S.MW(R),T=.001*t;
if(Q==0||Q==2)N=[[0,255,0,255,100],gf.GI.Ao(K[1],T,t,Q==2),gf.GI.Ao(K[2],T,t,Q==2),gf.GI.Ao(K[3],T,t,Q==2)];
if(Q==1)N=[gf.GI.Ao(K[0],T*.33,t,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var d=gw.gD("levl");
for(var y=0;y<4;y++)dO.Gq(d,y,N[y]);return d};gf.GI.prototype.qX=function(p,a,R,Q){if(this.xg==null)this.xg=gf.GI.getData(R,null,p.CY=="fade"?R.Lx().data:null);
if(p.K=="edit"){this.tS=[p.CY,p.Lr];var t=this.xg[0],N=gf.GI.SrR(p.CY,p.Lr,t.UJ),K=gA.Sm(p.CY,N);if(p.CY=="fade")K=p.Lr;
if(K!=null){for(var T=0;T<this.xg.length;T++){var d=this.xg[T];if(p.uS)S.$M(d.UJ,d.f$);else if(p.CY=="fade"){var y=gE.Me(p.Lr.Md.v.BlnM),E=p.Lr.Opct.v.val/100,k=R.Lx().data[T];
S.$M(k.UJ,d.f$);if(y=="norm")S.O.sH(d.UJ,d.I,d.f$,d.I,null,null,null,d.I,E);else{var D=gB.vr();D.Wl=!0;
for(var T=0;T<k.UJ.length;T+=4)if(k.UJ[T+3]!=d.UJ[T+3]){D=null;break}S.O.KJ(y,d.UJ,d.I,d.f$,d.I,d.I,E,D)}}else gA.pW(K,d.UJ,d.f$,d.I)}gf.GI.qo(R,this.xg)}}if(p.K=="cancel"){gf.GI.SSO(R,this.xg);
this.xg=null}if(p.K=="confirm"){var P=p.CY=="fade"?[2,11]:gA.names[p.CY],e=gA.$R(p.CY,this.tS[1]);if(e!=-1)P=[4,16,e];
gf.GI.qF(R,this.xg,P,this);this.xg=null;if(e==-1)gf.GI.SxP(a,this.tS)}R.U()};gf.GI.SxP=function(p,a){var R=a[0],Q=a[1],t,N;
if(gA.eM[R]){t=gA.eM[R];if(c[R])N=Q}if(gw.eM[R]){t=gw.eM[R];if(c[R])N=Q}if(t==null)return;var K=new $(V.E.JF,!0);
K.data={Bn:!0,zt:t};if(N){N=JSON.parse(JSON.stringify(N));N.classID="null";delete N.__name;K.data.UD=N}p.Y(K)};
gf.GI.SSO=function(p,a){gf.GI.oK(p,a)};gf.GI.qF=function(p,a,R,Q){for(var t=0;t<a.length;t++){var N=a[t],K=p.M[N.w],T=N.w<0?p.Mn[-1-N.w]:N.tF<=0?null:N.tF==1?K.mg():K.iW(p).n;
if(T){T.dT();T.Ol=!0;if(K)K.WU(p)}else{K.dT();K.U()}delete N.f$;delete N.EQ}var d=new gm(R,Q);d.data=a;
p.sv(d);p.if=!0};gf.GI.qo=function(p,a,R){for(var Q=0;Q<a.length;Q++){var t=a[Q],N=p.M[t.w],K=R?t.UJ:t.f$,T=t.I;
if(t.tF==0){N.extend(T);if(t.EQ){S.gW(t.UJ,T,N.buffer,N.rect);S.O.sH(K,T,N.buffer,N.rect,t.EQ,T,0,T,1)}else S.gW(K,T,N.buffer,N.rect)}else{var d=t.w<0?p.Mn[-1-t.w]:t.tF==1?N.mg():N.iW(p).n;
d.extend(T);if(t.EQ){var y=S.p(T.u()*4);S.$M(t.UJ,y);S.O.sH(K,T,y,T,t.EQ,T,0,T,1);m.WH.Qp(y,T,d)}else m.WH.Qp(K,T,d);
d.Ol=!0;if(N)N.WU(p)}if(N)N.U()}if(!R)gf.GI.SC_(p,a)};gf.GI.oK=function(p,a){for(var R=0;R<a.length;
R++){var Q=a[R],t=p.M[Q.w],N=Q.I,K=S.p(N.u()*4);if(Q.tF==0){S.gW(t.buffer,t.rect,K,N);t.extend(N);S.gW(Q.UJ,N,t.buffer,t.rect);
t.dT()}else{var T=Q.w<0?p.Mn[-1-Q.w]:Q.tF==1?t.mg():t.iW(p).n;m.WH.nO(T.channel,T.rect,T.color,K,N);
T.extend(N);m.WH.Qp(Q.UJ,N,T);T.dT();T.Ol=!0;if(t)t.WU(p)}Q.UJ=K;if(t)t.U()}p.if=!0};gf.GI.SC_=function(p,a){var R=gf.GI.SNp(p),Q=~R;
if(R==16777215)return;for(var t=0;t<a.length;t++){var N=a[t],K=p.M[N.w],T=N.I;if(N.tF!=0)continue;K.extend(T);
var d=T.x-K.rect.x,y=T.y-K.rect.y,E=K.rect.C,k=new Uint32Array(N.UJ.buffer),D=new Uint32Array(K.buffer.buffer);
for(var P=0;P<T.T;P++)for(var e=0;e<T.C;e++){var Y=P*T.C+e,O=(P+y)*E+(e+d);D[O]=D[O]&R|k[Y]&Q}K.dT();
K.U()}p.U()};gf.GI.SNp=function(p){var a=p.z.mC;return a[2]*16711680|a[1]*65280|a[0]*255};gf.GI.prototype.tk=function(p,a){var R=a.M[p.w];
if(p.pt!=null)R.add[gA.get(R.add)]=p.pt;else gf.GI.oK(a,p);a.U()};gf.GI.prototype.gq=function(p,a){var R=a.M[p.w];
if(p.pt!=null)R.add[gA.get(R.add)]=p.yD;else gf.GI.oK(a,p);a.U()};gf.eI=function(){gf.wK.call(this,m.tQ);
this.xg=null;this.SL=null;this.K=null;this.tS=null};gf.eI.prototype=new gf.wK;gf.eI.prototype.Gj=function(p,a,R,Q,t){if(p.K=="start"){if(R.V.length==0)return;
var N=R.M[R.V[0]];if(N.add.SoLd&&N.FE<=0){}else if(!R.Ej(a,null,!0))return;var K=p.CY;if((c[K]||gw.Wh[K])&&p.Lr==null){if(R.V.length!=1)alert("Will be applied to "+R.V.length+" layers.");
var T=new $(V.E.v,!0);T.data=gf.eI.SpR(K,this.qQ(R,K));a.Y(T)}else{var d={K:"edit",CY:K,Lr:p.Lr,zW:this.qQ(R)};
this.Gj(d,a,R,Q,t);d.K="confirm";delete d.Lr;this.Gj(d,a,R,Q,t)}}if(p.K=="edit"||p.K=="cancel"||p.K=="confirm"){if(p.K=="edit")this.tS=[p.CY,p.Lr];
if(p.zW)this.SrI(p,R,t);else this.SrX(p,a,R,t)}if(p.K=="applylast"&&this.tS!=null){var d={K:"edit",CY:this.tS[0],Lr:this.tS[1],zW:this.qQ(R)};
this.Gj(d,a,R,Q,t);d.K="confirm";delete d.Lr;this.Gj(d,a,R,Q,t)}};gf.eI.SpR=function(p,a){var R=gw.Wh[p];
if(R)return{K:V.H.La,Q:R,vL:{zW:a}};else return{K:V.H.XS,ax:"afw_"+p,zW:a}};gf.eI.prototype.qQ=function(p,a){var R=p.M[p.V[0]],Q;
if(R.add.SoLd&&R.FE<=0){Q={w:p.V[0],index:0};if(R.add.SoLd.filterFX!=null){var t=R.add.SoLd.filterFX.v.filterFXList.v;
Q.index=t.length;for(var N=0;N<t.length;N++)if(A.tR(t[N].v.filterID.v)==a&&gw.Wh[a])Q.index=N}}return Q};
gf.eI.prototype.SrI=function(p,a,R){var Q=a.M[p.zW.w],t=p.CY;if(p.K=="edit"){if(this.K==null){var N=gw.names[t];
if(N==null)N=gA.names[t];this.K=new gm(N,this);this.K.data={zW:p.zW,SZp:JSON.parse(JSON.stringify(Q.add.SoLd))}}if(!Q.kF()){Q.add.SoLd.filterFX=gw.Dk();
this.K.data.F_=SF.SRs(Q.add.SoLd.placed.v);a.Cp(this.K.data.F_);Q.eU(a)}var K=Q.add.SoLd.filterFX.v.filterFXList.v;
if(K[p.zW.index]==null){K.push(gw.UH(t,R))}if(p.Lr){K[p.zW.index].v.enab.v=p.uS!=!0;K[p.zW.index].v.Fltr.v=p.Lr}this.K.data.SZY=JSON.parse(JSON.stringify(Q.add.SoLd));
this.gq(this.K.data,a)}if(p.K=="cancel"){if(this.K)this.tk(this.K.data,a);this.K=null}if(p.K=="confirm"){if(this.K)a.sv(this.K);
this.K=null}};gf.eI.prototype.oe=function(p){return{D:p>>>16,X:p>>>8&255,N:p&255}};gf.eI.prototype.SrX=function(p,a,R,Q){if(this.xg==null){var t=gw.SHm(p.CY,p.Lr);
this.xg=gf.GI.getData(R,t.x!=0||t.y!=0)}if(p.K=="edit"){var N=JSON.stringify(p.Lr);if((p.Lr==null||N!=this.SL)&&p.uS!=!0)for(var K=0;
K<this.xg.length;K++){var T=this.xg[K],d={rect:T.I,buffer:T.UJ},y={rect:T.I,buffer:T.f$};gw.pW(p.CY,d,p.Lr,this.oe(Q.rc),this.oe(Q.eJ),y,[R.add.lnk2?R.add.lnk2:[],R.M[R.V[0]].mg(),R.Mn]);
this.SL=N}gf.GI.qo(R,this.xg,p.uS)}if(p.K=="cancel"){gf.GI.SSO(R,this.xg);this.xg=null;this.SL=null}if(p.K=="confirm"){gf.GI.qF(R,this.xg,gw.names[p.CY],this);
this.xg=null;this.SL=null;gf.GI.SxP(a,this.tS)}R.U();R.if=!0};gf.eI.prototype.tk=function(p,a){if(p.zW){var R=a.M[p.zW.w];
if(p.F_)a.MU(p.F_);R.add.SoLd=JSON.parse(JSON.stringify(p.SZp));if(R.kF())R.Cg(a);else{R.eU(a);R.FE=0}}else gf.GI.oK(a,p);
a.U();a.if=!0};gf.eI.prototype.gq=function(p,a){if(p.zW){var R=a.M[p.zW.w];if(p.F_)a.Cp(p.F_);R.add.SoLd=JSON.parse(JSON.stringify(p.SZY));
if(R.kF())R.Cg(a);else R.eU(a);if(!R.lC())R.KN+=32}else gf.GI.oK(a,p);a.U();a.if=!0};var gp={EP:"0",JH:"1",oq:"2",YU:"3",xC:"4",Se:"5",Sq:"6",oO:"7",W:"8",m$:"8.5",Sx:"8.8",ot:"9",Sy:"10",YQ:"11",ow:"12",Yn:"13",Ka:"14",Yj:"15",zc:"21",AJ:"22",SO:"23",rZ:"23.0",rS:"23.1",AT:"23.2",oA:"23.3",$K:"23.4",AG:"23.5",Au:"23.6",SsN:"30",rK:"31",AV:"40",rI:"41",ry:"42"};
gp.Qs={};gp.Qs[gp.JH]=["abr","brushes",dR,[9,3]];gp.Qs[gp.oq]=["grd","gradients",pT,[12,37]];gp.Qs[gp.YU]=["shc","contours",lY,[12,21]];
gp.Qs[gp.xC]=["asl","styles",rR,[12,22]];gp.Qs[gp.Se]=["pat","patterns",St,[12,62]];gp.Qs[gp.Sq]=["csh","shapes",Ck,[12,77]];
gp.Qs[gp.oO]=["aco","swatches",YB,[9,8]];gp.Qs[gp.W]=["atn","actions",dT,[9,9]];gp.Qs[gp.m$]=["tpl","tpresets",rE,[9,12]];
gp.Qs[gp.Sx]=["icc","profiles",dg,"ICCs"];function n(){this.rY={};this.SB=0}n.prototype.reset=function(){this.rY={};
this.SB=0};n.prototype.SlL=function(p){this.SB++;this.rY[p]=!0};n.prototype.SlB=function(p){this.SB--;
delete this.rY[p];if(this.SB<=0||n.Lk(p,n.SIU))this.reset()};n.prototype.g=function(p){for(var a=0;a<p.Ky.length;
a++)if(this.rY[p.Ky[a]])return!0;return!1};n.prototype.xi=function(){var p=this,a=p.g(n.ei)?10:1,R=0,Q=0;
if(p.g(n.Shf))R=-a;if(p.g(n.SlS))R=a;if(p.g(n.lZ))Q=-a;if(p.g(n.ld))Q=a;return new X(R,Q)};n.prototype.$C=function(){var p=this,a=n.Dx;
for(var R=0;R<10;R++)if(p.g(a[R]))return R;return-1};n.Lk=function(p,a){return a.Ky.indexOf(p)!=-1};
n.SHI=function(p){var a=p.code,t=!1;if(a=="")return!1;var R=n.Lk,Q=n.Dx.concat([n.lK,n.DY,n.Dz,n.$g]);
for(var N=0;N<Q.length;N++)if(R(a,Q[N]))t=!0;if(p.altKey&&!p.shiftKey&&!p.ctrlKey&&t)return!1;return n.SdR.indexOf(a)==-1||p.shiftKey&&(a=="F5"||a=="F6")};
n.SWM=function(p){var a=p.code;return a!=""&&(n.SdR.indexOf(a)==-1||p.shiftKey&&(a=="F5"||a=="F6"))};
n.Slk=function(p){if(p==null)return"";var a=[];for(var R=0;R<p.length;R++)a.push(p[R].Nv);return a.join(" + ")};
n.SdR="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
n.SgF=function(p){var a={"+":"NumpadAdd","-":"NumpadSubtract"},R=p.code,Q=p.key.toLowerCase(),t=Q.charCodeAt(0);
if(Q.length==1){if(97<=t&&t<=122&&R.startsWith("Key")&&R.toLowerCase().charCodeAt(3)!=t){var N="Key"+Q.toUpperCase();
R=N}else if(a[Q])R=a[Q]}return R};n.eL={Nv:"Enter",Ky:["Enter","NumpadEnter"]};n.ei={Nv:"Shift",Ky:["ShiftLeft","ShiftRight"]};
n.SIU={Nv:"Meta",Ky:["MetaLeft","MetaRight","OSLeft","OSRight"]};n.GA={Nv:"Ctrl",Ky:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
n.LG={Nv:"Alt",Ky:["AltLeft","AltRight"]};n.Slj={Nv:"CtrlOrAlt",Ky:n.GA.Ky.concat(n.LG.Ky)};n.tu={Nv:"Escape",Ky:["Escape"]};
n.xk={Nv:"Space",Ky:["Space"]};n.Dd={Nv:"Tab",Ky:["Tab"]};n.Sss={Nv:"Home",Ky:["Home"]};n.Ssf={Nv:"End",Ky:["End"]};
n.Shf={Nv:"Left",Ky:["ArrowLeft"]};n.lZ={Nv:"Up",Ky:["ArrowUp"]};n.SlS={Nv:"Right",Ky:["ArrowRight"]};
n.ld={Nv:"Down",Ky:["ArrowDown"]};n.lK={Nv:"+",Ky:["NumpadAdd","Equal"]};n.DY={Nv:"-",Ky:["NumpadSubtract","Minus","Slash"]};
n.SsG={Nv:";",Ky:["Semicolon"]};n.SOs={Nv:"Dead",Ky:["Dead"]};n.SRZ={Nv:"=",Ky:["Equal"]};n.gZ={Nv:"Backspace",Ky:["Backspace"]};
n.gU={Nv:"Delete",Ky:["Delete"]};n.SRg={Nv:"Backslash",Ky:["Backslash","IntlBackslash"]};n.SRI={Nv:"Backquote",Ky:["Backquote"]};
n.Dz={Nv:"[",Ky:["BracketLeft"]};n.$g={Nv:"]",Ky:["BracketRight"]};n.SRe={Nv:".",Ky:["Period"]};n.SRM={Nv:",",Ky:["Comma"]};
n.SRt={Nv:"'",Ky:["Quote"]};n.H={Nv:"A",Ky:["KeyA"]};n.SBP={Nv:"B",Ky:["KeyB"]};n.oe={Nv:"C",Ky:["KeyC"]};
n.XP={Nv:"D",Ky:["KeyD"]};n.E={Nv:"E",Ky:["KeyE"]};n.PG={Nv:"F",Ky:["KeyF"]};n.SqG={Nv:"G",Ky:["KeyG"]};
n.SqE={Nv:"H",Ky:["KeyH"]};n.$r={Nv:"I",Ky:["KeyI"]};n.SFa={Nv:"J",Ky:["KeyJ"]};n.xM={Nv:"K",Ky:["KeyK"]};
n.Oe={Nv:"L",Ky:["KeyL"]};n.iS={Nv:"M",Ky:["KeyM"]};n.Tg={Nv:"N",Ky:["KeyN"]};n.Sdc={Nv:"O",Ky:["KeyO"]};
n.Us={Nv:"P",Ky:["KeyP"]};n.SRG={Nv:"Q",Ky:["KeyQ"]};n.Ny={Nv:"R",Ky:["KeyR"]};n.SNP={Nv:"S",Ky:["KeyS"]};
n.j={Nv:"T",Ky:["KeyT"]};n.z_={Nv:"U",Ky:["KeyU"]};n.SsR={Nv:"V",Ky:["KeyV"]};n.Ssh={Nv:"W",Ky:["KeyW"]};
n.DL={Nv:"X",Ky:["KeyX"]};n.SRm={Nv:"Y",Ky:["KeyY"]};n.DB={Nv:"Z",Ky:["KeyZ"]};n.SSf={Nv:"0",Ky:["Numpad0","Digit0"]};
n.SCw={Nv:"1",Ky:["Numpad1","Digit1"]};n.SIr={Nv:"2",Ky:["Numpad2","Digit2"]};n.SIE={Nv:"3",Ky:["Numpad3","Digit3"]};
n.SIm={Nv:"4",Ky:["Numpad4","Digit4"]};n.SIj={Nv:"5",Ky:["Numpad5","Digit5"]};n.SeZ={Nv:"6",Ky:["Numpad6","Digit6"]};
n.SeK={Nv:"7",Ky:["Numpad7","Digit7"]};n.SeN={Nv:"8",Ky:["Numpad8","Digit8"]};n.SeH={Nv:"9",Ky:["Numpad9","Digit9"]};
n.Dx=[n.SSf,n.SCw,n.SIr,n.SIE,n.SIm,n.SIj,n.SeZ,n.SeK,n.SeN,n.SeH];n.SOe={Nv:"F1",Ky:["F1"]};n.SOH={Nv:"F2",Ky:["F2"]};
n.SOf={Nv:"F3",Ky:["F3"]};n.SOi={Nv:"FF",Ky:["F4"]};n.Sez={Nv:"F5",Ky:["F5"]};n.Se$={Nv:"F6",Ky:["F6"]};
n.SOt={Nv:"F7",Ky:["F7"]};n.SOw={Nv:"F8",Ky:["F8"]};n.SOG={Nv:"F9",Ky:["F9"]};n.SOm={Nv:"F10",Ky:["F10"]};
n.SOu={Nv:"F11",Ky:["F11"]};n.SOV={Nv:"F12",Ky:["F12"]};function gm(p,a,R){if(R==null)R=!1;this.name=p;
this.Q=a;this.uW=R;this.data=null}var Nr={};Nr.Fx=function(p,a){var R={t:"Clss",v:{classID:p}};if(a)R={t:"Enmr",v:{classID:p,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[R]}};Nr.$l=function(p,a){var R={classID:"Lyr"};R[p]=a;return{zt:"set",UD:{classID:"null",null:Nr.Fx("Lyr",!0),T:{t:"Objc",v:R}}}};
Nr.SeF=function(p,a,R,Q,t){var N=new $(V.E.JF,!0),K=[],T=0,d=Nr.SNa(a,R,Q,K);while(K.length!=0){var y=K.pop();
T++;if(!y.J)continue;if(y.zt=="conditional"){var E=p.M[p.V[0]],k=y.UD.null.v.Cndt,D=!1;if(k=="Bckg")D=!1;
else if(k=="Pxel"&&p.Fp(!1))D=!0;else if(k=="Adjs"&&gA.get(E.add))D=!0;else if(k=="Shp"&&E.add.vogk)D=!0;
else if(k=="Grup"&&E.sc())D=!0;var P=y.UD.then.v;if(D)Nr.SNa(a,P[0].v.val,P[1].v.val,K)}else if(y.zt=="stop"){alert(y.UD.Msge.v);
break}else{N.data={zt:y.zt,UD:y.UD};t.Y(N)}}};Nr.SNa=function(p,a,R,Q){var t;for(var N=0;N<p.length;
N++){if(p[N].LS!=R)continue;var K=p[N].c;for(var T=0;T<K.length;T++){if(K[T].LS!=a)continue;t=K[T].c}}var d=t.length;
for(var N=0;N<d;N++)Q.push(t[d-1-N])};Nr.Sei=function(p){var a=p.zt,R=p.UD,Q,K,T,d,y,E;if(R&&R.null)Q=R.null.v[0];
if(R&&Q==null&&R.At)Q=R.At.v[0];if(Q&&Q.t=="obj ")Q=Q.v[0];var t=Q?Q.v.classID:null,N=["purge"];if(N.indexOf(a)!=-1)return a[0].toUpperCase()+a.slice(1);
E=gA.eM;for(K in E)if(E[K]==a)T=K;E=gw.eM;for(K in E)if(E[K]==a)d=K;E=dS.eM;for(K in E)if(E[K]==a)y=K;
if(T){var k=gA.$R(T,R);if(k!=-1)return[4,16,k];return gA.names[T]}if(d)return gw.names[d];if(y)return dS.names[y];
var D=Nr.SRQ;if(a=="make"){if(Q){if(t=="AdjL")return[6,1];else if(t=="layerSection")return[6,9];else if(t=="Lyr")return[6,13];
else if(t=="Chnl"&&Q.v.enum=="Msk")return[6,2];else if(t=="contentLayer")return[6,48,1];else if(t=="BckL")return"Make Background Layer";
else if(t=="Path")return"Make Path"}if(R.Nw){t=R.Nw.v.classID;if(t=="Dcmn")return[11,7];else if(t=="Chnl"||t=="SCch")return"New Channel"}}else if(a=="select"){if(t=="Chnl")return"Select "+(Q.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(t=="Mn")return"Select Panel \""+Q.v.enum+"\"";else if(t=="Lyr")return"Select Layer \""+Q.v.val+"\""}else if(D[a]&&t=="Chnl"){var P=Q.v.keyID=="fsel";
return D[a]+" "+(P?"Selection":"Channel")}else if(a=="set"){if(t=="Lyr")return"Set Current Layer";else if(t=="AdjL")return[6,39];
else if(t=="contentLayer")return[6,48,2];else if(t=="Prpr")return[11,6];else if(t=="Clr")return"Set "+(Q.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(t)}else if(a=="move"){if(t=="Lyr")return"Move Layer"}else if(a=="show"||a=="hide"){var e="";
if(t=="Lyr")+"Layer";if(t=="Chnl")+"Channel";return(a=="show"?"Show":"Hide")+" "+e}else if(a=="reset"){if(t=="Clr")return"Reset Colors"}else if(a=="exchange"){if(t=="Clr")return[22,7,0]}else if(a=="rotateEventEnum")return[2,5];
else if(a=="flip"){var Y=R.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,Y?2:3]]}if(t=="Chnl"){if(a=="duplicate"){if(Q.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(a=="delete")return"Delete Channel"}var O={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:R?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},W=O[a];
if(W==null)W=Nr.Slf[a];if(W)return W;console.log(a,R);return a};Nr.Slf={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
Nr.SRQ={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
Nr.SeD=function(p,a,R,Q){var t=p.zt,N=p.UD,K=new $(V.E.W,!0),y,E,k,D,P,W;K.Q=m.pw;var T=new $(V.E.v,!0),d=["purge","updatePlacedLayer"];
if(d.indexOf(t)!=-1)return;P=gA.eM;for(y in P)if(P[y]==t)E=y;P=gw.eM;for(y in P)if(P[y]==t)k=y;P=dS.eM;
for(y in P)if(P[y]==t)D=y;if(E){K.Q=m.Sb;K.data={K:"start",sD:E,Lr:N}}else if(k){K.Q=m.tQ;K.data={K:"start",CY:k,Lr:N}}else if(D){K.Q=m.tQ;
K.data={K:"start",CY:"GEfc",Lr:N}}else if(t=="imageSize"||t=="canvasSize"||t=="revealAll"||t=="trim"){K.Q=m.iE;
K.data={K:"fromAction",Db:p}}else if(t=="fill"||t=="delete"&&N==null){K.Q=m.JH;K.data={K:"fromAction",Db:p}}else if(t=="colorRange"){var e=N.Mnm.v,Y=N.Mxm.v;
K.Q=m.yO;K.data={K:"crange",YM:{Oe:e.Lmnc.v,Eu:e.A.v,N:e.B.v},YX:{Oe:Y.Lmnc.v,Eu:Y.A.v,N:Y.B.v},Wn:N.Fzns.v/200}}else if(Nr.Slf[t]||Nr.SRQ[t]&&(!1||N.With&&N.With.v[0].v.keyID=="fsel"||N.From&&N.From.v[0].v.keyID=="fsel"||N.null&&N.null.v[0].v.keyID=="fsel"||N.T.v[0]&&N.T.v[0].v.keyID=="fsel")){K.Q=m.yO;
K.data={K:"fromAction",Db:p}}var O={copyToLayer:l.C_,mergeLayersNew:Q&&Q.V.length==1?l.dw:l.lq,rasterizeLayer:l.SJS,mergeVisible:l.lU,flattenImage:l.MY,newPlacedLayer:l.Sqr};
if(O[t])K.data={K:O[t],UD:N};if(K.data){a.Y(K);return}if(t=="desaturate"){K.Q=m.Sb;K.data={K:"auto",uU:3};
a.Y(K);return}if(t=="close"){if(N.Svng.v.YsN=="Ys"){T.data={K:V.H.gw};a.Y(T)}T.data={K:V.H.iT,OR:Q};
a.Y(T);return}var O={placedLayerEditContents:V.H.Srg,copyEvent:V.H.gm,paste:V.H.Jq};if(O[t])T.data={K:O[t]};
if(T.data){a.Y(T);return}if(N.null||N.At)W=(N.null?N.null:N.At).v;else W=[{t:"----",v:N}];if(W[0].t=="obj "){if(W.length!=1)throw"e";
W=W[0].v}for(var w=0;w<W.length;w++){var g=W[w],J=g.v.classID;K.data=null;if(t=="make"){if(N.null==null&&N.Nw)J=N.Nw.v.classID;
if(J=="AdjL"){K.data={K:l.sF,UD:N}}else if(J=="layerSection"){K.data={K:l.vd};if(N.Usng)K.data.Kb=N.Usng.v.Nm.v}else if(J=="Lyr"){if(N.Usng&&N.Usng.v.length==2)K.data={K:l.SKQ};
else{K.data={K:l.iw};if(N.Usng)K.data.Kb=N.Usng.v.Nm.v}}else if(J=="Chnl"&&g.v.enum=="Msk"){K.data={K:l.ft,pp:N.Usng.v.UsrM}}else if(J=="Chnl"||J=="SCch"){K.data={K:l.Kx,mK:"fromAction",Z:p}}else if(J=="contentLayer"){K.data={K:l.iA,UD:N}}else if(J=="BckL"){Q.M[Q.V[0]].SHD();
continue}else if(J=="Dcmn"){var U=N.Nw.v;T.data={K:V.H.UT,NI:SF.Sze(U,R)}}else if(J=="Ptrn")T.data={K:V.H.Iq,L_:0};
else if(J=="Path"){K.Q=m.Sh;K.data={K:"pathedit",mK:"fromsel"}}else{console.log(t,N);throw"e"}}else if(t=="select"){if(J=="Lyr"){var H=N.selectionModifier,f=H?H.v.selectionModifierType:null,j=Nr.Kc(Q,g);
K.data={K:l.K_,w:j,Seu:f?["addToSelection","addToSelectionContinuous"].indexOf(f):null,dj:0,SJH:!0}}else if(J=="Chnl"){K.data={K:l.K_,w:j,dj:1}}}else if((t=="set"||t=="reset"||t=="exchange")&&J=="Clr"){T.data={K:V.H.es,L_:gp.zc,mK:t=="reset"?3:2};
if(t=="set"){T.data.mK=g.v.keyID=="FrgC"?0:1;var I=S.e.gc(N.T.v);T.data.Z=I.D<<16|I.X<<8|I.N}}else if(t=="set"){if(J=="AdjL"){var L=N.T.v.classID;
L=gA.DD[L];K.Q=m.Sb;if(L)K.data={K:"edit_layer",Z:N.T.v}}else if(J=="Lyr"){var C=N.T.v,j=Nr.Kc(Q,g);
if(C.Nm)K.data={K:l.vC,name:C.Nm.v};else if(C.Opct)K.data={K:l.KD,yD:Math.round(C.Opct.v.val*255/100)};
else if(C.fillOpacity)K.data={K:l.sK,yD:Math.round(C.fillOpacity.v.val*255/100)};else if(C.Md)K.data={K:l.Ko,yD:gE.$Z.indexOf(C.Md.v.BlnM)};
else if(C.Usrs)K.data={K:l.sd,w:j};else if(C.Blnd){K.Q=m.hO;K.data={K:"setstl",w:j,Z:{blendOptions:{t:"objc",v:C}}};
a.Y(K);K.data={K:"confirm",w:j}}else if(C.Clr){var v={Ylw:3}[C.Clr.v.Clr];if(v==null)throw"e";K.data={K:l.vg,S$p:v}}else if(W[0].t=="prop")continue;
else{console.log(N);throw"e"}var o=Q.M[j];o.SHj()}else if(J=="Prpr"){var C=JSON.parse(JSON.stringify(N.T.v));
if(g.v.keyID=="TxtS"){var j=Nr.Kc(Q,N.null.v[1]),o=Q.M[j],Z=o.add.TySh,B=JSON.parse(JSON.stringify(Z.KY)),s=gK.cB(B),q=gK.dJ(B,0,s.length-2);
if(C.Undl&&C.Undl.v.Undl=="underlineOnLeftInVertical")q.RW.Underline=!0;gK.mv(B,0,s.length-1,q);K.Q=m.Fr;
K.data={K:"newED",Rc:j,DF:B};w=1e9}else{for(var F in C)if(C[F].v){if(F=="Scl")C[F].v.val=100;if(C[F].v.TrnS&&C[F].v.TrnS.v.Crv==null){C[F].v.TrnS=JSON.parse(gZ.pB[9]).TrnS}}pC.Ju(C);
if(C.masterFXSwitch==null)C.masterFXSwitch={t:"bool",v:!0};var j=Nr.Kc(Q,N.null.v[1]);K.Q=m.hO;K.data={K:"setstl",w:j,Z:{Lefx:{t:"objc",v:C}}};
a.Y(K);K.data={K:"confirm",w:j}}}else if(J=="contentLayer"){var j=Nr.Kc(Q,g),C=N.T.v;if(C.classID=="shapeStyle")C=C.FlCn.v;
var b={solidColorLayer:0,gradientLayer:1,patternLayer:2}[C.classID],k=JSON.parse(JSON.stringify(gZ.gr[b]));
gf.Pu.Ye(C,k,b);K.data={K:l.vN,G$:[j],Um:!0,Z:{Fb:b+1,Cz:k}}}else{console.log(g,N);throw J}}else if(t=="move"){if(J=="Lyr"){var C=N.T.v;
if(C.classID=="Ofst"){K.data={K:"trsl",SKW:C.Hrzn.v.val,SCS:C.Vrtc.v.val};K.Q=m.Tx}else{var G,u;if(C[0].t=="Enmr"){if(C[0].v.enum=="Frnt")u=0;
else if(C[0].v.enum=="Prvs")u=2;else if(C[0].v.enum=="Back")u=3;else throw"e"}else G=C[0].v.val;K.data={K:l.CC,target:G,mK:u,SJa:N.Dplc?N.Dplc.v:!1}}}}else if(t=="groupEvent")K.data={K:l.CX};
else if(t=="show"||t=="hide"){if(J=="Lyr"){var j=Nr.Kc(Q,g);if(j==-1)continue;var h=Q.M[j].Aw();if(t=="show"&&h||t=="hide"&&!h)continue;
K.data={K:l.ia,w:j}}else if(J=="Chnl"){K.data={K:l.Kx,mK:"fromAction",Z:p}}}else if(t=="rotateEventEnum"){K.Q=m.iE;
var z=N.Angl.v.val;K.data={K:"rot",LS:[2,5],Z:-z*Math.PI/180}}else if(t=="flip"){K.Q=m.iE;var r=N.Axis.v.Ornt=="Hrzn",i=r?new X(-1,1):new X(1,-1);
K.data={K:"scl",LS:[2,6,[22,4,r?2:3]],Z:i}}else if(t=="transform"){var gg=1,gC=1,gd=0,gY=0,gN=0,gS=0,M=0;
if(N.Wdth)gg=N.Wdth.v.val/100;if(N.Hght)gC=N.Hght.v.val/100;if(N.Skew){var Cj=N.Skew.v;gd=Cj.Hrzn.v.val;
gY=Cj.Vrtc.v.val}if(N.Ofst){var gs=N.Ofst.v;gS=gs.Hrzn.v.val;M=gs.Vrtc.v.val}if(N.Angl)gN=N.Angl.v.val;
var gl=new gh;gl.concat(new gh(gg,gg*Math.tan(gY*Math.PI/180),gC*Math.tan(gd*Math.PI/180),gC,0,0));gl.rotate(-gN*Math.PI/180);
gl.translate(gS,M);var gR={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[N.FTcs.v.QCSt];
if(gR==null)throw N.FTcs.v.QCSt;var j=N.null?Nr.Kc(Q,g):null;K.Q=m.oj;K.data={K:"mat",Ut:gR,Z:gl,w:j}}else if(J=="Chnl"){K.data={K:l.Kx,mK:"fromAction",Z:p}}else if(t=="duplicate")K.data={K:l.iP,Kb:N.Nm?N.Nm.v:null};
else if(t=="delete")K.data={K:l.iU};else if(t=="align"){K.Q=m.Tx;var E={AdLf:0}[N.Usng.v.ADSt];if(E==null)throw"e";
K.data={K:"algn",Z:E}}if(K.data)a.Y(K);else if(T.data)a.Y(T);else{console.log(p);alert("Unknown action \""+t+"\"");
throw"e"}}};Nr.Kc=function(p,a){var R=a.t,Q=-1;if(R=="name"){var t=a.v.val,Q=-1;for(var N=0;N<p.M.length;
N++)if(p.M[N].getName()==t){Q=N;break}}if(R=="Enmr"&&p.V.length!=0)Q=p.V[0];if(R=="Enmr"&&a.v.enum=="Frwr")Q=p.V[0]-1;
if(R=="prop"){if(a.v.keyID=="Bckg")Q=0}return Q};var gA={};gA.get=function(p){for(var a in gA.names)if(p[a]!=null)return a;
return null};gA.Sm=function(p,a){var R=gA.$I,Q;if(p=="brit"){var t=a.Brgh?a.Brgh.v:0,N=a.Cntr?a.Cntr.v:0,K=a.useLegacy?a.useLegacy.v:!1;
if(K){var T=t/255,d=1+N/100;if(d>1)d=1+Math.tan(Math.PI/2*N/101);var y=(1-d)/2,E=S.MA.dp(T,T,T),k=[d,0,0,y,0,d,0,y,0,0,d,y,0,0,0,1],D=S.MA.multiply(E,k),P=new S.LV(256);
for(var e=0;e<256;e++)P.D[e]=e;S.MA.transform(P,P,D);Q={type:R.Ng,LH:P.D,kG:P.D,Hr:P.D,yM:!1,yx:!1}}else{var Y=1024,O=-30+60*(N+100)/200,W=[];
for(var e=0;e<4;e++)W.push(S.ps.mi(e/3*255,e/3*255,!0));W[1].v.Hrzn.v=64;W[1].v.Vrtc.v=64-O;W[2].v.Hrzn.v=128+64;
W[2].v.Vrtc.v=128+64+O;W.sort(function(pN,Sx){return pN.v.Hrzn.v-Sx.v.Hrzn.v});var w=S.ps.dG(W,Y);function g(pN,Y){var W=[],Sx=3;
for(var e=0;e<Sx+1;e++)W.push(S.ps.mi(e/Sx*255,e/Sx*255,!0));W[1].v.Hrzn.v=130-pN*26;W[1].v.Vrtc.v=130+pN*51;
W[2].v.Hrzn.v=233-pN*48;W[2].v.Vrtc.v=233+pN*10;return S.ps.dG(W,Y)}var J=g(Math.abs(t)/100,Y);if(t<0){var U=[],H=1/Y;
for(var e=0;e<Y;e++){var f=e*H,j=e;while(J[j]>f&&j>1)j--;U[e]=j*H}J=U}var I=new Uint8Array(Y);for(var e=0;
e<Y;e++){var L=Math.round((Y-1)*J[e]);I[e]=Math.round(255*w[L])}Q={type:R.Ng,LH:I,kG:I,Hr:I,yM:!1,yx:!1}}}if(p=="levl"){var C=[],v,o,E,Z,B,s;
for(var e=0;e<4;e++)C.push(dO.Vq(a,e));v=-C[0][0]/255;o=1/(C[0][1]/255-C[0][0]/255);E=S.MA.multiply(S.MA.dH(o,o,o),S.MA.dp(v,v,v));
Z=S.MA.dH(1/(C[1][1]/255-C[1][0]/255),1/(C[2][1]/255-C[2][0]/255),1/(C[3][1]/255-C[3][0]/255));B=S.MA.dp(-C[1][0]/255,-C[2][0]/255,-C[3][0]/255);
s=S.MA.multiply(Z,B);var I=new S.LV(256);for(var e=0;e<256;e++)I.D[e]=I.X[e]=I.N[e]=e;var q=1/(C[0][4]/100),F=1/(C[1][4]/100),b=1/(C[2][4]/100),G=1/(C[3][4]/100);
S.MA.transform(I,I,s);for(var e=0;e<256;e++){I.D[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.D[e]/255,F))));
I.X[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.X[e]/255,b))));I.N[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.N[e]/255,G))))}S.MA.transform(I,I,E);
for(var e=0;e<256;e++){I.D[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.D[e]/255,q))));I.X[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.X[e]/255,q))));
I.N[e]=Math.round(Math.max(0,Math.min(255,255*Math.pow(I.N[e]/255,q))))}v=C[0][2]/255;o=C[0][3]/255-C[0][2]/255;
E=S.MA.multiply(S.MA.dp(v,v,v),S.MA.dH(o,o,o));Z=S.MA.dH(C[1][3]/255-C[1][2]/255,C[2][3]/255-C[2][2]/255,C[3][3]/255-C[3][2]/255);
B=S.MA.dp(C[1][2]/255,C[2][2]/255,C[3][2]/255);s=S.MA.multiply(B,Z);S.MA.transform(I,I,S.MA.multiply(E,s));
Q={type:R.Ng,LH:I.D,kG:I.X,Hr:I.N,yM:!1,yx:!1}}if(p=="curv"){var u=dW.Vq(a,0).length==256?1:0,h=[];if(u==0){var z=S.ps.FP(dW.Vq(a,0),256);
for(var e=1;e<4;e++){var r=S.ps.FP(dW.Vq(a,e),256);h.push(S.ps.NQ(r,z))}}else{var i=[];for(var e=0;e<4;
e++){var gg=new Uint8Array(256);i.push(gg);var gC=dW.Vq(a,e);for(var j=0;j<256;j++)gg[j]=gC[j]}for(var e=1;
e<4;e++)h.push(S.ps.NQ(i[e],i[0]))}Q={type:R.Ng,LH:h[0],kG:h[1],Hr:h[2],yM:!1,yx:!1}}if(p=="expA"){var gd=a.Exps.v,gY=a.Ofst.v,gN=a.gammaCorrection.v,I=new Uint8Array(256);
for(var e=0;e<256;e++){var a=e/255,gS=Math.pow(Math.abs(gY),1/(Math.PI/2));if(gY>0){a=Math.max(gY/Math.E,a);
a=a*Math.exp(gY/1.75+gd/Math.PI);a=(1-gS)*a+gS*1}else{a=a*Math.exp(-gY*1.75+gd/Math.PI);a=a+-gS*1.14}a=Math.pow(a,1/gN);
a=Math.max(0,Math.min(1,a));I[e]=Math.round(a*255)}Q={type:R.Ng,LH:I,kG:I,Hr:I,yM:!1,yx:!1}}if(p=="vibA"){Q={type:R.$z,L_:[a.vibrance?a.vibrance.v:0,a.Strt?a.Strt.v:0]}}if(p=="hue2"){var M=[],Cj=[],gs=[],gl=a.Clrz?a.Clrz.v:!1;
for(var e=0;e<256;e++){M[e]=e/255;Cj[e]=0;gs[e]=0}var gR=Sj.Vq(a,0),ge=gA.$T(gR[1]/100);if(gl){var So=gR[0]/360;
for(var e=0;e<256;e++){M[e]=So;Cj[e]=ge}}else{for(var e=0;e<256;e++){var gq=M[e],gH=Cj[e];M[e]+=gR[0]/360;
for(var j=0;j<6;j++){var gx=Sj.Vq(a,j+1),g$=gx.E$,gy=gx.yj,gS=0;for(var SZ=1;SZ<4;SZ++)if(gy[SZ]<gy[0])gy[SZ]+=360;
var dU=gy[0],gz=gy[1],gX=gy[2],gJ=gy[3],SR=gq*360;if(SR<gy[0])SR+=360;var gF=(SR-dU)/(gz-dU),gv=(SR-gX)/(gJ-gX);
if(gF<0)gS=0;else if(gF<1)gS=gF;else if(gv<0)gS=1;else if(gv<1)gS=1-gv;else gS=0;var d=gA.$T(g$[1]/100);
M[e]+=gS*g$[0]/360;Cj[e]+=gS*d;gs[e]+=gS*g$[2]/100}}for(var e=0;e<256;e++){Cj[e]=(1+Cj[e])*(1+ge)-1;
gs[e]=Math.max(-1,Math.min(1,gs[e]))}}var SU=new Uint8Array(256),ga=new Uint8Array(256),Sg=new Uint8Array(256);
for(var e=0;e<256;e++){var gO=M[e],SC=Cj[e],gk=gs[e];if(gO>1)gO--;if(gO<0)gO++;SC=gA.SeG(SC);SC=(1+SC)*.5;
gk=(1+gk)*.5;SU[e]=Math.round(255*gO);ga[e]=Math.round(255*SC);Sg[e]=Math.round(255*gk)}var Np=gR[2]/100,SO=Np<0?-Np:Np,NZ=Np<0?0:1;
Q={type:R.$f,Sp_:SU,wc:ga,SlA:Sg,SsJ:SO*NZ,AS:1-SO,SzO:gR[2]/100,SRC:gl?1:0}}if(p=="nvrt"){var I=new Uint8Array(256);
for(var e=0;e<256;e++)I[e]=255-e;Q={type:R.Ng,LH:I,kG:I,Hr:I,yM:!1,yx:!1}}if(p=="post"){var gD=a.Lvls.v,I=new Uint8Array(256),gS=gD/255.001,gI=255/(gD-1);
for(var e=0;e<256;e++)I[e]=Math.floor(e*gS)*gI;Q={type:R.Ng,LH:I,kG:I,Hr:I,yM:!1,yx:!1}}if(p=="grdm"){var go=a.Grad.v,NS=a.Rvrs,NK=S.e.ON(go.Clrs.v,0,0),Y=1024,gP=S.e.jm(go,NK,Y,NS?NS.v:!1),NX=S.p(Y),Nd=S.p(Y),Ni=S.p(Y);
S.vh(gP,NX,0);S.vh(gP,Nd,1);S.vh(gP,Ni,2);Q={type:R.Ng,LH:NX,kG:Nd,Hr:Ni,yM:!0,yx:!1}}if(p=="selc"){var NH=new Float32Array(9*3*2),NE=a.Ar,NJ=a.Mthd?a.Mthd.v.CrcM=="Absl":!1;
for(var j=0;j<9;j++){var Nl=j*6,NL=dJ.Vq(a,j),py=NL[0]/100,SJ=NL[1]/100,Nz=NL[2]/100,NQ=NL[3]/100;if(NJ){NH[Nl]=NH[Nl+1]=NH[Nl+2]=1;
NH[Nl+3]=py*(1+NQ)+NQ;NH[Nl+4]=SJ*(1+NQ)+NQ;NH[Nl+5]=Nz*(1+NQ)+NQ}else{NH[Nl+0]=(1+py)*(1+NQ);NH[Nl+1]=(1+SJ)*(1+NQ);
NH[Nl+2]=(1+Nz)*(1+NQ)}}Q={type:R.$o,XQ:NH}}if(p=="blwh"){var No="Rd Yllw Grn Cyn Bl Mgnt".split(" "),Q=[],Si=0,Kl=0;
for(var e=0;e<6;e++)Q.push(a[No[e]].v);Q.push(a.useTint.v,a.tintColor.v);var Ss=[];for(var e=0;e<6;e++)Ss.push((Q[e]-50)/50);
var Nt=S.e.gc(Q[7]);Nt.D/=255;Nt.X/=255;Nt.N/=255;var gj=S.Xa(Nt.D,Nt.X,Nt.N),gk=S.lv(S.QK(gj.hZ,1,.5)),NI=gj.IH*gj.Lr;
if(gk==.5)Si=Kl=.5;else{Si=NI*(.5-gk)/(.5/gk-1);Kl=1-NI*(.5-gk)-1/(2*(1-gk));Kl/=1-1/(2*(1-gk))}Q={type:R.$v,SRW:Ss,bu:Q[6]?1:0,SRp:gj.hZ,lv:gk,SRz:NI,zz:Si,SRx:Kl}}if(p=="blnc"){var C=[],CP=["ShdL","MdtL","HghL"];
for(var e=0;e<3;e++){var gD=a[CP[e]].v,pz=gD[0].v/100,KA=gD[1].v/100,dq=gD[2].v/100,S$=a.PrsL.v?S$=(Math.min(pz,KA,dq)+Math.max(pz,KA,dq))/2:0;
C[e]=[pz-S$,KA-S$,dq-S$]}var h=[S.p(256),S.p(256),S.p(256)];for(var j=0;j<3;j++)for(var e=0;e<256;e++){var f=e*(1/255),SS=0,O=0,NF=0;
O=C[2][j];NF=Math.abs(O);if(O<0)SS=Math.pow(f,Math.SQRT2);else SS=1.63*(Math.pow(f+.04,.5)-.2);f=NF*SS+(1-NF)*f;
O=C[1][j];NF=Math.abs(O);if(O<0)SS=Math.pow(f,2);else SS=Math.min(2.35*(Math.pow(f+.09,.5)-.3),Math.pow(f,1/2));
f=NF*SS+(1-NF)*f;O=C[0][j];NF=Math.abs(O);if(O<0)SS=f<.4?0:Math.pow((f-.4)/.6,Math.SQRT2);else SS=Math.pow(f,Math.SQRT2/2);
f=NF*SS+(1-NF)*f;f=Math.max(0,Math.min(1,f));h[j][e]=Math.round(f*255)}Q={type:R.Ng,LH:h[0],kG:h[1],Hr:h[2],yM:!1,yx:!1}}if(p=="phfl"){var N$=S.e.gc(a.Clr.v),Kq=[N$.D/255,N$.X/255,N$.N/255],SX=a.Dnst.v/100,h=[S.p(256),S.p(256),S.p(256)];
for(var j=0;j<3;j++)for(var e=0;e<256;e++){var f=e*(1/255),pZ=f*Kq[j];pZ=Math.max(0,Math.min(1,pZ));
f=SX*pZ+(1-SX)*f;h[j][e]=Math.round(f*255)}Q={type:R.Ng,LH:h[0],kG:h[1],Hr:h[2],yM:!1,yx:a.PrsL.v}}if(p=="thrs"){var I=S.p(256);
for(var e=a.Lvl.v;e<256;e++)I[e]=255;Q={type:R.Ng,LH:I,kG:I,Hr:I,yM:!0,yx:!1}}if(p=="mixr"){var Ki=gA.DV(a),D=[];
for(var e=0;e<Ki.Z.length;e++)if(e%5!=3)D.push(Ki.Z[e]/100);if(Ki.yW){for(var Se=1;Se<3;Se++)for(var f=0;
f<4;f++)D[Se*4+f]=D[f]}Q={type:R.$J,EF:D}}if(p=="rplc"){var SM=a.Mnm.v,NT=a.Mxm.v;Q={type:R.$t,YM:[SM.Lmnc.v,SM.A.v,SM.B.v],YX:[NT.Lmnc.v,NT.A.v,NT.B.v],shift:[a.H.v/360,a.Strt.v/100,a.Lght.v/100],Wn:a.Fzns.v/200}}if(p=="clrL"&&a.profile){var CA=new Uint8Array(a.profile.v),Yp=ICC.R(CA.buffer),pg=[],d$=0,NP=Yp.tags.A2B0;
d$=NP&&NP.gpnum?NP.gpnum[0]:0;d$=d$>8?d$:17;var pg=ICC.U.sampleLUT(Yp,d$);Q={type:R.DO,UJ:ICC.U.rgba8LUT(pg,d$),SZr:pg,Tg:d$}}return Q};
gA.$R=function(p,a){var R=-1;if(p!="levl"||a==null)R=-1;else if(a.Auto)R=0;else if(a.AuCo)R=1;else if(a.autoBlackWhite)R=2;
return R};gA.$I={Ng:0,$f:1,$z:2,$o:3,$v:4,$J:5,$t:6,DO:7};gA.$T=function(p){if(p<0)return p;return Math.pow(Math.tan(Math.PI/2*p),1.3)};
gA.SeG=function(p){if(p<0)return p;p=Math.pow(p,1/1.3);return Math.atan2(p,1)/(Math.PI/2)};gA.pW=function(p,a,R,Q){var t=gA.$I,N=Date.now();
if(_.KZ&&Q.u()>300*300&&p.type!=t.Ng&&p.type!=t.DO){Q=Q.clone();Q.x=Q.y=0;var K=_.xK(0,Q.C,Q.T);K.set(a);
_.UZ(K,Q);K.qw(Q);gA.Qj(p,K.iG,Q);K.get(R);return}if(p.type==t.DO){var T=p.SZr,d=p.Tg,D=3;function y(NS,NK,gN,gP,NX,Nd){var Ni=1-gP;
Nd[NX+0]=Ni*gN[NS]+gP*gN[NK];Nd[NX+1]=Ni*gN[NS+1]+gP*gN[NK+1];Nd[NX+2]=Ni*gN[NS+2]+gP*gN[NK+2]}var E=[0,0,0,0,0,0,0,0,0,0,0,0],k=(d-1.000001)/255;
for(var P=0;P<a.length;P+=4){var Q=k*a[P],e=k*a[P+1],Y=k*a[P+2],O=~~Q,W=~~e,w=~~Y;y(D*(w+d*W+d*d*O),D*(w+1+d*W+d*d*O),T,Y-w,0,E);
y(D*(w+d*(W+1)+d*d*O),D*(w+1+d*(W+1)+d*d*O),T,Y-w,3,E);y(0,3,E,e-W,6,E);y(D*(w+d*W+d*d*(O+1)),D*(w+1+d*W+d*d*(O+1)),T,Y-w,0,E);
y(D*(w+d*(W+1)+d*d*(O+1)),D*(w+1+d*(W+1)+d*d*(O+1)),T,Y-w,3,E);y(0,3,E,e-W,9,E);y(6,9,E,Q-O,0,E);R[P]=~~(.5+E[0]*255);
R[P+1]=~~(.5+E[1]*255);R[P+2]=~~(.5+E[2]*255)}}if(p.type==t.$J)S.MA.Rs(a,R,p.EF);if(p.type==t.$v){var g=p.SRz,J=p.lv,U=p.zz,H=p.SRx,f=a.length;
for(var P=0;P<f;P+=4){var Q=a[P]*(1/255),e=a[P+1]*(1/255),Y=a[P+2]*(1/255),j=S.NZ(Q,e,Y),I=0;for(var L=0;
L<6;L++)I+=Math.min(1,1.7*(1-j.Xi))*j.IH*p.SRW[L]*gA.SRb(j.hZ,L*(1/6));var C=Math.max(0,Math.min(1,j.Xi*(1+I)));
if(p.bu==1){var v=0;if(C<U)v=C*(.5/J);else if(C<H)v=C+g*(.5-J);else v=1-(1-C)*.5/(1-J);j.hZ=p.SRp;j.IH=Math.min(1,g+3*g*Math.abs(C-.5*(U+H)));
j.Xi=v}else{j.hZ=0;j.IH=0;j.Xi=C}var o=S.QK(j.hZ,j.IH,j.Xi);R[P]=Math.round(o.D*255);R[P+1]=Math.round(o.X*255);
R[P+2]=Math.round(o.N*255)}}if(p.type==t.$o){var Z=p.XQ,f=a.length,B=1/255;for(var P=0;P<f;P+=4){var Q=a[P]*B,e=a[P+1]*B,Y=a[P+2]*B,j=S.NZ(Q,e,Y),s=Math.max(Q,Math.max(e,Y)),q=Math.min(Q,Math.min(e,Y)),F=1-Q,b=1-e,G=1-Y,u=0,h=0,z=0;
for(var L=0;L<9;L++){var r=L*6,gd=0;if(Z[r]==1&&Z[r+1]==1&&Z[r+2]==1&&Z[r+3]==0&&Z[r+4]==0&&Z[r+5]==0)continue;
var i=F*Z[r]+Z[r+3],gg=b*Z[r+1]+Z[r+4],gC=G*Z[r+2]+Z[r+5];if(L<6)gd=gA.SRb(j.hZ,L*(1/6))*j.IH*2*Math.min(j.Xi,1-j.Xi);
else if(L==6)gd=Math.max(0,q-.5)*2;else if(L==7)gd=1-(Math.abs(s-.5)+Math.abs(q-.5));else gd=Math.max(0,.5-s)*2;
u+=(Math.max(0,Math.min(1,i))-F)*gd;h+=(Math.max(0,Math.min(1,gg))-b)*gd;z+=(Math.max(0,Math.min(1,gC))-G)*gd}F=Math.max(0,Math.min(1,F+u));
b=Math.max(0,Math.min(1,b+h));G=Math.max(0,Math.min(1,G+z));Q=1-F;e=1-b;Y=1-G;R[P]=Math.round(Q*255);
R[P+1]=Math.round(e*255);R[P+2]=Math.round(Y*255)}}if(p.type==t.Ng){S.SRS(a,R,p.LH,p.kG,p.Hr,p.yM,p.yx)}if(p.type==t.$f){var gY=new Uint32Array(a.buffer),gN=new Uint32Array(R.buffer),f=gY.length;
if(gA.uT==null){gA.uT=new Float64Array(256);for(var P=0;P<256;P++)gA.uT[P]=gA.$T(-1+2*P/255)}var gS=gA.uT;
for(var P=0;P<f;P++){var M=gY[P],Q=(M&255)*(1/255),e=(M>>>8&255)*(1/255),Y=(M>>>16&255)*(1/255),Cj=M>>>24,gs=Math.min(Q,e,Y),gl=Math.max(Q,e,Y),gR=0,ge=0,So=0;
if(gl!=gs){var gq=gl-gs;switch(gl){case Q:gR=(e-Y)/gq+(e<Y?6:0);break;case e:gR=(Y-Q)/gq+2;break;case Y:gR=(Q-e)/gq+4;
break}gR=gR*(1/6)}var gH=~~(gR*255+.5),gx=p.Sp_[gH]*(1/255),g$=p.wc[gH]*(1/255)*2-1,SZ=p.SlA[gH]*(1/255)*2-1,I=-SZ,dU=gs;
if(0<SZ){I=SZ;dU=gl}var gz=p.SsJ+p.AS*I*dU,gJ=p.AS*(1-I);Q=gz+gJ*Q;e=gz+gJ*e;Y=gz+gJ*Y;gl=Math.max(Q,e,Y);
gs=Math.min(Q,e,Y);So=(gl+gs)*.5;if(gl!=gs){var gq=gl-gs;ge=So>.5?gq/(2-(gl+gs)):gq/(gl+gs)}var SR=g$;
if(p.SRC==0){g$=gS[Math.floor((1+g$)*127.5)];SR=Math.min(ge*(1+g$),1)}gR=gx;ge=SR;if(ge==0)Q=e=Y=So;
else{var gF=So<.5?So*(1+ge):So+ge-So*ge,gv=2*So-gF;Q=S.QU(gv,gF,gR+1/3);e=S.QU(gv,gF,gR);Y=S.QU(gv,gF,gR-1/3)}gN[P]=Cj<<24|Y*255<<16|e*255<<8|Q*255}}if(p.type==t.$t){S.$M(a,R);
var gY=new Uint32Array(a.buffer),gN=new Uint32Array(R.buffer),f=gY.length,SU=p.Wn,ga=1/SU,Sg={Oe:p.YM[0],Eu:p.YM[1],N:p.YM[2]},gO={Oe:p.YX[0],Eu:p.YX[1],N:p.YX[2]};
for(var P=0;P<f;P++){var M=gY[P],O=M&255,W=M>>>8&255,w=M>>>16&255,Q=O*(1/255),e=W*(1/255),Y=w*(1/255),Cj=M>>>24,SC=S.wk(O,W,w),gk=S.ca(SC,Sg,gO,SU,ga);
if(gk==0)continue;var j=S.NZ(Q,e,Y),gx=2+j.hZ+gk*p.shift[0];j.hZ=gx-~~gx;j.IH=Math.max(0,Math.min(1,j.IH+gk*p.shift[1]));
j.Xi=Math.max(0,Math.min(1,j.Xi+gk*p.shift[2]));var o=S.QK(j.hZ,j.IH,j.Xi);Q=o.D;e=o.X;Y=o.N;gN[P]=Cj<<24|Y*255<<16|e*255<<8|Q*255}}if(p.type==t.$z){var gY=new Uint32Array(a.buffer),gN=new Uint32Array(R.buffer),f=gY.length,Np=p.L_[0]/100,SO=p.L_[1]/100;
for(var P=0;P<f;P++){var M=gY[P],Q=(M&255)*(1/255),e=(M>>>8&255)*(1/255),Y=(M>>>16&255)*(1/255),Cj=M>>>24,j=S.Xa(Q,e,Y),gR=j.hZ,ge=j.IH,So=j.Lr,NZ=0,gI=45/360,go=gR<gI?Math.cos(Math.PI/2*(gR-gI/2)/(gI/2)):0;
ge=ge+.2*(1-.4*go)*Np*Math.max(0,Math.sin(ge*Math.PI));ge=ge*(1+SO);ge=Math.max(0,Math.min(1,ge));var o=S.Hv(gR,ge,So);
Q=o.D;e=o.X;Y=o.N;gN[P]=Cj<<24|Y*255<<16|e*255<<8|Q*255}}};gA.Qj=function(p,a,R){_.sD.Qj(p,a)};gA.SRb=function(p,a){var R=S.Up(a,p)*6;
return Math.max(0,Math.min(1,R<0?1+R:1-R))};gA.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
gA.SIZ=["expA","clrL","selc"];gA.$a=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];gA.SHd=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
gA.DA=[[13,1,1],[13,1,4],[13,1,5]];gA.dZ={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
gA.DD=function(){var p=JSON.parse(JSON.stringify(gA.dZ));delete p["\0\0\0\xDE"];delete p["\0\0\0\xDD"];
delete p.GrMp;p.vibrance="vibA";p.photoFilter="phfl";p.GdMp="grdm";return p}();gA.eM={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
gA.keys={levl:[n.GA,n.Oe],curv:[n.GA,n.iS],hue2:[n.GA,n.z_],nvrt:[n.GA,n.$r],blnc:[n.GA,n.SBP]};gA.SHB=function(p){var a=gw.gD("mixr");
a.Mnch={t:"bool",v:p.yW};function R(Q,t){var N={classID:"ChMx"},K={Rd:0,Grn:1,Bl:2,Cnst:4};for(var T in K)N[T]={t:"UntF",v:{type:"#Prc",val:Q[t+K[T]]}};
return{t:"Objc",v:N}}if(p.yW)a.Gry=R(p.Z,0);else{a.Rd=R(p.Z,0);a.Grn=R(p.Z,5);a.Bl=R(p.Z,10)}return a};
gA.DV=function(p){function a(Q,t,N){var K={Rd:0,Grn:1,Bl:2,Cnst:4};for(var T in K)if(Q[T])t[N+K[T]]=Q[T].v.val}var R={yW:!1,Z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(p.Mnch&&p.Mnch.v)R.yW=!0;if(R.yW)a(p.Gry.v,R.Z,0);else{a(p.Rd.v,R.Z,0);a(p.Grn.v,R.Z,5);a(p.Bl.v,R.Z,10)}return R};
var gw={};gw.dB=[{Cz:"GEfc"},{Cz:"LnCr"},{Cz:"LqFy",i_:!0},{QV:"3D",Tn:["\0\0\x03^"]},{QV:[24,2],Tn:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,Bokh,MtnB,RdlB,\0\0\x02\xB5".split(",")},{QV:[24,4],Tn:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{QV:[24,6],Tn:["AdNs","DstS","Mdn "]},{QV:[24,8],Tn:["ClrH","Crst","Mztn","Msc ","Pntl"]},{QV:[24,10],Tn:["Clds","DfrC","LnsF"]},{QV:[24,12],Tn:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{QV:[24,14],Tn:["FndE","\0\0\x03\xFD"]},{QV:[24,16],Tn:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{QV:"Fourier",Tn:["dDFT","iDFT"]}];
gw.eM={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
gw.Wh={"\0\0\x03\x82":m.fT};gw.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
gw.gD=function(p){var a=null;if(p=="GEfc")a={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:dS.gD("GlwE")}]}};
if(p=="LqFy"){var R={Xs:50,hZ:50,map:new Float32Array(50*50*2)},Q=new Uint8Array(Y_.MM(R)),t=[];for(var N=0;
N<Q.length;N++)t.push(Q[N]);a={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:t}}}if(p=="\0\0\x03\x82"){a={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(p=="LnCr")a={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(p=="\0\0\x03\xFD")a={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(p=="\0\0\x03^")a={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(p=="\0\0\x02\xB1")a={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(p=="GsnB")a={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(p=="Bokh")a={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(p=="MtnB")a={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(p=="RdlB")a={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(p=="\0\0\x02\xB5")a={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(p=="Dspl")a={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(p=="Pnch")a={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(p=="Plr ")a={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(p=="Rple")a={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(p=="Shr ")a={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(p=="Sphr")a={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(p=="Twrl")a={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(p=="Wave")a={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(p=="AdNs")a={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(p=="DstS")a={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(p=="Mdn ")a={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(p=="ClrH")a={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(p=="Crst")a={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(p=="Mztn")a={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(p=="Msc ")a={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(p=="Pntl")a={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(p=="LnsF")a={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(p=="\0\0\x03\xE8")a={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(p=="UnsM")a={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(p=="HghP")a={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(p=="Mxm ")a={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(p=="Mnm ")a={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(p=="Ofst")a={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(p=="Rept")a={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(p=="brit")a={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(p=="levl")a={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(p=="curv")a={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(p=="expA")a={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(p=="vibA")a={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(p=="hue2")a={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(p=="blnc")a={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(p=="blwh")a={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(p=="phfl")a={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(p=="grdm")a={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(gZ.pB[6]).Grad};
if(p=="selc")a={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(p=="thrs")a={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(p=="mixr")a={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(p=="clrL")a={__name:"Color Lookup",classID:"colorLookup"};if(p=="nvrt")a={};if(p=="post")a={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(p=="rplc")a={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(p=="fade")a={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return a};gw.SHC=function(p){var a=new X(0,0);if(p.enab.v==!1)return a;var R=p.filterFXList.v;for(var Q=0;
Q<R.length;Q++){var t=R[Q].v;if(t.enab.v==!1)continue;var N=A.tR(t.filterID.v),K=gw.SHm(N,t.Fltr?t.Fltr.v:null);
if(K.x>a.x)a.x=K.x;if(K.y>a.y)a.y=K.y}return a};gw.SHm=function(p,a){var R=0,Q=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(p)!=-1){var t=a.Rds.v.val;
R=Q=t*2.57}if(p=="MtnB")R=Q=a.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(p)!=-1){R=Q=1e4}if(p=="GEfc")R=Q=1e4;
return new X(Math.ceil(R),Math.ceil(Q))};gw.Dk=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gw.UH=function(p,a){var R={D:a.rc>>16,X:a.rc>>8&255,N:a.rc&255},Q={D:a.eJ>>16,X:a.eJ>>8&255,N:a.eJ&255},t=gw.names[p];
if(t==null)t=gA.names[p];var N=p;for(var K in gA.dZ)if(gA.dZ[K]==p)N=K;var T={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:gL.get(t)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:S.e.HW(R)},BckC:{t:"Objc",v:S.e.HW(Q)},filterID:{t:"long",v:A.SFq(N)}}},d=gw.gD(p);
if(d)T.v.Fltr={t:"Objc",v:d};return T};gw.Sxc=function(p,a,R,Q){var t=S.p(p.length);S.eF.DP(p,a,R,Q,[-1,0,1,-2,0,2,-1,0,1],0,!0);
S.eF.DP(p,t,R,Q,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var N=0;N<t.length;N+=4){var K=a[N],T=a[N+1],d=a[N+2],y=a[N+3],E=t[N],k=t[N+1],D=t[N+2],P=t[N+3];
a[N]=255-Math.max(0,Math.min(255,Math.sqrt(K*K+E*E)));a[N+1]=255-Math.max(0,Math.min(255,Math.sqrt(T*T+k*k)));
a[N+2]=255-Math.max(0,Math.min(255,Math.sqrt(d*d+D*D)))}};gw.Uq=function(p,a,R,Q,t,N,K,T){var d=R*Q*4;
S.eF.S$J(p,a,R,Q,t,N,K)};gw.Dc=function(p,a,R,Q){S.S$(R);if(p<1){var t=Math.round(p*5),N=[1,2,1,2,[40,26,13,6,4,2][t],2,1,2,1];
N=S.eF.Fs(N);var K=R.slice(0);S.eF.DP(K,R,Q.C,Q.T,N,255)}else a(R,Q,p);S.SX(R)};gw.SHp=function(p,a,R,Q){for(var t=0;
t<p.length;t++){R[t]=p[t]*(1/255);Q[t]=0}FFT.fft2d(R,Q);var N=a>>>1,K=16384,T=128,y=100;while(T<a){T<<=1;
K<<=2}var d=255/Math.log(K),E=-100;for(var k=0;k<a;k++)for(var D=0;D<N;D++){var P=a+N+k&a-1,e=R[P*a+D],Y=Q[P*a+D],O=Math.sqrt(e*e+Y*Y),W=Math.atan2(Y,e);
p[k*a+D]=Math.round(d*Math.log(O+1));p[k*a+N+D]=Math.round((Math.PI+W)*(255*.5/Math.PI))}};gw.SHl=function(p,a,R,Q){R.fill(0);
Q.fill(0);var t=a>>>1,N=16384,K=128;while(K<a){K<<=1;N<<=2}var T=255/Math.log(N),d=[],y=[],E=[];for(var k=0;
k<256;k++){d[k]=Math.exp(k/T)-1;var D=k*(2*Math.PI/255)-Math.PI;y[k]=Math.sin(D);E[k]=Math.cos(D)}for(var P=0;
P<a;P++)for(var e=0;e<t;e++){var Y=a+t+P&a-1,O=d[p[P*a+e]],D=p[P*a+t+e],W=O*E[D],w=O*y[D];R[Y*a+e]=W;
Q[Y*a+e]=w;if(e!=0){var g=Y==0?Y*a+a-e:(a-Y)*a+(a-e);R[g]=W;Q[g]=-w}}FFT.ifft2d(R,Q);for(var k=0;k<p.length;
k++){p[k]=Math.max(0,Math.min(255,~~(.5+255*R[k])))}};gw.SKE=new ArrayBuffer(512);gw.SHe=function(p){var a=gw.SKE,R=p.length;
if(a.byteLength<R)gw.SKE=a=new ArrayBuffer(R);var Q=new Uint8Array(a);for(var t=0;t<R;t+=4){Q[t]=p[t];
Q[t+1]=p[t+1];Q[t+2]=p[t+2];Q[t+3]=p[t+3]}return a};gw.pW=function(p,a,R,Q,t,N,K){if(N==null)N={buffer:S.p(a.buffer.length),rect:a.rect.clone()};
S.$M(a.buffer,N.buffer);if(p=="GEfc"){var T=[];if(R.GEfs){var d=R.GEfs.v;for(var y=0;y<d.length;y++){var E=d[y].v;
if(E.GELv&&E.GELv.v==!1)continue;T.push(E)}}else T=[R];for(var y=0;y<T.length;y++){var k;if(y==0)dS.pW(p,a,T[y],Q,t,N,K);
else{if(k==null)k={buffer:S.p(a.buffer.length),rect:a.rect.clone()};S.$M(N.buffer,k.buffer);dS.pW(p,k,T[y],Q,t,N,K)}}}if(p=="Bokh"){var D=a.rect,P=D.C,e=D.T,Y=P*e,O=Y*4,W=a.buffer.slice(0),w=R.BkDp.v/255,g=57*(.3+.7*((P+e)/2)/1750)*(R.BkIb.v/100)*(1+.2*Math.pow(w,.1)),J=parseInt(R.BkIs.v.BtIs.slice(3)),U=-R.BkIr.v*Math.PI/180,H=[];
for(var y=0;y<8;y++){var f=U+y*(Math.PI*2/J),j=U+(y+1)*(Math.PI*2/J),I=Math.cos(f),L=Math.sin(f),C=Math.cos(j),v=Math.sin(j),o=[0,0,0];
S.EF.dC([[I,L,1,0],[C,v,1,0],[1,1,1,1]],o);if(o[2]>0){o[0]*=-1;o[1]*=-1;o[2]*=-1}H.push(o[0],o[1],o[2],0)}var Z=R.BkDi.v.BtDi,B=R.BkDc;
if(Z=="BeIn"){S.wp(W,0,16777215);w=1}else if(Z=="BeIt"&&B.v.BtDc=="BeCt"){}else{var s;if(Z=="BeIt"&&B.v.BtDc=="BeCm")s=K[1];
else if(Z=="BeIa")s=K[2][B.v];if(s==null){S.wp(W,0,16777215)}else{var q;if(s.rect.xA(D))q=s.channel;
else q=s.iQ(D);S.RA(q,W,3)}}if(_.KZ){var F=_.xK(0,P,e);F.set(W);_.UZ(F,D);F.qw(D);_.filter.Qj({type:_.filter.By,Wg:new Float32Array([1/P,1/e]),SUN:w,SUY:g,SUX:new Float32Array([R.BkSb.v/100,R.BkSt.v/255]),SUT:new Float32Array([R.BkNa.v/100,R.BkNt.v.BtNt=="BeNu"?0:1,R.BkNm.v?1:0]),SUa:new Float32Array(H.slice(0,16)),SUD:new Float32Array(H.slice(16))},F.iG);
F.get(N.buffer);for(var y=0;y<O;y+=4)N.buffer[y+3]=a.buffer[y+3];return N}}if(p=="\0\0\x03\x82"){var b=Date.now(),G=gw.SHe,u=a.buffer.slice(0),gC=0,gd=0;
S.S$(u);S.wp(N.buffer,0);var P=a.rect.C,e=a.rect.T,h=R.puppetShapeList.v,z=[],r=[],i=[],gg=[];for(var gY=0;
gY<h.length;gY++){var gN=h[gY].v,gS=gC*2,M=gd*3,Cj=gN.originalVertexArray.v.length>>>2,gs=gN.indexArray.v.length>>>2,gl=new Float32Array(G(gN.originalVertexArray.v));
for(var y=0;y<Cj;y++)z[gS+y]=gl[y];var gR=new Float32Array(G(gN.deformedVertexArray.v));for(var y=0;
y<Cj;y++)r[gS+y]=gR[y];var ge=new Uint32Array(G(gN.indexArray.v));for(var y=0;y<gs;y++)i[M+y]=gC+ge[y];
var So=[],gq=[],gH=gN.PnDp.v;for(var y=0;y<gH.length;y++){So.push(gN.pinVertexIndices.v[y].v);gq.push(gH[y].v)}var gx=S.GH.SHF(gl,ge,So,gq);
for(var y=0;y<gx.length;y++)gg[gC+y]=gx[y];gC+=Cj>>>1;gd+=~~(gs/3)}S.GH.PX(u,N.buffer,a.rect,z,r,gg,i);
S.SX(N.buffer)}if(p=="\0\0\x03^"){function g$(Nd){var rh=1/Math.sqrt(Nd[0]*Nd[0]+Nd[1]*Nd[1]+Nd[2]*Nd[2]);
Nd[0]*=rh;Nd[1]*=rh;Nd[2]*=rh}var P=a.rect.C,e=a.rect.T,Y=P*e,b=Date.now(),gy=S.p(Y),Np=.3,SO=.7;S.uB(N.buffer,gy);
var SZ=S.p(Y);S.blur.Pc(gy,SZ,N.rect,16);var dU=S.p(Y);S.blur.Pc(gy,dU,N.rect,8);var gz=gy,gX=new Float32Array(Y),gJ=R.Dtl.v,SR=gJ[2].v,gF=gJ[1].v,gv=gJ[0].v,SU=R.Scl.v*40*R.textureScale.v/(SR+gF+gv);
SR*=SU;gF*=SU;gv*=SU;for(var y=0;y<Y;y++){var ga=SZ[y]*(1/255),Sg=dU[y]*(1/255),gO=gz[y]*(1/255);gO=gO*gO;
gX[y]=SR*ga+gF*Sg+gv*gO}var SC=R.blur.v;if(SC!=0){var gk=gX.slice(0);S.blur.AC(gk,gX,N.rect,SC)}var NZ=P-1,gD=e-1;
for(var gI=1;gI<gD;gI++)for(var go=1;go<NZ;go++){var y=gI*P+go,NS=y*4,NK=gX[y],gP=Np*(gX[y+1]-NK)+SO*(NK-gX[y-1]),NX=Np*(gX[y+P]-NK)+SO*(NK-gX[y-P]),Nd=[1,0,gP],Ni=[0,1,NX];
g$(Nd);g$(Ni);var j=Nd[0],NH=Nd[2],NE=Ni[1],NJ=Ni[2],Nl=-NH*NE,NL=-j*NJ,py=j*NE;N.buffer[NS]=~~(127.5+Nl*127.5);
N.buffer[NS+1]=~~(127.5+NL*127.5);N.buffer[NS+2]=~~(127.5+py*127.5)}}if(p=="dDFT"||p=="iDFT"){function SJ(J){if(J==0)return 1;
J--;J|=J>>1;J|=J>>2;J|=J>>4;J|=J>>8;J|=J>>16;return J+1}var P=a.rect.C,e=a.rect.T,Nz=SJ(Math.max(P,e)),NQ=Nz>>>1,No=new x(0,0,Nz,Nz),Ss=new x(0,0,P,e);
Ss.y=Nz-e>>>1;var Nt=P>>>1,gj=new x(0,Ss.y,Nt,e),NI=new S.LV(P*e);S.Pi(a.buffer,NI);var Si=new Float64Array(Nz*Nz),Kl=new Float64Array(Nz*Nz),q=S.p(Nz*Nz);
FFT.init(Nz);var CP=[NI.D,NI.X,NI.N];for(var y=0;y<3;y++){var pz=CP[y];q.fill(0);if(p=="dDFT"){S.JG(pz,Ss,q,No);
gw.SHp(q,Nz,Si,Kl);S.JG(q,No,pz,Ss,gj);gj.x+=Nt;No.x-=NQ-Nt;S.JG(q,No,pz,Ss,gj);gj.x-=Nt;No.x+=NQ-Nt}else{S.JG(pz,Ss,q,No,gj);
gj.x+=NQ;Ss.x+=NQ-Nt;S.JG(pz,Ss,q,No,gj);gj.x-=NQ;Ss.x-=NQ-Nt;gw.SHl(q,Nz,Si,Kl);S.JG(q,No,pz,Ss)}}S.Pe(NI,N.buffer)}if(p=="Avrg"){var KA=0,dq=0,S$=0,SS=0,NF=1;
for(var y=0;y<a.buffer.length;y+=4){var N$=a.buffer[y+3];S$+=a.buffer[y]*N$;dq+=a.buffer[y+1]*N$;KA+=a.buffer[y+2]*N$;
SS+=N$}var Kq=1/SS;KA=Math.round(NF*(KA*Kq)+(1-NF)*255);dq=Math.round(NF*(dq*Kq)+(1-NF)*255);S$=Math.round(NF*(S$*Kq)+(1-NF)*255);
S.wp(N.buffer,KA<<16|dq<<8|S$,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(p)!=-1){var SX=R.Rds.v.val,pZ=p=="\0\0\x02\xB1"?S.blur.jp:S.blur.SLA;
gw.Dc(SX,pZ,N.buffer,N.rect);if(p=="UnsM"||p=="\0\0\x03\xE8"){var Ki=R.Amnt.v.val/100,Se=0;if(p=="UnsM")Se=R.Thsh.v;
else Ki*=.75;for(var y=0;y<a.buffer.length;y++){if((y&3)==3){N.buffer[y]=a.buffer[y];continue}var SM=a.buffer[y],Sd=N.buffer[y],NT=Ki*(SM-Sd);
if(NT>0)NT=Math.max(0,NT-Se);else NT=Math.min(0,NT+Se);N.buffer[y]=Math.max(0,Math.min(255,SM+NT))}}if(p=="HghP")for(var y=0;
y<a.buffer.length;y++){if((y&3)==3){N.buffer[y]=a.buffer[y];continue}var SM=a.buffer[y],Sd=N.buffer[y];
N.buffer[y]=Math.max(0,Math.min(255,128+SM-Sd))}}if(p=="\0\0\x02\xB5"){var CA=R.Rds.v.val,Yp=R.Thsh.v,P=a.rect.C,e=a.rect.T;
gw.Uq(a.buffer,N.buffer,P,e,CA,S.eF.jy,[Yp],2)}if(p=="AdNs"){var pg=new Uint8ClampedArray(N.buffer.buffer),d$=255*R.Nose.v.val/100,NP;
if(R.Dstr.v.Dstr=="Gsn")NP=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else NP=function(){return Math.random()*2-1};for(var y=0;y<pg.length;y+=4){var CA=pg[y],pN=pg[y+1],Sx=pg[y+2],pH,ND,Yi;
if(R.Mnch.v){pH=ND=Yi=NP()}else{pH=NP();ND=NP();Yi=NP()}CA+=d$*pH;pN+=d$*ND;Sx+=d$*Yi;pg[y]=CA;pg[y+1]=pN;
pg[y+2]=Sx}}if(p=="Mdn "||p=="DstS"||p=="Mxm "||p=="Mnm "){var CA=0;if(p=="Mdn "||p=="Mxm "||p=="Mnm ")CA=R.Rds.v.val;
if(p=="DstS")CA=R.Rds.v;S.eF.SD=.5;var pZ=S.eF.sG;if(p=="Mxm ")pZ=S.eF.sa;if(p=="Mnm ")pZ=S.eF.sw;var P=a.rect.C,e=a.rect.T,dm={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[p];
gw.Uq(a.buffer,N.buffer,P,e,CA,pZ,[],dm);if(p=="DstS"){var Yp=R.Thsh.v;for(var y=0;y<P*e*4;y++){var dN=Math.abs(a.buffer[y]-N.buffer[y]);
if(dN<=Yp)N.buffer[y]=a.buffer[y]}}}if(p=="ClrH"){var gj=a.rect.clone();gj.x=gj.y=0;var CA=R.Rds.v;CA=Math.round(CA*Math.sqrt(2));
var P=gj.C,e=gj.T,NI=new S.LV(P*e);S.Pi(a.buffer,NI);S.zw(NI.D);S.zw(NI.X);S.zw(NI.N);var Ka=V.P("canvas","");
Ka.width=P;Ka.height=e;var pB=Ka.getContext("2d"),Kg=S.p(P*e*4);for(var NO=0;NO<3;NO++){var q=NO==0?NI.D:NO==1?NI.X:NI.N,YS=Math.PI*R["Ang"+(NO+1)].v/180,YX=new gh(1/CA,0,0,1/CA,0,0);
YX.rotate(YS);S.RA(q,Kg,3);var pR=m.B.hj([Kg,gj],YX,!0),Ss=pR.rect;pB.clearRect(0,0,P,e);var YN=Math.sin(YS),KO=Math.cos(YS);
for(var y=0;y<Ss.T;y++)for(var YP=0;YP<Ss.C;YP++){var go=(YP+Ss.x+.5)*CA,gI=(y+Ss.y+.5)*CA,NW=go,Nk=gI;
go=KO*NW-YN*Nk;gI=YN*NW+KO*Nk;var Y=pR.buffer[(y*Ss.C+YP<<2)+3]*(1/255),SX=CA*Math.sqrt(Y*(1/Math.PI));
pB.beginPath();pB.arc(go,gI,SX,0,2*Math.PI);pB.fill()}var CX=pB.getImageData(0,0,P,e);S.vh(CX.data,q,3)}S.zw(NI.D);
S.zw(NI.X);S.zw(NI.N);S.Pe(NI,N.buffer)}if(p=="Crst"||p=="Pntl"){var P=a.rect.C,e=a.rect.T,pZ=p=="Crst"?S.xo.SLQ:S.xo.SLJ;
pZ(a.buffer,P,e,N.buffer,R.ClSz.v,[Math.round(t.D),Math.round(t.X),Math.round(t.N)])}if(p=="Mztn"){var P=a.rect.C,e=a.rect.T,Y=P*e,NI=new S.LV(Y),pt=[NI.D,NI.X,NI.N];
S.Pi(a.buffer,NI);var dI=R.MztT.v.MztT,dw={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[dI],b=Date.now(),dH=[];
for(var y=0;y<Y;y++){dH[y]=Math.random()}var Y=P*e,pJ=Math.round(Y*dw[0]),pw=Y-P-1;for(var y=0;y<pJ;
y++){var Yu=Math.random(),Kv=1;if(Yu<.5){Kv=P;Yu*=2}else Yu=2*(Yu-.5);var Sy=Math.floor(Yu*pw),Kp=Sy+Kv;
dH[Sy]=dH[Kp]}var Cp=Math.round(P*dw[1]);for(var gI=0;gI<e;gI++)for(var y=0;y<Cp;y++){var Yu=S.O.JQ(gI*Y+y),Sy=gI*P+Math.floor(Yu*(P-1));
dH[Sy]=dH[Sy+1]}var NY=new Float64Array(256);for(var y=0;y<256;y++){var S_=y/255,rS=2*(S_<.5?S_:1-S_);
rS=dw[2]+Math.pow(rS,dw[3])*(1-dw[2]);S_=S_<.5?rS*.5:1-rS*.5;NY[y]=S_}for(var KY=0;KY<3;KY++){var q=pt[KY];
for(var gI=0;gI<e;gI++){for(var go=0;go<P;go++){var y=gI*P+go,Cg=q[y],S_=NY[Cg],Yu=dH[y];q[y]=Yu>S_?0:255}}}S.Pe(NI,N.buffer)}if(p=="Msc "){var dG=R.ClSz.v.val,P=a.rect.C,e=a.rect.T,Ca=Math.ceil(P/dG),pU=Math.ceil(e/dG),dc=S.p(Ca*pU*4);
S.scale.FT(a.buffer,P,e,dc,Ca,pU,1/dG);S.scale.FT(dc,Ca,pU,N.buffer,P,e,dG)}if(p=="Clds"||p=="DfrC"){if(p=="Clds")S.wp(N.buffer,4278190080);
var NV=S.p(256*4);for(var y=0;y<256;y++){var NS=y<<2,Yy=y/255,ge=1-Yy;NV[NS]=Math.round(Yy*Q.D+ge*t.D);
NV[NS+1]=Math.round(Yy*Q.X+ge*t.X);NV[NS+2]=Math.round(Yy*Q.N+ge*t.N)}var P=N.rect.C,e=N.rect.T,Y=P*e,CB=S.p(Y);
noise.seed(Math.random());for(var gI=0;gI<e;gI++)for(var go=0;go<P;go++){var SU=0,YC=1,pG=1;for(var y=0;
y<8;y++){var Kd=pG*(1/170);SU+=noise.perlin2(go*Kd,gI*Kd)*YC;YC*=.5;pG=pG<<1}CB[gI*P+go]=Math.round(Math.max(0,255*Math.min(1,.5+.7*SU*.5)))}var Nw=N.buffer;
for(var y=0;y<Y;y++){var NS=y<<2,KY=CB[y]<<2,CA=NV[KY],pN=NV[KY+1],Sx=NV[KY+2];if(p=="Clds"){Nw[NS]=CA;
Nw[NS+1]=pN;Nw[NS+2]=Sx}else{Nw[NS]=Math.abs(Nw[4*y]-CA);Nw[NS+1]=Math.abs(Nw[4*y+1]-pN);Nw[NS+2]=Math.abs(Nw[4*y+2]-Sx)}}}if(p=="LnsF"){var P=a.rect.C,e=a.rect.T,dI=["Zm","Nkn","Nkn1","PnVs"].indexOf(R.Lns.v.Lns),YY=R.FlrC.v,Yr=[Math.min(dI,2),R.Brgh.v/100,YY.Hrzn.v,YY.Vrtc.v],b=Date.now();
S.Shz(a.buffer,P,e,N.buffer,Yr)}if(p=="Blr "||p=="BlrM"||p=="Shrp"||p=="ShrM"){var P=a.rect.C,e=a.rect.T,rG;
if(p=="Blr ")rG=[1,2,1,2,16,2,1,2,1];else if(p=="BlrM")rG=[1,2,1,2,4,2,1,2,1];else if(p=="Shrp")rG=[0,-1,0,-1,8,-1,0,-1,0];
else rG=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];rG=S.eF.Fs(rG);var p$=a.buffer.slice(0);S.S$(p$);S.eF.DP(p$,N.buffer,P,e,rG,p=="Shrp"||p=="ShrM"?0:255);
if(p=="Shrp"||p=="ShrM")S.cn(N.buffer);S.SX(N.buffer)}if(p=="MtnB"){var Ks=-R.Angl.v*Math.PI/180,pA=R.Dstn.v.val/2,b=Date.now(),P=a.rect.C,e=a.rect.T,D=a.rect.clone();
D.x=D.y=0;if(_.KZ){var b=Date.now(),KK=N.buffer;KK.set(a.buffer);S.S$(KK);var Sk=_.xK(0,P,e);Sk.set(KK);
var dx=S.p(4);dx[0]=Math.round(128+127*Math.cos(Ks));dx[1]=Math.round(128+127*Math.sin(Ks));new Uint32Array(KK.buffer).fill(new Uint32Array(dx.buffer)[0]);
var pu=_.xK(1,P,e);pu.set(KK);_.UZ(Sk,D);Sk.qw(D);_.filter.Qj({type:_.filter.Kh,wv:pu.CD,Wg:new Float32Array([1/P,1/e]),SWY:pA/2,SOY:1},Sk.iG);
Sk.get(KK);S.SX(KK)}else{var YX=new gh;YX.rotate(Ks);var pR=m.B.hj([a.buffer,a.rect],YX,!1,null,!0);
gw.Dc(pA,S.blur.jl,pR.buffer,pR.rect);YX.zw();pR=m.B.hj([pR.buffer,pR.rect],YX,!1,N.buffer.buffer,!0,N.rect)}console.log(Date.now()-b)}if(p=="RdlB"){var P=a.rect.C,e=a.rect.T,Ki=R.Amnt.v,N_=R.BlrM.v.BlrM=="Zm",NO=R.Cntr.v,pY=NO.Hrzn.v,dQ=NO.Vrtc.v,gP=Math.max(pY,1-pY)*P,NX=Math.max(dQ,1-dQ)*e,SX=Math.sqrt(gP*gP+NX*NX),Y$=2*Math.PI*SX*1.5,Yv=Math.round(Y$),dh=Math.round(SX),gj=new x(0,0,Yv,dh),YA=S.p(Yv*dh*4),YI=N_?4:1,pn=N_?.6:8*((P+e)/2)/1400,SW=.1,Kd=1,pM=1;
S.L.jQ(a.buffer,P,e,YA,Yv,dh,pY,dQ,YI,SW,Kd,pM);var CV=N_?S.p(Yv*dh*4):null;if(N_){S.L.NJ(YA,CV,Yv,dh);
var dA=CV;CV=YA;YA=dA;gj.C=dh;gj.T=Yv}gw.Dc(pn*Ki,S.blur.jl,YA,gj);if(N_){S.L.NJ(YA,CV,dh,Yv);var dA=CV;
CV=YA;YA=dA;gj.C=Yv;gj.T=dh}S.L.jw(YA,Yv,dh,N.buffer,P,e,pY,dQ,YI,SW,Kd,pM)}if(p=="Plr "){var P=a.rect.C,e=a.rect.T;
if(R.Cnvr.v.Cnvr=="RctP")S.L.jw(a.buffer,P,e,N.buffer,P,e,.5,.5,1,0,2,P/e);else S.L.jQ(a.buffer,P,e,N.buffer,P,e,.5,.5,1,0,2,P/e)}if(p=="FndE"){var P=a.rect.C,e=a.rect.T;
gw.Sxc(a.buffer,N.buffer,P,e)}if(p=="\0\0\x03\xFD"){var YS=R.LghD.v*Math.PI/180,Yh=[Math.cos(YS),Math.sin(YS),.001],YW=[R.stylization.v,R.cleanliness.v,R.brushScale.v,R.microBrush.v,R.lightingOn.v,R.specularity.v,Yh];
S.ds.filter(a.buffer,a.rect,N.buffer,YW)}if(p=="Ofst"){var P=a.rect.C,e=a.rect.T,po=new Uint32Array(a.buffer.buffer),pI=new Uint32Array(N.buffer.buffer),NW=R.Hrzn.v,Nk=R.Vrtc.v,Ko=R.Fl.v.FlMd;
S.wp(pI,0);if(Ko=="Bckg"||Ko=="Rpt"){var gj=a.rect.clone();gj.offset(NW,Nk);S.gW(po,gj,pI,N.rect)}if(Ko=="Rpt"){var I,L,C,v,pE;
NW=Math.max(-P,Math.min(P,NW));Nk=Math.max(-e,Math.min(e,Nk));I=NW>0?NW:0;C=NW>0?P:P+NW;L=Nk>0?0:Nk+e;
v=Nk>0?Nk:e;pE=Nk>0?0:P*(e-1);for(var gI=L;gI<v;gI++)for(var go=I;go<C;go++)pI[gI*P+go]=po[pE+go-NW];
I=NW>0?0:P+NW;C=NW>0?NW:P;L=Nk>0?Nk:0;v=Nk>0?e:e+Nk;pE=NW>0?0:P-1;for(var gI=L;gI<v;gI++)for(var go=I;
go<C;go++)pI[gI*P+go]=po[pE+P*(gI-Nk)];if(NW>=0&&Nk>=0){I=0;C=NW;L=0;v=Nk;pE=0}if(NW>=0&&Nk<0){I=0;C=NW;
L=e+Nk;v=e;pE=P*(e-1)}if(NW<0&&Nk>=0){I=P+NW;C=P;L=0;v=Nk;pE=P-1}if(NW<0&&Nk<0){I=P+NW;C=P;L=e+Nk;v=e;
pE=P*e-1}for(var gI=L;gI<v;gI++)for(var go=I;go<C;go++)pI[gI*P+go]=po[pE]}if(Ko=="Wrp"){NW=(NW+100*P)%P;
Nk=(Nk+100*e)%e;var gj=new x(NW-P,Nk-e,P,e);S.gW(po,gj,pI,N.rect);gj.offset(P,0);S.gW(po,gj,pI,N.rect);
gj.offset(0,e);S.gW(po,gj,pI,N.rect);gj.offset(-P,0);S.gW(po,gj,pI,N.rect)}}if(p=="Rept"){var YK=R.Rsft.v.val/100,du=R.SpcX.v.val/100;
du=Math.max(du,-.99);var dE=R.SpcY.v.val/100;dE=Math.max(dE,-.99);var Kd=R.Scl.v.val/100,YX=new gh;YX.rotate(R.Angl.v*Math.PI/180);
YX.scale(Kd,Kd);var pV={buffer:a.buffer,rect:a.rect};S.Uo(pV);if(pV.rect.RJ()){pV.buffer=a.buffer;pV.rect=a.rect}var Nw=pV.buffer,gj=pV.rect,dj=S.l_(Nw,gj,0),Ys=new Uint32Array(Nw.buffer)[0];
if(!dj.RJ()&&!dj.xA(gj)){var YO=S.p(dj.u()*4);S.gW(Nw,gj,YO,dj);Nw=YO;gj=dj}gj.x=gj.y=0;Ys=du==0&&dE==0||R.SpcC.v?Ys:0;
function KN(go){return go<0?Math.ceil(go):Math.floor(go)}var Sm=YX.Ci(new X(gj.C,0));Sm.x=KN(Sm.x);Sm.y=KN(Sm.y);
var NG=YX.Ci(new X(0,gj.T));NG.x=KN(NG.x);NG.y=KN(NG.y);var pR=m.B.hj([Nw,gj],YX,!1),Ss=pR.rect,pc=pR.buffer,Yb=Math.round(Ss.x),pj=Math.round(Ss.y),NA=Math.max(N.rect.C,N.rect.T)/Math.min(gj.C*Kd*(1+du),gj.T*Kd*(1+dE));
NA=Math.ceil(NA*1.7);S.wp(N.buffer,Ys);for(var gI=-NA;gI<NA;gI++){for(var go=-NA;go<NA;go++){var pa=(go+gI*YK)*(1+du),Yz=gI*(1+dE);
Ss.x=Yb+Math.round(pa*Sm.x+Yz*NG.x);Ss.y=pj+Math.round(pa*Sm.y+Yz*NG.y);if(Ss.jv(N.rect))S.O.KJ("norm",pc,Ss,N.buffer,N.rect,Ss,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(p)!=-1){var Cn=K[0],P=a.rect.C,e=a.rect.T,NY,YU=0;
if(p=="LqFy")NY=Y_.Hi(new Uint8Array(R.LqMe.v).buffer);else{var Sn=p=="Dspl"?1:3;NY={Xs:Math.floor(P/Sn),hZ:Math.floor(e/Sn)};
NY.map=new Float32Array(NY.Xs*NY.hZ*2);if(p=="LnCr"){var pY=.5*(NY.Xs-1),dQ=.5*(NY.hZ-1),Yg=Math.max(Math.abs(0-pY),Math.abs(1-pY)),Yx=Math.max(Math.abs(0-dQ),Math.abs(1-dQ)),Ya=Math.sqrt(Yg*Yg+Yx*Yx),rg=0,YL=0,pX=-1,rY=2,Kd=R.LnSi.v/100,N_=1/Kd,YE=R.LnIa.v/100,rr=YE==0?1e-6:YE*4.6,YQ=N_/Ya;
for(var gI=0;gI<NY.hZ;gI++){for(var go=0;go<NY.Xs;go++){var gP=(go-pY)*YQ,NX=(gI-dQ)*YQ,CA=Math.sqrt(gP*gP+NX*NX)*rr,YG=Math.atan(CA),dz=YE>0?YG/CA:CA/YG,pM=pY+Ya*dz*gP,rH=dQ+Ya*dz*NX,y=gI*NY.Xs+go<<1;
NY.map[y]=pM-go;NY.map[y+1]=rH-gI}}}else if(p=="Dspl"&&Cn.length!=0){YU=R.UndA.v.UndA=="WrpA"?2:1;var Ke=R.DspF.v.pth,pm;
for(var y=0;y<Cn.length;y++)if(Cn[y].HN==Ke)pm=Cn[y];if(pm==null)pm=Cn[0];pm.iD();var YV=pm.UG[1],rl=S.p(YV.u());
S.uB(pm.UG[0],rl);var rq=YV.C,r$=2*R.HrzS.v/Sn,rM=2*R.VrtS.v/Sn;for(var gI=0;gI<NY.hZ;gI++){for(var go=0;
go<NY.Xs;go++){var Yg=Math.floor(YV.C*go/NY.Xs),Yx=Math.floor(YV.T*gI/NY.hZ),gP=NX=-.5+rl[Yx*rq+Yg]/255,y=gI*NY.Xs+go<<1;
NY.map[y]=gP*r$;NY.map[y+1]=NX*rM}}}else if(p=="Pnch"||p=="Twrl"||p=="Sphr"){var Ki=1,Ks=Math.PI,rX=0,NO=3,dG=1.53,dz=1;
if(p=="Pnch"||p=="Sphr")Ki=R.Amnt.v/100;if(p=="Twrl")Ks=R.Angl.v*Math.PI/180;if(p=="Sphr")rX=["Nrml","HrzO","VrtO"].indexOf(R.SphM.v.SphM);
function pZ(go){go=Math.pow(go,1-go*.3-go*go*(go*go)*.5);return-.225*Math.sin(go*Math.PI)}function rF(e,rh,CA,I,L,C,v,dz){var gP=C-I,NX=v-L,YD=I-e,lr=L-rh,Yy=gP*gP+NX*NX,Sx=2*(gP*YD+NX*lr),NO=YD*YD+lr*lr-CA*CA,ll=Math.sqrt(Sx*Sx-4*Yy*NO),ls=dz/(2*Yy),lR=(-Sx+ll)*ls,lI=(-Sx-ll)*ls;
return dz*Math.min(lR,lI)}var Ca=NY.Xs,pU=NY.hZ,rB=NY.Xs/2,gD=NY.hZ/2,rx=1/rB,CA=Math.sqrt(NO*NO+1)/NO,pz=NO+Math.sqrt(1/(NO*NO));
if(Ki<0){NO=1.72;CA=1;pz=NO;dG=-1;dz=-1}for(var gI=0;gI<pU;gI++){var NX=(gI-gD)/gD;for(var go=0;go<Ca;
go++){var gP=(go-rB)*rx;if(rX==1)NX=0;else if(rX==2)gP=0;var YR=Math.sqrt(gP*gP+NX*NX);if(YR<1&&YR!=0){var y=gI*NY.Xs+go<<1;
if(p=="Pnch"){var ry=-Ki*pZ(YR)/YR;NY.map[y]=gP*ry*rB;NY.map[y+1]=NX*ry*gD}else if(p=="Sphr"){var dA=rF(0,pz,CA,0,0,YR,NO,dz),ro=dG*Ki*(dA-1);
NY.map[y]=gP*ro*rB;NY.map[y+1]=NX*ro*gD}else if(p=="Twrl"){var YS=Math.atan2(NX,gP)-Ks*(1-YR)*(1-YR),rU=Math.cos(YS),rW=Math.sin(YS);
NY.map[y]=(YR*rU-gP)*rB;NY.map[y+1]=(YR*rW-NX)*gD}}}}}else if(p=="Shr "){var rO=JSON.parse(JSON.stringify(R.ShrP.v));
S.ps.t(rO,new gh(0,255/127,255/127,0,-2,0));var rv=S.ps.dG(rO,NY.hZ,!0);YU=R.UndA.v.UndA=="WrpA"?2:1;
for(var gI=0;gI<NY.hZ;gI++){var gP=-rv[gI]*NY.Xs;for(var go=0;go<NY.Xs;go++){var y=gI*NY.Xs+go<<1;NY.map[y]=gP}}}else if(p=="Wave"){var rJ=R.NmbG.v,rt=R.WLMn.v,rT=R.WLMx.v,ra=R.AmMn.v*(Math.PI/4),rQ=R.AmMx.v*(Math.PI/4),rw=R.SclH.v/100,rA=R.SclV.v/100,dI=R.Wvtp.v.Wvtp,rD=Math.sin;
if(dI=="WvTr")rD=function(go){go*=2/Math.PI;return-.5+Math.abs(go%2-1)};if(dI=="WvSq")rD=function(go){go*=2/Math.PI;
return 1+2*Math.floor(go%2-1)};var dC=[],Yc=new S.O.lj(R.RndS.v);for(var y=0;y<rJ;y++){dC.push(Yc.get()*10);
dC.push(Math.PI*Sn/(rt+Yc.get()*(rT-rt)));dC.push(rw*(ra+Yc.get()*(rQ-ra))/Sn);dC.push(Yc.get()*10);
dC.push(Math.PI*Sn/(rt+Yc.get()*(rT-rt)));dC.push(rA*(ra+Yc.get()*(rQ-ra))/Sn)}var rm=[],ru=[],rP=Math.max(NY.Xs,NY.hZ);
for(var y=0;y<rP;y++){var gP=0,NX=0;for(var YP=0;YP<rJ;YP++){var rC=YP*6;gP+=dC[rC+2]*rD(dC[rC]+y*dC[rC+1]);
NX+=dC[rC+5]*rD(dC[rC+3]+y*dC[rC+4])}rm[y]=NX;ru[y]=gP}for(var gI=0;gI<NY.hZ;gI++){for(var go=0;go<NY.Xs;
go++){var y=gI*NY.Xs+go<<1;NY.map[y]=ru[gI];NY.map[y+1]=rm[go]}}YU=R.UndA.v.UndA=="WrpA"?2:1}else if(p=="Rple"){YU=1;
var Ki=R.Amnt.v/100,rb=4,r_=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],rk=1,rc=1,YD=0,lZ=["Sml","Mdm","Lrg"].indexOf(R.RplS.v.RplS);
if(lZ==0){rk=1;rc=.2;YD=3}if(lZ==2){rk=1;rc=2;YD=-1;r_=r_.reverse()}var lS=function(go,gI){var NO=Math.cos,SU=0;
for(var y=0;y<rb;y++)for(var YP=0;YP<rb;YP++)SU+=r_[y*rb+YP]*NO(go*(y+YD)-gI*(YP+YD));return SU},Kb=Math.floor(50/Sn),lC=new Float32Array(Kb*Kb*2),lg=rc*Ki*.5/Sn;
for(var gI=0;gI<Kb;gI++)for(var go=0;go<Kb;go++){var pY=rk*go*2*Math.PI/Kb,dQ=rk*gI*2*Math.PI/Kb,lN=lS(pY,dQ),gP=(lS(pY+.01,dQ)-lN)*100,NX=(lS(pY,dQ+.01)-lN)*100,y=(gI*Kb+go)*2;
lC[y]=gP*lg;lC[y+1]=NX*lg}for(var gI=0;gI<NY.hZ;gI++)for(var go=0;go<NY.Xs;go++){var rW=gI%Kb,rU=go%Kb,y=gI*NY.Xs+go<<1,lp=rW*Kb+rU<<1;
NY.map[y]=lC[lp];NY.map[y+1]=lC[lp+1]}}}S.HF.RK(a.buffer,N.buffer,P,e,null,NY.map,NY.Xs,NY.hZ,YU)}return N};
var dS={};dS.SCH="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");dS.$w="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
dS.$A=["ScrC","ScrD","ScrL"];dS.$D=["SDRD","SDHz","SDLD","SDVt"];dS.eM={PntD:"paintDaubs"};dS.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
dS.gD=function(p){var a;if(p=="PntD")a={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(p=="Spt")a={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(p=="SprS")a={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(p=="BsRl")a={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(p=="HlfS")a={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(p=="GlwE")a={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(p=="StnG")a={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
a.__name="Filter Gallery";a.classID="GEfc";a.GEfk={t:"enum",v:{GEft:p}};a.GELv={t:"bool",v:!0};return a};
dS.pW=function(p,a,R,Q,t,N,K){p=R.GEfk.v.GEft;var T=a.rect.C,d=a.rect.T;if(p=="Spt"||p=="SprS"){var T=a.rect.C,d=a.rect.T,y,E=1,k=1;
y={Xs:Math.floor(T/k),hZ:Math.floor(d/k)};y.map=new Float32Array(y.Xs*y.hZ*2);var D=new S.O.lj(R.FlRs.v),P=new Float32Array(8192),e=R.SprR.v,Y=e<20?.018*e:.36+(e-20)*.128;
if(p=="SprS"){Y=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][e]}for(var O=0;
O<8192;O++)P[O]=(-1+2*D.get())*Y*70;for(var W=0;W<d;W++)for(var w=0;w<T;w++){var g=W*T+w<<1;y.map[g]=P[g%7919];
y.map[g+1]=P[(g+1)%7919]}var J=y.map.slice(0),U=p=="Spt"?R.Smth.v-1:1;if(p=="Spt"&&U!=0){dS.Ses(y.map,J,T,d,U);
dS.Sfc(J,y.map,T,d,U)}if(p=="SprS"){var H=R.StrL.v>>>1,f=H==0?2:1;dS.Ses(y.map,J,T,d,f);dS.Sfc(J,y.map,T,d,f);
if(H!=0){var j=dS.$D.indexOf(R.SDir.v.StrD),I=[1,1,1,0][j],L=[-1,0,1,1][j],C=2*H+1,v=1/C;for(var W=0;
W<d;W++)for(var w=0;w<T;w++){var g=W*T+w<<1,o=0,Z=0;for(var O=0;O<C;O++){var B=Math.max(0,Math.min(T-1,w-(H+O)*I)),s=Math.max(0,Math.min(d-1,W-(H+O)*L)),q=s*T+B<<1;
o+=y.map[q];Z+=y.map[q+1]}J[g]=o*v;J[g+1]=Z*v}y.map=J}}S.HF.RK(a.buffer,N.buffer,T,d,null,y.map,y.Xs,y.hZ,E)}if(p=="BsRl"){var F=a.rect.u(),b=S.p(F),G=b.slice(0);
S.uB(a.buffer,b);var u=R.Dtl.v,h=R.Smth.v;if(u!=15){S.blur.Pc(b,G,a.rect,Math.round((15-u)*.5));S.$M(G,b)}var z=2/T,r=2/d,i=(2+dS.$w.indexOf(R.LghD.v.LghD))*Math.PI*.25,o=Math.cos(i);
if(Math.abs(o)<.1)o=0;o=Math.sign(o);var Z=Math.sin(i);if(Math.abs(Z)<.1)Z=0;Z=Math.sign(Z);var gg=1/(o*o+Z*Z);
for(var W=0;W<d;W++)for(var w=0;w<T;w++){var O=W*T+w,I=w==T-1?b[O]-b[O-1]:b[O+1]-b[O],L=W==d-1?b[O]-b[O-T]:b[O+T]-b[O],gC=w*z-1,gd=W*r-1,gY=I==0?gC:I*.4;
gY=Math.max(-1,Math.min(1,o*gY));var gN=L==0?gd:L*.4;gN=Math.max(-1,Math.min(1,Z*gN));G[O]=128+127*(gY+gN)*gg}if(h!=1){S.blur.Pc(G,b,a.rect,Math.round((h-1)*.5));
S.$M(b,G)}S.lQ(G,N.buffer)}if(p=="PlsW__"){var F=a.rect.u(),b=S.p(F),G=b.slice(0);S.uB(a.buffer,b);var u=R.Dtl.v,h=R.Smth.v;
if(u!=15){S.blur.Pc(b,G,a.rect,Math.round((15-u)*.5));S.$M(G,b)}for(var W=0;W<d;W++)for(var w=0;w<T;
w++){var O=W*T+w,I=w==T-1?b[O]-b[O-1]:b[O+1]-b[O],L=W==d-1?b[O]-b[O-T]:b[O+T]-b[O],gS=I*I+L*L;G[O]=Math.max(0,255-gS*190)}var M=new Float32Array(F);
for(var O=0;O<F;O++)M[O]=G[O];if(h!=1){S.blur.AC(M.slice(0),M,a.rect,Math.round((h-1)*.2))}for(var W=0;
W<d;W++)for(var w=0;w<T;w++){var O=W*T+w,Cj=O<<2,gs=M[O],gl=N.buffer[Cj],gR=N.buffer[Cj+1],ge=N.buffer[Cj+2],I=w==T-1?gs-M[O-1]:M[O+1]-gs,L=W==d-1?gs-M[O-T]:M[O+T]-gs,So=-1,gq=1,gH=0,gx=I,g$=0,gy=1,SZ=L,gF=1;
I=gH*SZ-gx*gy;L=gx*g$-gq*SZ;So=gq*gy-gH*g$;var dU=1/Math.sqrt(I*I+L*L+So*So);I*=dU;L*=dU;So*=dU;var gz=w-T/2,gX=W-d/2,gJ=T*.3,dU=1/Math.sqrt(gz*gz+gX*gX+gJ*gJ);
gz*=dU;gX*=dU;gJ*=dU;var SR=Math.max(0,gz*I+gX*L+gJ*So);if(SR>1)throw SR;var gv=SR*255;N.buffer[Cj]=gF*gv+(1-gF)*gl;
N.buffer[Cj+1]=gF*gv+(1-gF)*gR;N.buffer[Cj+2]=gF*gv+(1-gF)*ge}}if(p=="PntD"){var SU=R.Shrp.v*.4,ga=R.BrsT.v.BrsT,Sg={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ga],gO=Math.round(R.Sz.v*.5);
S.eF.SD=Sg[0];var SC=S.eF.sG;gw.Uq(a.buffer,N.buffer,T,d,gO,SC,[],0);var gk=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
gk=S.eF.Fs(gk);var Np=N.buffer.slice(0);S.eF.DP(Np,N.buffer,T,d,gk,0);for(var O=0;O<a.buffer.length;
O++){var SO=N.buffer[O]-Np[O];N.buffer[O]=Math.max(0,Math.min(255,Np[O]+SU*SO))}}if(p=="GlwE"){var NZ=N.buffer.slice(0);
S.eF.SD=.5;var SC=S.eF.sG;gw.Uq(a.buffer,NZ,T,d,R.Smth.v>>>1,SC,[],0);gw.Sxc(NZ,N.buffer,T,d);S.$M(N.buffer,NZ);
S.zw(NZ);S.wp(NZ,4278190080,16777215);gw.Uq(NZ,N.buffer,T,d,R.EdgW.v>>>1,S.eF.sa,[],0);var gF=R.EdgB.v/10;
for(var O=0;O<NZ.length;O++){if((O&3)==3)continue;var gD=N.buffer[O];N.buffer[O]=Math.max(0,Math.min(255,gD*gF))}}if(p=="StnG"){var T=a.rect.C,d=a.rect.T;
S.xo.SLw(a.buffer,T,d,N.buffer,R.ClSz.v,[Math.round(Q.D),Math.round(Q.X),Math.round(Q.N)],R.BrdT.v)}if(p=="HlfS"){var gI=R.HlSz.v,go=gI*2+1,NS=R.Cntr.v,NK=dS.$A.indexOf(R.ScrT.v.ScrT),F=T*d,gP=F*4,NX=S.p(F),Nd=a.buffer,NL=0,py=0;
for(var O=0;O<gP;O+=4)NX[O>>>2]=~~(.5+(Nd[O]+Nd[O+1]+Nd[O+2])*(1/3));var Ni=NX.slice(0);S.blur.jg(Ni,NX,a.rect,gI);
var NH=Math.PI/go,NE=new Float64Array(T),o=new Float64Array(T),NJ=new Float64Array(2*T);for(var w=0;
w<T;w++){var Nl=(w-(T>>>1))*NH;NE[w]=Nl*Nl;o[w]=Math.cos(Nl);var I=w<<1;NJ[I]=Math.sin(I*(1/4.5));NJ[I+1]=Math.sin((I+1)*(1/4.5))}for(var W=0;
W<d;W++){var SJ=(W-(d>>>1))*NH,Z=Math.cos(SJ),Nz=SJ*SJ;for(var w=0;w<T;w++){var NQ=Z;if(NK==0){var No=.5+Math.sqrt(NE[w]+Nz)*4.5;
NQ=NJ[~~No]}else if(NK==1){NQ=o[w]*Z}var O=W*T+w,gv=NX[O]*(.75+.25*NQ),Ss=Nd[(O<<2)+3]*(1/255),Nt=Math.max(0,Math.min(255,~~gv));
NL+=Nt*Ss,py+=Ss;NX[O]=Nt}}NL/=py;var gj=128+1.26*(NL-128),gF=.08+.25*Math.abs((128-NL)/128),NI=1+gF*NS;
for(var O=0;O<F;O++){var gv=gj+(NX[O]-gj)*NI;NX[O]=Math.max(0,Math.min(255,~~gv))}if(NS>46)S.round(NX);
S.lQ(NX,N.buffer)}for(var O=0;O<a.buffer.length;O+=4)N.buffer[O+3]=a.buffer[O+3]};dS.SRH=function(p){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][p];
for(var Q=0;Q<13;Q++){var t=Q-6;a[Q]=1/(R*Math.sqrt(2*Math.PI))*Math.exp(-.5*(t/R)*(t/R))}return a};
dS.Ses=function(p,a,R,Q,t){var N=dS.SRH(t),K=6,T=13;for(var d=0;d<Q;d++)for(var y=0;y<R;y++){var E=d*R+y<<1,k=0,D=0;
for(var P=0;P<T;P++){var e=y+P-K,Y=e<0?0:e>=R?R-1:e,O=(d*R+Y)*2,W=N[P];k+=W*p[O];D+=W*p[O+1]}a[E]=k;
a[E+1]=D}};dS.Sfc=function(p,a,R,Q,t){var N=dS.SRH(t),K=6,T=13;for(var d=0;d<Q;d++)for(var y=0;y<R;y++){var E=d*R+y<<1,k=0,D=0;
for(var P=0;P<T;P++){var e=d+P-K,Y=e<0?0:e>=Q?Q-1:e,O=(Y*R+y)*2,W=N[P];k+=W*p[O];D+=W*p[O+1]}a[E]=k;
a[E+1]=D}};function gE(){}gE.iK=[2,5,5,7,4,4];gE.TV="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
gE.$Z="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
gE.ih=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
gE.SzE=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
gE.Me=function(p){if(p=="passThrough")return"pass";return gE.TV[gE.$Z.indexOf(p)]};gE.UX=function(p){if(p=="pass")return"passThrough";
return gE.$Z[gE.TV.indexOf(p)]};gE.getName=function(p){return gE.ih[gE.TV.indexOf(p)]};function l(){this.rect=null;
this.bQ="norm";this.opacity=255;this.$L=!1;this.KN=0;this.dI=0;this.SP=[];for(var p=0;p<10;p++)this.SP.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.Lw=null;this.AR=null;this.n=null;this.zA=null;this.SXb=30;
this.vv=l.iC();this.SXn=l.iC();this.SXk=l.iC();this.SXc=l.iC();this.FE=0;this.LK=!1;this.KS=null;this.j=new l.$G}l.iC=function(){var p=V.P("canvas");
p.width=p.height=30;return p.getContext("2d")};l.$G=function(){this.EG=!0;this.Cc=!0;this.ua=S.p(0);
this.SFL=S.p(0);this.Gt=null;this.Lu={};this.SFt=null;this.uQ=null;this.SM=null;this.vt=null;this.fD=null;
this.lg=null;this.TS=null;this.sf=null;this.ly=null;this.Si=null;this.Ek=null;this.uA=null;this.fG=!1};
l.$G.prototype.SBk=function(){this.EG=!1;this.Cc=!1;this.Gt=null;this.fG=_.KZ};l.$G.prototype.SHv=function(){gB.Sfh(this.Lu);
this.ua=S.p(0);this.SFL=S.p(0);if(this.vt)this.vt.delete();if(this.fD)this.fD.delete();this.vt=null;
this.fD=null;var p=[this.lg,this.TS,this.sf,this.ly,this.Si,this.Ek];for(var a=0;a<6;a++)if(p[a]!=null&&p[a]instanceof _.LV)p[a].delete();
this.lg=null;this.TS=null;this.sf=null;this.ly=null;this.Si=null;this.Ek=null};l.prototype.U=function(p){if(p==null)p=this.rect.clone();
if(this.j.Gt==null)this.j.Gt=p;else this.j.Gt=this.j.Gt.hT(p)};l.prototype.sc=function(){return this.add.lsct==Ns.hI||this.add.lsct==Ns.AH};
l.prototype.xP=function(){var p=this.add;return p.SoCo!=null||p.GdFl!=null||p.PtFl!=null};l.prototype.SKZ=function(){var p=this.add.lmfx;
if(p==null)return;var a=["GrFl","patternFill"];for(var R=0;R<a.length;R++){var Q=gZ.lV[gZ.order.indexOf(a[R])],t=p[Q].v;
if(t.length==0)continue;for(var N=0;N<t.length;N++){var K=t[N].v;if(K.enab.v&&(K.Algn==null||!K.Algn.v))this.j.Cc=!0}}};
l.prototype.SKD=function(){var p=this.n;if(this.xP())p=this.mg();if(!_.KZ)return p.UU();if(this.j.fD==null||this.j.EG||_.KZ!=this.j.fG){if(this.j.fD)this.j.fD.delete();
this.j.fD=new _.xI(p.yk().C,p.yk().T);this.j.fD.set(p.UU())}return this.j.fD};l.prototype.SpT=function(p){var a=this.rect,R=this.buffer;
if(!_.KZ){var Q=this.$E(p,R,a);if(Q){R=Q.Yz;a=Q.rect}return R}if(this.j.Gt!=null||_.KZ!=this.j.fG){var Q=this.$E(p,R,a);
if(Q){R=Q.Yz;a=Q.rect}var t=a;if(_.KZ!=this.j.fG||this.j.vt==null||this.j.vt.C!=t.C||this.j.vt.T!=t.T){if(this.j.vt)this.j.vt.delete();
this.j.vt=new _.LV(t.C,t.T);this.j.vt.set(R)}else{var N=this.j.Gt.clone();N.offset(-a.x,-a.y);this.j.vt.set(R,N)}}return this.j.vt};
l.prototype.eo=function(){var p=this.n;if(this.xP())p=this.mg();return p!=null&&p.isEnabled&&(p.gc()==0||p.gc()!=0&&!p.rect.RJ())};
l.prototype.$E=function(p,a,R){if(this.kF()){var Q=this.iW(p);if(Q.n&&Q.n.isEnabled&&(!Q.n.rect.RJ()||Q.n.color==0)){var t=this.add.SoLd.filterFX.v;
Q.n.Hu=t.filterMaskDensity?t.filterMaskDensity.v:255;Q.n.Ge=t.filterMaskFeather?t.filterMaskFeather.v:0;
var N=Q.buffer,K=Q.n.iQ(R);S.zw(K);a=S.clone(a);S.O.sH(N,Q.rect,a,R,K,R,0,R,1);return{Yz:a,rect:R}}}};
l.prototype.SHa=function(){var p={ml:!1,mX:!1,uD:0,uG:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)p.mX=!0;
if(this.mg()&&this.mg().isEnabled)p.ml=!0;if(p.ml&&p.mX){p.uD=this.mg().rect.x-this.add.vmsk.mg().rect.x;
p.uG=this.mg().rect.y-this.add.vmsk.mg().rect.y}return p};l.prototype.WU=function(p){if(this.add.lsct==Ns.iL)return;
var a=this,R=this.mg()!=null&&this.mg().Ol,Q=this.add.vmsk!=null&&this.add.vmsk.Ol,t=this.SHa(),N=JSON.stringify(t)!=this.j.SFt||t.ml&&R||t.mX&&Q;
if(N){if(t.mX){var K=this.add.vmsk.mg();if(t.ml){this.n=this.mg().Xl(K);this.j.uQ=new X(this.n.rect.x-this.mg().rect.x,this.n.rect.y-this.mg().rect.y)}else this.n=K}if(this.n)this.j.EG=!0;
if(this.n)this.j.SM=new X(this.rect.x-this.n.rect.x,this.rect.y-this.n.rect.y);if(t.ml)this.mg().Ol=!1;
if(t.mX)this.add.vmsk.Ol=!1;this.U()}else{if(t.ml&&t.mX){this.n.rect.x=this.mg().rect.x+this.j.uQ.x;
this.n.rect.y=this.mg().rect.y+this.j.uQ.y}}if(a.xP()){this.Dj(p)}if(a.iF()){var T;if(this.n)T=new X(this.rect.x-this.n.rect.x,this.rect.y-this.n.rect.y);
if(this.n&&this.n.isEnabled&&(this.j.SM==null||!T.xA(this.j.SM))){this.j.SM=T;this.U();this.j.EG=!0}}if(gA.get(a.add)!=null)this.j.EG=!0;
this.j.SFt=JSON.stringify(t)};l.prototype.Dj=function(p){var a=this,R=a.add.vstk,Q,t=a.add.vmsk?this.add.vmsk.mg():null,T=!0;
if(t&&t.isEnabled&&t.gc()==0)Q=t.yk().clone();else Q=new x(0,0,p.C,p.T);var N=a.mg();if(N&&N.isEnabled&&N.gc()==0)Q=Q.Yl(a.n.yk());
var K=t&&R;if(R&&(!R.strokeEnabled.v||R.strokeStyleLineWidth.v.val==0))K=!1;if(R&&!R.fillEnabled.v&&K)T=!1;
var d=S.p(Q.u()*4);if(T){if(a.add.SoCo)gB.wT(d,a.add.SoCo.Clr.v);if(a.add.GdFl)gB.vs(a.add.GdFl,d,Q,p,null,t&&t.color==0?t.rect:null);
if(a.add.PtFl)gB._e(a.add.PtFl,d,Q,p,a.add.fxrp)}if(t){var y=t.Hu;if(K)t.Hu=255;var E=S.p(Q.u());if(t.gc()!=0)S.set(E,Math.round(t.gc()));
if(t&&t.isEnabled){var k=t.yk(),D=t.UU();if(k.xA(Q))S.$M(D,E);else S.JG(D,k,E,Q)}if(a.add.SoCo&&T){S.RA(E,d,3)}else S.fq(E,Q,d,Q);
if(K)t.Hu=y}a.buffer=d;a.rect=Q;if(K){var P=gZ.up.oy.indexOf(R.strokeStyleLineAlignment.v.strokeStyleLineAlignment),e=R.strokeStyleContent.v,Y=gZ.up.sZ.indexOf(e.classID),O=this.add.vmsk.mg(R);
if(a.rect.xA(new x(0,0,p.C,p.T)))a.rect=a.rect;else if(P!=0){var W=a.rect.hT(O.yk()),w=S.p(W.u()*4);
S.gW(a.buffer,a.rect,w,W);a.buffer=w;a.rect=W}var y=O.Hu;O.Hu=255;var g=O.iQ(a.rect);O.Hu=y;if(O.color==255)S.zw(g);
var J=S.p(a.rect.u()*4);if(Y==0)gB.wT(J,e.Clr.v);if(Y==1)gB.vs(e,J,a.rect,p,null,t.color==0?t.rect:null);
if(Y==2)gB._e(e,J,a.rect,p,a.add.fxrp);var U=R.strokeStyleOpacity.v.val/100;if(U!=1)S.Ux(g,U);S.RA(g,J,3);
if(O.color==255)P=2-P;if(P==0){S.O.KJ("norm",J,a.rect,a.buffer,a.rect,a.rect,1);S.fq(E,a.rect,a.buffer,a.rect)}if(P==1){S.O.KJ("norm",J,a.rect,a.buffer,a.rect,a.rect,1)}if(P==2){S.zw(E);
S.O.sH(J,a.rect,a.buffer,a.rect,E,Q,255,a.rect,1,!1);S.zw(E)}if(O.Hu!=255){var H=S.clone(J);S.wp(H,4278190080,16777215);
S.O.KJ("norm",H,a.rect,a.buffer,a.rect,a.rect,1-O.Hu/255)}y=t.Hu;t.Hu=255;this.SFL=t.iQ(a.rect);t.Hu=y}this.U()};
l.prototype.eU=function(p,a){var R=this,Q=R.add.SoLd.Idnt.v,t=R.add.SoLd,N=p.mr(Q,t.Crop?t.Crop.v:null);
if(N==null)return;var K=N.UG;t.Sz.v.Wdth.v=K[1].C;t.Sz.v.Hght.v=K[1].T;var T=t.warp.v,d=m.B.jz(t.nonAffineTransform),y=S.L.vn(d,K[1]);
if(T&&!S.KF.QD(T)){var E=S.s.wh(S.KF.tM(T)),k=E.x,D=E.y,P=1/E.C,e=1/E.T;y=S.L.vn(d);y=S.L.Xl(y,[P,0,-k*P,0,e,-D*e,0,0])}var Y=m.B.hc(K,a?0:1,y,T,null,null,null,a);
if(Y==null){R.buffer=S.p();R.rect=new x}else if(R.kF()){var O=R.iW(p);O.buffer=Y.buffer;O.rect=Y.rect.clone();
this.Cg(p,a)}else{R.buffer=Y.buffer;R.rect=Y.rect}R.WU(p);R.U();p.U()};l.prototype.Cg=function(p,a){if(a==null)a=!1;
var R=this.iW(p),Q=this.add.SoLd.filterFX.v,t=gw.SHC(Q),N=new x(0,0,p.C,p.T),K=R.rect.hT(N),T=R.rect.clone();
T.vj(t.x,t.y);var d={buffer:null,rect:K.Yl(T)};d.buffer=S.p(d.rect.u()*4);S.gW(R.buffer,R.rect,d.buffer,d.rect);
if(Q.enab.v&&a==!1){var y=Q.filterFXList.v;for(var E=0;E<y.length;E++){var k=y[E].v;if(k.enab.v==!1)continue;
var D=S.e.gc(k.FrgC.v),P=S.e.gc(k.BckC.v),e=A.tR(k.filterID.v),Y=k.Fltr?k.Fltr.v:null;if(gA.dZ[e]!=null){var O=gA.dZ[e],W=gA.Sm(O,Y);
if(W)gA.pW(W,d.buffer,d.buffer,d.rect)}else d=gw.pW(e,d,Y,D,P,null,[p.add.lnk2?p.add.lnk2:[],this.mg(),p.Mn])}}this.rect=d.rect;
this.buffer=d.buffer;this.dT();this.U();p.U()};l.prototype.$u=function(p,a,R){this.KS=this.Ssl(p,a,R)};
l.prototype.Ssd=function(p,a){var R=this.Ssl(p,a,!0);if(R==null)return null;var Q={dj:R.FE,UJ:R.at,rect:R.Ah};
if(Q.dj==1||Q.dj==3){var t=Q.rect,N=S.p(t.C*t.T*4);S.RA(Q.UJ,N,0);S.RA(Q.UJ,N,1);S.RA(Q.UJ,N,2);S.cu(p.S.channel,p.S.rect,N,t);
Q.UJ=N}return Q};l.prototype.Ssl=function(p,a,R){var Q,t,N,K,T,d,y;if(this.FE<=0){var E=S.p(this.rect.u());
S.vh(this.buffer,E,3);Q=S.iM.Rb(a,{channel:E,rect:this.rect},"intersection");if(Q==null)return null;
var k=S.Pv(Q.channel,Q.rect);K=Q.rect.clone();T=this.rect.clone();t=S.p(K.u()*4);S.gW(this.buffer,T,t,K);
S.RA(Q.channel,t,3);N=S.clone(this.buffer);if(!R){var D=S.clone(a.channel);S.zw(D);S.fq(D,a.rect,N,T)}d=S.clone(this.buffer);
y=this.rect.clone()}if(this.FE==1||this.FE==3){var P=this.FE==1?this.mg():this.iW(p).n;K=a.rect.clone();
T=P.rect.clone();t=P.SRV(K);var N=S.clone(P.channel);if(!R)S.O.MO(P.color==255?S.ln(K.u()):S.No(K.u()),K,N,T,a.channel,K,1);
d=S.clone(P.channel);y=P.rect.clone()}return{FE:this.FE,at:t,Ah:K,a_:N,sr:T,uE:d,um:y}};l.prototype.$V=function(p,a){var R=this.KS;
if(R.FE==0){this.rect=R.um;this.buffer=R.uE;this.U()}if(R.FE==1||R.FE==3){var Q=R.FE==1?this.mg():this.iW(p).n;
Q.channel=R.uE;Q.rect=R.um;if(this.FE==1){Q.Ol=!0;this.WU(p)}if(this.FE==3)this.U()}this.KS=a};l.prototype.GZ=function(p,a){if(this.FE<=0&&a.rect.xA(this.rect)){var R=S.p(this.rect.u());
S.vh(this.buffer,R,3);if(S.xA(p.S.channel,R)){var Q=this.rect,t=this.buffer;this.KS={FE:this.FE,at:t.slice(0),Ah:Q.clone(),a_:S.p(0),sr:new x,uE:S.p(0),um:new x};
return!0}}var N=this.KS;if(N==null)return!1;if(N.FE!=this.FE)return!1;if(!a.rect.xA(N.Ah))return!1;var K=N.sr.hT(N.Ah);
if(N.FE<=0){if(!K.xA(this.rect))return!1;var T=S.p(N.at.length>>2);S.vh(N.at,T,3);if(!S.xA(a.channel,T))return!1;
var d=S.p(K.C*K.T*4);S.gW(N.a_,N.sr,d,K);S.O.KJ("norm",N.at,N.Ah,d,K,K,1);return S.xA(d,this.buffer)}if(N.FE==1||N.FE==3){var y=N.FE==1?this.mg():this.iW(p).n;
if(!K.xA(y.rect))return!1;var E=S.p(K.u());S.set(E,y.color);S.JG(N.a_,N.sr,E,K);S.O.MO(N.at,N.Ah,E,K,a.channel,K,1);
return S.xA(E,y.channel)}};l.prototype.UF=function(p,a,R,Q){var t=this.KS;t.Ah.offset(a,R);var N=t.sr.hT(t.Ah);
if(t.FE<=0){var K=S.p(N.u()*4);S.gW(t.a_,t.sr,K,N);S.O.KJ("norm",t.at,t.Ah,K,N,N,1);this.buffer=K;this.rect=N;
this.U()}else{var T=this.FE==1?this.mg():this.iW(p).n,d=S.p(N.u());S.set(d,T.color);S.JG(t.a_,t.sr,d,N);
S.O.MO(t.at,t.Ah,d,N,Q.channel,N,1);T.channel=d;T.rect=N.clone();if(this.FE==1){T.Ol=!0;this.WU(p)}if(this.FE==3)this.U()}};
l.prototype.SSb=function(){var p=[-1,0,1,2];if(this.n)p.push(-2);if(this.zA)p.push(-3);return p};l.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
l.prototype.xJ=function(p){this.add.luni=this.name=p};l.prototype.$b=function(p){var a=this.add.lnsr,R=this.add.TySh;
if(a=="rend"&&R)this.xJ(gK.cB(R.KY).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};l.prototype.Aw=function(){return(this.KN&1<<1)==0};
l.prototype.iF=function(){return(this.KN&1<<4)==0};l.prototype.lC=function(){return(this.KN&1<<5)!=0};
l.prototype.SHD=function(){var p=this;if(p.add.lnsr!="bgnd"){p.add.lnsr="bgnd";p.xJ("Background");p.add.lspf=1<<2}};
l.prototype.SHj=function(){var p=this;if(p.add.lnsr=="bgnd"){delete p.add.lnsr;p.xJ("Layer 0");p.add.lspf=0}};
l.prototype.qJ=function(p){var a=this.add.lspf;return a==null?!1:(a>>p&1)!=0};l.prototype.mt=function(p){if(p&&!this.Aw())this.KN-=2;
if(!p&&this.Aw())this.KN+=2};l.prototype.GK=function(){var p=this.add.lmfx;if(p==null)return!1;for(var a in p){if(a=="masterFXSwitch")continue;
if(a=="Scl")continue;if(a=="classID")continue;if(p[a].v.length>0)return!0}return!1};l.prototype.kF=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
l.prototype.pP=function(){var p=this.add.lmfx;if(p==null)return!1;if(!p.masterFXSwitch.v)return!1;for(var a in p){if(a=="masterFXSwitch")continue;
if(a=="Scl")continue;if(a=="classID")continue;var R=p[a].v;for(var Q=0;Q<R.length;Q++)if(R[Q].v.enab.v)return!0}return!1};
l.prototype.iY=function(p,a,R,Q){var t=new x,N=this.Gl(p,R,Q);if(N.indexOf(0)!=-1)t=t.hT(this.rect);
if(N.indexOf(1)!=-1)t=t.hT(this.mg().yk());if(N.indexOf(2)!=-1){var K=this.add.vmsk,T;if(a){if(K.mU.length>1){var d=S.d.mD(K.G,null,K.mU);
T=S.s.wh(d)}else T=S.d.Fh(K.G,K.V.length!=0?K.V:null)}else T=S.d.Fh(K.G);t=t.hT(T)}if(N.indexOf(3)!=-1)t=t.hT(this.iW(p).n.yk());
if(N.length==0&&this.xP())t=new x(0,0,p.C,p.T);return t};l.prototype.iy=function(){var p=this.add.artb.artboardRect.v,a=p.Btom.v,R=p.Left.v,Q=p.Rght.v,top=p.Top.v;
return new x(R,top,Q-R,a-top)};l.prototype.dU=function(p){var a=l.SpE(p);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=a};l.SpE=function(p){var a={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
a.Btom.v=p.y+p.T;a.Left.v=p.x;a.Rght.v=p.x+p.C;a.Top.v=p.y;return a};l.prototype.Gl=function(p,a,R){var Q=[],t=this,N=this.LK;
if(!a&&t.LK&&R){Q.push(2)}else if(t.FE<=0||a){if(t.iF())if(!this.rect.RJ())Q.push(0);if(t.mg()&&!t.mg().rect.RJ())if(t.mg().XI||a)Q.push(1);
if(t.add.vmsk)if(t.add.vmsk.XI||a)Q.push(2);if(t.kF()&&t.iW(p).n&&!t.iW(p).n.rect.RJ())Q.push(3)}else if(t.FE==1){Q.push(1);
if(t.mg().XI&&!t.mg().rect.RJ()){if(t.iF())if(!this.rect.RJ())Q.push(0);if(t.add.vmsk)if(t.add.vmsk.XI)Q.push(2)}}else if(t.FE==3&&!t.iW(p).n.rect.RJ())Q.push(3);
if(t.add.artb&&Q.indexOf(0)==-1)Q.push(0);Q.sort();return Q};l.prototype.mg=function(){var p=this;return p.zA?p.zA:p.add.vmsk&&p.add.vmsk.isEnabled?null:p.n};
l.prototype.iW=function(p){var a=this.add.SoLd.placed.v,R=p.add.FEid;if(R==null)return null;for(var Q=0;
Q<R.length;Q++)if(R[Q].id==a)return R[Q];return null};l.prototype.extend=function(p){S.SRq(this,p)};
l.prototype.Slx=function(p,a,R){var Q=p.clone();if(this.pP()){var t=this.add.lmfx,N=a.root.GE(a.M.indexOf(this)),K=t.gradientFillMulti.v,T=!1;
for(var d=0;d<K.length;d++)if(K[d].v.enab.v&&K[d].v.Algn.v)T=!0;if(T)Q=Q.hT(N.yk(a,!1));var y=gB.SzD(this,a,R);
Q.offset(y.x,y.y);Q.C+=y.C;Q.T+=y.T}return Q};l.prototype.dT=function(){if(this.iF())S.Uo(this);var p=this.mg();
if(p)p.dT()};l.prototype.clone=function(){var p=new l;p.rect=this.rect.clone();p.buffer=S.clone(this.buffer);
p.bQ=this.bQ;p.opacity=this.opacity;p.$L=this.$L;p.KN=this.KN;p.name=this.name;p.SP=this.SP.slice(0);
if(this.n)p.n=this.n.clone();if(this.zA)p.zA=this.zA.clone();for(var a in this.add)p.add[a]=pC.clone(a,this.add[a]);
return p};l.prototype.Ssr=function(p){var a=this;if(a.add.TySh)delete a.add.TySh;if(a.add.SoLd){var R=this.$E(p,this.buffer,this.rect);
if(R){this.buffer=R.Yz;this.rect=R.rect;this.U()}delete a.add.SoLd}if(a.add.SoCo||a.add.GdFl||a.add.PtFl){if(a.add.vogk)delete a.add.vogk;
if(a.add.SoCo)delete a.add.SoCo;if(a.add.GdFl)delete a.add.GdFl;if(a.add.PtFl)delete a.add.PtFl;if(a.add.vmsk){console.log(a.zA,a.n);
delete a.add.vmsk;if(a.zA==null&&a.n)delete a.n;else if(a.zA!=null&&a.n!=null){a.n=a.zA;delete a.zA}}}if(!a.sc()&&gA.get(a.add)==null&&!this.iF())this.KN-=16};
l.prototype.SsO=function(p){var a=255,R=0;if(p==2){var Q=this.add.SoLd.filterFX.v;if(Q.filterMaskDensity)a=Q.filterMaskDensity.v;
if(Q.filterMaskFeather)R=Q.filterMaskFeather.v}else{var t=p==0?this.mg():this.add.vmsk;a=t.Hu;R=t.Ge}return{Ea:p,Sn:a,dy:R}};
l.prototype.SRR=function(p){if(p.Ea==2){var a=this.add.SoLd.filterFX.v;if(p.Sn==255)delete a.filterMaskDensity;
else a.filterMaskDensity={t:"long",v:p.Sn};if(p.dy==0)delete a.filterMaskFeather;else a.filterMaskFeather={t:"doub",v:p.dy};
this.U()}else{var R=p.Ea==0?this.mg():this.add.vmsk;R.Hu=p.Sn;R.Ge=p.dy;R.Ol=!0}};l.prototype.YH=function(){var p=this,a=p.add.vmsk;
if(a==null)return;p.add.vogk=l.YH(a.G)};l.YH=function(p){var a=[],R=S.d.zX(p);for(var Q=0;Q<R;Q++)a.push(S.lm.No());
return a};var Ns={$_:0,hI:1,AH:2,iL:3};l.TU=function(){this.name="Mask";this.oB=!1;this.dV={D:255,X:0,N:0};
this.BS=50;this.yH=0;this.color=255;this.XI=!0;this.isEnabled=!0;this.Yh=!1;this.Hu=255;this.Ge=0;this.rect=new x;
this.channel=S.p(0);this.aT=null;this.SLs=null;this.Ol=!0};l.TU.prototype.Xl=function(p){if(!this.isEnabled)return p;
var a=new l.TU;a.color=Math.round(this.gc()*p.gc()/255);if(this.gc()==0&&p.gc()==0)a.rect=this.yk().Yl(p.yk());
else if(p.gc()==0)a.rect=p.yk().clone();else if(this.gc()==0)a.rect=this.yk().clone();else a.rect=this.yk().hT(p.yk());
a.channel=this.iQ(a.rect);a.Hu=255;a.Ge=0;var R=p.iQ(a.rect);S.Ss_(R,a.rect,a.channel,a.rect);return a};
l.TU.prototype.yk=function(){if(this.Ge==0)return this.rect;var p=Math.ceil(this.Ge*2.2),a=this.rect.clone();
a.vj(p,p);return a};l.TU.prototype.UU=function(){if(this.Ge==0&&this.Hu==255)return this.channel;if(this.Ge==0){var p=S.clone(this.channel);
S.zw(p);S.Ux(p,this.Hu/255);S.zw(p);return p}var a=this.yk(),R=this.SRV(a),p=S.p(a.u());S.blur.Pc(R,p,a,this.Ge);
if(this.Hu!=255){S.zw(p);S.Ux(p,this.Hu/255);S.zw(p)}return p};l.TU.prototype.gc=function(){return Math.round(255-(255-this.color)*(this.Hu/255))};
l.TU.prototype.extend=function(p){S.extend(this,p,this.color)};l.TU.prototype.dT=function(){if(this.color==255)S.zw(this.channel);
S.dT(this);if(this.color==255)S.zw(this.channel)};l.TU.prototype.clone=function(){var p=new l.TU;p.name=this.name;
p.oB=this.oB;p.dV=this.dV;p.BS=this.BS;p.yH=this.yH;p.color=this.color;p.XI=this.XI;p.isEnabled=this.isEnabled;
p.Yh=this.Yh;p.Hu=this.Hu;p.Ge=this.Ge;p.rect=this.rect.clone();p.channel=S.clone(this.channel);return p};
l.TU.prototype.SRV=function(p,a){if(a==null)a=S.p(p.u());S.set(a,this.color);S.JG(this.channel,this.rect,a,p);
return a};l.TU.prototype.iQ=function(p,a){var R=this.yk(),Q=this.UU();if(a==null)a=S.p(p.u());S.set(a,this.gc());
S.JG(Q,R,a,p);return a};l.IC=function(){this.XI=!0;this.isEnabled=!0;this.Hu=255;this.Ge=0;this.G=[{type:6},{type:8,all:0}];
this.Wx=[-3,-3];this.Rp=!1;this.zA=null;this.Ol=!0;this.V=[];this.mU=[]};l.IC.prototype.offset=function(p,a){this.zA=this.mg();
S.d.xv(this.G,new gh(1,0,0,1,p,a));this.zA.rect.offset(p,a)};l.IC.prototype.mg=function(p){if(!this.Ol&&this.zA&&p==null){this.zA.isEnabled=this.isEnabled;
return this.zA}var a=S.d.Fh(this.G);if(a.u()>3e4*3e4)a=new x(0,0,100,100);if(p){var R=Math.ceil(p.strokeStyleLineWidth.v.val);
a.vj(R,R)}a=S.s.EN(a);var Q=new l.TU;Q.color=S.d.KM(this.G)?0:255;Q.XI=this.XI;Q.isEnabled=this.isEnabled;
Q.Yh=!0;Q.rect=a;Q.Hu=this.Hu;Q.Ge=this.Ge;Q.channel=S.p(Q.rect.u());if(!a.RJ())S.d.SZc(this.G,Q.channel,Q.rect,p);
if(p==null){this.zA=Q;this.Ol=!1}return Q};l.IC.prototype.clone=function(){var p=new l.IC;p.XI=this.XI;
p.isEnabled=this.isEnabled;p.Hu=this.Hu;p.Ge=this.Ge;p.G=l.IC.Ce(this.G);p.Wx=this.Wx.slice(0);p.Rp=this.Rp;
p.V=this.V.slice(0);p.mU=this.mU.slice(0);return p};l.IC.prototype.concat=function(p){var a=p.G.slice(2);
if(a.length==0)return;a[0].gu=3;this.G=this.G.concat(a)};l.IC.Ce=function(p){var a=[];for(var R=0;R<p.length;
R++){var Q=p[R];if(Q.type>5||Q.type==0||Q.type==3)a.push(JSON.parse(JSON.stringify(Q)));else a.push({type:Q.type,Xe:Q.Xe.clone(),i:Q.i.clone(),k$:Q.k$.clone()})}return a};
l.IC.SfS=function(p,a,R){if(p.length!=a.length)return!1;for(var Q=2;Q<p.length;Q++){var t=p[Q],N=a[Q];
if(t.type!=N.type)return!1;if(t.type==0||t.type==3){if(t.length!=N.length||!R&&t.gu!=N.gu)return!1}else if(!t.Xe.xA(N.Xe)||!t.i.xA(N.i)||!t.k$.xA(N.k$))return!1}return!0};
l.IC.prototype.SfD=function(){var p=this.G;for(var a=3;a<p.length;a++)if(p[a].type==0||p[a].type==3)p[a].gu=-1};
l.lY=function(){this.type=null;this.LT=2;this.HN=null;this.Lf="";this.Fb="";this.Av="";this.open=0;this.raw=null;
this.UG=null};l.lY.prototype.clone=function(){var p=new l.lY;p.type=this.type;p.LT=this.LT;p.HN=this.HN;
p.Lf=this.Lf;p.Fb=this.Fb;p.Av=this.Av;p.open=this.open;p.raw=new Uint8Array(this.raw.buffer.slice(0));
return p};l.lY.prototype.iD=function(p){var a=this;if(a.UG)return;var R=gr.li(a.raw.buffer);if(R!="svg"&&R!="pdf")p=0;
if(R==null){alert("Unsupported format: "+A.GG(a.raw,0,4));return null}var Q=gr.xN(R);if(Q.Ja){var t=new SF(name+(R=="psd"?"":"-"+R)+".psd");
Q.Lc(a.raw.buffer,t);for(var N=0;N<t.M.length;N++)if(t.M[N].xP())t.M[N].WU(t);t.yP();t.U();t.G_();a.UG=[t.iD(),new x(0,0,t.C,t.T)]}else if(Q){var K=Q.Lc(a.raw.buffer)[0];
a.UG=[new Uint8Array(K.data),K.sE]}if(a.UG){if(p==1){var T=a.UG[0],d=a.UG[1],y=S.p(d.u());S.vh(T,y,3);
var E=S.Pv(y,d),k=S.p(E.u()*4);S.gW(T,d,k,E);a.UG=[k,E]}S.UR(a.UG)}};l.iP="0";l.iU="2";l.WC="2.5";l.Sqr="3";
l.lz="4";l.Sil="5";l.$n="5.5";l.SJS="6";l.Md="7";l.SKQ="7.5";l.dw="8";l.lq="9";l.lU="9.3";l.MY="9.5";
l.Sll="9.6";l.dn="10";l.Wz="11";l.lT="12";l.Wk="13";l.Go="13.5";l.MB="13.7";l.Og="14";l.GU="14.5";l.ft="15";
l.Kq="16";l.sd="17";l.Gu="18";l.Slm="19";l.Gn="19.5";l.Kx="19.6";l.EK="19.7";l.Ko="20";l.KD="21";l.OP="21.5";
l.sK="22";l.Er="22.5";l.ia="23";l.SvC="24";l.K_="25";l.Sev="26";l.SHO="27";l.sC="28";l.sg="29";l.sL="30";
l.CX="31";l.iw="32";l.El="33";l.sF="34";l.sW="35";l.vS="36";l.EB="36.5";l.vd="37";l.CC="37.5";l.Svg="37.6";
l.vC="38";l.sO="38.5";l.Eq="38.6";l.uL="39";l.vg="40";l.SfY="41";l.Shb="42";l.sA="50";l.sP="51";l.Ei="52";
l.EW="53";l.Mq="54";l.SSJ="54.5";l.SS_="54.6";l.SdG="54.7";l.sj="54.8";l.vN="55";l.iA="56";l.C_="57";
l.EJ="58";l.MX="59";function Cm(){this.depth=0;this.index=-1;this.w=null;this.SZl=null;this.ub=-1;this.children=null;
this.parent=null;this.u_=null}Cm.prototype.SfG=function(){var p=0;if(this.w.sc()){for(var a=0;a<this.children.length;
a++)p+=this.children[a].SfG()}else if(this.w.buffer)p+=this.w.buffer.length;return p};Cm.prototype.GE=function(p){var a=this.u_[p];
return this.u_[p]};Cm.prototype.SKB=function(p,a){var R=this.w;if(!R.Aw()||R.qJ(2)||R.qJ(31))return null;
if(R.eo()){var Q=R.n.rect.jv(p);if(!Q&&R.n.color==0)return}if(R.sc()){for(var t=0;t<this.children.length;
t++){var N=this.children[t];N.SKB(p,a)}}else if(R.rect.jv(p))a.push(this.index)};Cm.prototype.uM=function(p,a){var R=this.w;
if(!R.Aw()||R.qJ(2)||R.qJ(31))return null;if(R.eo()){if(R.n.rect.lp(p)){if(!S.uM(p,R.n.channel,R.n.rect))return null}else if(R.n.color==0)return null}if(R.sc()){for(var Q=this.children.length-1;
Q>=0;Q--){var t=this.children[Q],N=t.uM(p,a);if(N&&a==null)return N}return null}else if(R.add.TySh&&R.rect.lp(p)||S.SId(p,R.buffer,R.rect)){if(a==null)return this;
else a.push(this.index)}return null};Cm.prototype.Sfm=function(p){var a=this.w;if(!a.Aw()||a.qJ(2)||a.qJ(31))return null;
var R=a.add.vmsk;if(R&&R.isEnabled){var Q=S.d.uM(R.G,p).Yo;if(Q!=-1)return{SLH:this,SLf:Q}}if(a.sc()){for(var t=this.children.length-1;
t>=0;t--){var N=this.children[t],K=N.Sfm(p);if(K)return K}return null}return null};Cm.prototype.SlI=function(p,a){p.push(this.index);
if(this.w.sc()){p.push(this.ub);if(a)if(this.w.FE==1&&this.w.mg().XI==!1)return;for(var R=0;R<this.children.length;
R++)this.children[R].SlI(p)}};Cm.prototype.np=function(p,a,R){var Q=this.w,t,N;if(Q.sc()&&Q.add.artb!=null)a=Q.iy();
if(a.C>a.T){t=R;N=Math.floor(R*(a.T/a.C))}else{t=Math.floor(R*(a.C/a.T));N=R}if(Q.xP()&&Q.add.vmsk==null||Q.add.TySh)t=N=Math.max(N,16);
var K=N,T=Q.xP()&&Q.add.vmsk;if(T){var d=Q.rect.clone(),k,D;if(d.RJ())d=new x(0,0,20,20);var y=d.C,E=d.T;
if(y>E){k=R;D=Math.floor(R*(E/y))}else{k=Math.floor(R*(y/E));D=R}if(k*D==0)k=D=16;S.aA.Kf(Q.vv,k,D,d,Q.buffer,Q.rect,!1);
S.aA.SWE(Q.vv,k,D);K=D}else if(Q.add.TySh){S.aA.SWj(Q.vv,K,K,Q.add.TySh)}else if(Q.add.SoCo){K=Math.max(16,Math.min(t,N));
S.aA.SWu(Q.vv,K,K,Q.add.SoCo)}else if(Q.add.GdFl){S.aA.SOj(Q.vv,K,K,Q.add.GdFl)}else if(Q.add.PtFl){S.aA.SvK(Q.vv,K,K,Q.add.PtFl,p)}else if(gA.get(Q.add)!=null){S.aA.SOb(Q.vv,K,K,Q.add)}else if(Q.add.SoLd){S.aA.Kf(Q.vv,t,N,a,Q.buffer,Q.rect,!1);
S.aA.SWv(Q.vv,t,N,Q.add.SoLd)}else if(Q.sc()){K=16}else{if(Q.iF())S.aA.Kf(Q.vv,t,N,a,Q.buffer,Q.rect,!1);
else{S.aA.SOT(Q.vv,K,K)}}var P=Q.mg();if(P)S.aA.dE(Q.SXn,t,N,a,P);if(Q.kF()&&Q.iW(p)&&Q.iW(p).n){var e=Q.iW(p).n;
S.aA.dE(Q.SXc,t,N,a,e)}if(!T&&Q.add.vmsk){S.aA.dE(Q.SXk,t,N,a,Q.add.vmsk.mg(),!0)}if(Q.add.vmsk||P)K=Math.max(K,N);
Q.SXb=Math.max(K,16);if(Q.sc()&&Q.add.lsct==Ns.hI)for(var Y=0;Y<this.children.length;Y++)this.children[Y].np(p,a,R)};
Cm.prototype.SsX=function(p,a,R,Q){this.depth=R;var t=p[a];if(Q==null)Q=[];this.u_=Q;if(t.add.lsct==Ns.iL){this.SZl=t;
this.ub=a-1;this.children=[];var N=a+1;while(!0){var K=p[N];if(K==null)console.log(N,p.length);if(K.add.lsct==Ns.hI||K.add.lsct==Ns.AH){if(t.add.lyid==K.add.lyid)t.add.lyid+=16777215;
this.w=K;this.index=N-1;Q[this.index]=this;Q[a-1]=this;break}var T=new Cm;T.parent=this;N=T.SsX(p,N,R+1,Q);
this.children.push(T)}return N+1}else{this.w=t;this.index=a-1;Q[this.index]=this;return a+1}};Cm.prototype.Mx=function(p,a,R,Q){var t=this.GE(R),N=p;
while(t.parent!=null){N=t.w.Slx(N,a,Q);t=t.parent}return N};Cm.prototype.yk=function(p,a){var R=this.w,Q=new x;
if(!R.Aw())return Q;var t=R.mg();if(R.sc())for(var N=0;N<this.children.length;N++){var K=this.children[N].yk(p,!0);
Q=Q.hT(K)}else if(gA.get(R.add)!=null)Q=R.eo()&&R.n.color==0?R.n.yk().clone():new x(0,0,p.C,p.T);else if(R.xP()&&R.add.vmsk&&R.add.vmsk.isEnabled&&R.add.vstk){Q=R.rect.clone()}else if(R.xP()&&t&&t.isEnabled&&t.gc()!=0)Q=new x(0,0,p.C,p.T);
else{Q=R.iY(p,!1,!0);if(R.add.vmsk)Q=S.s.EN(Q)}return a?R.Slx(Q,p):Q};Cm.prototype.SR_=function(p,a,R,Q,t){var N=this.w,K=gB.Kt(N);
if(!N.Aw())return;if(N.opacity==255){this.SHY(p,a,R,Q,t);return}var T=S.clone(p);this.SHY(T,a,R,Q,t);
S.O.sH(T,a,p,a,null,null,0,R,N.opacity/255,N.bQ=="diss")};Cm.prototype.SHY=function(p,a,R,Q,t){var N=this.w,K=gB.Kt(N),T=gA.get(N.add)!=null,k,e;
if(N.sc()&&N.bQ=="pass"&&!N.eo()&&!(t.length>0||K.fill!=1||N.pP())){this.Ew(p,a,R,Q);return}var d=N.sc()&&N.bQ=="pass"&&(t.length>0||K.fill!=1||N.pP()),y=N.rect,E=N.buffer;
if(N.sc()){y=this.yk(Q,!1);var D=S.p(y.u()*4);k=S.p(y.u());this.Ew(D,y,R,Q);S.vh(D,k,3)}else if(T){y=a.clone();
k=S.p(y.u());S.set(k,255)}else{y=N.rect;k=S.p(y.u());S.vh(E,k,3)}if(N.eo()){var P=N.n.iQ(y);S.Ui(P,k)}if(N.pP())e=gB.MG(N.add.lmfx,N.add.fxrp,k,y,Q);
if(N.pP())gB.SXh(N.add.lmfx,e,y,p,a,R);if(N.sc()){E=S.p(y.u()*4);if(N.bQ=="pass")S.gW(p,a,E,y);if(d){var D=S.p(y.u()*4);
this.Ew(D,y,R,Q);var Y=S.p(y.u());S.vh(D,Y,3);S.fq(Y,y,E,y)}this.Ew(E,y,R,Q)}if(T){E=S.clone(p);S.wp(E,4278190080,16777215);
var O=gA.get(N.add),W=gA.Sm(O,N.add[O]);gA.pW(W,E,E,y)}var w=S.clone(E);S.wp(w,4278190080,16777215);
for(var g=0;g<t.length;g++)t[g].SR_(w,y,R,Q,[]);var J=S.p(y.u()*4);S.gW(p,a,J,y);if(T)K.Wl=!0;S.O.KJ(N.bQ=="pass"?"norm":N.bQ,w,y,J,y,R,1,K);
if(N.pP()){var U=N.j.Lu.type.FrFX,H=null;if(U.length!=0){H=U[0];for(var g=0;g<U.length;g++)if(U[g].JS.C>H.JS.C)H=U[g];
var f=S.p(H.JS.C*H.JS.T*4);S.gW(p,a,f,H.JS)}gB.SFk(N.add.lmfx,e,y,p,a,R,J,f,H?H.JS:null)}S.O.sH(J,y,p,a,k,y,0,R,1,N.bQ=="diss")};
Cm.prototype.Ew=function(p,a,R,Q){var t=this.children;for(var N=0;N<t.length;N++){var K=[];for(var T=N+1;
T<t.length;T++)if(t[T].w.$L)K.push(t[T]);else break;t[N].SR_(p,a,R,Q,K);N+=K.length}};Cm.z_={delete:function(p){if(p&&p.C)p.delete()},p:function(p,a){return _.KZ?new _.LV(p,a):S.p(p*a*4)},fP:function(p,a,R){if(_.KZ){if(p==null||p.C!=a||p.T!=R){Cm.z_.delete(p);
return new _.LV(a,R)}}else{if(p==null||!(p instanceof Uint8Array)||p.length!=a*R*4){Cm.z_.delete(p);
return S.p(a*R*4)}}return p},JG:function(p,a,R,Q,t){(_.KZ?_.lD:S.gW)(p,a,R,Q,t)},sH:function(p,a,R,Q,t,N,K,T,d,y){(_.KZ?_.O.JL:S.O.sH)(p,a,R,Q,t,N,K,T,d,y)},KJ:function(p,a,R,Q,t,N,K,T){if(_.KZ)_.O.Bo(p,a,R,Q,t,N,K,T);
else S.O.KJ(p,a,R,Q,t,N,K,T)},wp:function(p,a,R){if(_.KZ){_.UZ(p);_.Ms(a,R)}else S.wp(p,a,R)},Sfu:function(p,a,R,Q,t){if(_.KZ){_.O.JL(null,null,Q,t,p,a,R,t,1,!1)}else{if(R==255)S.fq(p,a,Q,t);
else{var N=S.p(a.u());S.lA(Q,t,N,a);S.Ui(p,N);S.wp(Q,0,16777215);S.cu(N,a,Q,t)}}},lb:function(p,a,R,Q){if(_.KZ)_.O.JL(null,null,R,Q,p,a,0,Q,1,!1);
else S.lb(p,a,R,Q)}};Cm.prototype.Mi=function(p,a,R,Q,t,N){var K=typeof N=="number";if(!this.w.sc()&&(K&&this.index>N||!K&&N.indexOf(this.index)==-1)){return}var T=this.w,d=gB.Kt(T),y=Cm.z_,E=T.xP()?T.mg():T.n;
if(!T.Aw())return;if(T.eo()&&E.rect.RJ()){return}if(T.add.vstk==null&&this.yk(Q,!1).RJ()&&T.add.artb==null){return}var k=this.yk(Q,!0).Yl(R);
if(!a.xA(R)&&!R.jv(k)&&T.add.artb==null)return;if(T.sc()&&T.add.artb){var D=T.iy(),e=0;R=R.Yl(D);var P=T.add.artb.artboardBackgroundType.v;
if(P==1)e=4294967295;else if(P==2)e=4278190080;else if(P==3)e=0;else if(P==4){e=T.add.artb.Clr.v;e=255<<24|e.Bl.v<<16|e.Grn.v<<8|e.Rd.v}else throw P;
if(_.KZ){_.UZ(p,R);_.Ms(e)}else S.SsS(p,a,R,e)}var Y=Cm.SxS(T,t);if(!Y){this.SoY(p,a,R,Q,t,N);return}T.j.lg=y.fP(T.j.lg,k.C,k.T);
y.JG(p,a,T.j.lg,k,R);this.SoY(T.j.lg,k,R,Q,t,N);y.sH(T.j.lg,k,p,a,null,null,0,R,T.opacity/255,T.bQ=="diss")};
Cm.SxS=function(p,a){return p.opacity!=255&&(a.length!=0||p.sc()||p.pP())};Cm.Sfj={j:{}};Cm.prototype.SoY=function(p,a,R,Q,t,N){var K=this.w,T=gB.Kt(K),d=gA.get(K.add)!=null,y=Cm.z_,E=Cm.SxS(K,t),k=E?1:K.opacity/255,D=K.xP()?K.mg():K.n,P=K.sc()&&K.bQ=="pass"&&!(t.length>0||T.fill!=1||K.pP()),e=!K.sc()&&!d&&!K.pP()&&t.length==0,Y=d&&!K.pP()&&t.length==0,U=null,H=null,f=null,C;
if(P||e||Y){var O=p,W=a;if(K.eo()){W=this.yk(Q,!1);O=K.j.ly=y.fP(K.j.ly,W.C,W.T);y.JG(p,a,K.j.ly,W)}if(P)this.Mo(O,W,R,Q,N);
if(e)y.KJ(K.bQ,K.SpT(Q),K.rect,O,W,R,k,T);if(Y){var w=K.eo()&&D.gc()==0?D.yk().clone():W.clone(),g=K.j;
if(w.xA(new x(0,0,Q.C,Q.T)))g=Cm.Sfj;g.sf=this.Spk(O,W,g.sf,w,K.add);T.Wl=!0;y.KJ(K.bQ,g.sf,w,O,W,R,k,T)}if(K.eo())y.sH(O,W,p,a,K.SKD(),D.yk(),D.gc(),R,1,K.bQ=="diss");
K.j.SBk();return}var J=K.sc()&&K.bQ=="pass"&&(t.length>0||T.fill!=1||K.pP()),w=K.rect;if(K.sc()){w=this.yk(Q,!1);
f=K.j.sf=y.fP(K.j.sf,w.C,w.T);y.wp(f,0);this.Mo(f,w,w,Q,N);H=y.fP(K.j.TS,w.C,w.T);y.JG(f,w,H,w)}else if(d){w=K.eo()&&D.gc()==0?D.yk().clone():a.clone();
H=y.fP(K.j.TS,w.C,w.T);y.wp(H,4294967295)}else{w=K.rect;U=K.SpT(Q);H=y.fP(K.j.TS,w.C,w.T);y.JG(U,w,H,w)}K.j.TS=H;
if(K.eo())y.Sfu(K.SKD(),D.yk(),D.gc(),H,w);if(K.pP())if(K.j.Gt||K.j.Cc||K.j.fG!=_.KZ||K.j.EG||K.sc()){var j=S.p(w.C*w.T);
if(_.KZ){if(!K.sc()&&K.mg()==null&&K.rect.xA(w))S.vh(K.buffer,j,3);else{var I=S.p(w.C*w.T*4);H.get(I);
S.vh(I,j,3)}}else S.vh(H,j,3);if(K.j.Cc||K.j.fG!=_.KZ||!S.xA(j,K.j.ua)){var L=null;if(K.xP()&&K.add.vmsk&&K.add.vmsk.isEnabled&&K.add.vmsk.mg().color==0)L=K.add.vmsk.mg().rect;
gB.Szu(K.j.Lu,j,w,K.add.lmfx,K.add.fxrp,Q,L);K.j.ua=j}}if(K.pP())gB.SXh(K.add.lmfx,K.j.Lu,w,p,a,R);if(K.sc()){U=y.fP(K.j.ly,w.C,w.T);
y.wp(U,0);if(K.bQ=="pass")y.JG(p,a,U,w);if(J)y.lb(f,w,U,w);this.Mo(U,w,R,Q,N);K.j.ly=U}if(d){U=K.j.ly=this.Spk(p,a,K.j.ly,w,K.add)}if(K.sc()||d)C=U;
else{C=y.fP(K.j.ly,w.C,w.T);y.JG(U,w,C,w,R);K.j.ly=C}y.wp(C,4278190080,16777215);for(var v=0;v<t.length;
v++)t[v].Mi(C,w,R,Q,[],N);var o=K.j.Si=y.fP(K.j.Si,w.C,w.T);y.JG(p,a,o,w,R);if(d)T.Wl=!0;y.KJ(K.bQ=="pass"?"norm":K.bQ,C,w,o,w,R,1,T);
if(K.pP()){var Z=K.j.Lu.type.FrFX,B=null;if(Z.length!=0){B=Z[0];for(var v=0;v<Z.length;v++)if(Z[v].JS.C>B.JS.C)B=Z[v];
K.j.Ek=y.fP(K.j.Ek,B.JS.C,B.JS.T);y.JG(p,a,K.j.Ek,B.JS,R);K.j.uA=y.fP(K.j.uA,B.JS.C,B.JS.T)}gB.SFk(K.add.lmfx,K.j.Lu,w,p,a,R,o,K.j.Ek,K.j.uA,B?B.JS:null)}if(!_.KZ){var s=S.p(w.u());
S.vh(H,s,3);H=s}y.sH(o,w,p,a,H,w,0,R,1,K.bQ=="diss");K.j.SBk()};Cm.prototype.Spk=function(p,a,R,Q,t){var N=gA.get(t),K;
if(N)K=gA.Sm(N,t[N]);var T=Cm.z_;R=T.fP(R,Q.C,Q.T);if(!(_.KZ&&a.xA(Q)))T.JG(p,a,R,Q);if(K){if(_.KZ){var d=Q.clone();
d.x=d.y=0;if(a.xA(Q)){_.UZ(R,d);gA.Qj(K,p.CD,d)}else{_.UZ(R,Q);R.qw(Q);gA.Qj(K,R.iG,d)}}else gA.pW(K,R,R,Q)}return R};
Cm.prototype.Mo=function(p,a,R,Q,t){var N=this.children;for(var K=0;K<N.length;K++){var T=[];for(var d=K+1;
d<N.length;d++)if(N[d].w.$L)T.push(N[d]);else break;N[K].Mi(p,a,R,Q,T,t);K+=T.length}};function SF(p){this.name=p;
this.LP=-1;this.ii=null;this.tx=null;this.JZ=null;this.JM=null;this.C=0;this.T=0;this.M=[];this.yV={};
this.add={};this.buffer=null;this.Bl=4;this._$=null;this.po=72;this.SE={};this.V=[];this.zk=[[],[]];
this.GD=[];this.Fz=[];this.pU=[SF.gg("Work Path")];this.Op=[];this.FS=null;this.FA={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.Fc=null;this.YO=!1;this.Sxn=!1;this.ui=!1;this.d_=!1;this.$h=!1;this.At=!1;this.if=!1;
this.cN=!1;this.Es=!1;this.Gt=null;this.un=null;this.KS={};this.S=null;this.Mn=[];this.JO=[];this.R={Eo:{},vI:[],SZs:[],tn:[],Mp:[],FF:null,I$:null,XG:null,Ua:null,DU:[],qm:[]};
this.history=[new gm([1,0],null)];this.oR=0;this.MR=0;this.z=new rd(this)}SF.prototype.zu=function(){var p=this.Mn,a=this.Mn.length;
if(a!=0&&p[a-1].name=="Quick Mask")return p[a-1]};SF.prototype.SRl=function(){var p=this.name;return p.slice(0,p.length-4).endsWith("-sketch")};
SF.prototype.RZ=function(p){this.add.artd={classID:"null",Cnt:{t:"long",v:p},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
SF.prototype.Cp=function(p){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(p)==-1)this.add.FEid.push(p)};
SF.prototype.MU=function(p){var a=this.add.FEid.indexOf(p);this.add.FEid.splice(a,1);if(this.add.FEid.length==0)delete this.add.FEid};
SF.prototype.U=function(p){if(p==null)p=new x(0,0,this.C,this.T);if(this.Gt==null)this.Gt=p;else this.Gt=this.Gt.hT(p)};
SF.prototype.SzS=function(p){return this.Gt!=null};SF.prototype.EE=function(p){var a=this.M[p],R=this.root.GE(p);
if(R==null)return!1;if(a.sc()||R.parent.children.indexOf(R)==0)return!1;return!0};SF.SzR=function(p){if(p.add.lnk2)for(var a=0;
a<p.add.lnk2.length;a++){var R=p.add.lnk2[a].HN;p.add.lnk2[a].HN=SF.zP()+R.slice(8);for(var Q=0;Q<p.M.length;
Q++){var t=p.M[Q].add.SoLd;if(t&&t.Idnt.v==R)t.Idnt.v=p.add.lnk2[a].HN}}};SF.prototype.SIk=function(p,a,R){p.sort(function(D,P){return D-P});
var top=p[p.length-1],Q=this.M.slice(0),t=this.V.slice(0),N=[],K=[];for(var T=0;T<this.M.length;T++){if(p.indexOf(T)!=-1)K.push(this.M[T]);
else N.push(this.M[T])}this.ag(K);this.V=[];var d=this.root.yk(this,!0);if(a)d=d.Yl(a);if(R)d=d.hT(R);
if(d.RJ())d=new x(0,0,100,100);var y=new x(-d.x,-d.y,this.C,this.T),E=new Uint8Array(gr.PSD.WL(this,0,0,[!0,!1]));
this.ag(Q);this.V=t;var k=new SF(this.M[top].getName());gr.PSD.Lc(E.buffer,k);delete k.add.artd;k.zk=[[],[]];
k.GD=[];k.ag(k.M);SF.SzR(k);m.RO.NU(k,d);k.U();k.G_();k.iD();return[k,d,N,top]};SF.prototype.SqV=function(p,a){var R=this.SIk(p),Q=R[0],t=R[1],N=R[2],top=R[3],K=new Uint8Array(gr.PSD.WL(Q));
if(a)N=this.M.slice(0);var T=this.Cf(K,Q.name,t.x,t.y);if(top==this.M.length-1)N.push(T);else N.splice(a?top+1:top-p.length+1,0,T);
this.ag(N);this.V=[N.indexOf(T)]};SF.zP=function(){var p="";for(var a=0;a<8;a++)p+=Math.floor(Math.random()*16).toString(16);
return p};SF.prototype.yK=function(p){if(p==null)return;if(this.add.Patt==null)this.add.Patt=[];var a=this.add.Patt;
for(var R=0;R<a.length;R++)if(a[R].id==p.id)return;a.push(p)};SF.prototype.Cf=function(p,a,R,Q,t){if(this.add.lnk2==null)this.add.lnk2=[];
var N=null,D=!1;for(var K=0;K<this.add.lnk2.length;K++)if(S.xA(p,this.add.lnk2[K].raw)){N=this.add.lnk2[K].HN;
break}if(N==null){var T=gr.li(p.buffer);N=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f";var d=new l.lY;d.HN=N;
d.Av=T=="psd"?"8BIM":"    ";d.Lf=a+"."+T;d.Fb=T=="psd"?"8BPB":"    ";d.open=0;d.raw=p;d.type="liFD";
d.LT=2;this.add.lnk2.push(d)}var y=this.mr(N),E=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f",k=this.hX();k.xJ(a);
if(y!=null){var P=k.rect=y.UG[1].clone();k.rect.offset(R,Q);var e=Math.max(P.C/this.C,P.T/this.T),D=t&&e>1.0001;
if(D){P.C=Math.round(P.C/e);P.T=Math.round(P.T/e);P.x=Math.round((this.C-P.C)/2);P.y=Math.round((this.T-P.T)/2)}k.buffer=S.p(k.rect.u()*4);
if(!D)S.$M(y.UG[0],k.buffer)}k.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:N},placed:{t:"TEXT",v:E},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:S.KF.p(k.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:k.rect.C},Hght:{t:"doub",v:k.rect.T}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var Y=S.s.Ht(k.rect).r;k.add.SoLd.Trnf=m.B.Ql(Y);k.add.SoLd.nonAffineTransform=m.B.Ql(Y);if(D)k.eU(this,!1);
return k};SF.prototype.iD=function(p){if(p!=null){this.U();this.G_(p);var a=this.buffer;if(_.KZ)this.Fc.get(a);
else a=a.slice(0);this.U();this.G_();return a}if(this.Gt){this.G_();this.Gt=null}if(_.KZ&&this.un){this.Fc.get(this.buffer);
this.un=null;this.At=!0}return this.buffer};SF.prototype.SZ$=function(){for(var p=0;p<this.M.length;
p++)this.M[p].SKZ();this.U()};SF.prototype.SgI=function(){for(var p=0;p<this.M.length;p++)if(this.M[p].add.lmfx)this.M[p].j.Cc=!0};
SF.prototype.E_=function(){var p=this.yV.r1044;if(p==null){p=this.yV.r1044=new Uint8Array(4);var a=0;
for(var R=0;R<this.M.length;R++)a=Math.max(a,this.M[R].add.lyid);A.ye(p,0,a)}var Q=A.m(p,0);A.ye(p,0,Q+1);
return Q+1};SF.prototype.Fp=function(p,a,R){if(p==null)p=!0;var Q=this;if(Q.JO.length!=0)return!0;if(Q.V.length!=1){if(p)alert(Q.V.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Ej(p,a,R)};SF.prototype.Ej=function(p,a,R){if(p==null)p=!0;if(a==null)a=!1;var Q=this;
if(Q.JO.length!=0)return!0;for(var t=0;t<Q.V.length;t++){var N=Q.M[Q.V[t]],K=a||N.FE<=0;if(N.add.lsct!=null&&N.add.lsct!=Ns.$_&&N.FE!=1){if(p)alert(gL.get([15,7,2]));
return!1}if(K&&!N.iF()){if(p)alert(gL.get([15,7,2]));return!1}if(K&&N.add.TySh){return this.SgO(p,[15,7,3],R)}if(K&&N.add.SoLd){return this.SgO(p,[15,7,4],R)}if(N.qJ(1)||N.qJ(31)){if(p)alert(gL.get([6,57,0]));
return!1}}return!0};SF.prototype.SgO=function(p,a,R){if(p&&typeof p=="object"){var Q=window.confirm(gL.get(a)+". "+gL.get([6,8])+"?");
if(Q){var t=new $(V.E.JF,!0);t.data={zt:"rasterizeLayer",UD:{classID:"rasterizeLayer",null:Nr.Fx("Lyr",!0)}};
p.Y(t)}return R?Q:!1}if(p)alert(gL.get(a));return!1};SF.prototype.Spe=function(p){var a=this.root.GE(p);
if(a.parent)return a.w.Aw()&&this.Spe(a.parent.index);else return a.w.Aw()};SF.prototype.SYl=function(p){var a=this.root.GE(p);
if(a==null)return null;var R=a.w;if(R.add.artb)return R.iy();if(a.parent)return this.SYl(a.parent.index);
return null};SF.prototype.Ssi=function(){var p=this.M[this.V[0]];if(p.FE<=0&&!p.rect.jv(this.S.rect)){alert("Selected area is empty.");
return!1}if(this.V.length==1&&this.S){var a=S.p(this.S.channel.length);S.lA(p.buffer,p.rect,a,this.S.rect);
S.Ui(this.S.channel,a);if(S.UM(a,0)){alert("Selected area is empty.");return!1}}return!0};SF.prototype.Co=function(){if(this.yV["r"+1037]==null)this.mZ(30);
return A.Cd(this.yV["r"+1037],0)};SF.prototype.mZ=function(p){if(this.yV["r"+1037]==null)this.yV["r"+1037]=new Uint8Array(4);
if(A.Cd(this.yV["r"+1037],0)==p)return;A.wE(this.yV["r"+1037],0,p);this.SgI()};SF.prototype.RS=function(){if(this.yV["r"+1049]==null)this.md(30);
return A.Cd(this.yV["r"+1049],0)};SF.prototype.md=function(p){if(this.yV["r"+1049]==null)this.yV["r"+1049]=new Uint8Array(4);
if(A.Cd(this.yV["r"+1049],0)==p)return;A.wE(this.yV["r"+1049],0,p);this.SgI()};SF.prototype.yL=function(p){if(this.add.lnk2==null)return null;
for(var a=0;a<this.add.lnk2.length;a++)if(this.add.lnk2[a].HN==p)return this.add.lnk2[a];return null};
SF.prototype.SzI=function(p){var a=this.yL(p);if(a==null)return!1;var R=gr.li(a.raw.buffer);if(R==null)return!1;
if(gr.xN(R)!=null||R=="psd")return!0;return!1};SF.prototype.mr=function(p,a){var R=this.yL(p);if(R==null)return null;
R.iD(a);if(R.UG)return R};SF.prototype.G_=function(p){if(p==null)p=1e9;var a=this.C,R=this.T,Q=new x(0,0,a,R),t=Q.Yl(this.Gt);
if(_.KZ&&this.Fc==null)this.Fc=new _.LV(a,R,!0);if(this.buffer==null||this.buffer.length!=a*R*4||_.KZ&&(this.Fc.C!=a||this.Fc.T!=R)){this.buffer=S.p(a*R*4);
if(this.Fc)this.Fc.delete();if(_.KZ)this.Fc=new _.LV(a,R,!0)}if(t.RJ())return;if(!t.xA(Q)){if(!_.KZ){var N=S.No(t.u()*4);
S.gW(N,t,this.buffer,Q)}if(_.KZ){_.UZ(this.Fc,t);_.Ms(0)}}else{if(_.KZ){this.Fc.set(null)}else{S.set(this.buffer,0)}}var K=Date.now(),T=_.KZ?this.Fc:this.buffer;
this.root.Mi(T,Q,t,this,[],p);this.un=this.Gt.clone()};SF.prototype.hX=function(p){var a=new l;a.rect=new x(0,0,0,0);
a.buffer=S.p(1);a.add.luni=new X(0,0);if(p!=!0)a.add.lyid=this.E_();a.add.lsct=Ns.$_;a.add.lclr=0;a.add.fxrp=new X(0,0);
return a};SF.prototype.Df=function(p){var a=this.hX(p);a.xJ("</Layer group>");a.add.lsct=Ns.iL;a.KN=24;
return a};SF.prototype.mR=function(){return this.oR!=this.MR};SF.prototype.sv=function(p){while(this.history.length>this.oR+1)this.history.pop();
if(this.MR>this.oR)this.MR=-1;if(p.Q.id!=m.aW){this.ui=!0;if(this.FA.lastAppliedComp){delete this.FA.lastAppliedComp;
this.At=!0}}this.history.push(p);this.oR++;this.At=!0;var a=gU.XB()?60:30,R=0;for(var Q=this.history.length-1;
Q>=0;Q--){var t=this.history[Q];if(t.uW)continue;R++;if(R==a){this.oR-=Q;this.history=this.history.slice(Q);
break}}};SF.prototype.Lx=function(){if(this.oR!=this.history.length-1)return null;return this.history[this.history.length-1]};
SF.prototype.Dh=function(p,a,R,Q){if(p==null)p=!1;var t=a!=null?[a]:this.V.slice(0);if(Q){var N=[];for(var K=0;
K<t.length;K++){var T=this.M[t[K]].dI;if(T!=0&&N.indexOf(T)==-1)N.push(T)}for(var K=0;K<this.M.length;
K++){var T=this.M[K].dI;if(T!=0&&N.indexOf(T)!=-1&&t.indexOf(K)==-1)t.push(K)}}var d=[];for(var K=0;
K<t.length;K++){var y=this.RN(t[K],p);for(var k=0;k<y.length;k++)if(d.indexOf(y[k])==-1)d.push(y[k]);
if(R){var D=this.root.GE(t[K]);while(D.parent!=null&&D.parent.parent!=null){D=D.parent;if(d.indexOf(D.index)==-1){d.push(D.index,D.ub)}}}}return d};
SF.prototype.RC=function(p,a,R){var Q=this,t=Q.Dh(!1,p,null,R);t.sort(function(w,g){return w-g});var N={};
for(var K=0;K<Q.M.length;K++){var T=Q.M[K].getName();N[T]=!0}var d=[];for(var y=0;y<t.length;y++){var E=Q.M[t[y]].clone(),O,W;
E.add.lyid=Q.E_();E.add.lspf=0;if(E.kF()){var k=E.iW(Q),D=SF.SRd(k);Q.Cp(D);E.add.SoLd.placed.v=D.id}E.WU(Q);
var P=E.getName(),e=P.length;while(48<=P.charCodeAt(e-1)&&P.charCodeAt(e-1)<=57)e--;var Y=parseInt(P.slice(e));
if(isNaN(Y)){if(P.endsWith(" copy")){Y=1;O=P.slice(0,P.length-5)}else{Y=0;O=P}}else if(P.slice(0,e).endsWith(" copy ")){Y=Y;
O=P.slice(0,e-6)}else{Y=0;O=P}Y++;while(!0){W=O+" copy"+(Y==1?"":" "+Y);if(N[W]==null)break;Y++}if(P=="Background"&&N["Layer 1"]==null)W="Layer 1";
if(a!=!0)E.xJ(W);N[W]=!0;d.push(E)}return d};SF.SRd=function(p){return{id:SF.zP()+p.id.slice(8),buffer:S.clone(p.buffer),rect:p.rect.clone(),n:p.n?p.n.clone():null}};
SF.SRs=function(p){return{id:p,rect:new x,buffer:S.p(1),n:new l.TU}};SF.gg=function(p,a){if(a==null)a={vmsk:new l.IC};
if(a.vogk==null){a.vogk=[];var R=S.d.zX(a.vmsk.G);for(var Q=0;Q<R;Q++)a.vogk.push(S.lm.No())}return{name:p,Yo:0,add:a}};
SF.prototype.h$=function(p){var a=[],R=[],Q=this,K=0;for(var t=1;t<Q.pU.length;t++){var N=Q.pU[t];N.Yo=-1-t;
a.push(N);if(Q.Op.indexOf(t)!=-1)R.push(a.length-1)}if(Q.pU[0].add.vmsk.G.length>2){var N=Q.pU[0];N.Yo=-1;
a.push(N);if(Q.Op.indexOf(0)!=-1)R.push(a.length-1)}var T=Q.FS==null;if(T)Q.FS=[];for(var t=Q.V.length-1;
t>=0;t--){var d=Q.M[Q.V[t]],y=d.add.TySh;if(d.add.vmsk!=null&&(d.LK||d.xP())){var N=SF.gg("\""+d.getName()+"\" Shape Path",d.add);
N.Yo=Q.V[t];a.push(N);if(T)Q.FS.push(K);if(Q.FS.indexOf(K)!=-1)R.push(a.length-1);K++}if(p!=!0&&y&&y.add&&S.KF.QD(y.oJ)){var N=SF.gg("\""+d.getName().slice(0,10)+"..\" Text Path",y.add);
N.Yo=1e6+Q.V[t];a.push(N);R.push(a.length-1);K++}}if(R.length==0&&p){Q.pU[0].Yo=-1;Q.Op=[0];R.push(a.length);
a.push(Q.pU[0])}return[a,R]};SF.prototype.RN=function(p,a){var R=[],Q=this.root.GE(p);if(Q)Q.SlI(R,a);
return R};SF.prototype.mA=function(){this.root.np(this,new x(0,0,this.C,this.T),32)};SF.prototype.ag=function(p){for(var a=0;
a<this.M.length;a++){var R=this.M[a];if(p.indexOf(R)==-1){R.j.SHv();R.U()}}this.M=p.slice(0);this.yP()};
SF.prototype.yP=function(){var p=this.M,a=p.length;this.root=new Cm;var R=this.hX(!0);R.bQ="pass";R.add.lsct=Ns.hI;
var Q=this.Df(!0),t=[Q];for(var N=0;N<a;N++)t.push(p[N]);t.push(R);this.root.SsX(t,0,0);if(this.V.length==0)this.V=[a-1]};
SF.prototype.Mv=function(){if(this.V.length!=1)return;var p=this.root.GE(this.V[0]);while(p.parent!=null){var a=p.parent.w;
a.add.lsct=Ns.hI;p=p.parent}this.$h=this.SLi=!0};SF.MJ=function(p,a,R,Q,t){var N={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:Q},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:p}},Hght:{t:"UntF",v:{type:"#Rlt",val:a}},Rslt:{t:"UntF",v:{type:"#Rsl",val:R}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:t}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{zt:"make",UD:N}};SF.Sze=function(p,a){var R=0,Q=0,t=72,N=a.Syd,K=p.preset&&p.preset.v=="Clipboard";
if(K){R=N.C;Q=N.T}else{R=p.Wdth.v.val;Q=p.Hght.v.val;t=p.Rslt.v.val}var T=new SF((p.Nm?p.Nm.v:gL.get([11,7]))+".psd");
T.C=R;T.T=Q;T.po=t;var d=T.hX();d.xJ("Background");T.ag([d]);d.add.lspf=1<<2;var y=p.Fl?p.Fl.v.Fl:"Wht";
if(y!="Trns"){var E=a.eJ;E=(E&255)<<16|(E>>>8&255)<<8|E>>>16;d.rect=new x(0,0,R,Q);d.buffer=S.p(R*Q*4);
S.wp(d.buffer,{Wht:4294967295,BckC:255<<24|E}[y])}T.buffer=S.p(R*Q*4);return T};function rd(p){this.NI=p;
this.f=0;this.A=new X(0,0);this.mC=[1,1,1];this.c=new x(0,0,1,1);this.uk=new x(0,0,p.C,p.T);this.cH=null;
this.XY=null;this.TY=new Uint32Array(0);this.wJ=null;this.fV=null;this.sz=S.p(0);this.Jj=null;this.MI=null}rd.prototype.oD=function(p,a){var R=Math.round((this.c.C-this.NI.C*this.f)/2+this.A.x),Q=Math.round((this.c.T-this.NI.T*this.f)/2+this.A.y),t=(p-R)/this.f,N=(a-Q)/this.f;
return new X(t,N)};rd.prototype.Jk=function(p,a){var R=Math.round((this.c.C-this.NI.C*this.f)/2+this.A.x),Q=Math.round((this.c.T-this.NI.T*this.f)/2+this.A.y),t=p*this.f+R,N=a*this.f+Q;
return new X(t,N)};rd.prototype.vp=function(){var p=this.NI,a=this.f,R=this.c.C,Q=this.c.T,t=Math.floor(p.C*a),N=Math.floor(p.T*a);
if(a<.99){var K=S.cG(null,new x(0,0,p.C,p.T),a).rect;t=K.C;N=K.T}return new x(Math.round((R-t)/2+this.A.x),Math.round((Q-N)/2+this.A.y),t,N)};
rd.prototype.mP=function(){var p=this.NI,a=this,R=1/a.f,Q=this.vp();return new x(Math.floor((a.c.x-Q.x)*R),Math.floor((a.c.y-Q.y)*R),Math.ceil(a.c.C*R)+1,Math.ceil(a.c.T*R)+1)};
function gZ(){}gZ.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");gZ.lV="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
gZ.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];gZ.SIC=["DrSh","IrSh","SoFi","GrFl","FrFX"];
gZ.Yw=["Clr"];gZ.aH="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");gZ.QN=["Ptrn","Scl","Algn","phase"];
gZ.mo={yy:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",SIN:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",SIz:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",m_:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
gZ.mo.yy="\"Clr\": "+gZ.mo.yy;gZ.mo.e="\"Grad\":"+gZ.mo.SIN+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
gZ.mo.m_="\"Ptrn\":"+gZ.mo.m_+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
gZ.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
gZ.pB=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+gZ.mo.yy+","+gZ.mo.e+","+gZ.mo.m_+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gZ.mo.yy+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gZ.mo.e+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gZ.mo.m_+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
gZ.e={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
gZ.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],MT:["SClr","GrFl","Ptrn"],SzH:[[13,0],[12,37],[12,62]]};
gZ.vY={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],SIL:["SrcC","SrcE"],Sz$:[[19,5,1],[12,69]]};gZ.Cu={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],See:["SfBL","PrBL","Slmt"],SzM:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
gZ.up={yo:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],oy:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],sZ:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+gZ.mo.yy+"}")},strokeStyleResolution:{t:"doub",v:72}}};
gZ.gr=[{classID:"null",Clr:JSON.parse(gZ.pB[5]).Clr},{classID:"null",Grad:JSON.parse(gZ.pB[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(gZ.pB[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var gB={};gB.SJK=function(p,a,R){if(p.RJ())return;var Q=S.d.SLt(p.G);Q.x=Math.floor(Q.x*a);Q.C=Math.ceil(Q.C*a);
Q.y=Math.floor(Q.y*R);Q.T=Math.ceil(Q.T*R);p.rect=Q;p.channel=S.p(Q.u());S.Ou.width=Q.C;S.Ou.height=Q.T;
var t=S.c;t.fillStyle="#ffffff";S.d.SLT(t,p.G,a,R,-Q.x,-Q.y);t.fill();var N=t.getImageData(0,0,Q.C,Q.T).data;
S.vh(N,p.channel,3)};gB.Mw=function(p,a){function R(p,P){if(p==null)return null;var e=p[P].v,Y;if(e.length!=0){Y=e[0].v;
if(!Y.enab.v)Y=null}return Y}var Q=a.SoCo,t=a.GdFl,N=R(p,"solidFillMulti"),K=R(p,"gradientFillMulti");
if(N==null&&K==null)return[Q,t];var T=gB.SzJ;if(Q&&N&&K==null){var d=JSON.parse(JSON.stringify(Q));d.Clr.v=T(N.Clr.v,Q.Clr.v,N);
return[d,null]}if(t&&N&&K==null){var y=JSON.parse(JSON.stringify(t)),E=y.Grad.v.Clrs.v;for(var k=0;k<E.length;
k++){var D=E[k].v.Clr;D.v=T(N.Clr.v,D.v,N)}return[null,y]}if(Q&&K){var y=JSON.parse(JSON.stringify(K)),E=y.Grad.v.Clrs.v;
for(var k=0;k<E.length;k++){var D=E[k].v.Clr;D.v=T(D.v,Q.Clr.v,K)}return[null,y]}return[N,K]};gB.SzU={RI:S.p(4),oz:S.p(4),D:new x(0,0,1,1)};
gB.SzJ=function(p,a,R){var Q=gE.Me(R.Md.v.BlnM),t=R.Opct.v.val/100,N=gB.SzU;p=S.e.gc(p);a=S.e.gc(a);
N.RI[0]=p.D;N.RI[1]=p.X;N.RI[2]=p.N;N.RI[3]=255;N.oz[0]=a.D;N.oz[1]=a.X;N.oz[2]=a.N;N.oz[3]=255;S.O.KJ(Q,N.RI,N.D,N.oz,N.D,N.D,t);
return{classID:"RGBC",Rd:{t:"doub",v:N.oz[0]},Grn:{t:"doub",v:N.oz[1]},Bl:{t:"doub",v:N.oz[2]}}};gB.Sfl=function(p,a,R){var Q=p;
p=p.slice(0);var t=gE.TV[gE.$Z.indexOf(a.Md.v.BlnM)],N=S.e.gc(a.Clr.v),K=4278190080|Math.round(N.N)<<16|Math.round(N.X)<<8|Math.round(N.D),T=S.p(R.u()*4);
S.wp(T,K);S.O.KJ(t,T,R,p,R,R,a.Opct.v.val/100);for(var d=0;d<p.length;d+=4)p[d+3]=Q[d+3];return p};gB.SfF=function(p,a){var R=["Sz","blur","Sftn","Dstn"];
for(var Q=0;Q<gZ.order.length;Q++){var t=gZ.order[Q],N=p[gZ.lV[Q]].v;for(var K=0;K<N.length;K++){var T=N[K].v;
for(var d=0;d<R.length;d++){var y=T[R[d]];if(y){var E=y.v.val,k=E;k=Math.max(E==0?0:1,k*a);if(t=="ChFX")k=Math.min(k,250);
if(t=="ebbl"){if(R[d]=="blur")k=Math.min(k,250);if(R[d]=="Sftn")k=Math.min(k,16)}y.v.val=Math.round(k)}}if(t=="ebbl"||t=="patternFill"||t=="FrFX")if(T.Ptrn&&T.Scl)T.Scl.v.val=Math.max(1,Math.min(1e3,T.Scl.v.val*a))}}};
gB.SzD=function(p,a,R){var Q=new x(-.5,-.5,1,1),t=p.add.lmfx;for(var N=0;N<gZ.order.length;N++){var K=gZ.order[N],T=t[gZ.lV[N]].v;
for(var d=0;d<T.length;d++){var y=T[d].v,P;if(!y.enab.v)continue;var E=y.blur?y.blur.v.val+1:0,k=y.Ckmt?y.Ckmt.v.val/100:0,D=Math.round(E*k);
if(K=="DrSh"||K=="IrSh"&&R){P=new x(-.5,-.5,1,1);P.vj(E,E);gB.Ck(P,y,a,0)}if(K=="OrGl"||K=="IrGl"&&R){P=new x(-.5,-.5,1,1);
P.vj(E,E)}if(K=="FrFX"){var e=gB.mc(y),Y=e[1];if(R)Y=Math.max(e[0],Y);P=new x(-.5,-.5,1,1);P.vj(Math.ceil(Y),Math.ceil(Y))}if(K=="ebbl"){var E=y.blur.v.val,O=y.bvlS.v.BESl;
if(O=="Embs"||O=="PlEb")E/=2;var W=["OtrB","InrB","Embs","PlEb","strokeEmboss"],w=["SfBL","PrBL","Slmt"],g=["In","Out"],J=y.bvlT.v.bvlT!="SfBL"?E:E*.43,U=Math.round(E);
P=new x(-U-1,-U-1,2*U+2,2*U+2)}if(R&&K=="ChFX"){P=new x(-.5,-.5,1,1);P.vj(E,E);var H=P.clone();gB.Ck(P,y,a,0);
gB.Ck(H,y,a,Math.PI);P=P.hT(H)}if(P)Q=Q.hT(P)}}if(Q.x!=Math.ceil(Q.x)){Q.x=Math.ceil(Q.x);Q.C-=1}if(Q.y!=Math.ceil(Q.y)){Q.y=Math.ceil(Q.y);
Q.T-=1}return Q};gB.mc=function(p){var a=0,R=0,Q=p.Styl.v.FStl,t=p.Sz.v.val;if(Q=="OutF")R=t;if(Q=="InsF")a=t;
if(Q=="CtrF")a=R=t/2;return[a,R]};gB.Sfh=function(p){if(p.all==null)return;for(var a=0;a<p.all.length;
a++){var R=p.all[a];if(R.So)R.So.delete();if(R.MH)R.MH.delete();if(R.Mf)R.Mf.delete()}};gB.Szu=function(p,a,R,Q,t,N,K){gB.Sfh(p);
var T=gB.MG(Q,t,a,R,N,K);p.type=T.type,p.all=T.all;if(_.KZ)for(var d=0;d<p.all.length;d++){var y=p.all[d];
y.So=new _.LV(y.Cy.C,y.Cy.T);y.So.set(y.Yz);delete y.Yz;if(y.Ma){y.MH=new _.xI(y.Cy.C,y.Cy.T);y.MH.set(y.Ma);
delete y.Ma}if(y.MD){y.Mf=new _.xI(y.Cy.C,y.Cy.T);y.Mf.set(y.MD);delete y.MD}}};gB.MG=function(p,a,R,Q,t,N){if(N==null)N=Q;
var K=0,T=0;for(var d=0;d<gZ.order.length;d++){var y=gZ.order[d],E=gZ.lV[d],k=p[E].v;for(var D=0;D<k.length;
D++){var P=k[D].v;if(y=="DrSh"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0)K=Math.max(K,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if(y=="OrGl"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0&&P.GlwT.v.BETE=="SfBL")K=Math.max(K,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if(y=="OrGl"&&P.enab.v&&P.blur.v.val>0&&P.GlwT.v.BETE=="PrBL")K=Math.max(K,P.blur.v.val);if(y=="FrFX"&&P.enab.v&&P.Sz.v.val>0){if(P.Styl.v.FStl=="OutF")K=Math.max(K,P.Sz.v.val);
if(P.Styl.v.FStl=="CtrF")K=Math.max(K,Math.ceil(P.Sz.v.val/2));T=Math.max(T,gB.mc(P)[1])}}}var e=new gB.oo(R,Q,K),Y={type:{},all:[]};
for(var O=0;O<gZ.order.length;O++){var y=gZ.order[O],E=gZ.lV[O];Y.type[y]=[];for(var W=p[E].v.length-1;
W>=0;W--){var w=p[E].v[W].v;if(!w.enab.v)continue;var g=w.blur?w.blur.v.val:0,J=w.Ckmt?w.Ckmt.v.val/100:0,U=g*J;
if(y=="DrSh"){var H=e.vG(U,g-U,!0),f=H.Ed,j=H.I;j.offset(-e.rect().x-1,-e.rect().y-1);gB.vf(f,w,!1);
gB.Ck(j,w,t,0);var I=S.p(j.u()*4);gB.wT(I,w.Clr.v);S.RA(f,I,3);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100,SyM:w.layerConceals.v};
Y.type[y].push(L);Y.all.push(L)}if(y=="IrSh"){var H=e.vG(U,g-U,!1);gB.Ck(H.I,w,t,0);var j=e.rect().clone(),f=S.p(j.u());
S.set(f,255);S.JG(H.Ed,H.I,f,j);gB.vf(f,w,!0);var I=S.p(j.u()*4);gB.wT(I,w.Clr.v);S.RA(f,I,3);j.offset(-e.rect().x-1,-e.rect().y-1);
var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};Y.type[y].push(L);Y.all.push(L)}if(y=="GrFl"){var I=S.p(e.rect().u()*4);
gB.vs(w,I,e.rect(),t,null,N);var j=e.rect().clone();j.offset(-e.rect().x-1,-e.rect().y-1);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};
Y.type[y].push(L);Y.all.push(L)}if(y=="SoFi"){var I=S.p(e.Ed().length*4);gB.wT(I,w.Clr.v);var j=e.rect().clone();
j.offset(-e.rect().x-1,-e.rect().y-1);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};Y.type[y].push(L);
Y.all.push(L)}if(y=="ebbl"){var C=!1;if(C)console.log(w);var v=Date.now(),o=w.bvlS.v.BESl;if(o=="strokeEmboss"){var Z=p.frameFXMulti.v;
if(Z.length==0)continue;Z=Z[0].v;if(!Z.enab.v)continue;var B=Z.Styl.v.FStl;if(B=="OutF")o="OtrB";if(B=="CtrF")o="Embs";
if(B=="InsF")o="InrB"}var g=w.blur.v.val;if(g==0)g=.7;if(o=="Embs"||o=="PlEb")g/=2;var s=["OtrB","InrB","Embs","PlEb","strokeEmboss"],q=["SfBL","PrBL","Slmt"],F=["In","Out"],b=w.bvlT.v.bvlT!="SfBL"?g:g*.45,G=Math.round(g),u=e.rect().clone(),h=u.clone();
h.vj(G,G);var z=h.C,r=h.T,i=z*r,gg=S.p(i);S.JG(e.Ed(),u,gg,h);var gC=new Float64Array(i),gd=new Float64Array(i);
S.style.hK(gg,gC,z,r);S.zw(gg);S.style.hK(gg,gd,z,r);if(C)console.log("distTransform computed",Date.now()-v);
for(var d=0;d<i;d++)gd[d]=gd[d]-gC[d];for(var d=0;d<i;d++){var gY=gd[d];if(gY<-b)gd[d]=-b;else if(gY>b)gd[d]=b}if(C)console.log("summing + cropping",Date.now()-v);
if(w.bvlT.v.bvlT=="SfBL"){var gN=Math.pow(g*.21,1.22);if(!0)gN=Math.max(gN,2);var gS=S.blur.Wy(gN,2);
S.blur.ST(gd,gC,h,gS[0]>>>1);S.blur.ST(gC,gd,h,gS[1]>>>1)}if(C)console.log("blurring",Date.now()-v);
var M=gd,Cj=M.slice(0);if(w.useShape.v){var gs=Math.min(100,w.Inpr.v.val+1)/100;if(o!="OtrB"&&o!="InrB")gs=1;
var gl=S.ps.dG(w.MpgS.v.Crv.v,2e3),gR=Math.round(2e3/gs);gl=S.ps.SWp(gl,gR,o=="InrB");var ge=.5/b;for(var d=0;
d<i;d++){var So=M[d],gq=.99999*(So+b)*ge;M[d]=-b+2*b*gl[~~(gq*(gR-1))]}if(C)console.log("applying shape",Date.now()-v)}if(w.useTexture.v){var gH=S.p(z*r*4);
gB._e(w,gH,h,t,a);var gx=S.p(z*r);S.uB(gH,gx);var g$=S.p(z*r);S.blur.jg(gx,g$,h,1);gx=g$;var gy=g*w.textureDepth.v.val*(1/100)*(1/255);
if(w.InvT.v)gy=-gy;for(var d=0;d<i;d++)M[d]+=-gy*gx[d];if(C)console.log("applying texture",Date.now()-v)}var SZ=(w.bvlT.v.bvlT=="SfBL"?1:.5)*(w.bvlD.v.BESs=="In"?1:-1)*w.srgR.v.val/100;
for(var d=0;d<i;d++)M[d]*=SZ;if(C)console.log("scaling",Date.now()-v);var dU=w.uglg&&w.uglg.v?t.Co():w.lagl.v.val;
dU=dU*(Math.PI/180);var gz=w.uglg&&w.uglg.v?t.RS():w.Lald.v.val;gz=gz*(Math.PI/180);var gX=Math.cos(dU)*Math.cos(gz),gJ=-Math.sin(dU)*Math.cos(gz),SR=Math.sin(gz),gF=new Float64Array(i),gv=new Float64Array(i),SU=o=="PlEb";
for(var ga=0;ga<r;ga++)for(var Sg=0;Sg<z;Sg++){var d=ga*z+Sg,gO=0,SC=0,gk=1;if(ga!=0&&ga!=r-1&&Sg!=0&&Sg!=z-1){var Np=M[d-z-1],SO=M[d-z+1],NZ=M[d+z-1],gD=M[d+z+1];
gO=-.125*(SO+2*M[d+1]+gD-(Np+2*M[d-1]+NZ));SC=-.125*(NZ+2*M[d+z]+gD-(Np+2*M[d-z]+SO))}else{var gI=M[d];
SC=-(ga==0?M[d+z]-gI:ga==r-1?gI-M[d-z]:.5*(M[d+z]-M[d-z]));gO=-(Sg==0?M[d+1]-gI:Sg==z-1?gI-M[d-1]:.5*(M[d+1]-M[d-1]))}var go=1/Math.sqrt(gO*gO+SC*SC+1);
gO*=go;SC*=go;gk*=go;var NS=gO*gX+SC*gJ+gk*SR,NK=NS;if(SU)NK=-gO*gX-SC*gJ+gk*SR;if(NS>0)gF[d]=NS;if(NK>0)gv[d]=NK}if(C)console.log("raycasting",Date.now()-v);
if(w.Sftn.v.val!=0){S.blur.AC(gF,gC,h,w.Sftn.v.val*.43);var gP=gC,gC=gF,gF=gP;if(SU){S.blur.AC(gv,gC,h,w.Sftn.v.val*.43);
var gP=gC,gC=gv,gv=gP}else S.$M(gF,gv)}if(C)console.log("softening",Date.now()-v);var gl=S.ps.dG(w.TrnS.v.Crv.v,1024);
for(var d=0;d<i;d++){gF[d]=gl[~~(gF[d]*1024)];gv[d]=gl[~~(gv[d]*1024)]}if(C)console.log("contour remap",Date.now()-v);
z=Math.round(z);r=Math.round(r);var NX=S.p(z*r*4);gB.wT(NX,w.hglC.v);var Nd=S.p(z*r*4);gB.wT(Nd,w.sdwC.v);
var Ni=S.p(z*r*4);gB.wT(Ni,w.hglC.v);var NH=S.p(z*r*4);gB.wT(NH,w.sdwC.v);var NE=1/SR,NJ=1/(1-SR),ge=1/b,Nl=new Float64Array(1e3);
for(var d=0;d<1e3;d++)Nl[d]=Math.pow(d*.001,.2);for(var ga=0;ga<r;ga++)for(var Sg=0;Sg<z;Sg++){var d=ga*z+Sg,NL=4*d+3,py=0,SJ=0;
py=gF[d];SJ=gv[d];var Nz=Math.max(0,Math.min(.9999,(Cj[d]+b*.993)*ge));Nz=Nl[Math.floor(Nz*1e3)];var NQ=Nz*(1-Math.min(1,py*NE)),No=Nz*(1-Math.min(1,(1-py)*NJ)),Ss=Nz*(1-Math.min(1,SJ*NE)),Nt=Nz*(1-Math.min(1,(1-SJ)*NJ));
Nd[NL]=Math.round(255*NQ);NX[NL]=Math.round(255*No);NH[NL]=Math.round(255*Ss);Ni[NL]=Math.round(255*Nt)}if(C)console.log("baking textures",Date.now()-v);
h=e.rect().clone();h.vj(G,G);h.offset(-e.rect().x-1,-e.rect().y-1);var gj={SZR:w.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(o)!=-1){gj.Mu={Yz:NX,Cy:h,Hr:gE.Me(w.hglM.v.BlnM),WV:w.hglO.v.val/100};
gj.MP={Yz:Nd,Cy:h,Hr:gE.Me(w.sdwM.v.BlnM),WV:w.sdwO.v.val/100};Y.all.push(gj.Mu,gj.MP)}if(["OtrB","Embs","PlEb"].indexOf(o)!=-1){gj.MV={Yz:Ni,Cy:h,Hr:gE.Me(w.hglM.v.BlnM),WV:w.hglO.v.val/100};
gj.Mb={Yz:NH,Cy:h,Hr:gE.Me(w.sdwM.v.BlnM),WV:w.sdwO.v.val/100};Y.all.push(gj.MV,gj.Mb)}if(C)console.log(Date.now()-v);
Y.type[y].push(gj)}if(y=="patternFill"){var NI=e.rect(),I=S.p(NI.u()*4);gB._e(w,I,NI,t,a);var j=NI.clone();
j.offset(-NI.x-1,-NI.y-1);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};Y.type[y].push(L);
Y.all.push(L)}if(y=="ChFX"){var I=S.p(e.Ed().length*4);gB.wT(I,w.Clr.v);var g=w.blur.v.val,Si=e.rect().clone();
Si.vj(g,g);var Kl=S.p(Si.u()),CP=S.p(Si.u());S.JG(e.Ed(),e.rect(),CP,Si);S.blur.Pc(CP,Kl,Si,g*.43);var pz=S.ps.FP(w.MpgS.v.Crv.v,256,!0);
S.cb(Kl,pz);var KA=S.p(e.Ed().length),dq=S.p(e.Ed().length),S$=e.rect().clone();gB.Ck(S$,w,t,0);S.JG(Kl,Si,KA,S$);
S$=e.rect().clone();gB.Ck(S$,w,t,Math.PI);S.JG(Kl,Si,dq,S$);var SS=KA.length;for(var d=0;d<SS;d++)I[4*d+3]=Math.abs(KA[d]-dq[d]);
if(w.Invr.v)for(var d=0;d<SS;d++)I[4*d+3]=255-I[4*d+3];var j=e.rect().clone();j.offset(-e.rect().x-1,-e.rect().y-1);
var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};Y.type[y].push(L);Y.all.push(L)}if(y=="OrGl"){var H;
if(w.GlwT.v.BETE=="SfBL")H=e.vG(U,g-U,!0);else H=e.SCa(g,J,!0);var f=H.Ed,j=H.I,NF=f.slice(0);gB.SJy(f,w);
var I=S.p(j.u()*4);if(w.Grad==null){gB.wT(I,w.Clr.v);gB.vf(f,w,!1)}else{gB.vf(f,w,null);var N$={fI:f,Ln:255,xQ:0,BZ:j};
gB.vs(w,I,j,t,N$);var Kq=w.Nose.v.val/100,SX=j.C;for(var d=0;d<NF.length;d++){var pZ=255,Ki=NF[d];if(Ki<32){var Se=(Ki+NF[d-1]+NF[d+1]+NF[d-SX]+NF[d+SX])*.2-1;
pZ=Math.min(255,Math.round(Math.max(0,Se)*8))}f[d]=pZ}gB.Sfv(f,w)}S.RA(f,I,3);j.offset(-e.rect().x-1,-e.rect().y-1);
var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};Y.type[y].push(L);Y.all.push(L)}if(y=="IrGl"){var H;
if(w.GlwT.v.BETE=="SfBL")H=e.vG(U,g-U,!1);else H=e.SCa(g,J,!1);var f=H.Ed,j=H.I;gB.SJy(f,w);if(w.glwS.v.IGSr=="SrcC")S.zw(f);
var I=S.p(j.u()*4);if(w.Grad==null){gB.wT(I,w.Clr.v);gB.vf(f,w,!0)}else{gB.vf(f,w,null);var N$={fI:f,Ln:255,xQ:0,BZ:j};
gB.vs(w,I,j,t,N$);S.set(f,255);gB.Sfv(f,w)}S.RA(f,I,3);j.offset(-e.rect().x-1,-e.rect().y-1);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100};
Y.type[y].push(L);Y.all.push(L)}if(y=="FrFX"){var SM=gB.mc(w),Sd=SM[0],NT=SM[1],j=e.rect().clone(),CA=null,Yp=null;
j.vj(Math.ceil(T),Math.ceil(T));if(NT>0){var H=e.vG(NT,0,!0);Yp=H.Ed;if(Yp.length<j.u()){Yp=S.p(j.u());
S.JG(H.Ed,H.I,Yp,j)}}if(Sd>0){var H=e.vG(Sd,0,!1);CA=S.p(j.u());S.set(CA,255);S.JG(H.Ed,H.I,CA,j)}j.offset(-e.rect().x-1,-e.rect().y-1);
var I=S.p(j.u()*4),pg=w.PntT.v.FrFl;if(pg=="SClr")gB.wT(I,w.Clr.v);if(pg=="GrFl")gB.vs(w,I,j,t,e.SLN(Sd,NT));
if(pg=="Ptrn")gB._e(w,I,j,t,a);var L={Yz:I,Cy:j,Hr:gE.Me(w.Md.v.BlnM),WV:w.Opct.v.val/100,MD:Yp,Ma:CA};
Y.type[y].push(L);Y.all.push(L)}}}return Y};gB.GB=function(p){var a=1/Math.sqrt(p.x*p.x+p.y*p.y+p.il*p.il);
p.x*=a;p.y*=a;p.il*=a};gB.SJr=function(p,a){return{x:p.y*a.il-p.il*a.y,y:p.il*a.x-p.x*a.il,il:p.x*a.y-p.y*a.x}};
gB.SJs=function(p,a){return p.x*a.x+p.y*a.y+p.il*a.il};gB.Sfv=function(p,a){var R=a.Nose.v.val/100;if(R>0)for(var Q=0;
Q<p.length;Q++){var t=p[Q];t=Math.min(510-(1+R)*S.style.JQ(Q),t);p[Q]=t}};gB.Kt=function(p){var a=gB.vr(),R=p.SP,Q=!1;
for(var t=0;t<32;t+=8)if(R[t]+R[t+1]+R[4]+R[5]!=0||R[t+2]+R[t+3]+R[6]+R[7]!=1020)Q=!0;if(Q){R=R.slice(0);
for(var t=0;t<40;t+=4){var N=R[t]/255,K=R[t+1]/255,T=R[t+2]/255,d=R[t+3]/255;R[t]=N-1e-4;R[t+1]=N==K?1e9:1/(K-(N-1e-4));
R[t+2]=T==d?-1e9:1/(T-(d+1e-4));R[t+3]=d+1e-4}}var y=p.add.iOpa!=null?p.add.iOpa/255:a.fill,E=p.add.vstk;
if(E&&!E.fillEnabled.v&&(!E.strokeEnabled.v||E.strokeStyleLineWidth.v.val==0))y=0;return{fill:y,Ws:Q?R:null,SoS:p.add.brst!=null?p.add.brst:a.SoS,Soc:p.add.knko!=null?p.add.knko:a.Soc,style:!1,Wl:!1}};
gB.vr=function(){return{fill:1,Ws:null,SoS:[1,1,1],Soc:0,style:!1,Wl:!1}};gB.QE=function(p,a){if(a==null)return null;
var R=p.Idnt.v,Q=null;for(var t=0;t<a.length;t++)if(a[t].id==R)return a[t];return null};gB.SBo=function(p,a,R){var Q=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var t=0;t<Q.length;t++){var N=p.v[Q[t]].v;for(var K=0;K<N.length;K++)if(N[K].v.Ptrn)a.yK(gB.QE(N[K].v.Ptrn.v,R))}};
gB.SLS=function(p,a,R){var Q=["patternFillMulti","ebblMulti","frameFXMulti"];for(var t=0;t<Q.length;
t++){var N=p.v[Q[t]].v;for(var K=0;K<N.length;K++)if(N[K].v.Ptrn){var T=N[K].v.Ptrn.v,d=gB.QE(T,R),y=gB.QE(T,a.add.Patt);
if(d==null&&y)R.push(y)}}};gB._e=function(p,a,R,Q,t){var N=gB.QE(p.Ptrn.v,Q.add.Patt);if(N!=null&&!R.RJ()){var K=S.scale._e(N.Yz,N.I.C,N.I.T),T=p.Scl.v.val/100,d=-R.x+p.phase.v.Hrzn.v-1,y=-R.y+p.phase.v.Vrtc.v-1;
if(p.Algn!=null&&!p.Algn.v){}else{d+=t.x;y+=t.y}S.scale.SyP(K,a,R.C,R.T,T,T,d+1,y+1)}};gB.vs=function(p,a,R,Q,t,N){if(N==null)N=R;
var K=p.Type?p.Type.v.GrdT:"shapeburst",T=p.Algn&&p.Algn.v?N:new x(0,0,Q.C,Q.T),d=p.Angl?S.e.sb(p,T):[new X(0,0),new X(100,0)],y=d[0].x,E=d[0].y,k=d[1].x-y,D=d[1].y-E,P=Math.sqrt(k*k+D*D);
P=1/(2*P*P);var e=[k*P,D*P,-D*P,k*P],Y=p.Rvrs?p.Rvrs.v:!1,O=p.Dthr?p.Dthr.v:!1;S.e.Su(p.Grad.v,a,R,e,y,E,Y,gZ.e.types.indexOf(K),0,0,t,O)};
gB.SLg=function(p,a){for(var R=0;R<p.all.length;R++){var Q=p.all[R];Q.JS=Q.Cy.clone();Q.JS.offset(a.x,a.y)}};
gB.SXh=function(p,a,R,Q,t,N){var K=_.KZ?gB.SWJ:gB.SUE;gB.SLg(a,R);var T=a.type.DrSh;for(var d=0;d<T.length;
d++)if(!T[d].SyM)K(T[d],Q,t,N)};gB.SFk=function(p,a,R,Q,t,N,K,T,d,y){var E=R,k=_.KZ?gB.SWJ:gB.SUE,D=_.KZ?_.O.JL:S.O.sH,P;
P=a.type.DrSh;for(var e=0;e<P.length;e++)if(P[e].SyM)k(P[e],Q,t,N);P=a.type.OrGl;for(var e=0;e<P.length;
e++)k(P[e],Q,t,N);var Y="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var O=0;O<Y.length;O++){var P=a.type[Y[O]];
for(var e=0;e<P.length;e++)k(P[e],K,E,N)}var W=a.type.ebbl[0],w=W!=null&&W.SZR;P=a.type.FrFX;for(var e=0;
e<P.length;e++){var g=P[e];Cm.z_.JG(T,y,d,y,N);k(g,d,y,N);if(w&&e==P.length-1){if(W.Mb)k(W.Mb,d,y,N);
if(W.MV)k(W.MV,d,y,N);if(W.MP)k(W.MP,d,y,N);if(W.Mu)k(W.Mu,d,y,N)}if(g.Ma||g.MH)D(d,y,K,E,_.KZ?g.MH:g.Ma,g.JS,0,N,1);
if(g.MD||g.Mf)D(d,y,Q,t,_.KZ?g.Mf:g.MD,g.JS,0,N,1)}if(!w&&W!=null){if(W.Mb)k(W.Mb,Q,t,N);if(W.MV)k(W.MV,Q,t,N);
if(W.MP)k(W.MP,K,E,N);if(W.Mu)k(W.Mu,K,E,N)}};gB.SUE=function(p,a,R,Q){var t=gB.vr();t.fill=p.WV;t.style=!0;
S.O.KJ(p.Hr,p.Yz,p.JS,a,R,Q,1,t)};gB.SWJ=function(p,a,R,Q){var t=gB.vr();t.fill=p.WV;t.style=!0;_.O.Bo(p.Hr,p.So,p.JS,a,R,Q,1,t)};
gB.SJy=function(p,a){var R=1-a.Inpr.v.val/100,Q=1+Math.tan(R*(Math.PI/2)),t=p.length;for(var N=0;N<t;
N++)p[N]=Math.min(255,Math.round(p[N]*Q))};gB.vf=function(p,a,R){var Q=a.blur.v.val,t=Math.round(Q*(a.Ckmt.v.val/100));
if(Q>t){var N=S.ps.FP(a.TrnS.v.Crv.v,256,!0);S.cb(p,N)}if(R!=null&&a.Nose.v.val>0)S.style.Ip(p,a.Nose.v.val/100,R)};
gB.wT=function(p,a,R){if(R==null)R=255;var Q=S.e.gc(a),t=R<<24|Q.N<<16|Q.X<<8|Q.D;S.wp(p,t)};gB.Ck=function(p,a,R,Q){var t=a.uglg&&a.uglg.v?R.Co():a.lagl.v.val;
t=t*Math.PI/180+Q;var N=Math.cos(t)*a.Dstn.v.val,K=Math.sin(t)*a.Dstn.v.val;p.x-=Math.round(N);p.y+=Math.round(K)};
gB.ME=function(p){if(p==null)return null;var a=p.frameFXMulti.v;if(a.length==0)return null;a=a[0].v;
var R=JSON.parse(JSON.stringify(gZ.up.default));gB.SKL(a,R);return R};gB.SKL=function(p,a){var R=gZ.stroke.MT.indexOf(p.PntT.v.FrFl),Q=[gZ.Yw,gZ.aH,gZ.QN][R],t=a.strokeStyleContent.v={classID:gZ.up.sZ[R]};
for(var N=0;N<Q.length;N++)t[Q[N]]=p[Q[N]];a.strokeEnabled=p.enab;a.strokeStyleLineWidth=p.Sz;a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gZ.up.oy[gZ.stroke.types.indexOf(p.Styl.v.FStl)];
a.strokeStyleOpacity=p.Opct;a.strokeStyleBlendMode=p.Md};gB.mj=function(p,a){var R=[];for(var t=0;t<p.length;
t++)R.push({t:"UntF",v:{type:"#Nne",val:Math.round(p[t]*a)}});return R};gB.oo=function(p,a,R){this.SJ=a.clone();
this.SJ.vj(1,1);this.SUl=a.clone();this.SUl.vj(R,R);this.SUO=S.p(this.SJ.u());S.JG(p,a,this.SUO,this.SJ);
this.Mk=null;this.XK=null;this.Xq=null};gB.oo.prototype.Ed=function(){return this.SUO};gB.oo.prototype.rect=function(){return this.SJ};
gB.oo.prototype.ug=function(){return this.SUl};gB.oo.prototype.WB=function(){if(this.Mk)return this.Mk;
this.Mk=S.clone(this.Ed());S.zw(this.Mk);return this.Mk};gB.oo.prototype.uN=function(){if(this.XK)return this.XK;
this.XK=new Float64Array(this.rect().u());S.style.hK(this.WB(),this.XK,this.rect().C,this.rect().T);
return this.XK};gB.oo.prototype.Mm=function(){if(this.Xq)return this.Xq;var p=this.ug(),a=S.p(p.u());
S.JG(this.Ed(),this.rect(),a,p);this.Xq=new Float64Array(p.u());S.style.hK(a,this.Xq,p.C,p.T);return this.Xq};
gB.oo.prototype.SLN=function(p,a){var R={Ln:-a,xQ:p,BZ:null,fI:null};if(a==0){R.BZ=this.rect();R.fI=this.uN();
return R}var Q=this.Mm().slice(0),t=this.ug();R.BZ=t;R.fI=Q;for(var N=0;N<Q.length;N++)Q[N]=-Q[N];if(p==0)return R;
var K=this.uN(),T=this.rect();for(var d=0;d<T.T;d++)for(var y=0;y<T.C;y++){var E=d*T.C+y,k=(d+T.y-t.y)*t.C+y+T.x-t.x;
Q[k]+=K[E]}return R};gB.oo.prototype.vG=function(p,a,R){var Q=Math.ceil(p+a),t={I:this.rect().clone(),Ed:null};
t.I.vj(Q,Q);t.Ed=S.p(t.I.u());if(p==0&&a==0)S.$M(R?this.Ed():this.WB(),t.Ed);else{var N=S.p(t.I.u());
S.JG(this.Ed(),this.rect(),N,t.I);if(!R)S.zw(N);if(p!=0){if(R)S.style.Rk(N,t.I,this.Mm(),this.ug(),p);
else S.style.Rk(N,t.I,this.uN(),this.rect(),p)}if(a!=0)S.blur.Pc(N,t.Ed,t.I,Math.max(1,a*.43));else t.Ed=N}return t};
gB.oo.prototype.SCa=function(p,a,R){var Q=p*(a-.5),t={I:this.rect().clone(),Ed:null};if(R)t.I.vj(p,p);
t.Ed=S.p(t.I.u());var N=t.I.C,K=t.I.T,T=R?this.Mm():this.uN(),d=R?this.ug():this.rect(),y=t.I,E=y.Yl(d),N=E.C,K=E.T,k=E.x-y.x,D=E.y-y.y,P=E.x-d.x,e=E.y-d.y,Y=1-a*2;
for(var O=0;O<K;O++)for(var W=0;W<N;W++){var w=T[(O+e)*d.C+W+P],g=w/p;t.Ed[(O+D)*y.C+W+k]=Math.max(0,Math.min(255,255-255*((g+Y)/(1+Y))))}return t};
gB.SpC=function(p,a,R){var Q=p.Lefx,t=p.blendOptions;if(Q){var N=a.add.lmfx;if(R==null)R=N?N.Scl.v.val:100;
a.add.lmfx=JSON.parse(JSON.stringify(Q.v));gB.SfF(a.add.lmfx,R/a.add.lmfx.Scl.v.val);if(N)a.add.lmfx.Scl.v.val=N.Scl.v.val}else delete a.add.lmfx;
if(t){t=t.v;if(t.Md)a.bQ=gE.Me(t.Md.v.BlnM);if(t.Opct)a.opacity=Math.round(t.Opct.v.val*255/100);if(t.fillOpacity)a.add.iOpa=Math.round(t.fillOpacity.v.val*255/100);
if(t.Blnd){var K=[];for(var T=0;T<10;T++)K.push(0,0,255,255);var d=t.Blnd.v,y="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var T=0;T<d.length;T++){var E=d[T].v,k=8*["Gry","Rd","Grn","Bl"].indexOf(E.Chnl.v[0].v.enum);for(var D=0;
D<8;D++){K[k+D]=E[y[D]].v}}a.SP=K}}};gB.Sly=function(p){var a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),R=[],Q=p.SP;
for(var t=0;t<4;t++){var N=t*8;if(Q[N]+Q[N+1]+Q[N+4]+Q[N+5]==0&&Q[N+2]+Q[N+3]+Q[N+6]+Q[N+7]==4*255)continue;
var K={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][t]}}]}}};
R.push(K);for(var T=0;T<8;T++)K.v[a[T]]={t:"long",v:Q[t*8+T]}}var d={classID:"blendOptions"};if(p.bQ!="norm")d.Md={t:"enum",v:{BlnM:gE.UX(p.bQ)}};
if(p.opacity!=255)d.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(p.opacity*100/255)}};if(p.add.iOpa!=null)d.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(p.add.iOpa*100/255)}};
if(R.length!=0)d.Blnd={t:"VlLs",v:R};var y={ox:{classID:"null",Idnt:{t:"TEXT",v:SF.zP()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},jd:{classID:"Styl",blendOptions:{t:"Objc",v:d}}},E=p.add.lmfx;
if(E)y.jd.Lefx={t:"Objc",v:E};return y};function de(){}de.gl=function(p){return JSON.parse(JSON.stringify(p))};
de.Rq=function(p){var a=de.gl(de.SLp),R=a.Brsh.v;if(p!=null){delete R.Hrdn;R.classID="sampledBrush";
R.Nm={t:"TEXT",v:"layer.png"},R.sampledData={t:"TEXT",v:p}}return a};de.SLp={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
de.GB={};de.GB.check=function(p){var a=de.GB.XZ;for(var R=0;R<a.length;R++)if(p[a[R]]==null)p[a[R]]=JSON.parse(de.GB.uR[a[R]]);
var Q=[];for(var R=0;R<a.length;R++)Q.push(a[R]);var t=de.GB.Ssx;for(var R=0;R<t.length;R++){var N=t[R][0],K=t[R][1],T=!0;
for(var d=0;d<N.length;d++)T=T&&p[N[d]].v==!0;if(T)for(var d=0;d<K.length;d++){if(p[K[d]]==null)console.log("Missing conditional parameter "+K[d]);
else Q.push(K[d])}}for(var y in p)if(Q.indexOf(y)==-1)console.log("Extra parameter "+y);p=p.Brsh.v;a=de.GB.uZ.XZ;
for(var R=0;R<a.length;R++)if(p[a[R]]==null)p[a[R]]=JSON.parse(de.GB.uZ.uR[a[R]]);Q=[];for(var R=0;R<a.length;
R++)if(p[a[R]])Q.push(a[R]);else console.log("Missing default parameter "+a[R]);t=de.GB.uZ.SLY[p.classID];
for(var R=0;R<t.length;R++)if(p[t[R]]==null&&t[R]!="dtipsGridSize"&&t[R]!="dtipsErodibleTipHeightMap"&&p.SBd!=1)console.log("Missing conditional parameter "+t[R]);
else Q.push(t[R]);for(var y in p)if(Q.indexOf(y)==-1)console.log("Extra parameter "+y)};de.GB.Mj=function(p){var a=de.GB.Ssx;
for(var R=0;R<a.length;R++){var Q=a[R][0],t=a[R][1],N=!0;for(var K=0;K<Q.length;K++)N=N&&p[Q[K]]&&p[Q[K]].v==!0;
if(N){for(var K=0;K<t.length;K++)if(p[t[K]]==null){p[t[K]]=JSON.parse(de.GB.uR[t[K]])}}else for(var K=0;
K<t.length;K++)if(p[t[K]]!=null){delete p[t[K]]}}};de.GB.uZ={};de.GB.uZ.XZ="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
de.GB.uZ.uR={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};de.GB.uZ.SLY={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
de.GB.Ssx=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
de.GB.XZ="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
de.GB.uR={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function rV(p){this.X$=p;this.dir=0}rV.prototype.uf=function(p,a){if(this.dir==0&&!this.X$.xA(p))this.dir=Math.abs(this.X$.x-p.x)<Math.abs(this.X$.y-p.y)?1:2;
var R=p;if(a.g(n.ei)){if(this.dir==1)R=new X(this.X$.x,p.y);if(this.dir==2)R=new X(p.x,this.X$.y)}return R};
function gQ(p,a,R,Q,t,N,K,T){this.mp=a;this.rw=R;this.eJ=N;this.dX=Q;if(Q.kX==null)Q.kX=[!1,!0];this.nn=null;
this.vy=null;this.SQ=0;this.SOp=0;this.SOr=0;this.Sw=0;this.IV=0;this.SBY=K;this.sE=new x;this.SV=new x;
this.rect=new x;if(T!=null){this.Yz=T}else{var d=gQ.SIH;if(d.length!=K.u()*4)d=S.p(K.u()*4);else d.fill(0);
this.Yz=gQ.SIH=d}this.rect=K.clone();this.XM=[];this.Sc=[];this.Nm=null;this.rc=0;this.N=null;this.XF="";
this.zY=null;this.Seg(p,t)}gQ.SIH=S.p(16);gQ.prototype.Seg=function(p,a){this.rc=a;this.N=p;this.XF=JSON.stringify(p)+JSON.stringify(this.dX.DZ);
this.zY=gQ.SLo(p,this.mp,this.rw)};gQ.prototype.moveTo=function(p,a,R){R=this.SLz(R);this.SQ=R;var Q=new X(p,a),t=this.N.Brsh.v.Dmtr.v.val;
this.nn=Q.clone();this.vy=Q.clone();this.Nm=Q.clone();this.XM=[p,a];this.Sc=[R];var N=this.dX.kX;if(this.dX.Aj!=gQ._A)this.Xy(this.SfC(Q,this.SRv()*(N[1]?R:1),this.dX.NC*(N[0]?R*.5:1),new X(0,0)));
this.Sw=Q.clone()};gQ.prototype.lineTo=function(p,a,R){R=this.SLz(R);var Q=this.XM,t=Q.length,N=Q[t-2],K=Q[t-1];
if(p==N&&a==K)return;var T=this.N.Brsh.v.Dmtr.v.val,d=Math.ceil(T)+1,y=new x(Math.round(N),Math.round(K),0,0);
y.vj(d,d);var E=new x(Math.round(p),Math.round(a),0,0);E.vj(d,d);this.SBy(y.hT(E));this.XM.push(p,a);
this.Sc.push(R);t+=2;if(t>=6)this.Xy(this.Svu(t))};gQ.prototype.SLz=function(p){if(p==null)p=1;p=Math.max(.05,Math.min(5,p));
if(isNaN(p)){alert("Pressure is not a number");throw"e"}return p};gQ.prototype.Xy=function(p){this.sE=p;
this.SV=this.SV.hT(p)};gQ.prototype.finish=function(){var p=this.XM,a=p.length,R;if(a==4)R=this.Spv(p[a-2],p[a-1],this.Sc[(a>>1)-1],!0);
if(a>4)R=this.Svu(a+2);if(R)this.Xy(R)};gQ.prototype.Svu=function(p){var a=this.XM,R=this.Sc,Q=a[p-6],t=a[p-5],N=a[p-4],K=a[p-3],T=R[(p>>1)-3],d=R[(p>>1)-2],y=new X(0,0),E=new X(0,0);
if(8<=p)y=gQ.SdM(a[p-8],a[p-7],Q,t,N,K);if(p<=a.length)E=gQ.SdM(a[p-2],a[p-1],N,K,Q,t);var k=Q+y.x,D=t+y.y,P=N+E.x,e=K+E.y,Y=new x;
for(var O=0;O<10;O++){var W=(O+1)*.1,w=1-W,g=w*w*w*Q+3*W*w*w*k+3*W*W*w*P+W*W*W*N,J=w*w*w*t+3*W*w*w*D+3*W*W*w*e+W*W*W*K,U=this.Spv(g,J,T+W*(d-T));
Y=Y.hT(U)}return Y};gQ.SdM=function(p,a,R,Q,t,N){var K=p-R,T=a-Q,d=t-R,y=N-Q,E=Math.sqrt(K*K+T*T),k=Math.sqrt(d*d+y*y),D=Math.acos((K*d+T*y)/(E*k))/Math.PI,P=.35,e=.1;
D=e+D*(P-e);var Y=t-p,O=N-a,W=Math.sqrt(Y*Y+O*O),w=D*k/W;return new X(Y*w,O*w)};gQ.prototype.Spv=function(p,a,R,Q){var t=new x,N=this.dX.SOx;
if(N==null)N=0;if(N==0||Q){t=this.Ssp(p,a,R);return t}var K=this.Nm,T=p-K.x,d=a-K.y,y=Math.sqrt(T*T+d*d);
T/=y;d/=y;if(y>N){var E=K.x+T*(y-N),k=K.y+d*(y-N);t=this.Ssp(E,k,R);this.Nm.YY(E,k)}return t};gQ.prototype.Ssp=function(p,a,R){var Q=new x,t=new X(p,a),N=this.N.Brsh.v.Dmtr.v.val,K=this.dX.Aj,T=t.Ai(this.vy);
T.normalize(1);var d=X.Hz(this.vy,t),y=-this.SOp,E=this.vy.clone(),k=this.dX.kX;while(!0){var D=this.SQ+(R-this.SQ)*(Math.max(0,y)/d),P=this.SRv()*(k[1]?D:1),e=this.SLI()*(P+this.SOr)/2;
if(K==gQ._A)e=1;if(y+e<d){y+=e;var Y=new X(this.vy.x+T.x*y,this.vy.y+T.y*y),w=1;if(K==gQ._A){var O=E.clone();
O.x+=T.x>0?1:-1;var W=E.clone();W.y+=T.y>0?1:-1;if(X.Hz(O,Y)<X.Hz(W,Y))Y=O;else Y=W;y=X.Hz(Y,this.vy)}if(this.N.useScatter.v==!0){w=this.N.Cnt.v;
var g=this.N.countDynamics.v.jitter.v.val/100,J=g*(-1+2*this.aX());w+=Math.round(w*J)}for(var U=0;U<w;
U++){var H=this.SfC(Y,P,this.dX.NC*(k[0]?D*.5:1),T);Q=Q.hT(H)}E=Y}else break}this.SOp=d-y;this.vy=t;
this.SQ=R;return Q};gQ.prototype.SLI=function(){var p=this.N.Brsh.v,a=p.Spcn.v.val,R=Math.max(5,p.Rndn.v.val);
return R/100*(a/100)};gQ.prototype.SRv=function(){var p=this.N,a=p.Brsh.v.Dmtr.v.val;if(p.useTipDynamics.v){var R=a*(p.minimumDiameter.v.val/100);
a=R+(a-R)*(1-this.aX()*(p.szVr.v.jitter.v.val/100))}return a};gQ.prototype.SfC=function(p,a,R,Q){R=Math.min(1,R);
var t=this.N,N=this.N.Brsh.v,K=N.Dmtr.v.val,T=this.dX,d=T.Aj,y=T.SBe,E=new gh;E.translate(-this.zY.dS.C/2,-this.zY.dS.T/2);
E.scale(1/this.zY.SvM,1/this.zY.SvM);E.scale(a/K,a/K);E.scale(1,Math.max(5,N.Rndn.v.val)/100);if(t.useTipDynamics.v){var k=t.minimumRoundness.v.val/100;
E.scale(1,k+(1-k)*Math.round(100-this.aX()*t.roundnessDynamics.v.jitter.v.val)/100);E.rotate((-.5+this.aX())*4*Math.PI*(t.angleDynamics.v.jitter.v.val/100))}E.rotate(N.Angl.v.val*(Math.PI/180));
if(t.useScatter.v){var D=(-1+2*this.aX())*t.scatterDynamics.v.jitter.v.val/100;E.translate(-D*a*Q.y,D*a*Q.x)}E.translate(p.x,p.y);
var P=this.SLe(E,p);this.SBy(P.rect);var e=P.rect.clone();if(d==null){var Y=this.gc(t);S.wp(P.zv,Math.round(Y.N*255)<<16|Math.round(Y.X*255)<<8|Math.round(Y.D*255)<<0,4278190080);
if(this.SV.RJ()&&this.rect.xA(P.rect)&&R==1)this.Yz=P.zv.slice(0);else S.O.Sel(P.zv,P.rect,this.Yz,this.rect,P.rect,R)}if(d==gQ._A){var O=new X(P.rect.x+P.rect.C/2,P.rect.y+P.rect.T/2),W=Math.round(O.x-this.Sw.x),w=Math.round(O.y-this.Sw.y),g=P.rect.clone();
g.offset(-W,-w);var J=g.Yl(this.rect);J.offset(W,w);S.gW(this.Yz,this.rect,P.zv,g);S.O.cc(P.zv,P.rect,this.Yz,this.rect,P.UO,P.rect,R)}if(d==gQ.gP||d==gQ.NR||d==gQ.uo){var U=P.rect.Yl(this.rect),H;
if(U.xA(P.rect))H=P.UO;else{H=S.p(U.u());S.JG(P.UO,P.rect,H,U)}var f=S.p(U.u()*4);S.gW(this.Yz,this.rect,f,U);
if(d==gQ.NR){var j=S.clone(f),I=S.eF.Fs([-1,-1,-1,-1,25,-1,-1,-1,-1]);S.eF.DP(f,j,U.C,U.T,I,0);S.$M(j,f)}else if(d==gQ.uo){var L=gw.gD("UnsM");
L.Amnt.v.val=15;L.Thsh.v=0;L.Rds.v.val=5;var j=S.p(f.length);gw.pW("UnsM",{buffer:f,rect:U},L,0,0,{buffer:j,rect:U});
S.$M(j,f)}else{gw.Dc(1,S.blur.jp,f,U)}S.O.cc(f,U,this.Yz,this.rect,H,U,R)}this.SOr=a;this.Sw=O;return e};
gQ.prototype.gc=function(p){var a=gQ.Sfo(this.rc);if(p.useColorDynamics&&p.useColorDynamics.v){var R=1-this.aX()*p.clVr.v.jitter.v.val/100,Q=gQ.Sfo(this.eJ);
a.D=R*a.D+(1-R)*Q.D;a.X=R*a.X+(1-R)*Q.X;a.N=R*a.N+(1-R)*Q.N;var t=(-.5+this.aX())*p.H.v.val/100,N=(-1+2*this.aX())*p.Strt.v.val/100,K=(-1+2*this.aX())*p.Brgh.v.val/100,T=S.Xa(a.D,a.X,a.N);
T.hZ=(T.hZ+t+1)%1;T.IH=T.IH+N;if(T.IH<0)T.IH=-T.IH;if(T.IH>1)T.IH=1-(T.IH-1);T.Lr=T.Lr+K;if(T.Lr<0)T.Lr=-T.Lr;
if(T.Lr>1)T.Lr=1-(T.Lr-1);a=S.Hv(T.hZ,T.IH,T.Lr)}return a};gQ.prototype.GB=function(p){return Math.max(0,Math.min(1,p))};
gQ.prototype.aX=function(){this.IV++;return gQ.hash(this.IV)};gQ.Sfo=function(p){return{D:(p>>16&255)/255,X:(p>>8&255)/255,N:(p>>0&255)/255}};
gQ.hash=function(p){p=p^61^p>>16;p=p+(p<<3);p=p^p>>4;p=p*668265261;p=p^p>>15;return(p&16777215)/16777215};
gQ.Dw=[];gQ.prototype.SLe=function(p,a){var R=null,K;for(var Q=0;Q<gQ.Dw.length;Q++)if(gQ.Dw[Q].XF==this.XF){R=gQ.Dw[Q];
gQ.Dw.splice(Q,1)}if(R==null)R={ix:[],XF:this.XF,uc:0};var t=R.ix,N=this.dX.DZ;if(N){p=p.clone();p.NE=Math.floor(p.NE);
p.GV=Math.floor(p.GV)}var T=gQ.SfJ(p.NE,p.GV);for(var Q=0;Q<t.length;Q++){var d=t[Q];if(!(d.WG.Eu==p.Eu&&d.WG.N==p.N&&d.WG.CI==p.CI&&d.WG.$B==p.$B))continue;
if(gQ.SLF(d.za,T)<.2||d.rect.u()>1e4){K=d;break}}var y=Math.round(this.N.Brsh.v.Dmtr.v.val);if(K){K.rect.x=Math.round(K.vK.x-K.WG.NE+p.NE);
K.rect.y=Math.round(K.vK.y-K.WG.GV+p.GV);if(N){K.rect.x=Math.round(a.x-y/2);K.rect.y=Math.round(a.y-y/2)}}else{var E;
if(N&&y<=3){E={buffer:S.p(y*y*4),rect:new x(Math.round(a.x-y/2),Math.round(a.y-y/2),y,y)};S.wp(E.buffer,4278190080)}else if(p.Eu==1&&p.N==0&&p.CI==0&&p.$B==1){E={buffer:this.zY.zv,rect:this.zY.dS.clone()};
E.rect.x=Math.round(p.NE);E.rect.y=Math.round(p.GV)}else E=m.B.hj([this.zY.zv,this.zY.dS],p);if(N){for(var Q=0;
Q<E.buffer.length;Q++)E.buffer[Q]=E.buffer[Q]>127?255:0}if(E==null)E={buffer:S.p(0),rect:new x};var k=p.NE-Math.floor(p.NE),D=p.GV-Math.floor(p.GV);
K={zv:E.buffer,UO:S.p(E.rect.u()),rect:E.rect,vK:E.rect.clone(),WG:p,za:gQ.SfJ(p.NE,p.GV)};S.vh(K.zv,K.UO,3);
t.push(K);if(t.length>200)t=t.slice(100)}R.ix=t;R.uc=Date.now();gQ.Dw.push(R);gQ.Dw.sort(function(P,e){return e.uc-P.uc});
while(gQ.Dw.length>3)gQ.Dw.pop();return K};gQ.SfJ=function(p,a){return new X(p-Math.floor(p),a-Math.floor(a))};
gQ.SLF=function(p,a){var R=a.x,Q=a.y,t=Math.abs(R-p.x),N=Math.abs(Q-p.y);if(Math.abs(R-1-p.x)<t)R--;
else if(Math.abs(R+1-p.x)<t)R++;if(Math.abs(Q-1-p.y)<N)Q--;else if(Math.abs(Q+1-p.y)<N)Q++;t=p.x-R;N=p.y-Q;
return Math.sqrt(t*t+N*N)};gQ.prototype.SBy=function(p){};gQ.SLo=function(p,a,R){var Q,t,N,K=p.Brsh.v.Dmtr.v.val;
if(p.Brsh.v.classID=="computedBrush"){var T=p.Brsh.v.Hrdn.v.val/100,d=1+.55*(1-T);N=K<100?1.2:1;var y=Math.round(N*K*d);
t=new x(0,0,y,y);Q=S.p(y*y*4);var E=new Uint32Array(Q.buffer),k=y/2,D=d/k,P=Date.now(),e=gQ.we(T),Y=Math.round(8e3/k),a=e[0],O=e[1]-Y,W=e[2]+Y,w=Math.min(y,(y>>>1)+1);
for(var g=0;g<w;g++){var J=D*(g-k+.25);J*=J;var U=D*(g-k+.75);U*=U;var H=g*y,f=(y-1-g)*y;for(var j=0;
j<w;j++){var I=D*(j-k+.25),L=Math.floor(Math.sqrt(I*I+J)*(4e3/1.55));if(W<L)continue;else if(L<O){var C=4278190080;
while(j<w){var v=y-1-j;E[H+j]=C;E[H+v]=C;E[f+j]=C;E[f+v]=C;j++}break}else{var o=D*(j-k+.75),Z=Math.floor(Math.sqrt(o*o+J)*(4e3/1.55)),B=Math.floor(Math.sqrt(I*I+U)*(4e3/1.55)),s=Math.floor(Math.sqrt(o*o+U)*(4e3/1.55)),C=~~(.5+255*.25*(a[L]+a[Z]+a[B]+a[s]))<<24,v=y-1-j;
E[H+j]=C;E[H+v]=C;E[f+j]=C;E[f+v]=C}}}}if(p.Brsh.v.classID=="sampledBrush"){var q;for(var g=0;g<a.length;
g++)if(a[g].id==p.Brsh.v.sampledData.v)q=a[g];t=new x(0,0,q.I.C,q.I.T);N=Math.max(t.C,t.T)/K;Q=S.p(t.u()*4);
S.RA(q.channel,Q,3)}while(Math.min(t.C,t.T)>K*2){var F=new x(t.x,t.y,Math.floor(t.C/2),Math.floor(t.T/2)),b=m.B.hj([Q,t],new gh(F.C/t.C,0,0,F.T/t.T,0,0));
N*=F.C/t.C;t=b.rect;Q=b.buffer}return{SvM:N,dS:t,zv:Q}};gQ.Xo=[];gQ.we=function(p){if(gQ.Xo[p])return gQ.Xo[p];
var a=Math.pow(p,.55),R=new Float64Array(8e3),Q=0,t=8e3;for(var N=0;N<8e3;N++){var K=gQ.SBB(N*(1.55/4e3),a);
if(K>=1)Q=N;else if(K<=0&&t==8e3)t=N;R[N]=K}var T=[R,Q,t];gQ.Xo[p]=T;return T};gQ.SBB=function(p,a){var R=p<a?1:gQ.SBW((p-a)/Math.pow(1.001-a,.86));
return R};gQ.SBW=function(p){var a=p*.85;return Math.exp(-(a*a)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
gQ.prototype.yk=function(){return this.rect.clone()};gQ.prototype.XW=function(){return this.sE.Yl(this.rect)};
gQ.prototype.vE=function(){return this.SV.Yl(this.rect)};gQ.prototype.gR=function(){return this.Yz};
gQ.Xd=null;gQ.XC=null;gQ.np=function(p,a,R,Q,t,N){var K=gQ.Xd,T=gQ.XC;if(K==null){gQ.Xd=K=V.P("canvas","");
gQ.XC=T=K.getContext("2d")}if(N==null)N=Q;if(K.width!=N||K.height!=t){K.width=N;K.height=t}else T.clearRect(0,0,N,t);
T.fillStyle="#000000";T.font=Math.floor(10*V.o())+"px sans-serif";var d=p.Brsh.v.Dmtr.v.val,y=""+d,E=T.measureText(y);
T.fillText(y,(Q-E.width)/2,t-2);var k=Q,D=t-10*V.o(),P=Math.min(k,D),e=p.Brsh.v.classID;if(e=="computedBrush"){T.translate(k/2,D/2);
T.rotate(-p.Brsh.v.Angl.v.val*Math.PI/180);T.scale(1,.1+.9*p.Brsh.v.Rndn.v.val/100);var Y=Math.min(.95*P/2,d/2)+.5,O=.9*p.Brsh.v.Hrdn.v.val/100,W=T.createRadialGradient(0,0,0,0,0,Y);
W.addColorStop(O,"rgba(0,0,0,1)");W.addColorStop((.5+O)/1.5,"rgba(0,0,0,.5)");W.addColorStop(1,"rgba(0,0,0,0)");
T.fillStyle=W;T.fillRect(-Y,-Y,2*Y,2*Y);T.resetTransform()}else if(e=="sampledBrush"){var w,j=0;for(var g=0;
g<a.length;g++)if(a[g].id==p.Brsh.v.sampledData.v)w=a[g];var J=w.SZe;if(J==null){J=w.SZe=[w.channel,w.I];
S.Ss$(J)}var U=w.channel,H=w.I.C,f=w.I.T;while(H>k||f>D){j+=2;U=J[j];H=J[j+1].C;f=J[j+1].T}if(H*f!=0){var I=S.p(H*f*4);
S.RA(U,I,3);var L=new ImageData(new Uint8ClampedArray(I.buffer),H,f);T.putImageData(L,Math.round((k-H)/2),Math.round((D-f)/2))}}else{}return K.toDataURL()};
gQ.XO=function(p,a,R,Q){if(R==0)R=1;var t=p.Brsh.v,N=t.Dmtr.v.val,K=t.Dmtr.v.val=Math.min(Q!=null?Math.round(Q*2.6):3e3,N*R),T=t.Hrdn?t.Hrdn.v.val/100:1,d=Q!=null?Q:Math.round(K*(1+.55*(1-T)))+4,k;
d=Math.max(15,Math.min(d,3e3));var y=new x(0,0,d,d),E=new gQ(p,a,null,{NC:1},16711712,0,y);t.Dmtr.v.val=N;
E.moveTo(y.C/2,y.T/2);var D=E.gR(),P=E.yk();if(y.xA(P))k=D;else{k=S.p(y.u()*4);S.gW(D,P,k,y)}return[k,y,K]};
gQ.XJ=function(p,a,R){var Q=gQ.XO(p,a,R),t=Q[0],N=Q[1],K=Q[2],T=N.u(),d=S.p(T);S.vh(t,d,3);var y=S.p(T);
S.S.Sox(d,y,N);if(K<3||S.UM(y,0)){var E=N.C,k=E>>>1,D=y,P=255;for(var e=0;e<4;e++){D[E*(k-6+e)+k]=P;
D[E*k+k-6+e]=P;D[E*k+k+6-e]=P;D[E*(k+6-e)+k]=P}}var Y=[1,2,1,2,8,2,1,2,1];Y=S.eF.Fs(Y);S.eF.S$O(y,d,N.C,N.T,Y);
S.wp(t,4294967295);S.RA(d,t,3);for(var e=0;e<T;e++)if(y[e]==255){t[e<<2]=t[(e<<2)+1]=t[(e<<2)+2]=0;t[(e<<2)+3]=255}return{Cq:t,I:N,Yq:new X(N.C/2,N.T/2)}};
gQ._A="0";gQ.gP="1";gQ.NR="2";gQ.uo="3";var CG={};CG.PX=function(p,a){var R=p.uV(),d;if(R.x==Infinity||R.RJ())return{Yz:S.p(0),I:new x,Yf:new x};
var Q=p.uV(),t=CG.uv(p,a),N=S.s.bs(t.r);if(N.RJ())return{Yz:S.p(0),I:new x,Yf:new x};var K=V.P("canvas","");
K.width=N.C;K.height=N.T;var T=K.getContext("2d");T.translate(-N.x,-N.y);CG.SBO(t,T);if(p.RW.length!=0){var y=T.getImageData(0,0,N.C,N.T);
d=new Uint8Array(y.data.buffer)}else d=S.p(N.u()*4);return{Yz:d,I:N,Yf:Q}};CG.uv=function(p,a){var R={$:[],r:[]},Q=a.t,t=Math.max(Q.N*Q.N,Q.CI*Q.CI)<1e-9?Q:null;
CG.SqY(p,R,t);if(!S.KF.QD(a.oJ)){var N=S.s.wh(R.r);R=S.s.dq(R);R=S.s.dM(R,Math.min(N.C,N.T)/8);var K=gK.yk(a,p),T=S.KF.tM(a.oJ,K);
S.Lp.apply(T,R.r,K)}S.s.t(R.r,Q,R.r);return R};CG.SBO=function(p,a){Typr.U.pathToContext({crds:p.r,cmds:p.$},a)};
CG.Sqf=!1;CG.vm=function(p,a){if(NC.SJV==null){if(!CG.Sqf){NC.SMQ();CG.Sqf=!0}return!1}var R=p.KY,Q=R.ResourceDict.FontSet,t=R.ResourceDict.StyleSheetSet[0].StyleSheetData,N=R.EngineDict.StyleRun.RunLengthArray,K=R.EngineDict.StyleRun.RunArray,T=gK.cB(R),d=!0,y={},E=0;
for(var k=0;k<K.length;k++){var D=K[k].StyleSheet.StyleSheetData.Font;if(D==null)D=t.Font;for(var P=0;
P<N[k];P++){var e=T.charCodeAt(E+P),Y=D+","+(e>128?e:-1);if(y[Y]==null){y[Y]=1;if(a.oW(Q[D].Name,e)==null)d=!1}}E+=N[k]}return d};
CG.SqY=function(p,a,R){var Q=new gh;for(var t=0;t<p.uq.length;t++)CG.Sql(p.RW,p.uq[t],a,Q,R)};CG.Sql=function(p,a,R,Q,t){Q.translate(a.za.x,a.za.y);
for(var N=0;N<a.Nb.length;N++){var K={},T=a.Nb[N];if(!T.Xh)break;var d=Q.clone();d.translate(T.za.x,T.za.y);
if(t){var y=t.GV+d.GV*t.$B;d.GV=(Math.round(y)-t.GV)/t.$B}for(var E=T.start;E<T.end;E++)CG.SqB(p,a.Th[E],a,K,R,d)}Q.translate(-a.za.x,-a.za.y)};
CG.SqI="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
CG.SqB=function(p,a,R,Q,t,N){N.translate(a.za.x,a.za.y);for(var K=a.mh;K<=a.sB;K++){var T=R.tr[K],d=T.I.C,y=p[R.SKO+T.tX];
if(y.Yv=="\n")continue;var E=y.NB.FontSize/y.dm.head.unitsPerEm,D=gK.gc(y.NB),P=(Math.round(D.D)<<16)+(Math.round(D.X)<<8)+Math.round(D.N);
t.$.push("#"+S.ay(P));var e=N.clone();e.translate(T.za.x+T.uD*E,T.za.y-T.uG*E);var Y=new gh;Y.scale(E,-E);
if(y.eZ==1&&CG.SqI.indexOf(y.Yv)!=-1)Y.concat(new gh(-1,0,0,1,d,0));if(y.NB.FauxItalic)Y.concat(new gh(1,0,-Math.tan(.18),1,0,0));
Y.translate(0,y.PS);Y.scale(y.scale.x,y.scale.y);if(y.NB.BaselineShift!=null)Y.translate(0,-y.NB.BaselineShift);
if(T.le!=0){Y.rotate(-T.le)}Y.concat(e);if(T.path.$.length!=0&&y.Yv!="\t"){if(y.NB.FauxBold){var O=y.NB.FontSize/2048*27*y.scale.x;
Y.NE+=O;S.s.concat(t,T.path,Y);Y.NE-=O+O;S.s.concat(t,T.path,Y)}else S.s.concat(t,T.path,Y)}if(y.Yv!="\n"){if(y.NB.Underline){if(Q.PK==null)Q.PK=y.dm.post.underlineThickness;
if(Q.SCI==null)Q.SCI=y.dm.post.underlinePosition;var W=0,w=Q.SCI-Q.PK/2,g=T.ce*1.05,J=-Q.PK;S.s.concat(t,{$:["M","L","L","L","Z"],r:[W,w,W+g,w,W+g,w+J,W,w+J]},Y)}if(y.NB.Strikethrough){var U=y.dm["OS/2"].yStrikeoutSize,H=y.dm["OS/2"].yStrikeoutPosition,W=0,w=H+U/2,g=T.ce*1.05,J=-U;
S.s.concat(t,{$:["M","L","L","L","Z"],r:[W,w,W+g,w,W+g,w+J,W,w+J]},Y)}}t.$.push("X")}N.translate(-a.za.x,-a.za.y)};
function NC(p,a){var R=gK.Ez(p),Q,t,N=gK.rj(p),d;if(p.Curve)t=NC.ut(p.Curve);if(R!=0){Q=new x(N[0],N[1],N[2],N[3]);
if(R==2){Q.C=t[5]-t[4];Q.T=9999}}this.uq=[];this.RW=[];this.yH=R;var K=gK.cB(p),T=-1;for(var y=0;y<K.length;
y++){var E=d,k=gK.SKq(p,y),g=0;if(k!=T){T=k;E=d=gK.SMc(p,y)}var D={Yv:K.charAt(y),NB:E,dm:null,dK:-1,PS:0,scale:new X(0,0),zb:0,lineHeight:0,eZ:0},P=p.ResourceDict.FontSet[E.Font].Name,e=D.dm=a.oW(P,K.charCodeAt(y));
D.scale.x=E.HorizontalScale==null?1:E.HorizontalScale;D.scale.y=E.VerticalScale==null?1:E.VerticalScale;
var Y=e["OS/2"],O=e.hhea;if(E.FontCaps==1&&D.Yv!=D.Yv.toUpperCase()){var W=Y.sxHeight?Y.sxHeight/Y.sTypoAscender:.76;
D.scale.x*=W;D.scale.y*=W}var w=1/e.head.unitsPerEm*E.FontSize;if(E.FontBaseline==1){var W=p.ResourceDict.SuperscriptSize;
D.scale.x*=W;D.scale.y*=W;D.PS-=p.ResourceDict.SuperscriptPosition*E.FontSize}if(E.FontBaseline==2){var W=p.ResourceDict.SubscriptSize;
D.scale.x*=W;D.scale.y*=W;D.PS+=p.ResourceDict.SubscriptPosition*E.FontSize}if(g==0&&Y&&Y.sxHeight&&P.toLowerCase().indexOf("capitals")!=-1)g=Y.sxHeight;
if(g==0&&Y&&Y.sCapHeight)g=Y.sCapHeight;if(g==0&&Y&&Y.sTypoAscender)g=Y.sTypoAscender;if(g==0)g=O.ascender;
D.zb=g*w;D.lineHeight=E.FontSize*1.2;if(E.AutoLeading==!1)D.lineHeight=E.Leading;this.RW.push(D)}var J=this.uq,U=[0];
for(var y=0;y<p.EngineDict.ParagraphRun.RunLengthArray.length;y++){var H=new NC.XV(p,a,this.RW,y,Q,U,R==1?t:null);
J.push(H)}if(R==2){var f=p.Curve.Points,j=t[0],I=t[1],L=t[2],C=t[3],v=t[4],o=t[5];for(var y=0;y<J.length;
y++)for(var Z=0;Z<J[y].Nb.length;Z++)if(!(y==0&&Z==0))J[y].Nb[Z].Xh=!1;var H=J[0],B=H.Nb[0];H.za.YY(0,0);
B.za.YY(0,0);for(var Z=B.start;Z<B.end;Z++){var s=H.Th[Z],q=s.za.x;s.za.x=0;for(var F=s.mh;F<=s.sB;F++){var b=H.tr[F],G=b.I.C/2;
b.za.x+=q;var u=NC.SqA(j,(v+b.za.x+G)%C);b.za.x=u[0]-G*u[2];b.za.y=u[1]-G*u[3];b.le=Math.atan2(u[3],u[2])}}}}NC.prototype.Sqv=function(){return!this.S$_(0)};
NC.prototype.SqT=function(){return this.S$_(1)};NC.prototype.S$_=function(p){var a=this.uq,R=!0,Q=0;
for(var t=0;t<a.length;t++){var N=a[t].Nb,K=N.length;Q+=K;for(var T=0;T<K;T++)R&=N[T].Xh}return[R,Q][p]};
NC.ut=function(p){var a=p.Points,R=a.length,Q=R>>>3,t=p.TextOnPathTRange,N=p.Reversed,k=0,D=0;if(N){var K=a.slice(0);
for(var T=0;T<R;T+=2){K[T]=a[R-2-T];K[T+1]=a[R-1-T]}a=K;t=[Q-t[1]%Q,Q-t[0]%Q]}var d=[],y=[0],E=[0];for(var T=0;
T<R;T+=8){var P=a[T+6]-a[T+0],e=a[T+7]-a[T+1],Y=Math.round(4*Math.sqrt(P*P+e*e));for(var O=0;O<Y;O++){var W=O/Y,w=1-W,g=w*w*w*a[T+0]+3*w*w*W*a[T+2]+3*w*W*W*a[T+4]+W*W*W*a[T+6],J=w*w*w*a[T+1]+3*w*w*W*a[T+3]+3*w*W*W*a[T+5]+W*W*W*a[T+7];
d.push(g,J);if(T+O!=0){var P=g-k,e=J-D;E.push(E[E.length-1]+Math.sqrt(P*P+e*e));y.push((T>>>3)+W)}k=g;
D=J}}var U=E.length,H=E[U-1],f=NC.XA(t[0],y),j=NC.XA(t[1]%Q,y),I=E[f%U],L=E[j%U];if(I>=L)L+=H;return[d,y,E,H,I,L]};
NC.XA=function(p,a){var R=0;while(a[R]<p)R++;return R};NC.SqA=function(p,a){var R=0,Q=0,t,N,K;while(R<a){t=p[Q+2]-p[Q];
N=p[Q+3]-p[Q+1];K=Math.sqrt(t*t+N*N);R+=K;Q+=2}return[p[Q],p[Q+1],t/K,N/K]};NC.prototype.S$d=function(p){return this.RW[p]};
NC.prototype.S$R=function(p){for(var a=0;a<this.uq.length;a++){var R=this.uq[a];for(var Q=0;Q<R.Nb.length;
Q++){var t=R.Nb[Q],N=R.Th[t.start].start,K=R.Th[t.end-1].end;if(N<p&&p<K)return[N,K-1]}}return[0,1]};
NC.prototype.ShH=function(p,a){var R=-1,Q=this.uq;if(this.yH==2){var t=1e9,N=0,K=Q[0],T=K.Nb[0];for(var d=T.start;
d<T.end;d++){var y=K.Th[d];for(var E=y.mh;E<=y.sB;E++){var k=K.tr[E],D=k.I.C,P=p.x-k.za.x,e=p.y-k.za.y,Y=P*P+e*e;
if(Y<t){t=Y;N=k.tX}}}return N}for(var O=0;O<Q.length;O++){var K=Q[O];for(var W=0;W<K.Nb.length;W++){R++;
var T=K.Nb[W],w=K.Nb[W+1];if(w==null&&O<Q.length-1)w=Q[O+1].Nb[0];if(a!=null){if(R!=a)continue}else{if(w!=null&&K.za.y+T.za.y<p.y)continue}for(var d=T.start;
d<T.end;d++){var y=K.Th[d];for(var E=y.mh;E<=y.sB;E++){var k=K.tr[E],D=k.I.C,g=K.za.x+T.za.x+y.za.x,J=g+k.za.x,U=g+(E<y.sB?K.tr[E+1].za.x:k.za.x+D);
if(p.x<=U||d+1==T.end&&E==y.sB){var H=K.SKO+k.tX,f=this.RW[H],j=f.eZ&1;if(f.Yv!="\n"&&(j==0&&p.x>J+D/2||j==1&&p.x<J+D/2))H++;
return H}}}}}};NC.prototype.uP=function(p){var a={I:new x,kn:0},R=0;for(var Q=0;Q<this.uq.length;Q++){var t=this.uq[Q];
for(var N=0;N<t.Nb.length;N++){var K=t.Nb[N];a.kn=R;R++;for(var T=K.start;T<K.end;T++){var d=t.Th[T];
for(var y=d.start;y<d.end;y++){if(y==p){var E=this.RW[y],k=E.dK,D=t.tr[k].tX,P=1;while(t.tr[k]!=null&&t.tr[k].tX==D){var e=t.tr[k],Y=t.za.x+K.za.x+d.za.x+e.za.x,O=t.za.y+K.za.y+d.za.y+e.za.y;
a.I=a.I.hT(new x(Y,O-E.lineHeight,e.I.C,E.lineHeight));a.le=e.le;k+=P}return a}}}}}};NC.prototype.uV=function(){var p=Infinity,a=Infinity,R=-Infinity,Q=-Infinity;
for(var t=0;t<this.uq.length;t++){var N=this.uq[t];for(var K=0;K<N.Nb.length;K++){var T=N.Nb[K];if(!T.Xh)break;
for(var d=T.start;d<T.end;d++){var y=N.Th[d];for(var E=y.mh;E<=y.sB;E++){var k=N.tr[E],D=k.I,P=N.za.x+T.za.x+y.za.x+k.za.x,e=N.za.y+T.za.y+y.za.y+k.za.y;
p=Math.min(p,P+D.x);a=Math.min(a,e+D.y);R=Math.max(R,P+D.x+D.C);Q=Math.max(Q,e+D.y+D.T)}}}}return new x(p,a,R-p,Q-a)};
NC.Sis=function(p){return 19968<=p&&p<=40959||12288<=p&&p<=12543};NC.S$e=function(p,a,R,Q,t,N,K){var T=[N],d=0;
for(var y=N;y<K;y++){if(R[y]==null)console.log(y,N,K,R);var E=R[y].Yv,k=E.charCodeAt(0);if(k==32||k==9){T.push(d,y,1,y+1);
d=0}else if(k==3851){T.push(d+1,y+1);d=0}else if(NC.Sis(k)){T.push(d,y);d=1}else if(y!=N&&R[y].eZ!=R[y-1].eZ){T.push(d,y);
d=1}else d++}T.push(d);var D=[];for(var y=0;y<T.length;y+=2){var P=T[y],e=T[y+1];if(e==0)continue;D.push(new NC.SMt(p,a,R,Q,t,P,e))}return D};
NC.S$v=function(p,a,R,Q,t,N,K){var T=[0,a?a.C:1e9],d=[];if(Q){var y=p[N].zb,E=t+(t==0?y:p[N].lineHeight),k=E-y*.9,D=S.s.KE(Q[0],k),P=D.length,e=S.s.KE(Q[0],E),Y=e.length;
if(P!=0&&Y!=0){var O=0,W=0;T=[];while(O<P&&W<Y){var w=Math.max(D[O],e[W]),g=D[O+1],J=e[W+1],U=Math.min(g,J);
if(w<U)T.push(w,U);if(g<J)O+=2;else W+=2}}}for(var H=0;H<T.length;H+=2){var f=T[H+1]-T[H],j=0,I=N,L=a?f-R.StartIndent-R.EndIndent-(N==0?R.FirstLineIndent:0):Infinity;
while(N!=p.length){var C=p[N],v=j==0||(C.TH||C.DH)||j+C.I.C<L;if(!v)break;j+=C.I.C;N++}d.push(N-I)}K[0]=d;
K[1]=T;K[2]=N};NC.SMq=function(p,a){var R=p.length,Q=new Uint32Array(R),t=new Uint8Array(R),N=0;for(var K=0;
K<R;K++){t[K]=0;var T=p.charCodeAt(K);Q[K]=T;if(T>N)N=T}if(N>1424)t=NC.SZH(Q,a);return t};NC.XV=function(p,a,R,Q,t,N,K){this.Th=[];
this.Nb=[];this.za=new X(0,0);this.tr=null;this.Th=null;this.NB=gK.SXd(p,Q);var T=this.NB,k=0,Y="",J=0,U=1,h=0;
if(Q!=0){var d=T.SpaceBefore;if(d!=null)N[0]+=d}var y=p.EngineDict.ParagraphRun.RunLengthArray,E=y[Q];
for(var D=0;D<Q;D++)k+=y[D];var P=T._Direction?T._Direction:0;this.SKO=k;var e=gK.cB(p).slice(k,k+E);
for(var O=0;O<e.length;O++){var W=e.charAt(O);Y+=R[k+O].NB.FontCaps==0?W:W.toUpperCase()}e=Y;var w=NC.SMq(e,P),g=[],H=w[D]&1,f=R[k].dm;
R[k].eZ=w[0];for(var D=1;D<e.length;D++){var W=R[k+D],j=w[D];W.eZ=j;if(j!=H||W.dm!=f){g.push(J,U);J=D;
U=1;H=j;f=W.dm}else U++}g.push(J,U);var I=this.tr=[];for(var D=0;D<g.length;D+=2){var L=g[D],C=g[D+1],v=(R[k+L].eZ&1)==0,o=e.slice(L,L+C),Z=NC.SJV(R[k+L].dm,o,v),B=[],F=0;
for(var O=0;O<Z.length;O++){var s=Z[O];B.push({X:s.g,tX:s.cl,ce:s.ax,vl:s.ay,uD:s.dx,uG:s.dy})}Z=B;var q=Z.slice(0);
if(!v)q.reverse();for(var O=0;O<o.length;O++){while(F+1<q.length&&q[F+1].tX<=O){F++}while(F>0&&q[F-1].tX==O)F--;
R[k+L+O].dK=I.length+(v?F:q.length-F-1)}for(var O=0;O<Z.length;O++){I.push(Z[O]);Z[O].tX+=L;var W=R[k+Z[O].tX];
if(W.Yv=="\n")Z[O].ce=0;if(W.Yv=="\t")Z[O].ce=W.dm.head.unitsPerEm*2}}var b=gK.Ri(T),G=this.Th=NC.S$e(p,a,R,k,I,k,k+E),u=this.Nb,z=-1,Y=[null,null,0];
while(h<G.length){NC.S$v(G,t,T,K,N[0],h,Y);z++;var r={start:h,end:0,I:new x,za:new X(0,0),Xh:!0},So=0,gq=0;
u.push(r);r.end=Y[2];var i=r.end==G.length;function gg(q,L,g$){var gy=g$-L>>>1;for(var D=0;D<gy;D++){var SZ=q[L+D];
q[L+D]=q[g$-1-D];q[g$-1-D]=SZ}}for(var gC=1;gC<5;gC++){var gd=-1;for(var D=r.start;D<r.end;D++){var j=R[G[D].start].eZ;
if(gd==-1&&j>=gC)gd=D;else if(gd!=-1&&j<gC){gg(G,gd,D);gd=-1}}var gY=r.end;if(P==0&&G[gY-1].TH)gY--;
if(gd!=-1)gg(G,gd,gY)}var gN=Y[0],gS=Y[1],gd=h,M=h;for(var Cj=0;Cj<gN.length;Cj++){var gs=gS[Cj*2+1]-gS[Cj*2],gl=0;
gd=M;M+=gN[Cj];var gR=this.SM$(gd,M,G,P,t!=null);if(t){if(b==1||i&&b==4)gl=gR[1]+(gs-gR[0]);if(b==2||i&&b==5)gl=gR[1]+(gs-gR[0])/2;
if(z==0)gl+=T.FirstLineIndent;gl+=T.StartIndent}else{if(b==0)gl=T.StartIndent+T.FirstLineIndent;if(b==1)gl=-gR[0]-T.EndIndent;
if(b==2)gl=-gR[0]/2}gl+=gS[Cj*2];if(t&&b>2&&(b==6||!i))this.SMM(gd,M,G,gs,P,gl);else{var ge=gl;for(var D=gd;
D<M;D++){G[D].za.x=ge;ge+=G[D].I.C}}}h=r.end;for(var D=r.start;D<r.end;D++){var gH=G[D].I.clone();gH.MQ(G[D].za);
r.I=r.I.hT(gH);So=Math.max(So,G[D].zb);gq=Math.max(gq,G[D].lineHeight)}r.za.y=z==0?0:u[z-1].za.y+gq;
if(z==0){if(Q==0&&t)N[0]+=So;if(Q!=0)N[0]+=gq;this.za.y=N[0]}else N[0]+=gq;if(t)r.Xh=this.za.y+r.za.y<t.y+t.T}var gx=T.SpaceAfter;
if(gx!=null)N[0]+=gx};NC.XV.prototype.SM$=function(p,a,R,Q,t){var N=0,K=0;for(var T=p;T<a;T++)N+=R[T].I.C;
if(t){if(Q==0)for(var T=a-1;T>=p;T--)if(R[T].TH||R[T].DH)N-=R[T].I.C;else break;if(Q==1)for(var T=p;
T<a;T++)if(R[T].TH||R[T].DH){var d=R[T].I.C;N-=d;K-=d}else break}return[N,K]};NC.XV.prototype.SMM=function(p,a,R,Q,t,N){var K=0,T=0,d=0,y=0;
for(var E=p;E<a;E++)if(R[E].TH)d++;else{K+=R[E].I.C;T++}if(t==0)for(var E=a-1;E>=p;E--)if(R[E].TH||R[E].DH){if(R[E].TH){d--}}else break;
if(t==1)for(var E=p;E<a;E++)if(R[E].TH||R[E].DH){if(R[E].TH){d--;y++}}else break;if(T<=1||d==0){if(T==1)R[p].za.x=N;
return}var k=(Q-K)/d,D=-y*k;for(var E=p;E<a;E++){if(R[E].TH)this.tr[R[E].mh].I.C=R[E].I.C=k;R[E].za.x=N+D;
D+=R[E].I.C}};NC.SMt=function(p,a,R,Q,t,N,K){this.GS="";for(var T=0;T<K;T++)this.GS+=R[N+T].Yv;this.TH=K==1&&(R[N].Yv==" "||R[N].Yv=="\t");
this.DH=K==1&&R[N].Yv=="\n";this.start=N;this.end=N+K;this.I=new x;this.za=new X(0,0);this.zb=0;this.lineHeight=0;
var d=0,y=0;if(K==0){this.lineHeight=R[N].lineHeight;this.zb=R[N].zb;this.I=new x(0,-R[N].lineHeight,0,R[N].lineHeight)}var E=R[N].dK,k=R[N+K-1].dK;
if(k<E){var D=E;E=k;k=D}while(k+1<t.length&&t[k].tX==t[k+1].tX){k++}this.mh=E;this.sB=k;for(var P=E;
P<=k;P++){var e=t[P],Y=R[Q+e.tX],O=1/Y.dm.head.unitsPerEm*Y.NB.FontSize,J=0;if(!Y.NB.AutoKerning)d+=Y.NB.Kerning*2*O*Y.scale.x;
var W=e.ce*O*Y.scale.x;e.za=new X(d,0);e.le=0;e.I=new x(0,-Y.lineHeight,W,Y.lineHeight);var w=Typr.U.glyphToPath(Y.dm,e.X);
e.path={$:w.cmds,r:w.crds};var g=e.I.clone();g.MQ(e.za);if(Y.NB.Tracking!=null)J=Y.NB.Tracking*.001*Y.NB.FontSize;
if(Y.NB.FauxBold==!0)J+=.027*Y.NB.FontSize;d+=W+J;if(K==1&&(Y.Yv==" "||Y.Yv=="\t"))g.C+=2*J;else if(K==1&&Y.Yv!=null&&NC.Sis(Y.Yv.charCodeAt(0)))g.C+=J;
this.I=this.I.hT(g);this.zb=Math.max(this.zb,Y.zb);this.lineHeight=Math.max(this.lineHeight,Y.lineHeight)}};
NC.SMQ=function(){fetch("code/external/hb.wasm").then(function(p){return p.arrayBuffer()}).then(function(p){return WebAssembly.instantiate(p)}).then(function(p){p.instance.exports.memory.grow(700);
NC.SZq=hbjs(p.instance);NC.SJV=function(){var a=function(R){var Q=0;if((R&4294967295-(1<<7)+1)==0){Q=1}else if((R&4294967295-(1<<11)+1)==0){Q=2}else if((R&4294967295-(1<<16)+1)==0){Q=3}else if((R&4294967295-(1<<21)+1)==0){Q=4}return Q};
return function(R,Q,t){var N=NC.SZq,K=R._data,T=gn.qD(R),d=NC.SZM,O=0,W=0;if(NC.SZX!=T){if(d!=null){d[0].free();
d[1].free();d[2].free()}var y=N.createBlob(K),E=N.createFace(y,0),k=N.createFont(E);NC.SZM=d=[y,E,k];
NC.SZX=T}var k=d[2],D=N.createBuffer(),P=A.gd(Q);D.addText(P);D.setDirection(t?"ltr":"rtl");D.guessSegmentProperties();
D.shape(k);var e=D.json(k);D.free();var Y=e.slice(0);if(!t)Y.reverse();for(var w=1;w<Y.length;w++){var g=Y[w],J=g.cl;
while(W+a(Q.charCodeAt(O))<=J){W+=a(Q.charCodeAt(O));O++}g.cl=O}return e}}();fetch("code/external/fribidi.wasm").then(function(a){return a.arrayBuffer()}).then(function(a){return WebAssembly.instantiate(a)}).then(function(p){var a=p.instance.exports,R=a.memory,N=16,K=256,T=1;
R.grow(400);var Q=new Uint8Array(R.buffer),t=new Uint32Array(R.buffer),d=N|K,y=N|K|T;NC.SZH=function(k,D){var P=k.length,e=a.calloc(P*4+4+P*4+P*4+P,1),Y=e+P*4,O=Y+4,W=O+P*4,w=W+P*4;
t.set(k,e>>>2);t[Y>>>2]=D==0?d:y;a.fribidi_get_bidi_types(e,P,O);a.fribidi_get_bracket_types(e,P,O,W);
a.fribidi_get_par_embedding_levels_ex(O,W,P,Y,w);var g=Q.slice(w,w+P);a.free(e);return g};var E=new $(V.E.v,!0);
E.data={K:V.H.es,ii:"add",L_:gp.Sy,yR:null};gn.LI.Y(E)})})};function gK(){}gK.gl=function(p){return JSON.parse(JSON.stringify(p))};
gK.R$=function(p,a){for(var R in a)p[R]=a[R]};gK.oG=function(p,a,R){var Q=gK.SXX();if(R)gK.mv(Q,0,0,R);
var t={t:new gh(1,0,0,1,Math.round(p),Math.round(a)),KY:Q};t.oi=gK.SYw();t.oJ=S.KF.p();t.Yf=new x;return t};
gK.Sic=function(p){var a=["CharacterDirection",0];for(var R=0;R<a.length;R+=2){if(p[a[R]]!=null&&p[a[R]]!=a[R+1]){throw"e";
console.log(a[R],p[a[R]])}}if(p instanceof Array)for(var R=0;R<p.length;R++)gK.Sic(p[R]);else if(p instanceof Object)for(var Q in p)gK.Sic(p[Q])};
gK.Ri=function(p,a){if(a==null)a=p.Justification;var R=p._Direction?p._Direction:0;if(R==1){if(a==0||a==3)a++;
else if(a==1||a==4)a--}return a};gK.RU=function(p){if(p.add==null)return;var a=p.KY,R=a.Curve,Q=p.add.vmsk,t=Q.G,N=S.s.VO(t,!0).r,K=p.t.clone();
K.zw();S.s.t(N,K,N);var T=N.slice(0,8);for(var d=8;d<N.length;d+=6)T.push(N[d-2],N[d-1],N[d],N[d+1],N[d+2],N[d+3],N[d+4],N[d+5]);
R.Points=T;R.TextOnPathTRange=Q.Wx.slice(0);R.Reversed=Q.Rp;if(gK.Ez(a)==1){var R=NC.ut(a.Curve),y=S.s.wh(R[0]);
gK.Dn(a,[0,0,y.C,y.T].map(Math.round));for(var E=0;E<T.length;E+=2){T[E]-=y.x;T[E+1]-=y.y}var k=new gh(1,0,0,1,y.x,y.y);
k.concat(p.t);p.t=k}};gK.SS=function(p){if(p.add==null)return;var a=p.add.vmsk,R=p.KY.Curve,Q=R.Points,t={$:["M"],r:[Q[0],Q[1]]};
for(var N=0;N<Q.length;N+=8){t.$.push("C");t.r.push(Q[N+2],Q[N+3],Q[N+4],Q[N+5],Q[N+6],Q[N+7])}S.s.t(t.r,p.t,t.r);
var K=S.s.Vl(t,!0);a.G=K;a.Rp=R.Reversed;a.Wx=R.TextOnPathTRange.slice(0);p.add.vogk=l.YH(K)};gK.gc=function(p){var a={D:0,X:0,N:0};
if(p.FillColor){var R=p.FillColor,Q=R.Values;if(R.Type==1)a={D:Q[1]*255,X:Q[2]*255,N:Q[3]*255};else if(R.Type==2){var t={classID:"CMYC",Cyn:{t:"doub",v:Q[1]*100},Mgnt:{t:"doub",v:Q[2]*100},Ylw:{t:"doub",v:Q[3]*100},Blck:{t:"doub",v:Q[4]*100}};
a=S.e.gc(t)}else console.log("Unknown color type")}return a};gK.SMA=function(p){for(var a=0;a<p.length;
a++){var R=p[a].StyleSheet.StyleSheetData,Q=R.FillColor;if(Q&&Q.Type==2){var t=gK.gc(R);Q.Type=1;Q.Values=[1,t.D/255,t.X/255,t.N/255]}}};
gK.yk=function(p,a){var R;if(gK.Ez(p.KY)==1){var Q=gK.rj(p.KY);R=new x(0,0,Q[2]-Q[0],Q[3]-Q[1])}else R=a.uV();
return R};gK.Xl=function(p){var a=p[0];for(var R=0;R<p.length;R++)a=gK.SMn(a,p[R]);return a};gK.SMn=function(p,a){var R={};
for(var Q in p)if(JSON.stringify(p[Q])==JSON.stringify(a[Q]))R[Q]=p[Q];return R};gK.rl=function(p,a){var R=p.nY,Q=-1;
for(var t=0;t<R.length;t++)if(R[t].Name==a)Q=t;if(Q==-1){Q=R.length;R.push({FontType:1,Name:a,Script:0,Synthetic:0})}p.RW.Font=Q};
gK.cB=function(p){return p.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};gK.Xn=function(p,a){p.EngineDict.Editor.Text=a.replace(/\n/g,"\r")};
gK.Ez=function(p){return p.Curve&&p.Curve.TextOnPathTRange[0]>=0?2:p.EngineDict.Rendered.Shapes.Children[0].ShapeType};
gK.mW=function(p,a){var R=p.EngineDict.Rendered.Shapes.Children[0];R.ShapeType=a;var Q=R.Cookie.Photoshop;
Q.ShapeType=a;Q.Base.ShapeType=a;if(a==0){delete Q.BoxBounds;Q.PointBase=[0,0]}if(a==1){delete Q.PointBase;
Q.BoxBounds=[0,0,1,1]}};gK.rj=function(p){return p.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
gK.Dn=function(p,a){p.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=a};gK.SMc=function(p,a){return gK.SXS(p,gK.SKq(p,a))};
gK.SKq=function(p,a){var R=p.EngineDict.StyleRun.RunLengthArray;return gK.GN(R,a).QZ};gK.SXS=function(p,a){var R=p.ResourceDict.StyleSheetSet[0].StyleSheetData,Q={};
for(var t in R)Q[t]=R[t];var N=p.EngineDict.StyleRun.RunArray[a].StyleSheet.StyleSheetData;gK.R$(Q,N);
return Q};gK.SXd=function(p,a){var R=p.ResourceDict.ParagraphSheetSet[0].Properties,Q={};for(var t in R)Q[t]=R[t];
var N=p.EngineDict.ParagraphRun.RunArray[a].ParagraphSheet.Properties;gK.R$(Q,N);var K=["StartIndent","EndIndent","FirstLineIndent"];
for(var T=0;T<3;T++)if(Q[K[T]]==null)Q[K[T]]=0;return Q};gK.uC=function(p,a,R){if(R=="")return;var Q=gK.cB(p);
gK.Xn(p,Q.substring(0,a)+R+Q.substring(a,Q.length));var t=p.EngineDict.StyleRun,N=t.RunLengthArray,K=gK.GN(N,a-1);
N[K.QZ]+=R.length;var T=p.EngineDict.ParagraphRun,N=T.RunLengthArray,d=gK.GN(N,a),y=R.split("\n");if(y.length==1){N[d.QZ]+=R.length;
return}N.splice(d.QZ+1,0,N[d.QZ]-(a-d.mE));T.RunArray.splice(d.QZ+1,0,gK.gl(T.RunArray[d.QZ]));N[d.QZ]-=N[d.QZ+1];
N[d.QZ]+=y[0].length+1;for(var E=1;E<y.length-1;E++){T.RunArray.splice(d.QZ+E,0,gK.gl(T.RunArray[d.QZ+E-1]));
T.RunLengthArray.splice(d.QZ+E,0,y[E].length+1)}N[d.QZ+y.length-1]+=y[y.length-1].length};gK.Xk=function(p,a,R){var Q=gK.cB(p);
gK.Xn(p,Q.substring(0,a)+Q.substring(R,Q.length));gK.SCz(p.EngineDict.ParagraphRun,a,R,!0);gK.SCz(p.EngineDict.StyleRun,a,R,!1)};
gK.SCz=function(p,a,R,Q){var t=p.RunLengthArray,N=gK.GN(t,a),K=gK.GN(t,R),T=[];for(var d=0;d<t.length;
d++)for(var y=0;y<t[d];y++)T.push(d);T.splice(a,R-a);var E=[];for(var d=0;d<t.length;d++)E.push(0);for(var d=0;
d<T.length;d++)E[T[d]]++;for(var d=0;d<t.length;d++){if(E[d]==0){E.splice(d,1);t.splice(d,1);p.RunArray.splice(d,1);
d--}else if(E[d]<t[d])t[d]=E[d]}if(Q&&N.QZ!=K.QZ&&N.mE!=a){t[N.QZ]+=t[N.QZ+1];t.splice(N.QZ+1,1);p.RunArray.splice(N.QZ+1,1)}};
gK.mv=function(p,a,R,Q){var t=p.EngineDict.Editor.Text.length;if(R==t-2)R++;if(Q.RW.Font!=null)p.ResourceDict.FontSet=Q.nY.slice(0);
if(a<=R)gK.SpM(p.EngineDict.StyleRun,Q.RW,a,R,!0);gK.SpM(p.EngineDict.ParagraphRun,Q.uq,a,R,!1)};gK.SpM=function(p,a,R,Q,t){var N=p.RunLengthArray;
if(t){var K=gK.GN(N,R);if(K.mE!=R){var T=N[K.QZ];N.splice(K.QZ,0,R-K.mE);N[K.QZ+1]=T-N[K.QZ];p.RunArray.splice(K.QZ+1,0,gK.gl(p.RunArray[K.QZ]))}var d=gK.GN(N,Q);
if(d.mE+N[d.QZ]-1!=Q){var T=N[d.QZ];N.splice(d.QZ,0,Q-d.mE+1);N[d.QZ+1]=T-N[d.QZ];p.RunArray.splice(d.QZ+1,0,gK.gl(p.RunArray[d.QZ]))}}var K=gK.GN(N,R),d=gK.GN(N,Q);
if(t)for(var y=K.QZ;y<=d.QZ;y++)gK.R$(p.RunArray[y].StyleSheet.StyleSheetData,a);else for(var y=K.QZ;
y<=d.QZ;y++)gK.R$(p.RunArray[y].ParagraphSheet.Properties,a)};gK.SXK=function(p,a,R){var Q=p.EngineDict.StyleRun.RunLengthArray,t=[],N=0;
for(var K=0;K<Q.length;K++){var T=Q[K];for(var d=0;d<T;d++)if(a<=N+d&&N+d<R)t.push(K);N+=T}var y=t[0],E=[];
for(var K=0;K<t.length;K++){var k=t[K]-y;if(k==E.length)E.push(0);E[k]++}return E};gK.SXg=function(p){var a=p.EngineDict.StyleRun,R=a.RunArray,Q=a.RunLengthArray;
for(var t=0;t<Q.length-1;t++){var N=R[t].StyleSheet.StyleSheetData,K=R[t+1].StyleSheet.StyleSheetData;
if(JSON.stringify(N)==JSON.stringify(K)){R.splice(t+1,1);Q[t]+=Q[t+1];Q.splice(t+1,1);t--}}};gK.dJ=function(p,a,R){var Q={nY:p.ResourceDict.FontSet.slice(0),RW:[],uq:[]},t=p.EngineDict.StyleRun.RunLengthArray,N=gK.GN(t,a).QZ,K=gK.GN(t,R).QZ;
for(var T=N;T<=K;T++){var d=gK.gl(p.ResourceDict.StyleSheetSet[0].StyleSheetData),y=p.EngineDict.StyleRun.RunArray[T].StyleSheet.StyleSheetData;
gK.R$(d,y);Q.RW.push(d)}var E=p.EngineDict.ParagraphRun.RunLengthArray,k=gK.GN(E,a).QZ,P=gK.GN(E,R).QZ;
for(var T=k;T<=P;T++){Q.uq.push(gK.gl(p.EngineDict.ParagraphRun.RunArray[T].ParagraphSheet.Properties))}Q.RW=gK.Xl(Q.RW);
Q.uq=gK.Xl(Q.uq);return Q};gK.Xc=function(p,a){var R,Q;R=["FontSize","Leading","BaselineShift"];Q=p.RW;
for(var t=0;t<R.length;t++)if(Q[R[t]]!=null)Q[R[t]]*=a;R=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
Q=p.uq;for(var t=0;t<R.length;t++)if(Q[R[t]]!=null)Q[R[t]]*=a};gK.SXI=function(){return gK.dJ(gK.SlX,0,0)};
gK.SYw=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
gK.GN=function(p,a){var R=0,Q=0;while(R+p[Q]<=a){R+=p[Q];Q++}return{QZ:Q,mE:R}};gK.SXX=function(){var p=gK.gl(this.SlX);
return p};gK.SlK={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
gK.SXU={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
gK.SlX={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gK.SlK))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gK.SlK))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(gK.SXU))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var Sr={};Sr.SXW=function(p,a,R){var Q={};Q._98={_0:"i7"};Q._0=Sr.SXv(p,a,R?R._0:null);Q._1=Sr.SFN(p,a,Q._0,R?R._1:null);
return Q};Sr.SXv=function(p,a,R){var Q={};Q._1=Sr.SXT(p,R?R._1:null);Q._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
Q._3=JSON.parse(JSON.stringify(Sr.SFi));Q._4=JSON.parse(JSON.stringify(Sr.SFy));Q._5=Sr.SXA(p,Q._1._0,R?R._5:null);
Q._6=Sr.SXj(p,R?R._6:null);Q._8=Sr.SFC(p,a,R?R._8:null);Q._9=Sr.SFJ;return Q};Sr.SXT=function(p,a){var R=[],Q=[];
for(var t=0;t<p.length;t++){var N=p[t].ResourceDict.FontSet;for(var K=0;K<N.length;K++){var T=N[K];if(Q.indexOf(T.Name)!=-1)continue;
R.push(T);Q.push(T.Name)}}var d={_0:[]};for(var t=0;t<R.length;t++){var y=R[t],E={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+y.Name,_1:"i"+y.Script,_2:"i"+y.FontType}}};
if(y.Script==0)delete E._0._0._1;d._0.push(E)}return d};Sr.SXA=function(p,a,R){var Q={_0:[],_1:[]},t={_0:JSON.parse(JSON.stringify(Sr.S$Y))};
Sr.SLU(t._0,p[0].ResourceDict.StyleSheetSet[0],a,p[0].ResourceDict.FontSet);Q._0.push(t);Q._1.push({_0:"i0"});
Q._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});Q._1.push({_0:"i1"});return Q};Sr.SXj=function(p,a){var R={_0:[],_1:[]},Q={_0:JSON.parse(JSON.stringify(Sr.hp))};
Sr.hg(Q._0,p[0].ResourceDict.ParagraphSheetSet[0]);R._0.push(Q);R._1.push({_0:"i0"});Q={_0:JSON.parse(JSON.stringify(Sr.hp))};
Sr.hg(Q._0,p[0].ResourceDict.ParagraphSheetSet[0]);Q._0._0="sBasic Paragraph";Q._0._6="i0";R._0.push(Q);
R._1.push({_0:"i1"});return R};Sr.SFC=function(p,a,R){var Q={_0:[]};for(var t=0;t<p.length;t++){var N=p[t].Curve,K={};
Q._0.push({_0:K});var T=gK.Ez(p[t]);K._2={};K._2._0="i"+T;if(T==0){K._2._6=["f-1","f-1"];K._2._11={_4:"i-1",_7:!1}}else if(T==1&&N==null){var d=gK.rj(p[t]),y=d[2],E=d[3];
K._1={_0:Sr.Rt("f",[0,0,0,0,y,0,y,0,y,0,y,0,y,E,y,E,y,E,y,E,0,E,0,E,0,E,0,E,0,0,0,0])};K._2._6=["f-2","f-2"];
K._2._11={_4:"i-2",_7:!1}}else if(T==1){var d=gK.rj(p[t]),y=d[2],E=d[3];K._1={_0:Sr.Rt("f",N.Points)};
K._2._6=["f-3","f-3"];K._2._11={_4:"i-3",_7:!1}}else if(T==2){K._1={_0:Sr.Rt("f",N.Points)};K._2._6=Sr.Rt("f",N.TextOnPathTRange);
K._2._11={_0:N.Reversed,_3:"i0",_5:"f0",_7:!1}}}return Q};Sr.SFN=function(p,a,R,Q){var t={};t._0=JSON.parse(JSON.stringify(Sr.SFQ));
t._1=Sr.SFp(p,a,R,Q?Q._1:null);t._2=JSON.parse(JSON.stringify(Sr.S$Y._6));t._3=JSON.parse(JSON.stringify(Sr.hp._5));
return t};Sr.SFp=function(p,a,R,Q){var t=[],N=R._1._0;for(var K=0;K<p.length;K++){var T=p[K],d={_0:{}};
t.push(d);var y=Q?Q[K]:null;d._0._0="s"+T.EngineDict.Editor.Text;d._0._0=d._0._0;var E={_0:[]};d._0._5=E;
var k=T.EngineDict.ParagraphRun;for(var D=0;D<k.RunArray.length;D++){var P={_0:{}};E._0.push(P);P._0._0={_0:"s",_5:{},_6:"i1"};
Sr.hg(P._0._0,T.EngineDict.ParagraphRun.RunArray[D].ParagraphSheet);P._1="i"+k.RunLengthArray[D]}var e={_0:[]};
d._0._6=e;var Y=y?y._0._6:null;k=T.EngineDict.StyleRun;for(var D=0;D<k.RunArray.length;D++){var O={_0:{}};
e._0.push(O);var W=Y?Y._0:null;O._0._0={_0:"s",_5:"i1",_6:{}};Sr.SLU(O._0._0,T.EngineDict.StyleRun.RunArray[D].StyleSheet,N,T.ResourceDict.FontSet,W?O._0._0:null);
O._1="i"+k.RunLengthArray[D]}d._0._10={_0:"i4",_2:!0};d._1=Sr.view.Shr(T,null,K,null)}return t};Sr.SLU=function(p,a,R,Q,t){p._0="s"+(a.Name?a.Name:"");
var N=p._6,K=t?t._6:null,T=a.StyleSheetData;if(T.Font==null)return;var d=Q[T.Font].Name,y=-1;for(var E=0;
E<R.length;E++)if("s"+d==R[E]._0._0._0){y=E;break}N._0="i"+y;if(T.FontSize!=null)N._1="f"+T.FontSize;
if(T.FauxBold!=null)N._2=T.FauxBold;if(T.FauxItalic!=null)N._3=T.FauxItalic;if(T.AutoLeading!=null)N._4=T.AutoLeading;
if(T.Leading!=null)N._5="f"+T.Leading;if(T.HorizontalScale!=null)N._6="f"+T.HorizontalScale;if(T.VerticalScale!=null)N._7="f"+T.VerticalScale;
if(T.Tracking!=null)N._8="i"+T.Tracking;if(T.BaselineShift!=null)N._9="f"+T.BaselineShift;if(T.AutoKerning!=null)N._11="i"+(T.AutoKerning?1:0);
if(T.FontCaps!=null)N._12="i"+T.FontCaps;if(T.FontBaseline!=null)N._13="i"+T.FontBaseline;if(T.Strikethrough!=null)N._15="i"+(T.Strikethrough?1:0);
if(T.Underline!=null)N._16="i"+(T.Underline?2:0);if(T.Ligatures!=null)N._18=T.Ligatures;if(T.DLigatures!=null)N._19=T.DLigatures;
if(T.Language!=null)N._38="i"+T.Language;if(T.FillColor!=null)N._53={_99:"/SimplePaint",_0:{_0:"i1",_1:Sr.Rt("f",T.FillColor.Values)}}};
Sr.hg=function(p,a){p._0="s"+(a.Name?a.Name:"");var R=p._5,Q=a.Properties;if(Q.Justification!=null)R._0="i"+Q.Justification;
if(Q.FirstLineIndent!=null)R._1="f"+Q.FirstLineIndent;if(Q.StartIndent!=null)R._2="f"+Q.StartIndent;
if(Q.EndtIndent!=null)R._3="f"+Q.EndtIndent;if(Q.SpaceBefore!=null)R._4="f"+Q.SpaceBefore;if(Q.SpaceAfter!=null)R._5="f"+Q.SpaceAfter;
if(Q.AutoHyphenate!=null)R._9=Q.AutoHyphenate;if(Q._Direction!=null)R._33="i"+Q._Direction};Sr.Rt=function(p,a){var R=[];
for(var Q=0;Q<a.length;Q++)R.push(p+a[Q]);return R};Sr.SFi={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
Sr.SFy={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
Sr.S$Y={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
Sr.hp={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
Sr.SFJ={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
Sr.SFQ={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var Nm={};Nm.Shd=function(p){return Nm.hY(p,Nm._y)};Nm.SJf=function(p){return Nm.hP(p,Nm._y)};Nm.hY=function(p,a){var R;
if(typeof p=="string")return p;if(p instanceof Array){R=[];for(var Q=0;Q<p.length;Q++)R[Q]=Nm.hY(p[Q],a)}else{R={};
var t={};for(var N in a){var K=a[N],T="_"+K[0];if(p[T]!=null){R[N]=K[1]?Nm.hY(p[T],K[1]):p[T];t[T]=!0}}for(var N in p){if(t[N]==null){console.log(t);
console.log(N,p,a);throw"e"}}}return R};Nm.hP=function(p,a){var R;if(p instanceof Array){R=[];for(var Q=0;
Q<p.length;Q++)R[Q]=Nm.hP(p[Q],a)}else{R={};var t={};for(var N in a){var K=a[N],T="_"+K[0];if(p[N]!=null){R[T]=K[1]?Nm.hP(p[N],K[1]):p[N];
t[N]=!0}}for(var N in p){if(t[N]==null){console.log(t);console.log(N,p);throw"e"}}}return R};Nm.on={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
Nm.$Z={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,Nm.on],_StrokeColor:[54,Nm.on],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,Nm.on],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
Nm.ShR={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,Nm.$Z],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
Nm.ShI={_Name:[0],_Features:[5,Nm.ShR],_Parent:[6]};Nm.SiR={_Name:[0],_Parent:[5],_Features:[6,Nm.$Z]};
Nm._y={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,Nm.SiR]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,Nm.ShI]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,Nm.ShI]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,Nm.SiR]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,Nm.$Z],_OriginalNormalParagraphFeatures:[3,Nm.ShR]}]};
Sr.view={};Sr.view.Shr=function(p,a,R,Q){var t={},N=gK.Ez(p);t._0=[{_0:"i"+R}];return t};function CSS(){}CSS.Sha=function(p,a){var R=p.add,Q=R.vmsk,t=R.vstk,N=R.lmfx,K=R.TySh,T=[],d=CSS.ShA(N,R);
if(p.xP()&&Q){var y=S.d.Fh(Q.G);if(!y.RJ()){T.push("width: "+Math.round(y.C)+"px");T.push("height: "+Math.round(y.T)+"px")}var E=S.d.SJq(Q.G);
if(E>0)T.push("border-radius: "+Math.round(E)+"px")}else if(K){var k=K.KY;if(gK.Ez(k)==1){var y=gK.rj(k);
T.push("width: "+Math.round(y[2])+"px");T.push("height: "+Math.round(y[3])+"px")}CSS.SiM(T,gK.dJ(k,0,0),K.t,!1,!1,d[0])}var D=[],P=N?N.dropShadowMulti.v:0;
for(var e=0;e<P.length;e++){var Y=P[e].v;if(Y.enab.v){var O=Y.Dstn.v.val,W=Y.lagl.v.val*Math.PI/180;
if(Y.uglg&&Y.uglg.v)W=a.Co()*Math.PI/180;var w=O*Math.cos(W),g=O*Math.sin(W);D.push("drop-shadow("+(w==0?"0 ":CSS.zj(-w)+"px ")+(g==0?"0 ":CSS.zj(g)+"px ")+Y.blur.v.val/2+"px "+CSS.US(Y.Clr.v,Y.Opct.v.val/100)+")")}}if(D.length!=0)T.push("filter: "+D.join(" "));
if(K==null)CSS.Shu(d,T);if(t==null||!t.strokeEnabled.v)t=gB.ME(N);if(t&&t.strokeEnabled.v){var J=t.strokeStyleContent.v,U=J.classID,H=gZ.up.yo.indexOf(t.strokeStyleLineCapType.v.strokeStyleLineCapType),f=gZ.up.join.indexOf(t.strokeStyleLineJoinType.v.strokeStyleLineJoinType),j=t.strokeStyleOpacity.v.val/100,I=t.strokeStyleLineWidth.v.val,L="";
if(U=="solidColorLayer")L=CSS.US(J.Clr.v,j);T.push("border: "+I+"px solid "+L)}return T};CSS.ShA=function(p,a){var R=gB.Mw(p,a),Q=R[0],t=R[1],N,K;
if(Q){N=CSS.US(Q.Clr.v,a.iOpa!=null?a.iOpa/255:1)}else if(t){K=CSS.TW(t)}return[N,K]};CSS.Shu=function(p,a){if(p[0])a.push("background-color: "+p[0]);
if(p[1])a.push("background-image: "+p[1])};CSS.Jw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.zj=function(p){return""+parseFloat(p.toFixed(3))};CSS.mq=function(p){if(p==null)return{D:0,X:0,N:0};
if(p.slice(0,4)=="rgb("){var a=p.slice(4,p.length-1).split(",").map(parseFloat);return{D:a[0],X:a[1],N:a[2]}}if(p.charAt(0)!="#"){var R=CSS.Jw;
if(R[p])p=R[p];else console.log("unknown color "+p)}p=p.slice(1);if(p.length==3)p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2];
p=parseInt(p,16);return{D:p>>16&255,X:p>>8&255,N:p&255}};CSS.US=function(p,a){return CSS.CQ(S.e.gc(p),a)};
CSS.CQ=function(p,a){if(a==null)a=1;var R=Math.round(p.D),Q=Math.round(p.X),t=Math.round(p.N),N=R<<16|Q<<8|t;
return a==1?"#"+S.ay(N):"rgba("+R+","+Q+","+t+","+a+")"};CSS.TW=function(p){var a=p.Grad.v;if(a.Clrs==null)return"";
var R=a.Clrs.v.slice(0),Q=a.Trns.v.slice(0),t=p.Ofst.v,N=p.Type.v.GrdT=="Rdl"?1:0,K=(N==1?"radial":"linear")+"-gradient",T=N==0?Math.round(-p.Angl.v.val+90)+"deg":"circle at center",d=p.Rvrs.v;
if(d){R.reverse();Q.reverse()}for(var y=0;y<R.length;y++){var k=R[y].v,D=y<Q.length?Q[y].v.Opct.v.val/100:1,P=k.Lctn.v/4096;
if(d)P=1-P;T+=", "+CSS.US(k.Clr.v,D)+" "+Math.round(P*100)+"%"}return K+"("+T+")"};CSS.SiM=function(p,a,R,Q,t,N){var K=a.RW,T=Q?1:m.B.Of(R),d=Math.round(K.FontSize*T);
p.push("font-size: "+d+"px");var y=K.Tracking;if(!Q&&y!=null&&y!=0)p.push("letter-spacing: "+Math.round(y*d/1e3)+"px");
if(!K.AutoLeading)p.push("line-height: "+Math.round(K.Leading*T)+"px");if(K.Strikethrough)p.push("text-decoration: line-through");
var E=gK.gc(K);E=[E.D,E.X,E.N].map(Math.round);p.push((Q?"fill: ":"color: ")+(N?N:"#"+S.ay(E[0]<<16|E[1]<<8|E[2])));
var k=a.nY[K.Font].Name;if(k){var D=t,P=gn.LI.oW(k);if(P!=null&&k!=gn.qD(P))P=null;if(D&&P==null)D=!1;
if(D)p.push("font-family: \""+k+"\"");else{var e=null,Y=null,O=k.toLowerCase();if(P){e=gn.ke(P)[0];if(P["OS/2"])Y=P["OS/2"].usWeightClass}else{e=CSS.Shk(k);
if(O.indexOf("light")!=-1)Y=300;else if(O.indexOf("medium")!=-1)Y=500;else if(O.indexOf("black")!=-1||O.indexOf("extrabold")!=-1)Y=800;
else if(O.indexOf("bold")!=-1)Y="bold"}if(e!=null)p.push("font-family: \""+e+"\"");if(Y!=null)p.push("font-weight: "+Y);
if(O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1)p.push("font-style: italic")}}var W=a.uq.Justification;
if(W!=null&&W!=0)if(Q)p.push("text-anchor: "+["start","end","middle"][W%3]);else p.push("text-align: "+["left","right","center"][W%3])};
CSS.Shk=function(p){p=p.split("-")[0];while(p.endsWith("MT")||p.endsWith("PS"))p=p.slice(0,p.length-2);
var a=!0;for(var R=0;R<p.length;R++){var Q=p.charAt(R);if(!a&&Q.toLowerCase()!=Q){p=p.slice(0,R)+" "+p.slice(R);
R++;a=!0}else a=!1}return p};function gT(){}gT.PZ={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
gT.hV=function(p,a){var R=Date.now(),Q;try{Q=acorn.parse(p)}catch(dW){console.log(dW);return}var t=JSON.parse(JSON.stringify(gT.am.xp));
t.__return=!1;t.__break=!1;t.__throw=!1;t.__fs={};t.__window={};gT.eval(Q,a,t);var N=t.__fs;if(Object.keys(N).length!=0){var K=UZIP.encode(N);
SK.save(K,"output.zip")}};gT.eval=function(p,a,R){var Q=p.type;if(!1){}else if(Q=="Program"||Q=="BlockStatement"){var t=p.body;
for(var N=0;N<t.length;N++){var K=t[N].type;if(K=="FunctionDeclaration")R[t[N].id.name]=t[N]}for(var N=0;
N<t.length;N++){var K=t[N].type,T=gT.eval(t[N],a,R);if(R.__return||R.__break||R.__throw)return T}}else if(Q=="ReturnStatement"){R.__return=!0;
return p.argument?gT.Jl(p.argument,a,R):null}else if(Q=="BreakStatement"){R.__break=!0}else if(Q=="VariableDeclaration"){var d=p.declarations;
for(var N=0;N<d.length;N++)gT.eval(d[N],a,R)}else if(Q=="VariableDeclarator"){R[p.id.name]=p.init?gT.Jl(p.init,a,R):null}else if(Q=="FunctionDeclaration"){R[p.id.name]=p}else if(Q=="MemberExpression"){var y=gT.Jl(p.object,a,R),E=p.computed?gT.Jl(p.property,a,R):gT.eval(p.property,a,R),T;
if(y.mC!=null)T=gT.am.Lz(y,E,a,R);else if(y==window&&gT.PZ[E]){}else T=y[E];return T}else if(Q=="ArrayExpression"){var k=[],D=p.elements;
for(var N=0;N<D.length;N++)k.push(gT.Jl(D[N],a,R));return k}else if(Q=="ObjectExpression"){var k={},D=p.properties;
for(var N=0;N<D.length;N++){var P=D[N],e=D[N].key.name?D[N].key.name:D[N].key.value;k[e]=gT.Jl(D[N].value,a,R)}return k}else if(Q=="ExpressionStatement"){return gT.eval(p.expression,a,R)}else if(Q=="NewExpression"){var Y=p.arguments,O=p.callee,W=O.type,k=null;
if(W=="Identifier")k=gT.am.Sxl(O.name,Y,a,R);else throw"e";if(k==null)throw"new "+O.name;return k}else if(Q=="CallExpression"){var Y=p.arguments,O=p.callee,W=O.type,w={};
for(var g in R)w[g]=R[g];var J=[];for(var N=0;N<Y.length;N++)J.push(gT.Jl(Y[N],a,R));if(W=="Identifier"){var U=O.name,H=R[U];
if(H){if(H.params){var f=H.params;for(var N=0;N<f.length;N++)w[f[N].name]=J[N];return gT.eval(H.body,a,w)}else{return H.apply(null,J)}}else if(gT.am.SxH.indexOf(U)!=-1)return gT.am.QC({mC:"Application"},U,J,a,R);
else if(window[U]==null)console.log("Unknown function "+U);else if(gT.PZ[U])alert(U+"() not available");
else{var j=window[U].apply(window,J);return j}}else if(W=="MemberExpression"){var y=gT.Jl(O.object,a,R),E=O.computed?gT.Jl(O.property,a,R):gT.eval(O.property,a,R);
if(y==window&&gT.PZ[E])return;if(y.mC!=null)return gT.am.QC(y,E,J,a,R);else return y[E].apply(y,J)}else console.log(p)}else if(Q=="AssignmentExpression"){var I=p.operator,L=p.left,C=L.type,v=gT.Jl(L,a,R),o=gT.Jl(p.right,a,R),T=null;
if(!1){}else if(I=="=")T=o;else if(I=="+=")T=v+o;else if(I=="-=")T=v-o;else if(I=="*=")T=v*o;else if(I=="/=")T=v/o;
else if(I=="%=")T=v%o;else if(I=="&=")T=v&o;else if(I=="|=")T=v|o;else if(I=="&&=")T=v&&o;else if(I=="||=")T=v||o;
else console.log(p);if(C=="Identifier"){var Z=L.name;if(R.hasOwnProperty(Z))R[Z]=T;else R.__window[Z]=T}else if(C=="MemberExpression"){var B=gT.eval(L.property,a,R),s=gT.Jl(L.object,a,R);
if(s.mC!=null)gT.am.SxL(s,B,T,a,R);else s[B]=T}else console.log(p)}else if(Q=="Identifier")return p.name;
else if(Q=="Literal")return p.value;else if(Q=="UpdateExpression"){var I=p.operator,q=p.argument.name,k=gT.Jl(p.argument,a,R);
if(!1){}else if(I=="++"){R[q]++;return p.prefix?R[q]:R[q]-1}else if(I=="--"){R[q]--;return p.prefix?R[q]:R[q]+1}else console.log(p)}else if(Q=="UnaryExpression"){var I=p.operator,F=gT.Jl(p.argument,a,R);
if(F.mC=="UnitValue"){if(I=="-")return-F.Z;else return gT.SdH(F.Z,I)}else return gT.SdH(F,I)}else if(Q=="BinaryExpression"||Q=="LogicalExpression"){var I=p.operator,L=gT.Jl(p.left,a,R),F=gT.Jl(p.right,a,R);
if(L==null||F==null)return gT.RQ(L,F,I);else if(L.mC=="UnitValue"&&F.mC=="UnitValue")return gT.RQ(L.Z,F.Z,I);
else if(L.mC=="UnitValue")return gT.RQ(L.Z,F,I);else if(F.mC=="UnitValue"){if(I=="-")return-(L-F.Z);
else return gT.RQ(L,F.Z,I)}else return gT.RQ(L,F,I)}else if(Q=="IfStatement"||Q=="ConditionalExpression"){var b=gT.Jl(p.test,a,R);
if(b)return gT.eval(p.consequent,a,R);else if(p.alternate)return gT.eval(p.alternate,a,R)}else if(Q=="ForInStatement"){gT.eval(p.left,a,R);
var G=p.left.declarations[0].id.name,u=gT.Jl(p.right,a,R);for(var g in u){R[G]=g;var h=gT.eval(p.body,a,R);
if(R.__break)break;if(R.__return)return h}R.__break=!1}else if(Q=="ForStatement"){gT.eval(p.init,a,R);
while(gT.eval(p.test,a,R)){var h=gT.eval(p.body,a,R);if(R.__break)break;if(R.__return)return h;gT.eval(p.update,a,R)}R.__break=!1}else if(Q=="DoWhileStatement"){do{var h=gT.eval(p.body,a,R);
if(R.__break)break;if(R.__return)return h}while(gT.eval(p.test,a,R));R.__break=!1}else if(Q=="TryStatement"){gT.eval(p.block,a,R);
if(R.__throw){var z=p.handler;R[z.param.name]=R.__throw;R.__throw=!1;gT.eval(z.body,a,R);delete R[z.param.name]}}else if(Q=="EmptyStatement"){}else console.log(p)};
gT.RQ=function(p,a,R){if(R=="+")return p+a;else if(R=="-")return p-a;else if(R=="*")return p*a;else if(R=="/")return p/a;
else if(R=="%")return p%a;else if(R=="^")return p^a;else if(R=="&")return p&a;else if(R=="&&")return p&&a;
else if(R=="|")return p|a;else if(R=="||")return p||a;else if(R=="<")return p<a;else if(R==">")return p>a;
else if(R=="==")return p==a;else if(R=="<=")return p<=a;else if(R==">=")return p>=a;else if(R=="!=")return p!=a;
else if(R=="!==")return p!==a;else if(R=="<<")return p<<a;else if(R==">>")return p>>a;else console.log(R)};
gT.SdH=function(p,a){if(a=="-")return-p;else if(a=="!")return!p;else if(a=="~")return~p;else if(a=="+")return p;
else console.log(obj)};gT.Jl=function(p,a,R){var Q=p.type;if(Q=="Identifier")return gT.Sxp(p.name,a,R);
else return gT.eval(p,a,R)};gT.Sxp=function(p,a,R){if(p=="undefined")return undefined;else if(R.hasOwnProperty(p))return R[p];
else if(p=="app")return{mC:"Application"};else if(gT.am.SxR.indexOf(p)!=-1)return gT.am.Lz({mC:"Application"},p,a,R);
else if(window[p]&&!gT.PZ[p])return window[p];else{R[p]=null;return null}};gT.am={};gT.am.Sxl=function(p,a,R,Q){var t;
if(p=="SolidColor")t={mC:p,Z:[1,0,0,0]};if(p=="Window")t={mC:p,Z:new KR(gT.eval(a[0],R,Q),gT.eval(a[1],R,Q),gT.eval(a[2],R,Q))};
if(p=="ExportOptionsSaveForWeb")t={mC:p,Z:{bU:"png",XU:100}};if(p=="JPEGSaveOptions")t={mC:p,Z:{bU:"jpg",XU:100}};
if(p=="File")t={mC:p,Z:gT.eval(a[0],R,Q)};if(p=="ActionReference")t={mC:p,Z:[]};if(p=="ActionDescriptor")t={mC:p,Z:{}};
return t};gT.am.SxR="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
gT.am.SxH=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];gT.am.Lz=function(p,a,R,Q){var t=R.Gb,N=R.Ff();
if(!1){}else if(a=="typename"){if(p.mC=="Layer")return p.Z.sc()?"LayerSet":"ArtLayer";else return p.mC}else if(["Document","Layer"].indexOf(p.mC)!=-1&&["layers","artLayers","layerSets"].indexOf(a)!=-1){var K=N.root,T={mC:"Layers",ex:a,Z:[]};
if(p.mC=="Layer")K=N.root.GE(N.M.indexOf(p.Z));for(var d=0;d<K.children.length;d++){var y=K.children[d].w,E=y.sc();
if(E&&a=="artLayers"||!E&&a=="layerSets")continue;T.Z.push({mC:"Layer",Z:y})}T.Z.reverse();return T}else if(p.mC=="Documents"||p.mC=="Layers"||p.mC=="HistoryStates"){if(!1){}else if(a=="length")return p.Z.length;
else if(Number.isInteger(a))return p.Z[a];else console.log(p.mC+": unknown property ",a)}else if(p.mC=="Application"){if(!1){}else if(a=="activeDocument")return{mC:"Document",Z:R.Ff()};
else if(a=="documents"){var T={mC:"Documents",Z:[]};for(var d=0;d<R.WR.length;d++)T.Z.push({mC:"Document",Z:R.WR[d]});
return T}else if(a=="fonts")return{mC:"TextFonts"};else if(a=="preferences")return{mC:"Preferences"};
else if(a=="displayDialogs")return{mC:"DialogModes"};else if(a=="foregroundColor"||a=="backgroundColor"){var k=a[0]=="f"?t.rc:t.eJ;
return{mC:"SolidColor",Z:[1,(k>>>16&255)/255,(k>>>8&255)/255,(k>>>0&255)/255]}}else if(a=="UI")return{mC:"UI"};
else console.log(p,a)}else if(p.mC=="Document"){var N=p.Z;if(!1){}else if(a=="activeLayer"){var y=N.M[N.V[0]];
return{mC:"Layer",Z:y}}else if(a=="resolution")return N.po;else if(a=="width")return N.C;else if(a=="height")return N.T;
else if(a=="name")return N.name;else if(a=="saved")return!N.mR();else if(a=="selection")return{mC:"Selection"};
else if(a=="activeHistoryState")return{mC:"HistoryState",Yo:N.oR};else if(a=="source")return N.tx;else if(a=="historyStates"){var D=[];
for(var d=0;d<N.history.length;d++)D.push({mC:"HistoryState",Yo:d});return{mC:"HistoryStates",Z:D}}else console.log(p,a)}else if(p.mC=="Layer"){var P={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},y=p.Z;
if(!1){}else if(a=="visible")return y.Aw();else if(a=="selected")return N.V.indexOf(N.M.indexOf(y))!=-1;
else if(a=="grouped")return y.$L;else if(P[a]!=null)return y.qJ(P[a]);else if(a=="opacity")return y.opacity*100/255;
else if(a=="blendMode")return y.bQ;else if(a=="name")return y.getName();else if(a=="textItem")return{mC:"TextItem",Z:y};
else if(a=="bounds"){var e=m.B.yk(N,[N.M.indexOf(y)]);return gT.am.Sgh(e,N)}else if(a=="parent"){var Y=R.WR;
for(var d=0;d<Y.length;d++)if(Y[d].M.indexOf(y)!=-1)return{mC:"Document",Z:Y[d]}}else if(a=="kind"){var O=gT.am.Rm;
for(var d=0;d<O.length;d++)if(y.add[O[d]]!=null)return d;return 0}else console.log(p,a)}else if(p.mC=="Selection"){if(!1){}else if(a=="bounds")return gT.am.Sgh(R.Ff().S.rect,N);
else console.log(p,a)}else if(p.mC=="TextItem"){var W=p.Z.add.TySh,w=W.KY,g=gK.cB(w),J=W.t.Of(),U=gK.dJ(w,0,Math.max(0,g.length-2));
if(a=="contents")return g.slice(0,g.length-1).replace(/\n/g,"\r");else if(a=="font")return U.RW.Font!=null?U.nY[U.RW.Font].Name:null;
else if(a=="size")return gT.am.RE(U.RW.FontSize*J,N);else if(a=="leading")return gT.am.RE(U.RW.Leading*J,N);
else if(a=="tracking")return gT.am.RE(U.RW.Tracking);else if(a=="kind")return 1-gK.Ez(w);else if(a=="useAutoLeading")return U.uq.AutoLeading;
else if(a=="hyphenation")return U.uq.AutoHyphenate;else if(a=="color")return{mC:"SolidColor",Z:U.RW.FillColor.Values.slice(0)};
else if(a=="width"||a=="height"){var H=gK.rj(w),f=(H[2]-H[0])*J,j=(H[3]-H[1])*J;return gT.am.RE(a=="width"?f:j,N)}else if(a=="position"){var I=W.t;
return gT.am.Sln([I.NE,I.GV],N)}else if(a=="horizontalScale"||a=="verticalScale"){var L=a[0].toUpperCase()+a.slice(1);
return Math.round(U.RW[L]*100)}else console.log(p,a)}else if(p.mC=="Preferences"){if(a=="rulerUnits")return t.QR.tc;
else console.log(p,a)}else if(p.mC=="SolidColor"){if(a=="rgb")return{mC:"RGBColor",Z:p.Z};else console.log(p,a)}else if(p.mC=="RGBColor"){var e=Math.round(255*p.Z[1]),C=Math.round(255*p.Z[2]),v=Math.round(255*p.Z[3]);
if(!1){}else if(a=="red")return e;else if(a=="green")return C;else if(a=="blue")return v;else if(a=="hexValue")return"#"+S.ay(e<<16|C<<8|v).toUpperCase();
else console.log(p,a)}else if(p.mC=="UnitValue"){if(a=="value")return p.Z;else throw"e"}else if(p.mC=="ExportOptionsSaveForWeb"){if(a=="format")return p.Z.bU;
else if(a=="PNG8")return!1;else if(a=="quality")return p.Z.XU;else throw a}else if(p.mC=="JPEGSaveOptions"){return 0}else console.log(p,a)};
gT.am.Sgh=function(p,a){return gT.am.Sln([p.x,p.y,p.x+p.C,p.y+p.T],a)};gT.am.Sln=function(p,a){var R=[];
for(var Q=0;Q<p.length;Q++)R.push(gT.am.RE(p[Q],a));return R};gT.am.Sxz=function(p){var a=[];for(var R=0;
R<p.length;R++)a.push(p[R].mC?p[R].Z:p[R]);return a};gT.am.RE=function(p,a){return{mC:"UnitValue",Z:p}};
gT.am.SJM=function(p,a){if(p.mC=="UnitValue")return p.Z;return p};gT.am.SxL=function(p,a,R,Q,t){var N=new $(V.E.W,!0),K=new $(V.E.v,!0),T=Q.Ff(),d=Q.Gb;
if(!1){}else if(p.mC=="Application"){if(!1){}else if(a=="activeDocument"){K.data={K:V.H.UT,NI:R.Z};Q.Y(K)}else if(a=="displayDialogs"){}else console.log(p,a,R)}else if(p.mC=="Document"){var y=p.Z;
if(!1){}else if(a=="name"){N.Q=m.pw;N.data={K:l.sO,Z:R,SJG:!0,QW:y};T.At=!0}else if(a=="source")y.tx=R;
else if(a=="activeLayer"){y.V=[y.M.indexOf(R.Z)]}else if(a=="activeHistoryState"){N.Q=m.EI;N.data={K:"h_itemchange",index:R.Yo}}else console.log(p,a)}else if(p.mC=="Layer"){N.Q=m.pw;
var E={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=p.Z,D=T.M.indexOf(k);
if(!1){}else if(a=="visible"){if(k.Aw()!=R)N.data={K:l.ia,w:D}}else if(a=="opacity"){N.data={K:l.KD,w:D,yD:Math.round(255*R/100)}}else if(a=="blendMode"){N.data={K:l.Ko,w:D,yD:gE.TV.indexOf(R)}}else if(a=="name"){N.data={K:l.vC,w:D,name:R}}else if(E[a]!=null){N.data={K:l.OP,w:D,yD:[[R],[E[a]]]}}else if(a=="kind"){N.data={K:l.Er,w:D,jE:gT.am.Rm[R]}}else if(a=="grouped"){N.data={K:l.CX,w:D,yD:R}}else console.log(p,a,R)}else if(p.mC=="TextItem"){N.Q=m.Fr;
var k=p.Z,P=k.add.TySh,e=JSON.parse(JSON.stringify(P.KY)),Y=P.t.clone(),O=P.t.Of(),W=gK.cB(e),w=gK.dJ(e,0,W.length-2),g=!1;
if(!1){}else if(a=="contents"){gK.Xk(e,0,W.length-1);gK.uC(e,0,R.replace(/\r/g,"\n"))}else if(a=="size"){w.RW.FontSize=(R.Z!=null?R.Z:R)/O;
g=!0}else if(a=="leading"){w.RW.Leading=(R.Z!=null?R.Z:R)/O;g=!0}else if(a=="tracking"){w.RW.Tracking=R.Z!=null?R.Z:R;
g=!0}else if(a=="kind"){var J=gK.Ez(e);if(J==1&&R==1){var U=new NC(e,Q.Gb.mk).uq[0],H=U.Nb[0].end,f=U.Th[H-1].end;
gK.Xk(e,0,W.length-1);gK.uC(e,0,W.slice(0,f-1))}if(J==R)gK.mW(e,1-R)}else if(a=="useAutoLeading"){w.uq.AutoLeading=R;
g=!0}else if(a=="hyphenation"){w.uq.AutoHyphenate=R;g=!0}else if(a=="font"){gK.rl(w,R);g=!0}else if(a=="color"){w.RW.FillColor.Values=R.Z.slice(0);
g=!0}else if(a=="width"||a=="height"){var j=gK.rj(e).slice(0);if(a=="width")j[2]=Math.round(j[0]+R/O);
else j[3]=Math.round(j[1]+R/O);gK.Dn(e,j)}else if(a=="position"){Y.NE=R[0];Y.GV=R[1]}else if(a=="horizontalScale"||a=="verticalScale"){var I=a[0].toUpperCase()+a.slice(1);
w.RW[I]=R/100;g=!0}else console.log(p,a,R);if(g)gK.mv(e,0,W.length-1,w);N.data={K:"newED",Rc:T.M.indexOf(k),DF:e,t:Y}}else if(p.mC=="Preferences"){if(!1){}else if(a=="rulerUnits"){var L=JSON.parse(JSON.stringify(d.QR));
L.tc=R;K.data={K:V.H.es,L_:gp.rZ,yD:L};Q.Y(K)}else console.log(p,a,R)}else if(p.mC=="RGBColor"){if(!1){}else if(a=="red")p.Z[1]=R/255;
else if(a=="green")p.Z[2]=R/255;else if(a=="blue")p.Z[3]=R/255;else if(a=="hexValue"){var C=S.cW(R.slice(1));
p.Z[1]=(C>>>16&255)/255;p.Z[2]=(C>>>8&255)/255;p.Z[3]=(C>>>0&255)/255}else console.log(p,a)}else if(p.mC=="ExportOptionsSaveForWeb"){if(a=="format")p.Z.bU=R;
else if(a=="PNG8"){}else if(a=="quality")p.Z.XU=R;else throw"e"}else if(p.mC=="JPEGSaveOptions"){if(a=="quality")p.Z.XU=Math.round(100*R/12)}else console.log(p,a,R);
if(N.data!=null)Q.Y(N)};gT.am.QC=function(p,a,R,Q,t){var N=p.mC,K=null,T=new $(V.E.W,!0),d=new $(V.E.JF,!0),y=new $(V.E.v,!0),E=Q.Ff(),k=Q.WR;
if(!1){}else if(N=="Application"){if(!1){}else if(a=="charIDToTypeID"){var D=R[0].trim();if(D=="Lvls")D="levels";
return D}else if(a=="stringIDToTypeID"){var P=R[0].trim(),e={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},Y=e[P];
return Y==null?P:Y}else if(a=="executeAction"){console.log(R);var O;if(R[1]){O=R[1].Z;O.classID=R[0]}var W={setd:"set"},w=W[R[0]];
if(w==null)w=R[0];d.data={zt:w,UD:O}}else if(a=="doAction"){y.data={K:V.H.yr,dX:[R[0],R[1]]}}else if(a=="open"){y.data={K:V.H.Pa,L_:{url:R[0]}};
if(R[2]&&k.length!=0)y.data.L_.Gy=k.indexOf(E)}else if(a=="echoToOE"){if(window.parent!=window)window.parent.postMessage(R[0],"*")}else console.log(a)}else if(N=="Document"){var E=p.Z;
if(!1){}else if(a=="trim"){var g=[];for(var J=0;J<4;J++)g.push(R[J+1]!=null?R[J+1]:!0);d.data=m.RO.fj(R[0]!=null?R[0]:0,g)}else if(a=="save"){y.data={K:V.H.gw}}else if(a=="saveToOE"){y.data={K:V.H.gw,SCq:R}}else if(a=="rotateCanvas"){d.data=m.B.yz(!0,R[0])}else if(a=="resizeImage"||a=="resizeCanvas"){var U=R[0],H=R[1];
if(typeof U!="number"){U=E.C*parseFloat(U.slice(0,U.length-1))/100;H=E.T*parseFloat(H.slice(0,H.length-1))/100}if(a=="resizeCanvas")d.data=m.RO.S$g(Math.round(U),Math.round(H),R[2]);
else d.data=m.RO.SKx(Math.round(U),Math.round(H),null,1)}else if(a=="paste"){y.data={K:V.H.Jq}}else if(a=="close"){y.data={K:V.H.iT,OR:E}}else if(a=="exportDocument"||a=="saveAs"){var f=t.__fs,j=R[0].Z.replace(":","").replace("~/",""),I=a=="exportDocument"?R[2].Z:R[1].Z,L=gr.$x(E,I.bU,null,null,[I.XU],Q.Gb);
f[j]=new Uint8Array(L)}else console.log(p,a,R)}else if(N=="Layer"){var C=p.Z,v=E.M.indexOf(C);if(!1){}else if(a=="copy"){gT.am.Pg(E,Q,0);
y.data={K:V.H.gm,Qf:R[0],Hn:v};Q.Y(y);delete y.data;gT.am.Pg(E,Q,1)}else if(a=="clear"){gT.am.Pg(E,Q,0);
d.data={zt:"delete"};Q.Y(d);delete d.data;gT.am.Pg(E,Q,1)}else if(a=="duplicate"){if(R.length==0){T.data={K:l.iP,w:v};
T.Q=m.pw;Q.Y(T);T.data=null;K={mC:"Layer",Z:E.M[E.V[0]]}}else if(R[0].mC=="Document"){T.data={K:l.sL,M:E.RC(v),Hy:E,Sd:R[0].Z};
T.Q=m.pw}}else if(a=="merge"||a=="remove"){T.data={K:a=="merge"?l.dw:l.iU,w:v};T.Q=m.pw;if(a!="remove")K={mC:"Layer",Z:E.M[E.V[0]]}}else if(a=="move"){T.data={K:l.vS,source:v,target:E.M.indexOf(R[0].Z),ul:R[1]!=3?.6:.3};
T.Q=m.pw}else if(a=="rasterize"){d.data={zt:"rasterizeLayer",UD:{classID:"rasterizeLayer",null:Nr.Fx("Lyr",!0)}}}else if(a=="rotate"){T.data={K:"rot",LS:[2,5],Z:-R[0]*Math.PI/180,Ut:R[1],w:v};
T.Q=m.oj}else if(a=="resize"){T.data={K:"scl",LS:[2,4],Z:new X(R[0]/100,R[1]/100),Ut:R[2],w:v};T.Q=m.oj}else if(a=="translate"){var o=gT.am.Sxz(R);
T.data={K:"trsl",w:v,SKW:o[0],SCS:o[1]};T.Q=m.Tx}else if(a=="link"){T.data={K:l.WC,Sfz:[v,E.M.indexOf(R[0].Z)]};
T.Q=m.pw}else console.log(p,a,R)}else if(N=="Documents"){if(a=="getByName"){for(var J=0;J<k.length;J++)if(k[J].name==R[0])return{mC:"Document",Z:k[J]};
return null}else if(a=="add"){var Z=R[5];if(Z==null)Z=1;d.data=SF.MJ(R[0],R[1],R[2],R[3],["Wht","Trns","BckC"][Z])}else throw"e"}else if(N=="Layers"){if(a=="getByName"){for(var J=0;
J<p.Z.length;J++)if(p.Z[J].Z.getName()==R[0]){K=p.Z[J];break}if(K==null)t.__throw={message:"No layer with a name "+R[0]}}else if(a=="add"){T.data={K:p.ex=="layerSets"?l.El:l.iw};
T.Q=m.pw;Q.Y(T);T.data=null;K={mC:"Layer",Z:E.M[E.V[0]]}}else console.log(p,a,R)}else if(p.mC=="Selection"){if(a=="select"){var B=R[0],s=[];
for(var J=0;J<B.length;J++)s.push(B[J][0],B[J][1]);d.data=m.GP.Nh(s)}else if(a=="selectAll"){d.data=m.GP.lR(!0)}else if(a=="invert"){d.data={zt:"inverse"}}else if(a=="copy"){y.data={K:V.H.gm}}else if(a=="deselect"){d.data=m.GP.lR()}else if(a=="fill"){var q=R[0].Z;
q=S.e.HW({D:q[1]*255,X:q[2]*255,N:q[3]*255});d.data=m.WH.FQ("Clr",R[1],R[2]==null?1:R[2]/100,q)}else console.log(p,a,R)}else if(p.mC=="Window"){if(a=="show"){y.data={K:V.H.XS,ax:p.Z}}else throw"e"}else if(p.mC=="ActionReference"){if(a=="putProperty"){p.Z.push({t:"prop",v:{classID:R[0],keyID:R[1]}})}else if(a=="putClass"){p.Z.push({t:"Clss",v:{classID:R[0]}})}else console.log(a,R)}else if(p.mC=="ActionDescriptor"){if(a=="putReference"){p.Z[R[0]]={t:"obj ",v:R[1].Z}}else if(a=="putDouble"){p.Z[R[0]]={t:"doub",v:R[1]}}else if(a=="putUnitDouble"){p.Z[R[0]]={t:"UntF",v:{type:R[1],val:R[2]}}}else if(a=="putObject"){var F=R[2].Z;
F.classID=R[1];p.Z[R[0]]={t:"Objc",v:F}}else if(a=="putBoolean"){p.Z[R[0]]={t:"bool",v:R[1]}}else console.log(a,R)}else if(p.mC=="UI"){var b;
if(a=="zoomIn"||a=="zoomOut"){b={K:"zoom",_R:a=="zoomIn"}}else if(a=="fitTheArea"){b={K:"adapt",Z:"fitscr"}}else if(a=="pixelToPixel"){b={K:"adapt",Z:"pixel"}}T.Q=m.NL;
T.data=b}else console.log(p,a,R);if(T.data)Q.Y(T);if(d.data)Q.Y(d);if(y.data)Q.Y(y);return K};gT.am.Pg=function(p,a,R){var Q=new $(V.E.W,!0);
Q.Q=m.yO;var t=new $(V.E.JF,!0);if(R==0){gT.am.SRw=p.S;t.data=m.GP.lR(!0)}else{var N=gT.am.SRw;if(N)Q.data={K:"setsel",LS:"Restore Selection",S:{rect:N.rect.clone(),channel:N.channel.slice(0)}};
else t.data=m.GP.lR()}a.Y(Q.data?Q:t)};gT.am.SRw=null;gT.am.xp={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
gT.am.xp.ColorBlendMode=gT.am.xp.BlendMode;gT.am.Rm="---- SoLd TySh SoCo GdFl PtFl".split(" ");function Nu(){}Nu.gx={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
Nu.SRk=function(p,a){if(a==null)a={};var R=new DOMParser,Q=R.parseFromString(p,"image/svg+xml"),t=Q.getElementsByTagName("rdf:Description")[0];
if(t==null)return a;var N=Nu.gx;for(var K in N){var T=N[K][2];if(T==null)continue;var d=t.getElementsByTagName(T)[0];
if(d==null)continue;var KI=d.getElementsByTagName("rdf:li"),y=[];for(var E=0;E<KI.length;E++)y.push(KI[E].textContent);
a[K]=y.join("; ")}return a};Nu.SIg=function(p){var a=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],R=Nu.gx;
for(var Q in R){var t=p[Q],N=R[Q][2],K="Seq",T="";if(t==null||N==null)continue;if(N=="dc:title"||N=="dc:description"){K="Alt";
T=" xml:lang=\"x-default\""}if(N=="dc:subject")K="Bag";a.push("\t<"+N+"><rdf:"+K+">");var d=N=="dc:subject"?t.split(";").join(",").split(","):[t];
for(var y=0;y<d.length;y++)a.push("\t\t<rdf:li"+T+">"+d[y].trim()+"</rdf:li>");a.push("\t</rdf:"+K+"></"+N+">")}a.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return a.join("\n")};Nu.Seq=function(p){var a=[];for(var R=0;R<p.length;R++)a[R]=p[R][1]==0?0:p[R][0]/p[R][1];
return a};Nu.Sew=function(p){var a=[];for(var R=0;R<p.length;R++){var Q=p[R],t=1;if(Q!=Math.round(Q)){t=1e3;
Q=Math.round(Q*t)}a[R]=[Q,t]}return a};Nu.Jd=function(p,a){var R=Nu.gx;if(a==null)a={};for(var Q in R){var t=R[Q][1],N="t"+t;
if(t!=null&&p[N]!=null){var K=p[N];if(t==0)K=K.join(".");else if(t==2||t==4){var T=p["t"+(t-1)];if(T==null)T=[t==2?"N":"E"];
K=Nu.Seq(K).join(",")+T[0]}else if(t==42034)K=Nu.Seq(K).join(" ");else if(t==270||t==315){var d=K[0],y=new Uint8Array(d.length);
A.XX(y,0,d);K=A.ng(y)}else K=K[0];a[Q]=K}}if(p.exifIFD)Nu.Jd(p.exifIFD,a);if(p.gpsiIFD)Nu.Jd(p.gpsiIFD,a);
return a};Nu.xz=function(p,a,R){var Q=Nu.gx,N=0,T=0;if(a==null)a={};var t={},K={};for(var d in Q){if(p[d]==null||Q[d][1]==null)continue;
var y=Q[d][1],E="t"+y,k=a;if(d.startsWith("exif:")){k=t;N++;if(d.startsWith("exif:GPS")){k=K;T++}}var D=p[d];
if(y==0)D=new Uint8Array(D.split(".").map(parseFloat));else if(y==2||y==4){var P=D.length;k["t"+(y-1)]=[D.slice(D.length-1)];
D=Nu.Sew(D.split(",").map(parseFloat))}else if(y==42034)D=Nu.Sew(D.split(" ").map(parseFloat));else if(y==270||y==315){var e=A.gd(D);
D=[A.GG(e,0,e.length)]}else D=[D];k[E]=D}if(N!=0){a.exifIFD=t;a.t34665=[0]}if(T!=0){a.gpsiIFD=K;a.t34853=[0]}var Y=new Date,O=[Y.getFullYear(),Y.getMonth()+1,Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds()];
for(var W=0;W<6;W++)O[W]=(O[W]+"").padStart(2,"0");a.t305=["Photopea Editor (www.photopea.com)"];if(R!=!0)a.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return a};var V={};V.Sec=0;V.IK=function(){V.Sec++;return V.Sec};V.Sxx="uint8";V.gi=function(){var p=navigator.userAgent.toLowerCase();
if(p.indexOf("safari")!=-1&&p.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};V.PN=function(p){this.vx=p;
this.SZF=V.P("img");this.ID=V.P("canvas");this.Ga=null;this.si="";this.Xw=null;this.jF=new X(0,0);V.EU(this.vx,this.Js.bind(this))};
V.PN.prototype.FU=function(p,a){this.Ga=p;if(a)this.si=a;this.Js()};V.PN.prototype.Js=function(p){if(p)this.jF=V.ma(p,this.vx);
var a=this.Ga,R=typeof a=="string";if(!R){var Q=V.o(),t=this.jF,N=a.I.C,K=a.I.T,T=typeof a.Cq=="string",d=T?this.SZF:this.ID;
if(T)d.setAttribute("src",a.Cq);else{d.width=N;d.height=K;var y=d.getContext("2d"),E=new ImageData(new Uint8ClampedArray(a.Cq.buffer),N,K);
y.putImageData(E,0,0)}d.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(t.y-a.Yq.y/Q)+"px; left:"+(t.x-a.Yq.x/Q)+"px; width:"+N/Q+"px; height:"+K/Q+"px");
var k=this.Xw;if(k==null||k!=d){if(k)this.vx.removeChild(k);this.vx.appendChild(d);this.Xw=d}}else if(this.Xw){this.vx.removeChild(this.Xw);
this.Xw=null}this.vx.setAttribute("style","cursor:"+(R?a:"none")+"; "+this.si)};V.SHA=function(p){return p.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
V.Pp=function(p,a){p.EX(gL.get([12,41]).charAt(0)+":");a.EX(gL.get([12,42]).charAt(0)+":")};V.P=function(p,a){var R=document.createElement(p);
if(a!=null)R.setAttribute("class",a);return R};V.Tl=function(p){while(p.firstChild)p.removeChild(p.firstChild)};
V.ey=function(p,a){var R=p.getAttribute("class").split(" ");if(R.indexOf(a)==-1)R.push(a);p.setAttribute("class",R.join(" "))};
V.Eg=function(p,a){var R=p.getAttribute("class");if(R==null)return;R=R.split(" ");if(R.indexOf(a)!=-1)R.splice(R.indexOf(a),1);
p.setAttribute("class",R.join(" "))};V.aM=function(p){while(!0){if(p==document)return!0;if(p==null)return!1;
p=p.parentNode}};V.zp=function(p){p.appendChild(V.P("br"))};V.xq=function(p){p.appendChild(V.P("hr"))};
V.LY=document;V.EY=function(p){var a=0;for(var R=0;R<p;R++)a+=Math.random();return a/p<Math.PI/4};V.mb=function(p,a){var R="";
if(!V.EY(29))a-=4;for(var Q=0;Q<p.length;Q++)R+=String.fromCharCode(p.charCodeAt(Q)-a-Q);return R};V.uz=function(p,a){var R="";
if(!V.EY(29))a+=4;for(var Q=0;Q<p.length;Q++)R+=String.fromCharCode(p.charCodeAt(Q)+a+Q);return R};V.Pr=function(p){var a="";
if(!V.EY(28))p+="-3";for(var R=0;R<p.length;R++){var Q=p.charCodeAt(R);if(Q<32||127<Q)throw"e";a+=String.fromCharCode(32+(Q-32+17+3*R)%96)}return a};
V.uJ=function(p){var a="";if(!V.EY(28))p+="-1";for(var R=0;R<p.length;R++){var Q=p.charCodeAt(R);Q-=32;
Q+=96e4;Q-=17+3*R;Q=Q%96;a+=String.fromCharCode(32+Q)}return a};V.SJO=function(p){var a="";if(!V.EY(28))p+="-3";
for(var R=0;R<p.length;R++){var Q=p.charCodeAt(R);if(Q<32||126<Q)throw"e";a+=String.fromCharCode(32+(Q-32+17+3*R)%95)}return a};
V.PE=function(p){var a="";if(!V.EY(28))p+="-1";for(var R=0;R<p.length;R++){var Q=p.charCodeAt(R);Q-=32;
Q+=95e4;Q-=17+3*R;Q=Q%95;a+=String.fromCharCode(32+Q)}return a};V.xW=function(p,a){var R="";if(!V.EY(29))a+=3;
for(var Q=0;Q<p.length;Q++)R+=String.fromCharCode((256<<16)+p.charCodeAt(Q)+a*Q&255);return R};V.ok=function(p){var a=Math.random();
V.Sxx="uint"+(3+a);return new p};V.Sfp=0;V.Sqd=function(p,a){var R=0;if(Date.now()-V.Sfp>1e3){R=a==0?100:a*10}else{if(p%10!=0)p*=10;
R=(p+a)%100}V.Sfp=Date.now();return R};V.xb=function(p,a){if(window.PointerEvent){p.addEventListener("pointerdown",a,!1);
return}p.addEventListener("mousedown",a,!1);p.addEventListener("touchstart",a,!1)};V.EU=function(p,a){if(window.PointerEvent){p.addEventListener("pointermove",a,!1);
return}p.addEventListener("mousemove",a,!1);p.addEventListener("touchmove",a,!1)};V.Eb=function(p,a){if(window.PointerEvent){p.addEventListener("pointerup",a,!1);
return}p.addEventListener("mouseup",a,!1);p.addEventListener("touchend",a,!1)};V.SJQ=function(p,a){if(window.PointerEvent){p.removeEventListener("pointerdown",a,!1);
return}p.removeEventListener("mousedown",a,!1);p.removeEventListener("touchstart",a,!1)};V._j=function(p,a){if(window.PointerEvent){p.removeEventListener("pointermove",a,!1);
return}p.removeEventListener("mousemove",a,!1);p.removeEventListener("touchmove",a,!1)};V.n$=function(p,a){if(window.PointerEvent){p.removeEventListener("pointerup",a,!1);
return}p.removeEventListener("mouseup",a,!1);p.removeEventListener("touchend",a,!1)};V.gI=function(p){p.addEventListener("touchstart",V.gX,!1);
p.addEventListener("touchmove",V.gX,!1);p.addEventListener("touchend",V.gX,!1)};V.LU=function(p,a,R,Q){var t=V.o();
p.width=Math.floor(a*t);p.height=Math.floor(R*t);p.style.width=p.width/t+"px";p.style.height=p.height/t+"px";
if(Q)Q.setTransform(t,0,0,t,0,0)};V.mT=function(p,a,R){p.setAttribute("style","width:"+a/V.o()+"px; height:"+R/V.o()+"px")};
V.ma=function(p,a){if(a==null)a=p.currentTarget;var R=a.getBoundingClientRect();if(p.touches)p=p.touches.item(0);
return{x:p.clientX-R.left,y:p.clientY-R.top}};V.o=function(p){return window.devicePixelRatio||1};V.gX=function(p){p.preventDefault()};
V.pc=function(p){p.stopPropagation();p.preventDefault()};V.uj=function(p,a,R){R=R?R:"";if(PIMG["__"+p]==null)R+=" gsicon";
return"<img src=\""+PIMG[p]+"\" alt=\""+(a?a:"")+"\" class=\""+R+"\" />"};V.SFb=function(p,a,R,Q){var t=p.dataTransfer.getData("text/uri-list");
if(t!=null&&t.startsWith("http")){var N=new $(V.E.v,!0);N.data={K:V.H.Pa,L_:{url:t,dg:!0,Gy:R,XD:Q}};
a.Y(N)}if(p.dataTransfer.files.length==0)return;var N=new $(V.E.v,!0);N.data={K:V.H.Slz,data:p.dataTransfer.files,Gy:R,XD:Q};
a.Y(N)};var $=function(p,a){if(!a)a=!1;this.type=p;this.target=null;this.currentTarget=null;this.bubbles=a;
this.Q=null;this.LB=!1};V.E={W:"0",v:"1",JF:"1.5",k:"2",Nz:"3",SyE:"4",Jz:"5"};V.H={IN:"10",Xf:"11",II:"12",xO:"13",PA:"14",Sod:"14.1",Pa:"15",gt:"16",PH:"17",xa:"18",gw:"19",SK_:"19.5",Srg:"20",xE:"21",gm:"22",Jq:"23",Jh:"24",XS:"25",IB:"26",UT:"27",PB:"28",Sld:"29",Slz:"30",La:"31",xc:"32",nh:"33",aK:"34",es:"35",Jb:"37",SRo:"38",ir:"39",iH:"40",UP:"41",SIp:"42",Iq:"43",iT:"44",SBV:"45",im:"46",ik:"47",yN:"48",yr:"49"};
var Yw={};Yw.S$I=function(p){var a=Yw.oc[p],R=document.documentElement.style,t=20;R.setProperty("--bg-color","#"+S.ay(a["--bg-color"]));
R.setProperty("--bg-panel","#"+S.ay(a["--bg-panel"]));R.setProperty("--bg-canvas","#"+S.ay(a["--bg-canvas"]));
R.setProperty("--bg-input","#"+S.ay(a["--bg-input"]));R.setProperty("--bg-bbtn","#"+S.ay(a["--bg-bbtn"]));
R.setProperty("--bg-bbtnOver","#"+S.ay(a["--bg-bbtnOver"]));R.setProperty("--brdr","#"+S.ay(a["--brdr"]));
R.setProperty("--text-color","#"+S.ay(a["--text-color"]));R.setProperty("--brdrLgt","rgba(255,255,255,"+a["--brdrLgt"]+")");
R.setProperty("--brdrDrk","rgba(  0,  0,  0,"+a["--brdrDrk"]+")");R.setProperty("--alphaDark",""+a["--alphaDark"]);
R.setProperty("--gs-invert",""+a["--gs-invert"]);var Q=a["--sh-clr"];R.setProperty("--sh-clr","rgba("+(Q>>16)+","+(Q>>8&255)+","+(Q&255)+", 0.45)");
R.setProperty("--sh-dy",""+a["--sh-dy"]+"px");if(1<V.o()&&V.o()<1.5)t/=V.o();R.setProperty("--img20",t+"px");
var N="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var p=0;p<N.length;p++){var K=N[p],T=K.split("/").pop(),d=PIMG["__"+K]==null?a["--gs-invert"]:"0";
R.setProperty("--icon_"+T,"url("+PIMG[K]+")");R.setProperty("--icon_"+T+"_invrt",d)}};Yw.oc=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function gM(){dk.call(this);this.parent=null;this._=null;this.Xs=0;this.hZ=0}gM.prototype=new dk;gM.prototype.Sxy=function(p){var a=this;
while(a!=null){if(a==p)return!0;a=a.parent}return!1};gM.prototype.yl=function(){var p=this._;return p.offsetWidth+p.clientLeft};
gM.prototype.S$y=function(){var p=this._;return p.offsetHeight+p.clientTop};gM.prototype.update=function(p){};
gM.prototype.Y=function(p){dk.prototype.Y.call(this,p);if(p.bubbles&&this.parent!=null)this.parent.Y(p)};
gM.prototype.SJu=function(p){p.stopPropagation();p.preventDefault()};gM.prototype.b=function(){};gM.prototype.XH=function(p){V.Eg(this._,"disabled")};
gM.prototype.Fv=function(p){V.ey(this._,"disabled")};gM.prototype.Ub=function(p){if(p)this.XH();else this.Fv()};
function Nq(p,a){gM.call(this);this.dN=null;this.SZi=this.aD.bind(this);this.SZU=this.yf.bind(this);
this.SZO=this.Sxt.bind(this);this.SZD=this.SxD.bind(this);this.PC=[];this.JV=[];this.Pl=[];this.SC$=[];
this._=V.P("div","contextpanel");this._.addEventListener("contextmenu",V.gX,!1);this.Tf=null;this.Ps=0;
this.SgU=p;this.SNL=a;this.YJ=[];for(var R=0;R<p.length;R++){var Q=V.P("div","enab");this.JV.push(Q);
this._.appendChild(Q);if(p[R].aA){var t=V.P("img","thumb");t.setAttribute("src",PIMG[p[R].aA]);Q.appendChild(t)}else{var N=V.P("span","check");
this.SC$.push(N);Q.appendChild(N)}var K=V.P("span","label");K.innerHTML=gL.get(p[R].name);Q.appendChild(K);
this.Pl.push(K);if(p[R].i_)this._.appendChild(V.P("hr"));if(p[R].lx||p[R].sub){var T=V.P("span","right");
Q.appendChild(T);if(p[R].lx)T.innerHTML=p[R].lx;if(p[R].sub)T.innerHTML="\u25B6"}Q.addEventListener("click",this.SZi,!1);
Q.addEventListener("mouseover",this.SZU,!0);Q.addEventListener("mouseout",this.SZO,!0);if(p[R].sub){var d=new Nq(p[R].sub,a?a[R].sub:null);
d.parent=this;this.YJ.push(d);d.h("select",this.SxT,this)}else this.YJ.push(null)}}Nq.prototype=new gM;
Nq.prototype.S$W=function(p){V.Tl(this._);for(var a=0;a<p.length;a++)if(p[a]!=0&&p[a]!=null){this._.appendChild(this.JV[a]);
if(p[a]!=1&&this.YJ[a])this.YJ[a].S$W(p[a])}};Nq.prototype.b=function(){var p=this.SgU;for(var a=0;a<p.length;
a++){if(p[a].title)this.JV[a].title=gL.get(p[a].title);this.Pl[a].textContent=gL.get(p[a].name)+(p[a].Kk?"...":"")}for(var a=0;
a<this.YJ.length;a++)if(this.YJ[a])this.YJ[a].b()};Nq.prototype.update=function(p,a){var R=this.SgU;
for(var Q=0;Q<R.length;Q++){if(R[Q].J){var t=R[Q].J(p,a,Q);if(t.J!=null)this.JV[Q].setAttribute("class",t.J?"enab":"disab");
if(t.vb!=null)this.Pl[Q].textContent=t.vb;if(t.Ve!=null)this.SC$[Q].textContent=t.Ve?"\u2713":""}}for(var Q=0;
Q<this.YJ.length;Q++)if(this.YJ[Q])this.YJ[Q].update(p,a)};Nq.prototype.UK=function(){return this.PC};
Nq.prototype.aD=function(p){if(p.button!=0)return;var a=this.JV.indexOf(p.currentTarget);if(this.YJ[a]){this.Ps=a;
this.SxD()}else{if(this.SNL){var R=this.SNL[a],Q=new $(R.q,!0);Q.Q=R.Q;Q.data=R.F;this.Y(Q)}this.dN=null;
this.PC=[a];this.Y(new $("select",!1));var Q=new $(V.E.v,!0);Q.data={K:V.H.xO};this.Y(Q)}};Nq.prototype.yf=function(p){var a=this.JV.indexOf(p.currentTarget);
if(this.Tf){clearTimeout(this.Tf);this.Tf=null}if(this.YJ[a]==null)return;this.Ps=a;this.Tf=setTimeout(this.SZD,300)};
Nq.prototype.Sxt=function(p){var a=this.JV.indexOf(p.currentTarget);if(this.Tf){clearTimeout(this.Tf);
this.Tf=null}};Nq.prototype.SxD=function(){if(this.Tf){clearTimeout(this.Tf);this.Tf=null}var p=this.Ps;
if(this.dN)this.dN.SJZ();this.dN=this.YJ[p];var a=this.JV[p].getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.YJ[p],x:a.left+a.width+2,y:a.top};this.Y(R)};Nq.prototype.SJZ=function(){for(var p=0;
p<this.YJ.length;p++)if(this.YJ[p])this.YJ[p].SJZ();var a=new $(V.E.v,!0);a.data={K:V.H.II,Vw:this};
this.Y(a)};Nq.prototype.SxT=function(p){var a=this.YJ.indexOf(p.target);this.PC=[a].concat(p.target.UK());
this.Y(new $("select",!1))};function SB(p,a,R,Q,t,N,K,T){gM.call(this);this._=V.P("span","fitem");var d=V.IK();
this.Dq=p;this.dY=T;this.Ln=a;this.xQ=R;this.PR=null;if(Q instanceof Array){this.PR=Q;Q=Q[0]}this.dr=Q;
this.XE=t;this.SZu=N;this.dl=K;this.mu=0;this.DJ=V.P("label","flabel");this.DJ.innerHTML=p;this.DJ.setAttribute("style","cursor:col-resize;");
this.yJ=V.P("input","");this.yJ.setAttribute("type","range");if(K){this.yJ.min=0;this.yJ.max=400}else{this.yJ.min=a;
this.yJ.max=R;if(t!=0)this.yJ.step=(R-a)/200}this.td=V.P("input","");this.td.setAttribute("type","text");
this.td.setAttribute("id",d);this.to=V.P("span","");this.to.innerHTML=Q;this.td.addEventListener("change",this.CN.bind(this),!1);
this.td.addEventListener("keydown",this.yT.bind(this),!1);this.td.addEventListener("wheel",this.IW.bind(this),!1);
this.yJ.addEventListener("input",this.CN.bind(this),!1);this.yJ.addEventListener("click",this.Sxu.bind(this),!1);
this.SZP=this.SxV.bind(this);this.SNB=this.Sx_.bind(this);this.Spi=this.SiZ.bind(this);this.dR=0;this.de=0;
this.Pz=!1;V.xb(this.DJ,this.SZP)}SB.prototype=new gM;SB.prototype.SKg=function(p){this.XE=p};SB.prototype.EX=function(p){this.DJ.textContent=p};
SB.prototype.b=function(){var p=this.Dq,a=this.dY;if(p){if(typeof p=="string"&&p.startsWith("<"))this.DJ.innerHTML=p;
else this.DJ.textContent=gL.get(p)+":"}if(a){a=gL.get(a);if(p)this.DJ.setAttribute("title",a);this.td.setAttribute("title",a)}};
SB.prototype.a=function(p){var a=this.Ln==this.xQ;if(!a&&this.Ln>=0)p=Math.max(this.Ln,p);if(this.XE==0)p=Math.round(p);
var R=this.dr;this.td.value=(this.XE!=0?p.toFixed(this.XE):p)+(this.SZu&&R?(R.toLowerCase()==R.toUpperCase()?"":" ")+R:"");
var Q=400*Math.pow((p-this.Ln)/(this.xQ-this.Ln),1/2.7);this.yJ.value=this.dl?Q:p};SB.prototype.l=function(){return parseFloat(this.td.value)};
SB.prototype.tI=function(){return this.dr};SB.prototype.CN=function(p){var a=0;if(p.currentTarget==this.td){var R=p.target.value,Q=0;
while(Q<R.length&&(R.charAt(Q)=="."||48<=R.charCodeAt(Q)&&R.charCodeAt(Q)<=57))Q++;a=R==""?0:parseFloat(R);
var t=R.slice(Q).trim();if(this.PR&&this.PR.indexOf(t)!=-1)this.dr=t}else{if(Date.now()-this.mu<10)return;
a=parseFloat(p.target.value);if(this.dl){a=this.Ln+Math.pow(a/400,2.7)*(this.xQ-this.Ln);a=this.SCP(a)}}this.a(a);
this.YD()};SB.prototype.YD=function(){this.Y(new $(V.E.k))};SB.prototype.SCP=function(p){if(this.xQ-this.Ln>50&&p>10)p=Math.round(p);
return p};SB.prototype.yT=function(p){var a=0;if(n.Lk(p.code,n.lZ))a=1;if(n.Lk(p.code,n.ld))a=-1;if(a!=0)this.SCb(a,p.shiftKey)};
SB.prototype.IW=function(p){this.SCb(p.deltaY>0?-1:1,p.shiftKey)};SB.prototype.SCb=function(p,a){var R=this.l(),Q=this.XE,t=p*(Q==null||Q==0||R>5?1:.1);
if(a)t*=10;var N=R+t;if(!this.dl&&this.xQ!=this.Ln)N=Math.min(this.xQ,N);this.a(N);this.YD()};SB.prototype.Sxu=function(p){var a=Date.now()-this.mu;
this.mu=Date.now();if(a>300)return;var R=(this.xQ+this.Ln)/2;if(this.Ln<0&&this.xQ>0)R=0;else if(this.Ln<1&&this.xQ>1&&this.xQ<10)R=1;
this.a(R);this.YD()};SB.prototype.SxV=function(p){V.EU(document,this.SNB);V.Eb(document,this.Spi);this.dR=V.ma(p,document.body).x;
this.de=this.l()};SB.prototype.Sx_=function(p){V.pc(p);var a=this.Ln==this.xQ,R=V.ma(p,document.body).x,Q=(R-this.dR)*(a?1:1/120*(this.xQ-this.Ln)),t=this.de+Q;
if(a)t=Math.round(t);if(!a){if(!0){t=Math.max(this.Ln,t);if(t==this.Ln){this.dR=R;this.de=this.Ln}}if(!this.dl){t=Math.min(this.xQ,t);
if(t==this.xQ){this.dR=R;this.de=this.xQ}}t=this.SCP(t)}this.Pz=!0;this.a(t);this.YD()};SB.prototype.SiZ=function(p){if(!this.Pz)this.td.focus();
this.Pz=!1;V._j(document,this.SNB);V.n$(document,this.Spi)};SB.prototype.Np=function(){this.td.select();
this.td.focus()};function ps(p,a){gM.call(this);this.KR=[];this.rY=-1;this.SZV=p;this.Xm=a;this.Pq=0;
this.rp=null;if(a!=null){this.th=new Nq([{name:[6,37]},{name:[5,4]}]);this.th.parent=this;this.th.h("select",this.SU,this)}this._=V.P("div","imageset scrollable");
this._.addEventListener("contextmenu",V.gX,!1)}ps.prototype=new gM;ps.prototype.b=function(){if(this.th)this.th.b()};
ps.prototype.SU=function(p){var a=this.th.UK()[0],R=new $(V.E.v,!0),Q={K:V.H.es,L_:this.Xm,eG:[this.rY]};
if(a==0){var t=this.rp[1][this.rY];Q.ii="rnm";R.data={K:V.H.XS,ax:"namewindow",pt:t,Spu:{q:V.E.v,F:Q}}}else{R.data=Q;
Q.ii="del"}this.Y(R)};ps.prototype.SiK=function(){return this.Pq};ps.prototype.tH=function(p){this.Pq=p;
if(this.rp)this.$X()};ps.prototype.ER=function(p,a,R,Q){this.rp=[p,a,R,Q];this.$X()};ps.prototype.$X=function(){var p=this.rp,a=p[0],R=p[1],Q=p[2],t=p[3];
this.KR=[];this._.innerHTML="";var N=this.tq.bind(this),K=this.Pq;if(K==0)V.ey(this._,"imageset");else V.Eg(this._,"imageset");
for(var T=0;T<a.length;T++){var d=a[T];if(d==null){this.KR.push(null);continue}var y=V.P("img","image");
if(Q)V.mT(y,Q,t);if(this.SZV)V.ey(y,"gsicon");y.setAttribute("src",d);if(K==0){}else{var E=V.P("div","listitem");
E.appendChild(y);var k=V.P("span");k.textContent=R?R[T]:"Item "+(T+1);k.setAttribute("style","margin-left:4px;");
E.appendChild(k);y=E}if(R)y.setAttribute("title",R[T]);y.addEventListener("mousedown",N,!1);this.KR.push(y);
this._.appendChild(y)}};ps.prototype.tq=function(p){this.rY=this.KR.indexOf(p.currentTarget);if(p.button==0)this.Y(new $(V.E.k));
if(p.button==2&&this.th){var a=this.th;a.update(null);var R=V.ma(p,document.body),Q=new $(V.E.v,!0);
Q.data={K:V.H.Xf,Vw:a,x:R.x,y:R.y+2};this.Y(Q)}};ps.prototype.l=function(){return this.rY};ps.prototype.a=function(p){this.rY=p};
ps.prototype.NY=function(p){for(var a=0;a<this.KR.length;a++){var R=this.KR[a];if(R==null)continue;if(a==p)V.ey(R,"active");
else V.Eg(R,"active")}};function Nj(p,a,R,Q,t,N,K){gM.call(this);this._=V.P("span","fitem "+R);this.qn=new gM;
this.qn._=V.P("div","floatcont");this.qn._.setAttribute("style","width: "+(Q+1.5)+"em;");this.qn.parent=this;
this.Py=V.P("div");this.qn._.appendChild(this.Py);this.uy=V.P("div");this.qn._.appendChild(this.uy);
if(p){this.Dq=p;this.DJ=V.P("label","flabel");this._.appendChild(this.DJ)}this.K=V.P("button",K?"nopadding":"");
this.K.setAttribute("style","position:relative;");this.K.addEventListener("click",(a?this.od:this.NG).bind(this),!1);
this._.appendChild(this.K);this.vi=V.P("img",K?"gsicon":"");this.K.appendChild(this.vi);if(a){var T=V.P("button");
T.textContent="\u25BC";T.addEventListener("click",this.NG.bind(this),!1);this._.appendChild(T)}else{var d=V.P("span");
d.textContent="\u25BC";d.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.K.appendChild(d)}var y=V.P("span");
this.uy.appendChild(y);y.setAttribute("style","display:inline-block;  vertical-align:top; width:"+Q+"em;");
this.Jn=new ps(K,N);y.appendChild(this.Jn._);this.Jn.parent=this.qn;this.Jn.h(V.E.k,this.SiC,this);this.Jn._.style.height=t+"em";
this.df=V.P("button");this.df.textContent="\u25BC";this.df.setAttribute("style","padding:3px");this.df.addEventListener("click",this.Siv.bind(this),!1);
this.uy.appendChild(this.df);var E=this.oZ(),k=N!=gp.xC&&N!=gp.Sq?N:null,D=N==null?"":gp.Qs[N][0].toUpperCase(),P=k?[{name:[12,87]}]:[];
P=P.concat([{name:"",J:function(Y){return{vb:gL.get([25,3,0])+" / "+gL.get([25,3,1])}}},{name:[23,6,"."+(D=="ICC"?"icc .cube .look .3dl":D)]},{name:"",J:function(Y){return{vb:gL.get([1,8])+" ."+D}},i_:E.length!=0}]);
for(var e=0;e<E.length;e++)P.push({name:E[e].split("/").pop()});this.th=new Nq(P);this.th.parent=this.qn;
this.th.h("select",this.SU,this);this.Xm=N;this.Spb=k;this.Gf=null;this.dt=!0;this.iR=null}Nj.prototype=new gM;
Nj.prototype.oZ=function(){return[]};Nj.prototype.SiC=function(p){this.pV(p);this.Jn.NY(this.Jn.l())};
Nj.prototype.od=function(){};Nj.prototype.b=function(){this.th.b();this.Jn.b();var p=this.Dq;if(p)this.DJ.textContent=gL.get(p)+":"};
Nj.prototype.EX=function(p){this.DJ.textContent=p};Nj.prototype.xT=function(p){var a=this.Xm,R=0;if(a==gp.Sx){R=this.Gf?this.Gf.length:0;
p=p.slice(0)}this.Gf=p;this.dt=!0;if(V.aM(this.Jn._)||a==gp.oO)this.mM();if(a==gp.Sx&&p.length-R==1&&V.aM(this._)){this.a(p[R]);
this.dt=!0;this.mM();this.Jn.NY(R);this.Y(new $(V.E.k))}};Nj.prototype.SU=function(p){var a=p.target.UK()[0];
if(this.Spb==null)a++;var R=new $(V.E.v,!0);if(a==0){var Q=this.P$();if(this.Xm==gp.Sx&&Q[0].profile==null)return;
R.data={K:V.H.es,ii:"add",L_:this.Spb,yR:Q}}else if(a==1)this.Jn.tH(1-this.Jn.SiK());else if(a==2)R.data={K:V.H.gt};
else if(a==3)R.data={K:V.H.im,SYF:this.Xm};else{var t=this.oZ();R.data={K:V.H.Pa,L_:{url:"rsrc/"+t[a-4]}}}if(R.data)this.Y(R)};
Nj.prototype.P$=function(){return[this.l()]};Nj.prototype.Siv=function(p){var a=this.th;a.b();a.update(null);
var R=p.currentTarget.getBoundingClientRect(),Q=new $(V.E.v,!0);Q.data={K:V.H.Xf,Vw:a,x:R.left,y:R.top+R.height};
this.Y(Q)};Nj.prototype.NG=function(p){this.mM();var a=this.K.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.qn,x:a.left,y:a.top+a.height,SYG:!0};this.Y(R)};function rK(){gM.call(this);
this._=V.P("div");this.Ga=!1;this.ya=[new gu([12,19,1],[[13,1,7]].concat(gA.DA)),new Cc([17,1]),new Cc([12,46])];
for(var p=0;p<3;p++){var a=this.ya[p];this._.appendChild(a._);a.h(V.E.k,this.cq,this)}this.b()}rK.prototype=new gM;
rK.prototype.b=function(){for(var p=0;p<3;p++)this.ya[p].b()};rK.prototype.l=function(){return this.Ga.slice(0)};
rK.prototype.a=function(p){this.Ga=p.slice(0);var a=this.ya,R=a[0].l();a[1].a(p.slice(R*8,R*8+4),R);
a[2].a(p.slice(R*8+4,R*8+8),R)};rK.prototype.cq=function(p){var a=this.ya,R=a.indexOf(p.currentTarget);
if(R==0)this.a(this.Ga);else{var Q=a[0].l()*8+(R==1?0:4),t=a[R].l();for(var N=0;N<4;N++)this.Ga[Q+N]=t[N];
this.Y(new $(V.E.k,!1))}};function Cc(p){gM.call(this);this._=V.P("div");this.Xd=V.P("canvas");this.SSS=p;
this.Ga=[0,20,200,255];this.Gr=0;this.SsC=-1;this.S$Z=!1;this.Sse=[];for(var a=0;a<5;a++){var R=V.P("span");
R.setAttribute("style","display:inline-block;width:"+(a==0?8:a==2?7:2)+"em");this.Sse.push(R);this._.appendChild(R)}this.HZ=this.mV.bind(this);
this.pf=this.tU.bind(this);this.pq=this.aD.bind(this);V.xb(this.Xd,this.HZ);this._.appendChild(this.Xd);
this.$X()}Cc.prototype=new gM;Cc.prototype.b=function(){this.$X()};Cc.prototype.a=function(p,a){this.Ga=p;
this.Gr=a;this.$X()};Cc.prototype.l=function(){return this.Ga.slice(0)};Cc.prototype.mV=function(p){var a=this.Ga,R=V.ma(p,this.Xd),Q=R.x-8,t=-1,N=1e9;
for(var K=0;K<4;K++){var T=Q-a[K],d=Math.abs(T);if(d<8&&d<N&&((K&1)==0&&T<0||(K&1)==1&&T>0)){N=T;t=K}}if(t==-1)return;
this.SsC=t;this.Po=p.altKey||a[(t>>>1)*2]!=a[(t>>>1)*2+1];V.EU(window,this.pf);V.Eb(window,this.pq)};
Cc.prototype.tU=function(p){var a=this.Ga,R=this.SsC,Q=(R>>>1)*2,t=Q+1,N=V.ma(p,this.Xd),K=Math.round(Math.max(0,Math.min(255,N.x-8)));
a[R]=K;if(this.Po&&a[Q]>=a[t])this.Po=!1;if(!this.Po)a[Q]=a[t]=K;this.$X();this.Y(new $(V.E.k,!1))};
Cc.prototype.aD=function(p){V._j(window,this.pf);V.n$(window,this.pq)};Cc.prototype.$X=function(){var p=this.Xd;
V.LU(p,255+16,16);var a=p.getContext("2d"),R=p.width,Q=p.height,t=Math.round(255*V.o()),N=Math.round(8*V.o());
a.translate(N,0);var K=a.createLinearGradient(0,0,t,0);K.addColorStop(0,"black");K.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Gr]);
a.fillStyle=K;a.fillRect(0,0,t,N);var T=this.Sse,d=gL.get(this.SSS)+":";T[0].textContent=d;for(var y=0;
y<4;y++){var E=this.Ga[y];T[1+y].textContent=E;var k=Math.round(E*V.o());a.beginPath();a.moveTo(k,N);
a.lineTo(k,N+N);a.lineTo(k+((y&1)==0?-1:1)*N,N+N);a.closePath();a.fillStyle="#cccccc";a.fill();a.strokeStyle="black";
a.stroke()}};function C_(p){gM.call(this);this.TX=0;this.alt=0;var a="ai"+V.IK();this._=V.P("span","fitem angleinput");
if(p){this.DJ=V.P("label","flabel");this.Dq=p;this._.appendChild(this.DJ);this.DJ.setAttribute("for",a)}this.T_=20;
this.hH=V.P("canvas","gsicon");this.eY=this.hH.getContext("2d");V.LU(this.hH,this.T_*2+1,this.T_*2+1,this.eY);
this._.appendChild(this.hH);V.xb(this.hH,this.Nk.bind(this));this.tv=this.LQ.bind(this);this.tt=this.pY.bind(this);
this.td=V.P("input","");this.td.setAttribute("type","text");this._.appendChild(this.td);this.td.setAttribute("id",a);
this.td.addEventListener("change",this.CN.bind(this),!1);this.to=V.P("span","");this.to.innerHTML="\xB0";
this._.appendChild(this.to);this.a(this.TX,this.alt)}C_.prototype=new gM;C_.prototype.b=function(){this.DJ.textContent=gL.get(this.Dq)+":"};
C_.prototype.EX=function(p){this.DJ.textContent=p};C_.prototype.l=function(){return{TX:this.TX,alt:this.alt}};
C_.prototype.a=function(p,a){if(p!=null)this.TX=p;if(a!=null)this.alt=a;this.td.value=this.TX;p=Math.PI*this.TX/180;
a=.9*this.T_*(90-this.alt)/90;var R=this.T_+.5,Q=this.eY;Q.clearRect(0,0,100,100);Q.strokeStyle="#000000";
Q.beginPath();Q.arc(R,R,.9*this.T_,0,2*Math.PI);Q.moveTo(R,R);Q.lineTo(R+Math.cos(p)*this.T_*.9,R-Math.sin(p)*this.T_*.9);
Q.stroke();Q.strokeStyle="#ff0000";Q.beginPath();Q.moveTo(R+Math.cos(p)*a-3,R-Math.sin(p)*a);Q.lineTo(R+Math.cos(p)*a+3,R-Math.sin(p)*a);
Q.moveTo(R+Math.cos(p)*a,R-Math.sin(p)*a-3);Q.lineTo(R+Math.cos(p)*a,R-Math.sin(p)*a+3);Q.stroke()};
C_.prototype.CN=function(p){var a=parseInt(this.td.value);a=a%360;this.a(a);this.Y(new $(V.E.k,!1))};
C_.prototype.Nk=function(p){V.EU(window,this.tv);V.Eb(window,this.tt);this.LQ(p)};C_.prototype.LQ=function(p){var a=V.ma(p,this.hH),R=a.x-this.T_,Q=a.y-this.T_,t=180*Math.atan2(-Q,R)/Math.PI,N=90-90*Math.min(1,Math.sqrt(R*R+Q*Q)/(.9*this.T_));
this.a(Math.round(t),Math.round(N));this.Y(new $(V.E.k,!1))};C_.prototype.pY=function(p){this.Y(new $(V.E.k,!1));
V._j(window,this.tv);V.n$(window,this.tt)};function pL(p,a){gM.call(this);this.Ga=0;this.Xv=a;this._=V.P("span","fitem angleinput");
if(p){this.DJ=V.P("label","flabel");this.Dq=p;this._.appendChild(this.DJ)}this.hH=V.P("canvas","gsicon");
this.eY=this.hH.getContext("2d");V.LU(this.hH,a,a);this._.appendChild(this.hH);V.xb(this.hH,this.Nk.bind(this));
this.tv=this.LQ.bind(this);this.tt=this.pY.bind(this);this.a(0)}pL.prototype=new gM;pL.prototype.b=function(){if(this.Dq)this.DJ.textContent=gL.get(this.Dq)+":"};
pL.prototype.EX=function(p){this.DJ.textContent=p};pL.prototype.l=function(){return this.Ga};pL.prototype.a=function(p){this.Ga=p;
var a=this.hH.width,R=Math.floor(p/3),Q=p-3*R,t=(Q+.5)*a/3,N=(R+.5)*a/3,K=this.eY,T=[.5,Math.round(a/3)+.5,Math.round(2*a/3)+.5,a-.5];
K.clearRect(0,0,a,a);var d=this.Xv<30;K.setLineDash([]);K.strokeStyle=d?"rgba(0,0,0,0.5)":"#000000";
K.beginPath();for(var y=0;y<4;y++){var E=T[y];K.moveTo(E,0);K.lineTo(E,a);K.moveTo(0,E);K.lineTo(a,E)}K.stroke();
if(p==9)return;if(!d){K.setLineDash([1,2]);var k=a*.53,D=Math.max(0,Math.min(a-k,t-k/2)),P=Math.max(0,Math.min(a-k,N-k/2));
K.strokeRect(Math.round(D)+.5,Math.round(P)+.5,Math.round(k),Math.round(k))}K.fillStyle="#000000";K.beginPath();
K.arc(t,N,a/8,0,Math.PI*2);K.fill()};pL.prototype.Nk=function(p){V.EU(window,this.tv);V.Eb(window,this.tt);
this.LQ(p)};pL.prototype.LQ=function(p){var a=V.ma(p,this.hH),R=Math.max(0,Math.min(2,Math.floor(a.x/(this.Xv/3)))),Q=Math.max(0,Math.min(2,Math.floor(a.y/(this.Xv/3))));
this.a(Q*3+R)};pL.prototype.pY=function(p){this.Y(new $(V.E.k,!1));V._j(window,this.tv);V.n$(window,this.tt)};
function gi(p,a,R,Q){gM.call(this);this._=V.P("button","fitem"+(a?" spread":"")+(Q?" bbtn":""));this.Dq=p;
this.dY=R;this.b();this._.addEventListener("click",this.tq.bind(this),!1)}gi.prototype=new gM;gi.prototype.b=function(){var p=this._,a=this.Dq,R=this.dY,Q=gL.get(a);
p.innerHTML=Q;if(Q.startsWith("<img"))p.setAttribute("style","padding:2px");if(R){p.setAttribute("title",gL.get(R))}};
gi.prototype.SJk=function(p){this._.setAttribute("title",p)};gi.prototype.tq=function(p){this.Y(new $("click",!1))};
gi.prototype.FX=function(){V.ey(this._,"bactive")};gi.prototype.Un=function(){V.Eg(this._,"bactive")};
gi.prototype.EX=function(p,a){if(p)this.Dq=p;if(a)this.dY=a;this.b()};gi.prototype.a=function(p){if(p)this.FX();
else this.Un()};gi.prototype.WO=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
gi.prototype.l=function(){return this.WO()};function Yo(p){gM.call(this);this._=V.P("span","fitem cswatch");
this.SsF=0;this.uO=[];this.NH=[];var a=this.Sia.bind(this);for(var R=0;R<p;R++){this.uO.push(0);var Q=V.P("span","colorsample");
Q.addEventListener("click",a,!1);this.NH.push(Q);this._.appendChild(Q)}var t=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],N=Math.min(p,t.length);
for(var R=0;R<N;R++)this.uO[R]=t[R];this.Io()}Yo.prototype=new gM;Yo.prototype.Sia=function(p){this.SsF=this.NH.indexOf(p.currentTarget);
this.Y(new $(V.E.k))};Yo.prototype.l=function(){return this.uO[this.SsF]};Yo.prototype.a=function(p){var a=this.uO,R=a.indexOf(p);
if(R!=-1)a.splice(R,1);else a.pop();a.unshift(p);this.Io()};Yo.prototype.Io=function(){for(var p=0;p<this.uO.length;
p++){this.NH[p].setAttribute("style","background-color:#"+S.ay(this.uO[p]))}};function Sv(p){gM.call(this);
this.PU=!1;this.on={D:0,X:0,N:0};this.EA=p;this._=V.P("span","fitem colorsample");this._.addEventListener("click",this.tq.bind(this),!1)}Sv.prototype=new gM;
Sv.prototype.b=function(){};Sv.prototype.SNg=function(p){if(this.PU==p)return;this.PU=p;this.oM()};Sv.prototype.tq=function(p){var a=this.on;
this.Y(new $("click"));var R=new $(V.E.v,!0);R.data={K:V.H.XS,ax:"colorpicker",dV:a.D<<16|a.X<<8|a.N,cJ:this.PF.bind(this),PW:this.EA};
this.Y(R)};Sv.prototype.PF=function(p){this.mz(p);this.Y(new $(V.E.k))};Sv.prototype.SiD=function(){this.tq(null)};
Sv.prototype.o$=function(){var p=this.on;return p.D<<16|p.X<<8|p.N};Sv.prototype.l=function(){return S.e.HW(this.on)};
Sv.prototype.mz=function(p){this.on={D:p>>16&255,X:p>>8&255,N:p&255};this.oM()};Sv.prototype.a=function(p){this.on=S.e.gc(p);
this.oM()};Sv.prototype.oM=function(){var p=this.on,a=p.D,R=p.X,Q=p.N;if(this.PU)a=R=Q=Math.round(S.XT(a,R,Q));
var t=a<<16|R<<8|Q;this._.setAttribute("style","background-color:#"+S.ay(t))};function rf(p){Nj.call(this,p,!1,"brushbutton nopadding",16.6,10,gp.JH,!0);
this.Fd=new gW([12,14,0],1,1e3," px",0,!0);this.Fd.h(V.E.k,this.SrM,this);this.Py.appendChild(this.Fd._);
this.sU=new gW([12,17],0,100,"%");this.sU.h(V.E.k,this.SrM,this);this.Py.appendChild(this.sU._)}rf.prototype=new Nj;
rf.prototype.NG=function(p){var a=this._.getBoundingClientRect();this.Spz(a.left,a.top+a.height)};rf.prototype.Spz=function(p,a){this.mM();
var R=new $(V.E.v,!0);R.data={K:V.H.Xf,Vw:this.qn,x:p,y:a};this.Y(R)};rf.prototype.a=function(p,a,R){this.iR=JSON.parse(JSON.stringify(p));
var Q=Math.floor(20*V.o()),t=Math.floor(36*V.o()),N=Math.floor(24*V.o()),K=gQ.np(p,a,R,Q,N,t);this.vi.setAttribute("src",K);
V.mT(this.vi,t,N);var T=p.Brsh.v;this.Fd.a(T.Dmtr.v.val);if(T.Hrdn!=null){this.sU.XH();this.sU.a(T.Hrdn.v.val)}else this.sU.Fv();
this.Jn.NY(-1)};rf.prototype.P$=function(){return{list:[{t:"Objc",v:this.l()}],mp:[],rw:[]}};rf.prototype.l=function(){return this.iR};
rf.prototype.mM=function(){if(!this.dt)return;var p=[],a=[],R=this.Gf,Q=Math.floor(33*V.o()),t=Math.floor(40*V.o());
for(var N=0;N<R.list.length;N++){var K=R.list[N].v,T=gQ.np(K,R.mp,R.rw,Q,t);p.push(T);a.push(K.Nm.v.split("=").pop())}this.Jn.ER(p,a,Q,t);
this.dt=!1};rf.prototype.pV=function(p){var a=this.Gf;this.a(a.list[this.Jn.l()].v,a.mp,a.rw);this.Y(new $(V.E.k))};
rf.prototype.b=function(){Nj.prototype.b.call(this);this.Fd.b();this.sU.b()};rf.prototype.SrM=function(p){var a=this.Gf,R=this.iR;
R.Brsh.v.Dmtr.v.val=this.Fd.l();if(R.Brsh.v.Hrdn!=null)R.Brsh.v.Hrdn.v.val=this.sU.l();this.a(R,a.mp,a.rw);
this.Y(new $(V.E.k))};function pk(p){Nj.call(this,p,!0,"contourbutton",17,10.5,gp.YU)}pk.prototype=new Nj;
pk.prototype.pV=function(p){this.a(this.Gf[p.target.l()]);this.Y(new $(V.E.k))};pk.prototype.od=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.XS,ax:"contoureditor",c:this.iR,response:this.Sim.bind(this)};this.Y(a)};pk.prototype.Sim=function(p){this.a(p);
this.Y(new $(V.E.k))};pk.prototype.mM=function(){if(!this.dt)return;var p=Math.floor(38*V.o()),a=Math.floor(38*V.o()),R=[],Q=[],t=this.Gf;
for(var N=0;N<t.length;N++){Q.push(t[N].Nm?t[N].Nm.v:"");R.push(S.ps.np(t[N].Crv.v,p,a))}this.Jn.ER(R,Q,p,a);
this.dt=!1};pk.prototype.a=function(p){this.iR=JSON.parse(JSON.stringify(p));var a=this.iR.Crv.v;for(var R=0;
R<a.length;R++)if(a[R].v.Cnty==null)a[R].v.Cnty={t:"bool",v:!0};this.cw()};pk.prototype.cw=function(){var p=Math.floor(30*V.o()),a=Math.floor(30*V.o()),R=S.ps.np(this.iR.Crv.v,p,a);
this.vi.setAttribute("src",R);V.mT(this.vi,p,a)};pk.prototype.l=function(){return JSON.parse(JSON.stringify(this.iR))};
function Nb(p){gM.call(this);this.uw=null;this.$F=null;this.EC=null;this.dW=null;this.SsT=[];this.Ssj=[];
this._=V.P("span","fitem fillbutton");this.qn=new gM;this.qn._=V.P("div","floatcont form");this.qn._.setAttribute("style","width: 21em;");
this.qn.parent=this;this.lJ=p;this.DJ=this.DJ=V.P("label","flabel");this._.appendChild(this.DJ);this.hH=V.P("canvas");
this.eY=this.hH.getContext("2d");this.SRf=null;this._.appendChild(this.hH);this.hH.addEventListener("click",this.NG.bind(this),!1);
this.yc=new KU([12,66],["","Color","Grad","Patt"]);this.qn._.appendChild(this.yc._);this.yc.h(V.E.k,this.cq,this);
this.qn._.appendChild(V.P("hr"));this.SSg=V.P("span");this.oC=new Sv(!0);this.oC.parent=this.qn;this.oC.h(V.E.k,this.cq,this);
this.dv=new Yo(10);this.dv.h(V.E.k,this.cq,this);this.sT=V.P("div","marged hiline");this.sT.appendChild(this.oC._);
V.zp(this.sT);this.sT.appendChild(this.dv._);this.En=new KQ("GrFl",!0);this.En.parent=this.qn;this.En.h(V.E.k,this.cq,this);
this.FK=V.P("div","marged hiline");var a="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var R=0;
R<a.length;R++){var Q=this.En.lr[a[R]]._;this.FK.appendChild(Q)}this.kN=new KQ("patternFill",!0);this.kN.parent=this.qn;
this.kN.h(V.E.k,this.cq,this);this.FC=V.P("div","marged hiline");var a=["Ptrn","Scl","Algn","phase"];
for(var R=0;R<a.length;R++){var Q=this.kN.lr[a[R]]._;this.FC.appendChild(Q)}}Nb.prototype=new gM;Nb.prototype.JD=function(p,a){if(a==gp.Se){this.SsT=[];
this.Ssj=[];if(this.uw)this.a(this.EC,this.l(),this.uw)}this.$F=p;this.En.JD(p,a);this.kN.JD(p,a)};Nb.prototype.b=function(){this.DJ.textContent=gL.get(this.lJ)+": ";
this.yc.b();this.oC.b();this.En.b();this.kN.b()};Nb.prototype.cq=function(p){var a=p.currentTarget;if(a==this.yc){var R=this.yc.l(),Q={Fb:R,Cz:this.uw[R]};
if(R>0&&Q.Cz==null)Q.Cz=JSON.parse(JSON.stringify(gZ.gr[R-1]));if(this.uw)this.a(this.EC,Q,this.uw)}if(a==this.dv)this.oC.mz(a.l());
this.Y(new $(V.E.k,!1))};Nb.prototype.NG=function(p){var a=this.hH.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.qn,x:a.left,y:a.top+a.height+4};this.Y(R);this.dv.a(this.oC.o$())};Nb.prototype.a=function(p,a,R){this.uw=R;
this.EC=p;var Q=[[13,1,0],[13,0],[12,37],[12,62]],t=this.SsT,N=this.Ssj,K=!1,k;for(var T=0;T<4;T++){var d={Fb:T,Cz:R[T]},y=Nb.Slg(d);
if(N[T]==y)continue;K=!0;var E=Nb.SlR(null,d,this.$F,this.EC,22,22,!1);t[T]="<img width=\"22\" height=\"22\" src=\""+E+"\" />";
N[T]=y}if(K)this.yc.tY(t,Q);this.yc.a(a.Fb);var y=Nb.Slg(a);if(y!=this.SRf)Nb.SlR(this.eY,a,this.$F,this.EC,30,23,!0);
this.SRf=y;var D=a.Fb;if(D==0){k=this.SSg}if(D==1){this.oC.a(a.Cz.Clr.v);k=this.sT}if(D==2){this.En.update(p,a.Cz);
k=this.FK}if(D==3){this.kN.update(p,a.Cz);k=this.FC}if(k!=this.dW){if(this.dW!=null){this.qn._.removeChild(this.dW)}this.qn._.appendChild(k);
this.dW=k}};Nb.prototype.l=function(){var p={Fb:this.yc.l()};if(p.Fb==1){p.Cz=JSON.parse(JSON.stringify(gZ.gr[0]));
p.Cz.Clr.v=this.oC.l()}if(p.Fb==2){p.Cz=this.En.l()}if(p.Fb==3){p.Cz=this.kN.l()}return p};Nb.Slg=function(p){var a=p.Fb,R=p.Cz,Q="empty";
if(a==1){Q=S.e.gc(R.Clr.v);Q=Q.D+","+Q.X+","+Q.N}if(a==2)Q=JSON.stringify(R.Grad.v);if(a==3)Q=R.Ptrn.v.Idnt.v;
return Q};Nb.SlR=function(p,a,R,Q,t,N,K){if(p==null)p=Nb.eY;var T=Math.floor(t*V.o()),d=Math.floor(N*V.o()),y=p.canvas,E;
y.width=T;y.height=d;V.mT(y,T,d);var k=a.Fb;if(k==0){p.fillStyle="#ffffff";p.fillRect(0,0,T,d);p.strokeStyle="#ff0000";
p.lineWidth=2;p.moveTo(0,0);p.lineTo(T,d);p.moveTo(0,d);p.lineTo(T,0);p.stroke()}if(k==1){var D=a.Cz.Clr.v;
D=S.e.gc(D);p.fillStyle="#"+S.ay(D.D<<16|D.X<<8|D.N);p.fillRect(0,0,T,d)}if(k==2){m.sV.np(a.Cz.Grad.v,T,d,0,R.rc,R.eJ,y)}if(k==3){var P=a.Cz.Ptrn.v,e;
if(Q!=null)e=gB.QE(P,Q.add.Patt);if(e==null)e=gB.QE(P,R.Ym);pS.np(e,T,d,y)}if(K){p.beginPath();p.strokeStyle="#000000";
p.fillStyle="#ffffff";p.lineWidth=2;var Y=T*.7,O=Math.floor(d*.7),W=7*V.o();p.moveTo(Y,O);p.lineTo(Y+W,O);
p.lineTo(Y+W/2,O+W/2);p.closePath();p.stroke();p.fill()}if(p==Nb.eY)return y.toDataURL()};Nb.eY=V.P("canvas").getContext("2d");
function pS(p){Nj.call(this,p,!1,"patternbutton",18,10,gp.Se);this.PJ=null}pS.prototype=new Nj;pS.prototype.pV=function(p){var a=this.Gf[this.Jn.l()];
this.iR={classID:"Ptrn",Nm:{t:"TEXT",v:a.name},Idnt:{t:"TEXT",v:a.id}};this.Y(new $(V.E.k));this.cw()};
pS.IT=!1;pS.prototype.mM=function(){if(!this.dt)return;var p=this.Gf;if(p==null||!pS.IT){var a=new $(V.E.v,!0);
a.data={K:V.H.Pa,L_:{url:"rsrc/basic/basic.pat"}};this.Y(a);pS.IT=!0;return}var R=Math.floor(34*V.o()),Q=Math.floor(34*V.o()),t=[],N=[];
for(var K=0;K<p.length;K++){t.push(pS.np(p[K],R,Q));N.push(p[K].name)}this.Jn.ER(t,N,R,Q);this.dt=!1};
pS.prototype.a=function(p,a){if(this.iR&&p.Idnt.v==this.iR.Idnt.v)return;this.iR=JSON.parse(JSON.stringify(p));
this.cw(a)};pS.prototype.l=function(){return JSON.parse(JSON.stringify(this.iR))};pS.prototype.P$=function(){return this.PJ?[this.PJ]:[]};
pS.prototype.cw=function(p){var a=Math.floor(50*V.o()),R=Math.floor(50*V.o()),Q;if(p!=null)Q=gB.QE(this.iR,p.add.Patt);
if(Q==null)Q=gB.QE(this.iR,this.Gf);this.PJ=Q;var t=pS.np(Q,a,R);this.vi.setAttribute("src",t);V.mT(this.vi,a,R)};
pS.Xd=V.P("canvas","");pS.np=function(p,a,R,Q){if(Q==null)Q=pS.Xd;var t=Q.getContext("2d");Q.width=a;
Q.height=R;if(p){var N=p.I.C,K=p.I.T,T=p.Yz,d=Math.min(a/N,R/K),y=d;if(y*N<2)y=2/N;var E=d;if(E*K<2)E=2/K;
var k=m.B.hj([T,p.I],new gh(y,0,0,E,0,0),!1),D=k.rect.C,P=k.rect.T,e=t.createImageData(D,P);S.$M(k.buffer,e.data);
t.putImageData(e,Math.floor((a-D)/2),Math.floor((R-P)/2))}return Q.toDataURL()};function pD(p){Nj.call(this,p,!1,"patternbutton",24.2,17,gp.xC);
this.ND=""}pD.prototype=new Nj;pD.prototype.pV=function(p){this.iR=JSON.parse(JSON.stringify(this.Gf[0][this.Jn.l()]));
this.Y(new $(V.E.k))};pD.prototype.mM=function(){var p=this.Gf;if(p==null||!this.dt)return;var a=Math.floor(50*V.o()),R=Math.floor(50*V.o()),Q=[],t=[];
for(var N=0;N<p[0].length;N++){Q.push(pD.np(this.Gf[0][N].jd,a,R,this.Gf[1]));t.push(p[0][N].ox.Nm.v.split("=").pop())}this.Jn.ER(Q,t,a,R);
this.dt=!1};pD.prototype.a=function(p,a,R,Q){var t=JSON.stringify(p.jd)+","+R+","+Q;if(this.ND!=t){this.ND=t;
this.iR=JSON.parse(JSON.stringify(p));this.cw(a,R,Q)}this.Jn.NY(-1)};pD.prototype.l=function(){return JSON.parse(JSON.stringify(this.iR))};
pD.prototype.cw=function(p,a,R){var Q=Math.floor(68*V.o()),t=Math.floor(68*V.o()),N=pD.np(this.iR.jd,Q,t,p?p:this.Gf[1],a,R);
this.vi.setAttribute("src",N);V.mT(this.vi,Q,t)};pD.np=function(p,a,R,Q,t,N){var K=new SF;K.C=a;K.T=R;
K.buffer=S.p(a*R*4);K.add.Patt=Q;K.mZ(t==null?90:t);K.md(N==null?30:N);var T=new x(0,0,Math.round(a*.5),Math.round(R*.5));
T.x=Math.round((a-T.C)/2);T.y=Math.round((R-T.T)/2);var d=K.hX();d.rect=T;d.buffer=S.p(T.u()*4);S.wp(d.buffer,4284045657);
gB.SpC(p,d,.5*100);K.M.push(d);K.yP();K.U();var y=_.KZ;_.KZ=!1;K.G_();var E=K.iD();_.KZ=y;var k=gr.SH(E.buffer,K.C,K.T);
return k};function Yq(p){Nj.call(this,null,!1,"tpresetbutton",18,24,gp.m$,!0);V.Eg(this._,"fitem");this.Jn.tH(1);
this.id=p;this.cw();this.Fy=new Sz([15,7,9]);this.Fy.a(!0);this.Fy.h(V.E.k,this.Syg,this);this.uy.appendChild(this.Fy._)}Yq.prototype=new Nj;
Yq.prototype.Sij=function(p){if(this.id==p)return;this.id=p;this.xT(this.Gf)};Yq.prototype.pV=function(p){var a=this.Gf[this.Jn.l()],R=new $(V.E.v,!0);
R.data={K:V.H.es,ii:"set",L_:gp.m$,yR:a};this.Y(R)};Yq.prototype.b=function(){Nj.prototype.b.call(this);
this.Fy.b()};Yq.prototype.Syg=function(){this.dt=!0;this.mM()};Yq.prototype.mM=function(){if(!this.dt)return;
var p=Math.floor(16*V.o()),a=Math.floor(16*V.o()),R=[],Q=[],t=this.Gf,N=this.Fy.l();for(var K=0;K<t.length;
K++){var T=m.Slp(t[K]);if(!N||T==this.id){Q.push(t[K][0]?t[K][0].split("=").pop():"");R.push(T==-1?"":PIMG[m.dF[T][0]])}else{R.push(null);
Q.push(null)}}this.Jn.ER(R,Q,p,a);this.dt=!1};Yq.prototype.cw=function(){var p=this.vi;p.setAttribute("src",PIMG[m.dF[this.id][0]]);
V.ey(p,"toolicon")};Yq.prototype.P$=function(){return null};Yq._y={};Yq.np=function(p,a,R){var Q=Yq.XC,t=Yq._y,N=S.ay(p.D<<16|p.X<<8|p.N);
if(t[N])return t[N];if(Q==null){var K=V.P("canvas");Q=Yq.XC=K.getContext("2d")}var K=Q.canvas;K.width=a;
K.height=R;Q.fillStyle="#"+N;Q.fillRect(0,0,a,R);var T=t[N]=K.toDataURL();return T};function Sw(p,a){gM.call(this);
this._=V.P("span","fitem curveeditor");this.Dw=null;this.SRy=0;this.Gr="";this.mode=0;this.dP=p;this.SSN=a;
this.qk=null;this.Kd=null;this.vy=new X;this.ta=this.LQ.bind(this);this.tG=this.pY.bind(this);this.hH=V.P("canvas","");
this.eY=this.hH.getContext("2d");V.gI(this.hH);V.LU(this.hH,256,256,this.eY);this._.appendChild(this.hH);
V.xb(this.hH,this.Nk.bind(this))}Sw.prototype=new gM;Sw.prototype.a=function(p,a){var R=JSON.stringify(p);
if(R==JSON.stringify(this.qk))return;this.mode=p.length==256?1:0;this.qk=JSON.parse(R);if(a!=null)this.Kd=this.qk[a];
this.XN()};Sw.prototype.ti=function(p,a,R){this.Dw=p;this.SRy=a;this.Gr=R;this.XN()};Sw.prototype.l=function(){return JSON.parse(JSON.stringify(this.qk))};
Sw.prototype.SsW=function(){return this.qk.indexOf(this.Kd)};Sw.prototype.Nk=function(p){var a=V.ma(p,this.hH),R=a.x,Q=256-a.y;
if(this.dP){var t=R;R=256-Q;Q=t}this.vy.YY(R,Q);if(this.mode==0){var N=null;for(var K=0;K<this.qk.length;
K++){var T=this.qk[K].v,d=T.Hrzn.v-R,y=T.Vrtc.v-Q,E=Math.sqrt(d*d+y*y);if(E<5)N=this.qk[K]}if(N==null){N=S.ps.mi(R,Q,!0);
this.qk.push(N)}this.Kd=N}V.EU(document.body,this.ta);V.Eb(document.body,this.tG);this.LQ(p)};Sw.prototype.LQ=function(p){var a=V.ma(p,this.hH),R=a.x,Q=256-a.y;
if(this.dP){var t=R;R=256-Q;Q=t}if(this.mode==0){var N=this.qk,K=this.SSN,T=N.indexOf(this.Kd),d=T==0||T==N.length-1,y=0,E=255,k=!0;
if(d){y=1;E=254}if(!K||!d)this.Kd.v.Hrzn.v=Math.max(y,Math.min(E,Math.round(R)));this.Kd.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(Q)));
for(var D=0;D<N.length;D++){if(N[D]==this.Kd)continue;if(Math.abs(N[D].v.Hrzn.v-this.Kd.v.Hrzn.v)<2)k=!1}if(R<0||R>255||Q<0||Q>255)k=!1;
if(k&&N.indexOf(this.Kd)==-1)N.push(this.Kd);if(!k&&N.indexOf(this.Kd)!=-1&&N.length>2&&(!K||!d))N.splice(N.indexOf(this.Kd),1);
if(N[0].v.Hrzn.v==N[1].v.Hrzn.v)if(N[0].v.Hrzn.v==0)N[1].v.Hrzn.v=1;else N[0].v.Hrzn.v--;N.sort(function(w,g){return w.v.Hrzn.v-g.v.Hrzn.v})}else{R=Math.round(R);
Q=Math.round(Q);R=Math.max(0,Math.min(255,R));Q=Math.max(0,Math.min(255,Q));var P=this.vy.x,e=R,Y=this.vy.y,O=Q;
if(R<this.vy.x){e=P;P=R;O=Y;Y=Q}this.qk[R]=Q;if(P!=e)for(var W=P;W<=e;W++)this.qk[W]=Math.round(Y+(W-P)*(O-Y)/(e-P))}this.vy.YY(R,Q);
this.XN();this.Y(new $(V.E.k))};Sw.prototype.pY=function(p){V._j(document.body,this.ta);V.n$(document.body,this.tG);
this.Y(new $(V.E.k))};Sw.prototype.XN=function(){var p=this.eY;p.fillStyle="#ffffff";p.fillRect(0,0,256,256);
if(this.Dw){p.translate(0,256);p.scale(1,-1);KM.SIi(p,this.Dw,5700/this.SRy,this.Gr);p.scale(1,-1);p.translate(0,-256)}p.strokeStyle="#aaaaaa";
p.lineWidth=1;p.beginPath();for(var a=1;a<4;a++){p.moveTo(0,64*a-.5);p.lineTo(255,64*a-.5);p.moveTo(64*a-.5,0);
p.lineTo(64*a-.5,255)}p.stroke();if(this.dP){p.save();p.transform(0,1,-1,0,256,0)}if(this.mode==0){var R=this.qk,Q=S.ps.FP(R,256);
p.strokeStyle="#000000";p.beginPath();p.moveTo(0,255.5-Q[0]);for(var a=0;a<256;a++)p.lineTo(a,255.5-Q[a]);
p.stroke();p.lineWidth=2;for(var a=0;a<R.length;a++){var t=R[a].v;p.fillStyle=this.Kd==R[a]?"#333":"#fff";
p.beginPath();p.moveTo(t.Hrzn.v,255.5-t.Vrtc.v);p.arc(t.Hrzn.v,255.5-t.Vrtc.v,3,0,2*Math.PI);p.stroke();
p.fill()}}else{var Q=this.qk;p.strokeStyle="#000000";p.beginPath();p.moveTo(0,255.5-Q[0]);for(var a=0;
a<256;a++)p.lineTo(a,255.5-Q[a]);p.stroke()}if(this.dP)p.restore()};function KM(p){gM.call(this);this._=V.P("span","");
this.FJ=new gu([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.FJ.h(V.E.k,this.$X,this);this._.appendChild(this.FJ._);
V.zp(this._);this.Xd=V.P("canvas");var a=this.Xd;this._.appendChild(a);a.width=Math.round(p*V.o());a.height=Math.round(100*V.o());
V.mT(a,a.width,a.height);this.XC=a.getContext("2d");this.Dw=null;this.iO=0}KM.prototype=new gM;KM.prototype.b=function(){this.FJ.b()};
KM.prototype.tH=function(p){this.FJ.a(p);this.$X()};KM.prototype.a=function(p){this.Dw=p;this.$X()};
KM.prototype.mz=function(p){if(p==this.iO)return;this.iO=p;this.$X()};KM.prototype.$X=function(){if(this.Dw==null)return;
var p=this.Xd,a=this.XC,R=this.Dw,Q=this.FJ.l(),t=6e3/R[4],N="#"+S.ay(this.iO),K=KM.SIi;p.width=p.width;
a.setTransform(p.width/256,0,0,-p.height/100,0,p.height);a.globalCompositeOperation="lighter";if(Q==0)K(a,R[0],t/3,N);
else if(Q<4)K(a,R[Q],t,N);else{K(a,R[1],t,"#ff0000");K(a,R[2],t,"#00ff00");K(a,R[3],t,"#0000ff")}a.setTransform(1,0,0,1,0,0)};
KM.SIi=function(p,a,R,Q){p.beginPath();p.moveTo(0,0);for(var t=0;t<256;t++)p.lineTo(t,a[t]*R);p.lineTo(256,0);
p.closePath();p.fillStyle=Q;p.fill()};function Yn(p){gM.call(this);this.OY={D:0,X:0,N:0};if(Math.abs(p-256/V.o())<10)p=256/V.o();
var a=this._=V.P("div","flexrow");this.az=new X;this.uu=new X;this.tv=this.SfB.bind(this);this.tt=this.Syq.bind(this);
this.hH=V.P("canvas","");this.eY=this.hH.getContext("2d");this.hH.width=this.hH.height=256;this.SSp=this.eY.getImageData(0,0,256,256);
this.SRA=-1;V.gI(this.hH);V.xb(this.hH,this.Syf.bind(this));a.appendChild(this.hH);this.SRj=this.SLM.bind(this);
this.SIW=this.Syt.bind(this);this.YA=V.P("canvas","");this.sp=this.YA.getContext("2d");this.YA.width=20;
this.YA.height=256;this.SIa=this.sp.getImageData(0,0,20,256);this.Sye(this.SIa.data,20,256);V.gI(this.YA);
V.xb(this.YA,this.Syo.bind(this));a.appendChild(this.YA);this.hH.setAttribute("style","width:"+p+"px; height:"+p+"px");
this.YA.setAttribute("style","width:"+20/V.o()+"px; height:"+p+"px")}Yn.prototype=new gM;Yn.prototype.Jg=function(p,a){this.hH.style.width=p+"px"};
Yn.prototype.a=function(p){this.OY=p;this.update()};Yn.prototype.l=function(){return JSON.parse(JSON.stringify(this.OY))};
Yn.prototype.update=function(){var p=this.OY,a=S.Xa(p.D,p.X,p.N);if(a.Lr==0)a.IH=this.az.x/255;if(a.IH==0||a.Lr==0)a.hZ=(255-this.GB(this.uu.y))/255;
if(a.Lr!=0)this.az.x=a.IH*255;this.az.y=(1-a.Lr)*255;this.uu.y=(1-a.hZ)*255;var R=this.SSp;if(Math.abs(a.hZ-this.SRA)>.002){this.SyY(R.data,256,256,a.hZ);
this.SRA=a.hZ}this.eY.putImageData(R,0,0);this.eY.strokeStyle="#000000";this.eY.beginPath();this.eY.arc(this.az.x+1,this.az.y+1,5,0,2*Math.PI);
this.eY.stroke();this.eY.strokeStyle="#ffffff";this.eY.beginPath();this.eY.arc(this.az.x,this.az.y,5,0,2*Math.PI);
this.eY.stroke();var R=this.SIa;this.sp.putImageData(R,0,0);this.sp.strokeStyle="#ffffff";this.sp.beginPath();
this.sp.moveTo(0,this.uu.y);this.sp.lineTo(20,this.uu.y);this.sp.lineWidth=2;this.sp.stroke()};Yn.prototype.SyY=function(p,a,R,Q){var t=1/a,N=1/R;
for(var K=0;K<R;K++)for(var T=0;T<a;T++){var d=S.Hv(Q,T*t,(R-K-1)*N),y=K*a+T<<2;p[y+0]=~~(d.D*255);p[y+1]=~~(d.X*255);
p[y+2]=~~(d.N*255);p[y+3]=255}};Yn.prototype.Sye=function(p,a,R){var Q=new Uint32Array(p.buffer);for(var t=0;
t<R;t++){var N=S.Hv(1-t/R,1,1),K=255<<24|N.N*255<<16|N.X*255<<8|N.D*255;for(var T=0;T<a;T++)Q[t*a+T]=K}};
Yn.prototype.Syf=function(p){V.EU(window,this.tv);V.Eb(window,this.tt);this.SfB(p)};Yn.prototype.Syq=function(p){V._j(window,this.tv);
V.n$(window,this.tt)};Yn.prototype.SfB=function(p){var a=V.ma(p,this.hH);a.x=a.x*(256/parseFloat(this.hH.style.width));
a.y=a.y*(256/parseFloat(this.hH.style.height));this.az.YY(this.GB(a.x),this.GB(a.y));this.YD()};Yn.prototype.YD=function(){this.OY=this.Syx();
this.Y(new $(V.E.k))};Yn.prototype.Syx=function(){var p=S.Hv((255-this.GB(this.uu.y))/255,this.TB(this.az.x/255),this.TB(1-this.az.y/255));
return{D:p.D,X:p.X,N:p.N}};Yn.prototype.Syo=function(p){V.EU(window,this.SRj);V.Eb(window,this.SIW);
this.SLM(p)};Yn.prototype.Syt=function(p){V._j(window,this.SRj);V.n$(window,this.SIW)};Yn.prototype.SLM=function(p){var a=V.ma(p,this.YA);
a.y=a.y*(256/parseFloat(this.YA.style.height));this.uu.YY(this.GB(a.x),this.GB(a.y));this.YD()};Yn.prototype.GB=function(p){return Math.max(0,Math.min(255,p))};
Yn.prototype.TB=function(p){return Math.max(0,Math.min(1,p))};function KU(p,a,R){gM.call(this);if(!a)return;
this.rY=0;this._=V.P("span","fitem bbmenu");if(p){this.Dq=p;this.DJ=V.P("label","flabel");this.DJ.textContent=p+":";
this._.appendChild(this.DJ)}this.VA=[];this.Ft=null;this.tY(a,R);this.a(0)}KU.prototype=new gM;KU.prototype.EX=function(p){this.Dq=p;
this.b()};KU.prototype.b=function(){if(this.Dq!=null){this.DJ.textContent=gL.get(this.Dq)+": "}for(var p=0;
p<this.VA.length;p++)this.VA[p].b()};KU.prototype.l=function(){return this.rY};KU.prototype.tY=function(p,a){while(this.VA.length>0)this._.removeChild(this.VA.pop()._);
this.Ft=p;for(var R=0;R<p.length;R++){var Q=new gi(p[R],!1,a?a[R]:null);Q.h("click",this.CN,this);this._.appendChild(Q._);
this.VA.push(Q)}this.b()};KU.prototype.a=function(p){this.rY=p;for(var a=0;a<this.VA.length;a++)this.VA[a].Un();
this.VA[p].FX()};KU.prototype.CN=function(p){var a=this.VA.indexOf(p.target);this.a(a);this.Y(new $(V.E.k,!1))};
function Yk(p,a,R,Q){if(Q==null)Q=16;var t=Yk.ID,N=t.getContext("2d"),K=Q>>>1;t.width=t.height=Q;var T=[];
for(var d=0;d<a.length;d++){if(a[d]=="checker"){N.fillStyle="white";N.fillRect(0,0,Q,Q);N.fillStyle="#bbbbbb";
N.fillRect(K,0,K,K);N.fillRect(0,K,K,K)}else{N.fillStyle=a[d];N.fillRect(0,0,Q,Q)}T.push("<img src=\""+t.toDataURL()+"\" />")}KU.call(this,p,T,R)}Yk.prototype=new KU;
Yk.ID=V.P("canvas");function gu(p,a,R,Q){gM.call(this);if(!a)return;if(R==null)R=!1;this.rY=0;this.SSY=R;
this.Dq=p;this.KC=null;this.SIA=Q;var t="dd"+V.IK();this._=V.P("span","fitem ddmenu");if(p&&!R){this.DJ=V.P("label","flabel");
this._.appendChild(this.DJ);this.DJ.setAttribute("for",t)}this.zn=V.P("select","bbtn");this.zn.setAttribute("id",t);
this._.appendChild(this.zn);this.zn.addEventListener("change",this.CN.bind(this),!1);this.VA=[];this.Ft=null;
this.tY(a,Q);this.b()}gu.prototype=new gM;gu.prototype.EX=function(p){this.Dq=p;this.b()};gu.prototype.b=function(){if(this.Dq!=null){var p=gL.get(this.Dq);
if(this.SSY)this.zn.setAttribute("title",p);else this.DJ.textContent=p+":"}if(this.Ft)this.tY(this.Ft,this.SIA);
this.a(this.rY)};gu.prototype.l=function(){return this.rY};gu.prototype.tY=function(p,a){V.Tl(this.zn);
var R=[],t=0;if(a){R.push(a[0]);for(var Q=1;Q<a.length;Q++)R.push(R[Q-1]+a[Q])}this.Ft=p;this.KC=[];
this.SIA=a;for(var Q=0;Q<p.length;Q++){var N=V.P("option");N.textContent=gL.get(p[Q]);N.setAttribute("value",Q);
this.zn.appendChild(N);this.VA.push(N);this.KC.push(Q+t);if(R.indexOf(Q+1)!=-1&&Q!=p.length-1){var K=V.P("option");
K.setAttribute("disabled","");K.textContent="";this.zn.appendChild(K);t++}}};gu.prototype.a=function(p){this.rY=p;
this.zn.selectedIndex=this.KC[p]};gu.prototype.CN=function(p){this.rY=this.KC.indexOf(this.zn.selectedIndex);
this.Y(new $(V.E.k,!1))};function pb(){gM.call(this);this.hM=null;this.Re=new pe;this.Re.h(V.E.k,this.SyG,this);
this.Re.parent=this;this.RF=new SD([12,14,0],1,150,"px",0,!0);this.RF.h(V.E.k,this.lu,this);this.RF.parent=this;
this.RD=new SD([16,0],0,100,"px",2,!0,null,5);this.RD.h(V.E.k,this.lu,this);this.RD.parent=this;this.FV=new Sz("Auto");
this.FV.h(V.E.k,this.lu,this);this.Ie=new SD([16,1],-500,5e3,"%",0,!0);this.Ie.h(V.E.k,this.lu,this);
this.Ie.parent=this;this.PY=new SD("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);this.PY.h(V.E.k,this.lu,this);
this.PY.parent=this;this.Pf=new SD("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);this.Pf.h(V.E.k,this.lu,this);
this.Pf.parent=this;this.PM=new SD([16,2],-10,10,"px");this.PM.h(V.E.k,this.lu,this);this.PM.parent=this;
this.If=new Sv(!0);this.If.h(V.E.k,this.Syk,this);this.If.parent=this;this.Ks=new gi("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Ke=new gi("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Kz=new gi("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.KL=new gi("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.KX=new gi("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Kw=new gi("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.KP=new gi("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Kj=new gi("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var p=[this.Ks,this.Ke,this.Kz,this.KL,this.KX,this.Kw,this.KP,this.Kj];
for(var a=0;a<p.length;a++)p[a].h("click",this.Sya,this);this.PT=new gi("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.PV=new gi("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Pb=new gi("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.SeC=new gi("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.Sex=new gi("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.Szk=new gi("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.SLO=new gi("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Pt=[this.PT,this.PV,this.Pb,this.SeC,this.Sex,this.Szk,this.SLO];for(var a=0;a<this.Pt.length;a++)this.Pt[a].h("click",this.lu,this);
var R=["lind","rind","flind","bind","aind"],Q=[];for(var a=0;a<5;a++)Q.push("<img src=\""+PIMG["par/"+R[a]]+"\" class=\"autoscale gsicon\" /> ");
this.hr=new SD(Q[0],-20,20,"px");this.hr.h(V.E.k,this.lu,this);this.hr.parent=this;this.hl=new SD(Q[1],-20,20,"px");
this.hl.h(V.E.k,this.lu,this);this.hl.parent=this;this.hs=new SD(Q[2],-20,20,"px");this.hs.h(V.E.k,this.lu,this);
this.hs.parent=this;this.hR=new SD(Q[3],-20,20,"px");this.hR.h(V.E.k,this.lu,this);this.hR.parent=this;
this.he=new SD(Q[4],-20,20,"px");this.he.h(V.E.k,this.lu,this);this.he.parent=this;this.PD=new KU([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.PD.h(V.E.k,this.lu,this);this.PD.parent=this}pb.prototype=new gM;pb.prototype.b=function(){this.Re.b();
this.RF.b();this.RD.b();this.Ie.b();this.PM.b();this.PY.b();this.Pf.b();this.PD.b()};pb.prototype.a=function(p,a,R){this.og=JSON.parse(JSON.stringify(p));
var Q=this.og,t=Q.RW,N=Q.uq;this.Ks.a(t.FauxBold!=null?t.FauxBold:!1);this.Ke.a(t.FauxItalic!=null?t.FauxItalic:!1);
this.Kz.a(t.FontCaps==2);this.KL.a(t.FontCaps==1);this.Kw.a(t.FontBaseline==1);this.KX.a(t.FontBaseline==2);
this.KP.a(t.Underline);this.Kj.a(t.Strikethrough);this.Re.a(t.Font==null?null:Q.nY[t.Font].Name,a,R);
var K=t.FontSize==null?20:t.FontSize;this.RF.a(K);var T=t.Tracking;this.Ie.a(T==null?0:T);this.RD.a(t.Leading!=null?t.Leading:0);
this.FV.a(t.AutoLeading);this.PY.a((t.VerticalScale!=null?t.VerticalScale:0)*100);this.Pf.a((t.HorizontalScale!=null?t.HorizontalScale:0)*100);
this.PM.a(t.BaselineShift!=null?t.BaselineShift:0);if(t.FillColor){var d=gK.gc(t);this.If.mz(Math.round(d.D)<<16|Math.round(d.X)<<8|Math.round(d.N))}else this.If.mz(0);
var y=N._Direction!=null?N._Direction:0,E=gK.Ri(N);for(var k=0;k<this.Pt.length;k++)this.Pt[k].a(E==k);
this.PD.a(y);this.hr.a(N.StartIndent!=null?N.StartIndent:0);this.hl.a(N.EndIndent!=null?N.EndIndent:0);
this.hs.a(N.FirstLineIndent!=null?N.FirstLineIndent:0);this.hR.a(N.SpaceBefore!=null?N.SpaceBefore:0);
this.he.a(N.SpaceAfter!=null?N.SpaceAfter:0)};pb.prototype.HP=function(){var p=new $(V.E.v,!0);p.data={K:V.H.es,L_:gp.YQ,og:this.og};
this.Y(p);var p=new $(V.E.W,!0);p.Q=m.Fr;p.data={K:"updateStyles"};this.Y(p)};pb.prototype.Sya=function(p){var a=this.og.RW,R=p.target,Q=!R.WO();
if(R==this.Ks)a.FauxBold=Q;if(R==this.Ke)a.FauxItalic=Q;if(R==this.Kz)a.FontCaps=Q?2:0;if(R==this.KL)a.FontCaps=Q?1:0;
if(R==this.Kw)a.FontBaseline=Q?1:0;if(R==this.KX)a.FontBaseline=Q?2:0;if(R==this.KP)a.Underline=Q;if(R==this.Kj)a.Strikethrough=Q;
this.HP()};pb.prototype.lu=function(p){var a=this.og.RW,R=this.og.uq,Q=p.target;if(Q==this.Ie){var t=this.Ie.l();
if(t==null)window.SBF("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
a.Tracking=t}if(Q==this.RD){a.AutoLeading=!1;a.Leading=this.RD.l()}if(Q==this.FV){a.AutoLeading=this.FV.l()}if(Q==this.RF)a.FontSize=Q.l();
if(Q==this.PY)a.VerticalScale=Q.l()/100;if(Q==this.Pf)a.HorizontalScale=Q.l()/100;if(Q==this.PM)a.BaselineShift=Q.l();
if(this.Pt.indexOf(Q)!=-1){R.Justification=gK.Ri(R,this.Pt.indexOf(Q))}if(Q==this.hr)R.StartIndent=Q.l();
if(Q==this.hl)R.EndIndent=Q.l();if(Q==this.hs)R.FirstLineIndent=Q.l();if(Q==this.hR)R.SpaceBefore=Q.l();
if(Q==this.he)R.SpaceAfter=Q.l();if(Q==this.PD)R._Direction=Q.l();this.HP()};pb.prototype.SyG=function(p){var a=this.og,R=this.Re.l(),Q=-1;
for(var t=0;t<a.nY.length;t++)if(a.nY[t].Name==R)Q=t;if(Q==-1){Q=a.nY.length;var N=JSON.parse(JSON.stringify(a.nY[0]));
N.Name=R;a.nY.splice(Q,0,N)}a.RW.Font=Q;this.HP()};pb.prototype.Syk=function(p){var a=this.If.o$(),R={Type:1,Values:[1,(a>>16&255)/255,(a>>8&255)/255,(a>>0&255)/255]};
for(var Q=0;Q<4;Q++)R.Values[Q]=Math.round(R.Values[Q]*1e3)/1e3;this.og.RW.FillColor=R;this.HP()};function pe(){gM.call(this);
this._=V.P("span","fontinput");this.nZ=null;this.P_=null;this.tj=null;this.VN="";this.KR={};this.Vd=[];
this.SBc={};this.Vg=!1;this.Iz=V.P("button","fitem");this.Iz.setAttribute("style","width:9em;");this.Iz.textContent="Family Name \u25BC";
this._.appendChild(this.Iz);V.xb(this.Iz,this.SBL.bind(this));this.LZ=new gM;this.LZ.parent=this;this.LZ._=V.P("div","floatcont");
this.LZ._.addEventListener("keyup",this.SoN.bind(this),!1);this.KH=new K$(6.8);this.LZ._.appendChild(this.KH.SUp());
this.KH.parent=this.LZ;this.KH.h(V.E.k,this.Ty,this);var p=V.P("div","form");this.LZ._.appendChild(p);
this.Vo=new gi(V.uj("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Vo.h("click",this.SoA,this);
p.appendChild(this.Vo._);this.ao=new KH([12,86],null,9);this.ao.h("input",this.oX,this);p.appendChild(this.ao._);
var a=this.SSr=new gi([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);a.h("click",this.SoB,this);
a._.style.marginLeft="1.5em";p.appendChild(a._);this.CK=V.P("span","fitem imageset scrollable marged");
this.CK.style.height="30em";this.LZ._.appendChild(this.CK);this.VW=V.P("button","fitem");this.VW.setAttribute("style","width:7em;");
this.VW.textContent="SubFamily Name \u25BC";this._.appendChild(this.VW);V.xb(this.VW,this.SBL.bind(this));
this.hf=new gM;this.hf.parent=this;this.hf._=V.P("div","floatcont");this.Vp=V.P("span","fitem imageset scrollable marged");
this.hf._.appendChild(this.Vp)}pe.prototype=new gM;pe.prototype.SoN=function(p){var a=0;if(n.Lk(p.code,n.lZ))a=-1;
if(n.Lk(p.code,n.ld))a=1;if(a!=0){var R=this.Vd,Q=R.length,t=this.nZ.vF()[this.tj];if(t==null&&Q==0)return;
var N=R.indexOf(t[0]);if(N==-1)return;N=(N+a+Q)%Q;this.oh(R[N],null)}};pe.prototype.SoB=function(){var p=new $(V.E.v,!0);
p.data={K:V.H.gt,SSl:".otf,.ttf,.ttc"};this.Y(p)};pe.prototype.b=function(){this.KH.b();this.SSr.b();
this.Vo.EX(V.uj("tools/cshape",null,"autoscale"))};pe.prototype.SoA=function(p){this.Vo.a(!this.Vo.WO());
this.Ty()};pe.prototype.oX=function(p){this.VN=this.ao.l().toLowerCase();this.Ty()};pe.prototype.SBL=function(p){V.pc(p);
var a=p.currentTarget,R=a.getBoundingClientRect(),Q=a==this.Iz,t=Q?this.LZ:this.hf;if(V.aM(t._)){this.SBD(t);
return}if(!Q&&this.nZ.vF()[this.tj]==null)return;var N=new $(V.E.v,!0);N.data={K:V.H.Xf,Vw:t,x:R.left,y:R.top+R.height};
this.Y(N);if(Q){this.Ty();this.ao.Np()}};pe.prototype.Sou=function(p){var a=p.currentTarget.firstChild.nextSibling.textContent;
if(p.target.tagName.toLowerCase()=="button"){var R=this.P_.slice(0),Q=R.indexOf(a);if(Q==-1){R=R.slice(Math.max(0,R.length-29));
R.push(a)}else R.splice(Q,1);var t=new $(V.E.v,!0);t.data={K:V.H.es,L_:gp.Yj,yD:R};this.Y(t);this.Vg=!0;
this.Ty()}else{this.oh(a,null);this.ao.Np()}};pe.prototype.SUS=function(p){this.oh(null,p.currentTarget.firstChild.textContent)};
pe.prototype.oh=function(p,a){var R=p==null?this.hf:this.LZ,Q=this.nZ;if(p==null)p=Q.vF()[this.tj][0];
else{var t=Q.kq(p),N=Q.vF()[this.tj];a=gn.kB(t,N?N[1]:"regular")}var K=Q.rQ(p,a)[2];this.a(K,Q);this.Y(new $(V.E.k,!1));
this.SBD(R);this.Ty()};pe.prototype.SBD=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.II,Vw:p};this.Y(a)};
pe.prototype.l=function(){return this.tj};pe.prototype.a=function(p,a,R){var Q=this.nZ;if(p!=null)this.tj=p;
else p=this.tj;this.nZ=a;this.P_=R;if(p!=null){var t=a.vF()[p],N,K;if(t==null){N="- "+p;K="-------"}else{N=t[0];
K=t[1];var T=a.kq(N);T.sort(gn.SZI);var d=T.indexOf(K),y=this.SUS.bind(this);this.Vp.textContent="";
for(var E=0;E<T.length;E++){var t=a.rQ(N,T[E]);if(!this.KH.UN(t))continue;var k=this.Sqh(t,t[1],y,!1);
this.Vp.appendChild(k)}}this.Iz.textContent=N.substring(0,15)+" \u25BC";this.Iz.setAttribute("title",N);
this.VW.textContent=K.substring(0,10)+" \u25BC";this.VW.setAttribute("title",K)}};pe.prototype.Ty=function(){var p=this.nZ.vF()[this.tj],a=this.P_,R=null,Q=this.nZ.SKR(),t=this.Sou.bind(this);
this.Vd=[];for(var N in Q){var K=gn.kB(Q[N],"regular"),T=this.nZ.rQ(N,K),d=a.indexOf(N)!=-1,y=!0;if(this.VN.length>0&&T[0].toLowerCase().indexOf(this.VN)==-1)y=!1;
else if(!this.KH.UN(T))y=!1;else if(this.Vo.WO()&&!d)y=!1;var E=this.KR[N];if(E==null){var E=this.Sqh(T,N,t,!0);
this.KR[N]=E;this.CK.appendChild(E)}if(y)this.Vd.push(N);var k=y?"":"display:none; ",D="opacity: "+(d?"1":"0.2");
if(p&&p[0]==N){k+="background-color:rgba(0,0,0,0.13);";R=E}if(this.SBc[N]!=k+D){E.setAttribute("style",k);
E.firstChild.setAttribute("style",D);this.SBc[N]=k+D}}if(R&&!this.Vg)this.CK.scrollTop=R.offsetTop-210;
this.Vg=!1};pe.prototype.Sqh=function(p,a,R,Q){var t=V.P("div","fontitem"),d="";t.addEventListener("click",R,!1);
if(Q)t.appendChild(V.P("button","star"));var N=V.P("span","label");N.setAttribute("title",a);N.textContent=a;
t.appendChild(N);var K=V.o(),T=1/K,y=gn.ra*T,E=gn.jG*T;if(1<K&&K<1.5)d="width:"+y+"px; height:"+E+"px;";
var k=V.P("span","thumb gsicon");if(p.SXR){d+="background: url("+p.SXR+");";if(1<K&&K<1.5)d+="background-size: "+y+"px "+E+"px;"}else{var D=Math.ceil(FNTS.list.length/gn.cols),P=Math.floor(p.Yo/D),e=p.Yo%D,Y=P*gn.ra,O=e*gn.jG;
if(1<K&&K<1.5){d+="background-size: "+gn.cols*y+"px "+D*E+"px;";Y*=T;O*=T}d+="background-position:-"+Y+"px -"+O+"px;"}k.setAttribute("style",d);
t.appendChild(k);return t};function K$(p){gM.call(this);this._=V.P("button","fitem bbtn");this._.addEventListener("click",this.SUH.bind(this),!1);
this.qn=new gM;this.qn._=V.P("div","floatcont");this.qn.parent=this;this.Vr=V.P("div","flexrow");this.qn._.appendChild(this.Vr);
this.hL=[];this.IU=[];var a=this.Vr,R=V.P("div",""),Q=V.P("div","");a.appendChild(R);a.appendChild(Q);
this.dB=[];for(var t=0;t<FNTS.cats.length;t++)this.dB.push({name:FNTS.cats[t],index:t,zs:0});this.Vs=new Sz([7,0]);
this.Vs.h(V.E.k,this.SUz,this);R.appendChild(this.Vs._);this.VH=V.P("div","vlist marged scrollable");
this.VH.setAttribute("style","width:10.85em; height:"+p+"em; ");R.appendChild(this.VH);this.Vf=[];for(var t=0;
t<this.dB.length;t++){var N=this.dB[t],K=new Sz(N.name);this.Vf.push(K);K.h(V.E.k,this.SU$,this);K.a(!0);
this.VH.appendChild(K._);this.hL.push(1)}this.S$f=new Sz([7,0]);this.S$f.h(V.E.k,this.SUB,this);this.Vz=V.P("div","vlist marged scrollable");
this.Vz.setAttribute("style","width:8.6em; height:"+(p+1.5)+"em; ");Q.appendChild(this.Vz);this.Cl=[];
for(var t=0;t<FNTS.subsetNames.length;t++){var K=new Sz(FNTS.subsetNames[t]);this.Cl.push(K);K.h(V.E.k,this.SUM,this);
K.a(!1);this.Vz.appendChild(K._);this.IU.push(0)}}K$.prototype=new gM;K$.prototype.SUg=function(p){var a=this.Cl;
for(var R=0;R<a.length;R++){var Q=(p>>>R&1)==1;this.IU[R]=Q;a[R].a(Q)}};K$.prototype.SUp=function(){return this.Vr};
K$.prototype.b=function(){this._.textContent=gL.get([25,1,0])+" \u25BC";this.Vs.b();this.S$f.b()};K$.prototype.SUH=function(p){var a=this._.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.qn,x:a.left,y:a.top+a.height,SYG:!1};this.Y(R)};K$.prototype.UN=function(p){if(this.hL[p[4]]==0)return!1;
else for(var a=0;a<this.IU.length;a++)if(this.IU[a]==1&&(p[3]>>>a&1)==0)return!1;return!0};K$.prototype.SUz=function(p){var a=p.target.l(),R=this.Vf,Q=this.hL;
for(var t=0;t<R.length;t++){R[t].a(a);Q[t]=a?1:0}this.Y(new $(V.E.k,!1))};K$.prototype.SUB=function(p){var a=p.target.l(),R=this.Cl,Q=this.IU;
for(var t=0;t<R.length;t++){R[t].a(a);Q[t]=a?1:0}this.Y(new $(V.E.k,!1))};K$.prototype.SU$=function(p){var a=this.Vf.indexOf(p.target),R=this.dB[a].index;
this.hL[R]=1-this.hL[R];this.Y(new $(V.E.k,!1))};K$.prototype.SUM=function(p){var a=this.Cl.indexOf(p.target);
this.IU[a]=1-this.IU[a];this.Y(new $(V.E.k,!1))};function Cu(p,a,R){Nj.call(this,a,!0,"gradientbutton",18,10,gp.oq);
this.rc=-1;this.eJ=-1;this.S$i=null;this.SSe=p;this.EA=R}Cu.prototype=new Nj;Cu.prototype.pV=function(p){var a=this.Gf;
this.a(a[this.Jn.l()]);this.Y(new $(V.E.k))};Cu.prototype.od=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.XS,ax:"gradienteditor",e:this.iR,cJ:this.SUy.bind(this),PW:this.EA};
this.Y(a)};Cu.prototype.SUy=function(p){this.a(p);this.Y(new $(V.E.k))};Cu.prototype.mM=function(){if(!this.dt)return;
var p=Math.floor(36*V.o()),a=Math.floor(36*V.o()),R=[],Q=[],t=this.Gf;for(var N=0;N<t.length;N++){var K=t[N];
Q.push(K.Nm?K.Nm.v.split("=").pop():"");var T=m.sV.np(K,p,a,Math.PI/4,this.rc,this.eJ);R.push(T)}this.Jn.ER(R,Q,p,a);
this.dt=!1};Cu.prototype.Ul=function(p,a){this.Sqk(this.iR,p,a)};Cu.prototype.a=function(p){this.Sqk(p,this.rc,this.eJ)};
Cu.prototype.Sqk=function(p,a,R){this.rc=a;this.eJ=R;if(p==null)return;var Q=JSON.stringify(p),t=Q+a+","+R;
if(t==this.S$i)return;this.S$i=t;this.iR=JSON.parse(Q);var N=Math.floor(80*V.o()),K=Math.floor(16*V.o()),T=m.sV.np(this.iR,N,K,0,this.rc,this.eJ);
this.vi.setAttribute("src",T);V.mT(this.vi,N,K)};Cu.prototype.l=function(){var p;if(this.SSe)p=m.sV.SCQ(this.iR,this.rc,this.eJ);
else p=JSON.parse(JSON.stringify(this.iR));return p};function dt(p){Nj.call(this,p,!1,"swatchbutton",16,8.75,gp.oO)}dt.prototype=new Nj;
dt.prototype.pV=function(p){this.a(this.Gf[p.target.l()]);this.Y(new $(V.E.k))};dt.prototype.mM=function(){if(!this.dt)return;
var p=Date.now(),a=Math.floor(10*V.o()),R=Math.floor(10*V.o()),Q=[],t=[],N=this.Gf;for(var K=0;K<N.length;
K++){t.push(N[K].QV?N[K].QV.split("=").pop():"");Q.push(dt.np(N[K],a,R))}this.Jn.ER(Q,t,a,R);this.dt=!1};
dt.prototype.a=function(p){this.iR=JSON.parse(JSON.stringify(p));this.cw()};dt.prototype.cw=function(){var p=Math.floor(24*V.o()),a=Math.floor(20*V.o()),R=dt.np(this.iR,p,a);
this.vi.setAttribute("src",R);V.mT(this.vi,p,a)};dt.prototype.l=function(){return JSON.parse(JSON.stringify(this.iR))};
dt._y={};dt.np=function(p,a,R){var Q=dt.XC,t=dt._y,N=S.ay(p.D<<16|p.X<<8|p.N);if(t[N])return t[N];if(Q==null){var K=V.P("canvas");
Q=dt.XC=K.getContext("2d")}var K=Q.canvas;K.width=a;K.height=R;Q.fillStyle="#"+N;Q.fillRect(0,0,a,R);
var T=t[N]=K.toDataURL();return T};function Sz(p,a,R){gM.call(this);this._=V.P("span","fitem cbox");
if(a==null)a=!0;if(R==null)R="flabel";var Q="cb"+V.IK();this.td=V.P("input","");this.td.setAttribute("type","checkbox");
this.td.setAttribute("id",Q);this._.appendChild(this.td);this.Dq=p;this.DJ=V.P("label",R);if(a)this.DJ.setAttribute("for",Q);
this._.appendChild(this.DJ);this.b();this.td.addEventListener("change",this.CN.bind(this),!1)}Sz.prototype=new gM;
Sz.prototype.S$X=function(){return this.Dq};Sz.prototype.EX=function(p){this.DJ.textContent=p};Sz.prototype.b=function(){this.DJ.textContent=gL.get(this.Dq)};
Sz.prototype.FX=function(){this.td.checked=!0};Sz.prototype.Un=function(){this.td.checked=!1};Sz.prototype.WO=function(){return this.td.checked};
Sz.prototype.a=function(p){this.td.checked=p};Sz.prototype.l=Sz.prototype.WO;Sz.prototype.CN=function(p){this.Y(new $(V.E.k,!1))};
function YZ(p,a,R,Q){gM.call(this);this._=V.P("span","fitem mbox");this.SSz=R;if(p){this.Dq=p;this.DJ=V.P("label","flabel");
this._.appendChild(this.DJ)}this.TK=a;this.Ud=[];for(var t=0;t<a.length;t++){var N=R?new gi(a[t],!1,Q?Q[t]:null):new Sz(a[t]);
N.h(R?"click":V.E.k,this.CN,this);this.Ud.push(N);this._.appendChild(N._)}this.b()}YZ.prototype=new gM;
YZ.prototype.a=function(p){for(var a=0;a<this.TK.length;a++)this.Ud[a].a(p[a])};YZ.prototype.l=function(){var p=[];
for(var a=0;a<this.TK.length;a++)p[a]=this.Ud[a].l();return p};YZ.prototype.b=function(){if(this.Dq)this.DJ.innerHTML=gL.get(this.Dq)+":";
for(var p=0;p<this.Ud.length;p++)this.Ud[p].b()};YZ.prototype.CN=function(p){var a=this.Ud.indexOf(p.currentTarget);
if(this.SSz)this.Ud[a].a(!this.Ud[a].l());this.Y(new $(V.E.k,!1))};function Nx(p,a,R,Q,t,N){SB.call(this,p,a,R,Q,t,!1,N);
this._.appendChild(this.DJ);var K=V.P("span","rangecont");this._.appendChild(K);K.appendChild(this.yJ);
this._.appendChild(this.td);this.td.setAttribute("style","width:3.3em");if(this.dr)this._.appendChild(this.to)}Nx.prototype=new SB;
function px(p,a,R,Q){if(p==null)p=!1;if(a==null)a=!1;if(R==null)R=!1;gM.call(this);this.av=new X;this.Gx=new X;
this.VB=72;this.Vj=72;this.hB=!0;this._=V.P("span","");this.GW=new SD([12,41],0,0,null,0,!1,!0);this._.appendChild(this.GW._);
this.GW.h(V.E.k,this.cq,this);var t=["px","%"];if(p)t=t.concat(["mm","in"]);this.sM=new gu(null,t);this._.appendChild(this.sM._);
V.zp(this._);this.sM.h(V.E.k,this.cq,this);this.Ik=new SD([12,42],0,0,null,0,!1,!0);this._.appendChild(this.Ik._);
this.Ik.h(V.E.k,this.cq,this);var N=new gi("\u21F5",!1,null,!0);N.h("click",this.SWC,this);this.Tr=new gi("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.Tr.h("click",this.cq,this);this.SMK=new Ky("");if(a){this._.appendChild(this.Tr._);this._.appendChild(this.SMK._);
this.Tr.FX()}else this._.appendChild(N._);this.Tz=new SD("DPI",0,0,null,3,!1,!0,4);if(p&&Q==null){V.zp(this._);
this._.appendChild(this.Tz._)}this.Tz.h(V.E.k,this.cq,this);this.bK=new Sz([12,23,1]);this.bK.h(V.E.k,this.cq,this);
if(R){V.zp(this._);this._.appendChild(this.bK._)}V.zp(this._)}px.prototype=new gM;px.prototype.SUo=function(){this.hB=!1;
if(this.sM.l()==0){this.sM.a(3);this.Tt()}};px.prototype.SUP=function(){this.hB=!0};px.prototype.SWd=function(p){this.Tr.a(p)};
px.prototype.b=function(){this.GW.b();this.Ik.b();this.Tz.b();this.Tr.b();this.bK.b()};px.prototype.SWC=function(p){var a=this.Gx.x;
this.Gx.x=this.Gx.y;this.Gx.y=a;this.Tt();this.Y(new $(V.E.k,!1))};px.prototype.cq=function(p){if(p.target==this.sM&&!this.hB&&this.sM.l()==0)this.sM.a(3);
if(p.target==this.sM||p.target==this.bK){this.Tt();return}if(p.target==this.Tr)p.target.a(!p.target.l());
var a=this.av,R=parseFloat(this.GW.l());if(isNaN(R))R=1;var Q=parseFloat(this.Ik.l());if(isNaN(Q))Q=1;
var t=this.sM.l();if(this.hB){var N=this.Vj;if(t==1){R=this.av.x*(R/100);Q=this.av.y*(Q/100)}var K=[1,1,25.4/N,1/N][t];
R/=K;Q/=K;if(this.bK.l()){R+=this.av.x;Q+=this.av.y}if(p.target==this.Tz){var T=this.Tz.l();if(!0){var d=T/N;
R*=d;Q*=d}N=T}if(this.Tr.l()){if(p.target==this.GW)Q=R*(a.y/a.x);else R=Q*(a.x/a.y)}R=Math.max(Math.abs(R),1);
Q=Math.max(Math.abs(Q),1)}else{var N=this.VB;if(p.target==this.Tz)N=this.Tz.l();else{if(this.Tr.l()){if(p.target==this.GW)Q=R*(a.y/a.x);
else R=Q*(a.x/a.y)}var K=[1,1,25.4/N,1/N][t],y=R/(t==1?100:a.x*K);N=N/y}R=a.x;Q=a.y}this.Gx=new X(Math.round(R),Math.round(Q));
this.Vj=N;this.Tt();this.Y(new $(V.E.k,!1))};px.prototype.SWr=function(p){this.sM.a(p);this.Tt()};px.prototype.a=function(p,a){this.av=p.clone();
this.Gx=p.clone();if(a!=null){this.VB=a;this.Vj=a}this.Tt()};px.prototype.Tt=function(){var p=this.Gx.x,a=this.Gx.y,R=this.Vj,Q=(p/a).toFixed(3);
while(Q.charAt(Q.length-1)=="0")Q=Q.substring(0,Q.length-1);if(Q.charAt(Q.length-1)==".")Q=Q.substring(0,Q.length-1);
var t="  "+Q+" : 1",N=function(E,k){while(k!=0){var D=k;k=E%k;E=D}return E},K=N(p,a);if(Math.min(p,a)/K<10)t="  "+Math.round(p/K)+" : "+Math.round(a/K);
this.SMK.a(t);if(this.bK.l()){p-=this.av.x;a-=this.av.y}var T=this.sM.l();if(T==1){if(this.hB){p=100*p/this.av.x;
a=100*a/this.av.y}else{p=a=100*this.VB/this.Vj}}else{p=Math.round(p);a=Math.round(a)}var d=[1,1,25.4/R,1/R][T];
p*=d;a*=d;var y=T==1||T==3?2:0;this.GW.SKg(y);this.Ik.SKg(y);this.GW.a(p);this.Ik.a(a);this.Tz.a(R)};
px.prototype.l=function(){return this.Gx.clone()};px.prototype.S$h=function(){return this.Vj};function Ye(){gM.call(this);
this.VM=0;this.ep=[0,0,1,1,100,100];this._=V.P("span","fitem");this.se=new gu(null,[[12,89,0],[12,89,1],[12,89,2]]);
this._.appendChild(this.se._);this.se.h(V.E.k,this.cq,this);this.GW=new KH("W",null,3);this.GW.a(0);
this._.appendChild(this.GW._);this.GW.h(V.E.k,this.cq,this);this.Ik=new KH("H",null,3);this.Ik.a(0);
this._.appendChild(this.Ik._);this.Ik.h(V.E.k,this.cq,this);this.a({GY:0,x:0,y:0})}Ye.prototype=new gM;
Ye.prototype.b=function(){V.Pp(this.GW,this.Ik);this.se.b()};Ye.prototype.cq=function(p){if(p.target==this.se){var a=this.l(),R=this.ep;
R[this.VM*2]=a.x;R[this.VM*2+1]=a.y;this.VM=a.GY;this.a({GY:a.GY,x:R[a.GY*2],y:R[a.GY*2+1]})}this.Y(new $(V.E.k,!1))};
Ye.prototype.a=function(p){this.se.a(p.GY);this.GW.a(p.x);this.Ik.a(p.y);if(p.GY==0){this.GW.Fv();this.Ik.Fv()}else{this.GW.XH();
this.Ik.XH()}};Ye.prototype.l=function(){return{GY:this.se.l(),x:parseInt(this.GW.l()),y:parseInt(this.Ik.l())}};
function Ky(p,a){gM.call(this);this.Dq=p;this._=V.P("span","labelitem fitem"+(a?" spread":""));this.b()}Ky.prototype=new gM;
Ky.prototype.a=function(p){this._.textContent=p};Ky.prototype.l=function(){return this._.textContent};
Ky.prototype.XH=function(){this._.removeAttribute("disabled")};Ky.prototype.Fv=function(){this._.setAttribute("disabled","")};
Ky.prototype.EX=function(p){this._.textContent=p};Ky.prototype.b=function(){this._.textContent=gL.get(this.Dq)};
Ky.prototype.S$X=function(){return this.Dq};function Yl(p){gM.call(this);this._=V.P("span","");this.SMC=p;
this.ty=new Nx("Off X",-100,100,p?"%":"px",0,!1);this.ea=new Nx("Off Y",-100,100,p?"%":"px",0,!1);this.ty.h(V.E.k,this.cq,this);
this.ea.h(V.E.k,this.cq,this);this._.appendChild(this.ty._);this._.appendChild(this.ea._)}Yl.prototype=new gM;
Yl.prototype.b=function(){this.ty.b();this.ea.b()};Yl.prototype.cq=function(p){this.Y(new $(V.E.k,!1))};
Yl.prototype.SWf=function(p){this.ty.a(p.x);this.ea.a(p.y)};Yl.prototype.SJc=function(){return new X(this.ty.l(),this.ea.l())};
Yl.prototype.a=function(p){var a=p.Hrzn.v,R=p.Vrtc.v;if(this.SMC){a=a.val;R=R.val}this.ty.a(a);this.ea.a(R)};
Yl.prototype.l=function(){var p=this.ty.l(),a=this.ea.l();if(this.SMC)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:p}},Vrtc:{t:"UntF",v:{type:"#Prc",val:a}}};
else return{classID:"Pnt",Hrzn:{v:p,t:"doub"},Vrtc:{v:a,t:"doub"}}};function SD(p,a,R,Q,t,N,K,T,d){SB.call(this,p,a,R,Q,t,!0,N,d);
V.ey(this._,"rangedropinput");this._.appendChild(this.DJ);this.td.setAttribute("style","width:"+(T?T:3.3)+"em");
this._.appendChild(this.td);this.SMg=V.P("span","rangecont");this.SMg.appendChild(this.yJ);this.Vh=V.P("button");
this.Vh.innerHTML="\u25BC";V.xb(this.Vh,this.SWo.bind(this));if(K!=!0)this._.appendChild(this.Vh);this.UC=new gM;
this.UC._=this.SMg}SD.prototype=new SB;SD.prototype.SWo=function(p){if(V.aM(this.UC._))return;p.stopPropagation();
var a=this._.getBoundingClientRect();this.yJ.setAttribute("style","width:"+a.width+"px;");var R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.UC,x:a.left,y:a.top+a.height};this.Y(R)};function YH(){gM.call(this);this._=V.P("span","fitem strokebutton");
this.Vx=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.p_=JSON.parse(JSON.stringify(gZ.up.default));
this.hF=V.P("button");this._.appendChild(this.hF);this.hF.addEventListener("click",this.NG.bind(this),!1);
var p=V.P("canvas","gsicon");this.eY=p.getContext("2d");this.hF.appendChild(p);var a=V.P("span");a.textContent=" \u25BC";
this.hF.appendChild(a);this.qn=new gM;this.qn.parent=this;this.qn._=V.P("div","floatcont form");var R=this.qn._;
R.setAttribute("style","width: 14em;");this.KR=[new gu([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new KU([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new KU([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new KH([19,9,2])];
for(var Q=0;Q<this.KR.length;Q++){var t=this.KR[Q];R.appendChild(t._);var N=Q<4?V.E.k:"click";t.h(N,this.cq,this)}V.zp(R);
this.NH=[];var K=this.SWO.bind(this);for(var Q=0;Q<this.Vx.length;Q++){var T=V.P("button","fitem");this.NH.push(T);
R.appendChild(T);T.addEventListener("click",K,!1);var p=V.P("canvas","gsicon"),d=p.getContext("2d");
T.appendChild(p);this.SiI(d,40,20,this.Vx[Q])}}YH.prototype=new gM;YH.prototype.NG=function(p){var a=this.hF.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.qn,x:a.left,y:a.top+a.height+4};this.Y(R)};YH.prototype.cq=function(p){var KI=this.KR,a=KI.indexOf(p.target),R=[];
for(var Q=0;Q<4;Q++)R.push(KI[Q].l());this.p_=this.SXm(R);this.Y(new $(V.E.k,!1))};YH.prototype.SWO=function(p){var a=this.NH.indexOf(p.currentTarget);
this.a(this.SXm(this.Vx[a]));this.Y(new $(V.E.k,!1))};YH.prototype.SXm=function(p){var a=JSON.parse(JSON.stringify(this.p_)),R=p[0],Q=p[1],t=p[2],N=p[3];
if(R!=null)a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gZ.up.oy[R];if(Q!=null)a.strokeStyleLineCapType.v.strokeStyleLineCapType=gZ.up.yo[Q];
if(t!=null)a.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gZ.up.join[t];var K=a.strokeStyleLineDashSet.v=[];
N=N.split(" ");while((N.length&1)!=0)N.pop();for(var T=0;T<N.length;T++)K.push({t:"UntF",v:{type:"#Nne",val:parseInt(N[T])}});
return a};YH.prototype.b=function(){for(var p=0;p<this.KR.length;p++)this.KR[p].b()};YH.prototype.a=function(p){this.p_=JSON.parse(JSON.stringify(p));
var a=gZ.up.oy.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment),R=gZ.up.yo.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType),Q=gZ.up.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType),t=[],N=p.strokeStyleLineDashSet.v;
for(var K=0;K<N.length;K++)t.push(N[K].v.val);var KI=this.KR;KI[0].a(a);KI[1].a(R);KI[2].a(Q);KI[3].a(t.join(" "));
var T=[];for(var d=0;d<4;d++)T.push(KI[d].l());this.SiI(this.eY,40,16,T)};YH.prototype.l=function(){return JSON.parse(JSON.stringify(this.p_))};
YH.prototype.SiI=function(p,a,R,Q){var t=Q[0],N=Q[1],K=Q[2],T=Q[3].split(" ").map(parseFloat);V.LU(p.canvas,a,R);
var d=Math.min(5,this.p_.strokeStyleLineWidth.v.val);for(var y=0;y<T.length;y++)T[y]*=d;p.clearRect(0,0,a,R);
p.setLineDash(T);p.lineCap=["butt","round","square"][N];p.lineJoin=["miter","round","bevel"][K];p.lineWidth=d;
p.beginPath();p.moveTo(0,R/2);p.lineTo(a*2,R/2);p.stroke()};function dV(p){Nj.call(this,p,!1,"contourbutton",34,16,gp.Sq);
this.ao=new KH([12,86],null,16);this.ao.h("input",this.oX,this);this.qn._.appendChild(this.ao._);this.Vy=null;
this.VN="";this.TL=null;this.a(Ck.gD())}dV.prototype=new Nj;dV.prototype.b=function(){Nj.prototype.b.call(this);
this.ao.b()};dV.prototype.pV=function(p){this.a(this.Vy[p.target.l()]);this.Y(new $(V.E.k))};dV.prototype.oX=function(p){this.VN=this.ao.l().toLowerCase();
this.SiH()};dV.IT=!1;dV.prototype.mM=function(){if(!this.dt)return;var p=this.Gf;if(p==null||!dV.IT){var a=new $(V.E.v,!0);
a.data={K:V.H.Pa,L_:{url:"rsrc/basic/fa_basic.csh"}};this.Y(a);dV.IT=!0}else{var R=Math.floor(38*V.o()),Q=Math.floor(38*V.o());
this.TL=[];for(var t=0;t<p.length;t++)this.TL.push(dV.Syu(p[t],R,Q));this.SiH();this.dt=!1}};dV.prototype.SiH=function(){var p=Math.floor(38*V.o()),a=Math.floor(38*V.o());
this.Vy=[];var R=[],Q=[],t=this.Gf;for(var N=0;N<t.length;N++){if(t[N].ts.toLowerCase().indexOf(this.VN)==-1)continue;
this.Vy.push(t[N]);R.push(this.TL[N]);Q.push(t[N].ts)}this.Jn.ER(R,Q,p,a)};dV.prototype.a=function(p){this.iR=dV.clone(p);
this.cw()};dV.prototype.cw=function(){var p=Math.floor(23*V.o()),a=Math.floor(23*V.o()),R=dV.Syu(this.iR,p,a);
this.vi.setAttribute("src",R);V.mT(this.vi,p,a)};dV.prototype.l=function(){return dV.clone(this.iR)};
dV.clone=function(p){return{ts:p.ts,ox:p.ox,G:l.IC.Ce(p.G),a_:p.a_.clone()}};dV.Xd=null;dV.UI=null;dV.Syu=function(p,a,R){var Q=l.IC.Ce(p.G),t=p.a_,N=Math.min(a/t.C,R/t.T)*.9,K=new gh;
K.translate(-.5,-.5);K.scale(.95,.95);K.translate(.5,.5);K.scale(N*t.C,N*t.T);S.d.xv(Q,K);var T=new l.IC;
T.G=Q;var d=T.mg();d.rect.x=Math.floor((a-d.rect.C)/2);d.rect.y=Math.floor((R-d.rect.T)/2);var y=S.p(d.rect.u()*4);
S.wp(y,4278190080);S.zw(d.channel);S.RA(d.channel,y,0);S.RA(d.channel,y,1);S.RA(d.channel,y,2);var E=dV;
if(E.Xd==null)E.Xd=V.P("canvas");var k=E.Xd,D=k.getContext("2d");if(k.width!=a||k.height!=R||E.UI==null){k.width=a;
k.height=R;E.UI=D.createImageData(a,R)}var P=E.UI;S.wp(P.data,4294967295);S.gW(y,d.rect,P.data,new x(0,0,a,R));
D.putImageData(P,0,0);return k.toDataURL()};function ph(p){Nj.call(this,p,!1,"ICCButton",16,12,gp.Sx,!0);
this.Jn.tH(1)}ph.prototype=new Nj;ph.prototype.oZ=function(){var p="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var a=0;a<p.length;a++)p[a]="luts/"+p[a]+".CUBE";return p};ph.prototype.pV=function(p){this.a(this.Gf[p.target.l()]);
this.Y(new $(V.E.k))};ph.prototype.mM=function(){if(!this.dt)return;var p=Math.floor(1*V.o()),a=Math.floor(1*V.o()),R=[],Q=[],t=this.Gf;
for(var N=0;N<t.length;N++){var K=t[N].Nm.v.split("\\").pop().split("/").pop();Q.push(K);R.push(ph.np(t[N],p,a))}this.Jn.ER(R,Q,p,a);
this.dt=!1};ph.prototype.a=function(p){this.iR=JSON.parse(JSON.stringify(p));this.cw()};ph.np=function(p,a,R){var Q=V.P("canvas"),K="ICC / 3DL / look / cube";
Q.width=a;Q.height=R;var t=Q.getContext("2d"),N=Math.floor(14*V.o());t.font=N+"px sans-serif";if(p.Nm)K=p.Nm.v.split("\\").pop().split("/").pop();
t.fillText(K,10,N);return Q.toDataURL()};ph.prototype.cw=function(){var p=Math.floor(120*V.o()),a=Math.floor(20*V.o());
this.vi.setAttribute("src",ph.np(this.iR,p,a));V.mT(this.vi,p,a)};ph.prototype.l=function(){return JSON.parse(JSON.stringify(this.iR))};
function rZ(){gM.call(this);this.OY=null;this._=V.P("span","fitem");this.Cs=new Nb([14,9]);this.VU=new SD(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.tA=new YH;this.CL=[this.Cs,this.VU,this.tA];for(var p=0;p<this.CL.length;p++){var a=this.CL[p];
this._.appendChild(a._);a.parent=this;a.h(V.E.k,this.cq,this)}}rZ.prototype=new gM;rZ.prototype.b=function(){for(var p=0;
p<this.CL.length;p++)this.CL[p].b()};rZ.prototype.JD=function(p,a){this.Cs.JD(p,a)};rZ.prototype.cq=function(p){var a=this.OY,R=this.Cs.l(),Q=R.Fb;
a.strokeEnabled.v=Q!=0;if(Q!=0){a.strokeStyleContent.v=R.Cz;R.Cz.classID=gZ.up.sZ[Q-1]}a.strokeStyleLineWidth.v.val=this.VU.l();
if(p.target==this.tA)a=this.tA.l();this.OY=a;this.Y(new $(V.E.k,!1))};rZ.prototype.a=function(p,a,R){this.OY=JSON.parse(JSON.stringify(a));
var Q=a.strokeEnabled.v,t=a.strokeStyleContent.v,N=Q?{Fb:1+gZ.up.sZ.indexOf(t.classID),Cz:t}:{Fb:0};
this.Cs.a(p,N,R);this.VU.a(a.strokeStyleLineWidth.v.val);this.tA.a(a)};rZ.prototype.l=function(){return JSON.parse(JSON.stringify(this.OY))};
function rs(p,a){gM.call(this);this._=V.P("span","fitem");this.hh=["front","union","difference","intersection"];
var R=[[18,0],[18,1],[18,2],[18,3]];this.JV=[];this.Vv=0;for(var Q=0;Q<this.hh.length;Q++){var t=new gi("<img src=\""+PIMG["set/"+this.hh[Q]]+"\" class=\"autoscale gsicon\" />",!1,R[Q]);
t.h("click",this.SWV,this);this._.appendChild(t._);this.JV.push(t)}this.JV[0].FX()}rs.prototype=new gM;
rs.prototype.l=function(){return this.hh[this.Vv]};rs.prototype.a=function(p){this.Vv=this.hh.indexOf(p);
for(var a=0;a<this.JV.length;a++)this.JV[a].Un();this.JV[this.Vv].FX()};rs.prototype.SWV=function(p){this.a(this.hh[this.JV.indexOf(p.currentTarget)]);
this.Y(new $(V.E.k,!1))};rs.prototype.b=function(){for(var p=0;p<this.JV.length;p++)this.JV[p].b()};
function KH(p,a,R,Q){gM.call(this);var t=V.IK(),N="";this._=V.P("span","fitem tinput");if(p){this.Dq=p;
this.DJ=V.P("label","flabel");this._.appendChild(this.DJ);this.DJ.setAttribute("for",t);this.b()}if(Q==null){this.td=V.P("input","");
this.td.setAttribute("type","text")}else this.td=V.P("textarea","scrollable");this.td.setAttribute("id",t);
if(R)N+="width:"+R+"em;";if(Q){this.td.setAttribute("rows",Q)}if(N!="")this.td.setAttribute("style",N);
this._.appendChild(this.td);if(a){this.to=V.P("span","");this.to.textContent=a;this._.appendChild(this.to)}this.td.addEventListener("change",this.CN.bind(this),!1);
this.td.addEventListener("input",this.SOS.bind(this),!1)}KH.prototype=new gM;KH.prototype.b=function(){if(this.Dq)this.DJ.textContent=gL.get(this.Dq)+":"};
KH.prototype.EX=function(p){this.DJ.textContent=p};KH.prototype.a=function(p){this.td.value=p==null?"":p};
KH.prototype.l=function(){return this.td.value};KH.prototype.Np=function(){this.td.select();this.td.focus()};
KH.prototype.CN=function(p){this.Y(new $(V.E.k,!1))};KH.prototype.SOS=function(p){this.Y(new $("input",!1))};
function gW(p,a,R,Q,t,N){SB.call(this,p,a,R,Q,t,!0,N);V.ey(this._,"trangeinput");this._.appendChild(this.DJ);
this._.appendChild(this.td);var K=V.P("span","rangecont");this._.appendChild(K);K.appendChild(this.yJ);
this.yJ.setAttribute("style","width:97%;")}gW.prototype=new SB;function rj(){gM.call(this);this.rp=[10,!0,!0];
this._=V.P("span","");this.ya=[new SD([12,24],0,255),new Sz("Anti-alias"),new Sz([12,25])];for(var p=0;
p<3;p++){var a=this.ya[p];a.parent=this;a.a(this.rp[p]);this._.appendChild(a._);a.h(V.E.k,this.cq,this)}}rj.prototype=new gM;
rj.prototype.cq=function(){for(var p=0;p<3;p++)this.rp[p]=this.ya[p].l();this.Y(new $(V.E.k,!1))};rj.prototype.a=function(p){this.rp=p.slice(0);
for(var a=0;a<3;a++)this.ya[a].a(p[a])};rj.prototype.l=function(){return this.rp.slice(0)};rj.prototype.b=function(){for(var p=0;
p<3;p++)this.ya[p].b()};function Yt(p,a){gM.call(this);if(a==null)a=!1;this.TL=[];this.SMp=0;this.SMs=0;
this.hx=0;this.ov=[];this.ih=[];for(var R in S.KF.type){if(R=="warpCustom"&&!a)continue;this.ov.push(R);
this.ih.push(S.KF.type[R])}this._=V.P("span","fitem warpbutton");this.qn=new gM;this.qn._=V.P("div","floatcont");
if(p){this.CB=p;this.DJ=V.P("label","flabel");this._.appendChild(this.DJ)}this.K=V.P("button");this._.appendChild(this.K);
this.K.addEventListener("click",this.NG.bind(this),!1);this.C$=new ps(!0);this.qn._.appendChild(this.C$._);
this.C$.h(V.E.k,this.SOl,this);this.b()}Yt.prototype=new gM;Yt.prototype.EX=function(p){this.DJ.textContent=p};
Yt.prototype.b=function(){if(this.CB)this.DJ.innerHTML=gL.get(this.CB)+":";this.TL=[];var p=V.P("canvas",""),a=p.getContext("2d"),R=0;
a.font=Math.floor(13*V.o())+"px sans-serif";for(var Q=0;Q<this.ov.length;Q++){R=Math.max(R,a.measureText(gL.get(S.KF.type[this.ov[Q]])).width)}var t=this.SMp=Math.floor(50*V.o()+R),N=this.SMs=Math.floor(23*V.o());
p.width=t;p.height=N;this.qn._.setAttribute("style","width:"+Math.floor(8+t/V.o())+"px;");a.font=Math.floor(13*V.o())+"px sans-serif";
a.lineWidth=1;a.strokeStyle="#000000";var K=Math.floor(16*V.o()),T=new x(0,0,K,K);for(var Q=0;Q<this.ov.length;
Q++){var d=this.ov[Q];a.clearRect(0,0,p.width,p.height);var y=S.KF.KF(T,d,!0,.3,0,0),E=S.s.Ht(T);E.$.push("M","L","M","L");
E.r.push(0,K/2,K,K/2);E.r.push(K/2,0,K/2,K);E=S.s.dq(E);E=S.s.dM(E,K/5);S.Lp.apply(y,E.r,T);S.s.t(E.r,new gh(1,0,0,1,Math.floor(8*V.o())+.5,Math.floor(3*V.o())+.5),E.r);
a.beginPath();Typr.U.pathToContext({cmds:E.$,crds:E.r},a);a.stroke();a.fillText(gL.get(S.KF.type[d]),Math.floor(40*V.o()),Math.floor(16*V.o()));
this.TL.push(p.toDataURL())}this.C$.ER(this.TL,null,t,N);this.cw()};Yt.prototype.NG=function(p){var a=this.K.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:this.qn,x:a.left,y:a.top+a.height+4};this.Y(R)};Yt.prototype.SOl=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.II,Vw:this.qn};this.Y(a);this.hx=p.target.l();this.cw();this.Y(new $(V.E.k))};Yt.prototype.cw=function(){this.C$.NY(this.hx);
this.K.innerHTML="<img src=\""+this.TL[this.hx]+"\" class=\"gsicon\" />";var p=this.SMp,a=this.SMs;V.mT(this.K.firstChild,p,a)};
Yt.prototype.l=function(){return this.ov[this.hx]};Yt.prototype.a=function(p){this.hx=this.ov.indexOf(p);
this.cw()};function dZ(p,a,R){gM.call(this);if(p==null)p=!1;if(a==null)a=!1;if(R==null)R=!1;this.SSB=a;
this.KF=null;this.Ti=new Yt([12,22],R);this.Ti.parent=this;this.Ti.h(V.E.k,this.HP,this);this.en=new gu([22,0],[[22,4,0],[22,4,1]]);
this.en.h(V.E.k,this.HP,this);var Q=p?SD:gW;this.TQ=new Q([22,1],-100,100,"%");this.Tj=new Q("Horizontal Distortion:",-100,100,"%");
this.aY=new Q("Vertical Distortion:",-100,100,"%");this.TQ.parent=this.Tj.parent=this.aY.parent=this;
this.TQ.h(V.E.k,this.HP,this);this.Tj.h(V.E.k,this.HP,this);this.aY.h(V.E.k,this.HP,this)}dZ.prototype=new gM;
dZ.prototype.b=function(){this.Ti.b();this.en.b();this.TQ.b();var p=this.SSB?1:100;this.Tj.EX(gL.get([22,2]).substring(0,p)+":");
this.aY.EX(gL.get([22,3]).substring(0,p)+":")};dZ.prototype.HP=function(){var p=this.KF,a=this.Ti.l(),R=p.warpStyle.v.warpStyle;
if(a=="warpCustom")S.KF.Yp(S.KF.tM(p),p);else delete p.customEnvelopeWarp;p.warpStyle.v.warpStyle=this.Ti.l();
p.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.en.l()];p.warpValue.v=this.TQ.l();p.warpPerspective.v=this.Tj.l();
p.warpPerspectiveOther.v=this.aY.l();if(a=="warpNone"||a=="warpCustom"){p.warpValue.v=0;p.warpPerspective.v=0;
p.warpPerspectiveOther.v=0}else if(R=="warpNone"||R=="warpCustom")p.warpValue.v=50;this.Y(new $(V.E.k,!1));
this.a(p)};dZ.prototype.l=function(p){return JSON.parse(JSON.stringify(this.KF))};dZ.prototype.a=function(p){this.KF=JSON.parse(JSON.stringify(p));
this.Ti.a(p.warpStyle.v.warpStyle);this.en.a(p.warpRotate.v.Ornt=="Hrzn"?0:1);this.TQ.a(p.warpValue.v);
this.Tj.a(p.warpPerspective.v);this.aY.a(p.warpPerspectiveOther.v);var a=p.warpStyle.v.warpStyle,R=a=="warpNone"||a=="warpCustom",Q=[this.en,this.TQ,this.Tj,this.aY];
for(var t=0;t<Q.length;t++)if(R)Q[t].Fv();else Q[t].XH()};function pP(p){gM.call(this);this._=V.P("div");
this.VJ=p;this.hi=!1;this.jF=new X(0,0);this.si="position:relative;overflow:hidden;";this.r_=null;this.CM=new V.PN(this._);
this.IG("grab");this.Ou=V.P("canvas","canv");this._.appendChild(this.Ou);this.eY=this.Ou.getContext("2d");
this.SMD=null;this.Qz=null;this.Vt=null;this.bN=0;this.VQ=0;this.VE=0;this.SSq=this.SdZ.bind(this);this.SXZ=null;
this.z=new rd({C:1,T:1});this.bp=null;this.so=null;this.SSM=this.mV.bind(this);this.SXF=this.tU.bind(this);
this.SXy=this.aD.bind(this);this.SSX=this.IW.bind(this);this.SX_=0;this.CF=null;this.SUZ(this.Ou);this.UL(this)}pP.prototype=new gM;
pP.prototype.Qb=function(p){var a=this.r_;this.hi=p.g(n.xk);if(this.hi)a="grab";this.CM.FU(a,this.si);
if(p.g(n.GA)){var R=0;if(p.g(n.lK))R=1;if(p.g(n.DY))R=-1;if(R!=0){this.SvZ(new X(this.Ou.width/2,this.Ou.height/2),R==1)}}};
pP.prototype.IG=function(p){this.r_=p;this.CM.FU(p,this.si)};pP.prototype.SUZ=function(p){V.xb(p,this.SSM);
V.gI(p);p.addEventListener("wheel",this.SSX,!1)};pP.prototype.UL=function(p){p.h("viewchange",this.SOL,this)};
pP.prototype.SOL=function(p){var a=this.z.f,R=p.currentTarget.Ph();this.z.f=R.f;this.z.A=R.A.clone();
if(a!=R.f)this.UB();this.XN()};pP.prototype.Ph=function(){return{f:this.z.f,A:this.z.A}};pP.prototype.a=function(p,a){var R=p[0].sE;
if(this.Qz!=null&&this.Qz[0].sE.xA(R)){}else{this.z.NI={C:R.C,T:R.T};this.z.A=new X(0,0);this.z.f=1}this.Qz=p;
this.UB();this.Px();this.bN=0;this.VQ=0;this.VE=a==null?0:a;this.SdZ()};pP.prototype.IW=function(p){p.preventDefault();
if(p.deltaY==0||Date.now()-this.SX_<100)return;var a=V.ma(p);a.x=V.o()*a.x;a.y=V.o()*a.y;this.SX_=Date.now();
this.SvZ(a,p.deltaY<0)};pP.prototype.SvZ=function(p,a){m.d$.pO(this.z,p,a);this.SJd()};pP.prototype.SOB=function(){var p=this.z,a=p.NI;
this.z.f=m.d$.Li(a.C,a.T,p.c.C,p.c.T);this.SJd()};pP.prototype.SJd=function(){this.UB();this.Y(new $("viewchange"));
this.Y(new $("zoom"))};pP.prototype.UB=function(){this.Vt=[];var p=this.z.f;for(var a=0;a<this.Qz.length;
a++){var R=this.Qz[a],Q=new Uint8Array(R.data),t;if(p>=1)t={Yz:Q,rect:R.sE};else t=S.lw(Q,R.sE,p);this.Vt.push(t)}};
pP.prototype.Px=function(){clearTimeout(this.SXZ)};pP.prototype.XN=function(){if(this.Qz==null||!V.aM(this.Ou))return;
var p=this.SMD,a=this.Ou.width,R=this.Ou.height,K,T;if(p==null||p.width!=a||p.height!=R){p=this.SMD=this.eY.createImageData(a,R);
console.log("creating image data")}var Q=this.Qz[this.bN],t=this.Vt[this.bN],N=this.z;if(N.f<=1){var d=t.rect.clone();
d.x=N.A.x+Math.floor((N.c.C-t.rect.C)/2);d.y=N.A.y+Math.floor((N.c.T-t.rect.T)/2);K=t.Yz;T=d}else{var y=N.mP(),E=N.vp(),k=new x(0,0,y.C*N.f,y.T*N.f);
k.x=y.x*N.f+E.x;k.y=y.y*N.f+E.y;if(N.TY==null||N.TY.length!=y.u()*4){N.TY=S.p(y.u()*4)}if(N.XY==null||N.XY.length!=k.u()*4){N.XY=S.p(k.u()*4)}S.wp(N.TY,0);
S.gW(t.Yz,t.rect,N.TY,y);S.scale.FT(N.TY,y.C,y.T,N.XY,k.C,k.T,N.f);K=N.XY;T=k}var E=N.vp();S.Sz(p.data,N.c.C,N.c.T,8,-E.x,-E.y);
S.O.KJ("norm",K,T,p.data,N.c,N.c,1);this.eY.setTransform(1,0,0,1,0,0);this.eY.putImageData(p,0,0);if(N.f<1)E=T;
var D=E.x,P=E.y,e=E.C,Y=E.T;this.eY.clearRect(D,P,-1e3,Y);this.eY.clearRect(D+e,P,1e3,Y);this.eY.clearRect(D-1e3,P,e+2e3,-1e3);
this.eY.clearRect(D-1e3,P+Y,e+2e3,1e3);var O=pP.SSc(N.f,"#ffffff");this.eY.putImageData(O,0,N.c.T-O.height)};
pP.Stp={};pP.SSc=function(p,a){var R="z"+p+","+a,Q=pP.Stp[R];if(Q)return Q;var t=Math.round(50*V.o()),N=Math.round(18*V.o()),K=V.P("canvas"),T=K.getContext("2d");
K.width=t;K.height=N;T.fillStyle="rgba(1,1,1,1)";T.fillRect(0,0,t,N);T.font=Math.round(11*V.o())+"px monospace";
T.fillStyle=a;var d=p*100;if(d<100)d=d.toFixed(2);d=d+"%";var y=T.measureText(d).width;T.fillText(d,(t-y)/2,Math.round(N*.7));
Q=pP.Stp[R]=T.getImageData(0,0,t,N);return Q};pP.prototype.SdZ=function(){var p=this.Qz,a=p.length,R=this.bN,Q=this.Qz[R],t=(R+1)%a;
this.XN();if(a!=1&&p[t].sE.xA(Q.sE)){var N=Q._k?parseInt(Q._k.split(",").pop()):30;if(N==0)N=16;if(t==0)this.VQ++;
if(this.VE==0||this.VQ<this.VE)this.SXZ=setTimeout(this.SSq,N)}this.bN=t};pP.prototype.Jg=function(p,a){if(p<=0||a<=0)return;
var R=Math.floor(p*V.o()),Q=Math.floor(a*V.o());this.z.c=new x(0,0,R,Q);this.Ou.width=R;this.Ou.height=Q;
this.Ou.setAttribute("style","width:"+R/V.o()+"px; height:"+Q/V.o()+"px; display:block;");this.XN()};
pP.prototype.mV=function(p){this.CF=p.target;V.EU(window,this.SXF);V.Eb(window,this.SXy);this.bp=V.ma(p,this.Ou);
this.bp.x*=V.o();this.bp.y*=V.o();this.jF=this.bp;this.so=this.z.A.clone();if(this.VJ&&this.CF==this.Ou&&!this.hi)this.Y(new $("mousedown"))};
pP.prototype.tU=function(p){var a=this.z,R=this.Qz[this.bN].sE.clone();R.C*=a.f;R.T*=a.f;var Q=V.ma(p,this.Ou);
Q.x*=V.o();Q.y*=V.o();this.jF=Q;if(this.VJ&&this.CF==this.Ou&&!this.hi)this.Y(new $("mousemove"));else if(!a.c.tT(R)){var t=Q.x-this.bp.x,N=Q.y-this.bp.y;
a.A.x=this.so.x+Math.round(t);a.A.y=this.so.y+Math.round(N);this.Y(new $("viewchange"))}};pP.prototype.aD=function(p){V._j(window,this.SXF);
V.n$(window,this.SXy);if(p.detail>1){this.z.f=1;this.z.A.YY(0,0);this.XN()}if(this.VJ&&this.CF==this.Ou&&!this.hi)this.Y(new $("mouseup"))};
pP.prototype.In=function(){return this.z.oD(this.jF.x,this.jF.y)};function SV(){gM.call(this);this.Ch=null;
this.al=null;this.ek=null;this.Cx=null;this.SFB="";this.CU=[];this.CJ=0;this.ht=[];this.Ug=0;this.$F=null;
var p=this._=V.P("div",""),a=this.SSF=V.P("div","form");a.setAttribute("style","line-height:0; margin-bottom:0.5em;");
p.appendChild(a);var R=this.CB=V.P("span");a.appendChild(R);R.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var Q=this.SFW=new Sz([25,2,0]);Q.a(!0);a.appendChild(Q._);Q.h(V.E.k,this.Io,this);var t=this.Vm=new Sz([25,2,1]);
t.a(!1);a.appendChild(t._);t.h(V.E.k,this.Io,this);var N=new Ky(" ");a.appendChild(N._);var K=this.Vu=new KH([25,1,1]);
a.appendChild(K._);K.h(V.E.k,this.Io,this);this.KH=new K$(14);this.KH.SUg(3);a.appendChild(this.KH._);
this.KH.parent=this;this.KH.h(V.E.k,this.SOO,this);var T=this.SSh=new gi([25,1,2],null,null,!0);a.appendChild(T._);
T.h("click",this.Ij,this);this.SSy=this.SOJ.bind(this);this.ec=V.P("div","svggallery scrollable");p.appendChild(this.ec);
this.ec.addEventListener("scroll",this.SOU.bind(this))}SV.prototype=new gM;SV.prototype.JD=function(p){this.SFn=p};
SV.prototype.b=function(){this.CB.textContent=gL.get([25,0]);this.KH.b();this.SFW.b();this.Vm.b();this.Vu.b();
this.SSh.b()};SV.prototype.Jg=function(p,a){a-=26;this.Ch=new X(p,a);this.SSF.setAttribute("style","width:"+p+"px");
this.ec.setAttribute("style","width:"+p+"px; height:"+a+"px");if(V.aM(this._))this.Io()};SV.prototype.a=function(p){this.al=p;
this.Io()};SV.prototype.SOU=function(p){var a=this.ec;if(a.scrollTop+a.clientHeight+10>=a.scrollHeight){this.Io(!0)}};
SV.prototype.SOO=function(p){this.ek=null;this.Io()};SV.prototype.SOJ=function(p){if(Date.now()-this.Ug<2e3)return;
this.Ug=Date.now();this.CJ=this.ht.indexOf(p.currentTarget);var a=this.UW(this.al.x,this.al.y);if(a[1]){var R=a[1].largeImageURL,Q=new XMLHttpRequest;
Q.responseType="arraybuffer";Q.open("GET",R,!0);Q.onload=this.SOA.bind(this);Q.send();return}this.Sdp(a)};
SV.prototype.SOA=function(p){var a=p.target.response,R=gr.li(a),Q=gr.xN(R),t=Q.Lc(a),N=this.UW(this.al.x,this.al.y,[a,t[0].sE.C,t[0].sE.T]);
this.Sdp(N)};SV.prototype.Sdp=function(p){var a=p[0],R=gr.li(a),Q=gr.xN(R),t=new SF("template.psd");
Q.Lc(a,t);var N=new $("tempready",!0);N.data={NI:t};this.Y(N)};SV.prototype.Ij=function(p){var a=p.target;
this.CU=[];this.Io()};SV.prototype.SvS=function(p){console.log(p.target.response);var a=JSON.parse(p.target.response);
this.Cx=a.hits;this.Io()};SV.prototype.Io=function(p){if(this.al==null||this.Ch==null||this.SFn==null)return;
if(this.Ch.x<=0)return;var a=this.al.x,R=this.al.y;if(Math.min(a,R)<50)return;if(p!=!0){this.ht=[];V.Tl(this.ec);
this.ec.scrollTop=0}if(this.ht.length>300)return;var Q=Math.min(1,300/Math.max(a,R)),t=this.Ch.clone();
t.x-=20;var N=Math.max(1,Math.floor(t.x/(a*Q))),K=Math.max(1,Math.ceil(t.y/(R*Q)));Q=t.x/N/a;var T=N*K;
if(this.ek==null){var d=this.SFn.mk.vF();this.ek=[];for(var y in d){var E=d[y],k=E[3];if(!this.KH.UN(E))continue;
if(E[5]==null||E[5].slice(0,2)=="gf")continue;this.ek.push(E)}if(this.ek.length==0)this.ek.push(d.DejaVuSans)}var D=this.Vm.l(),P=this.Vu.l().trim();
this.Vu.Ub(D);if(D&&(this.Cx==null||P!=this.SFB)){var e=new XMLHttpRequest,Y="https://pixabay.com/api/?image_type=photo"+(P==""?"":"&q="+encodeURIComponent(P))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(P=="")Y+="&safesearch=true";e.open("GET",Y,!0);e.onload=this.SvS.bind(this);e.onerror=function(H){console.log(H.target.response)};
e.send();this.SFB=P;return}Q*=(a*Q-5)/(a*Q);var O=this.ht.length;for(var W=0;W<T;W++){var w=this.CJ=O+W;
if(this.CU[w]==null)this.CU[w]=Math.floor(Math.random()*4294967295);var g=this.UW(Math.round(a*Q),Math.round(R*Q)),J=g[0];
J=A.ng(new Uint8Array(J));var U=V.P("span");U.innerHTML=J;this.ht.push(U);this.ec.appendChild(U);U.addEventListener("click",this.SSy,!1)}};
SV.prototype.UW=function(p,a,R){var Q=this.Vm.l(),t=this.SFW.l(),N=Q&&this.Cx.length!=0?this.Cx:null;
if(t&&!Q)N=null;if(t&&Q&&(this.CJ&1)==0)N=null;return gG.y$(p,a,this.CU[this.CJ],this.ek,R?R:N)};function lK(){gM.call(this);
this._=V.P("div");this.LI=null;this.Shi=null;this.VP=-1;this.af={JPG:[{IA:new gW([12,52,0],0,100,"%"),aF:70},{IA:new Sz("attach metadata"),aF:!1}],TIFF:[{IA:new Sz("attach metadata"),aF:!1}],WEBP:[{IA:new gW([12,52,0],0,100,"%"),aF:70}],GIF:[{IA:new gW([12,52,0],0,100,"%"),aF:100}],PNG:[{IA:new gW([12,52,0],0,100,"%"),aF:100},{IA:new Sz("don't use palettes"),aF:!1}],PDF:[{IA:new KH([12,52,1]),aF:""},{IA:new gW([12,52,0],0,100,"%"),aF:100},{IA:new Sz("rasterize all"),aF:!1},{IA:new Sz("rasterize text"),aF:!1},{IA:new Sz("vectorize text"),aF:!1}],EMF:[{IA:new KH([12,52,1]),aF:""},{IA:new Sz("rasterize all"),aF:!1},{IA:new Sz("rasterize text"),aF:!1},{IA:new Sz("vectorize text"),aF:!1}],SVG:[{IA:new Sz("add raster graphics"),aF:!0},{IA:new Sz("add hidden layers"),aF:!1},{IA:new Sz("vectorize text"),aF:!1},{IA:new Sz("rasterize text"),aF:!1},{IA:new Sz("add layer names"),aF:!0},{IA:new Sz("pretty-print"),aF:!0}],RAW:[{IA:new KU([12,72],["1","3","4"]),aF:2},{IA:new KU([12,34],["8 Bits","16 Bits"]),aF:0},{IA:new KU("Byte Order",["12-34","34-12"]),aF:0}],anim:[{IA:new gW("Speed",10,800,"%",null,!0),aF:100},{IA:new SD("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),aF:0},{IA:new Sz("reverse frames"),aF:!1}],slcs:[{IA:new Sz("As Slices"),aF:!0}]};
for(var p in this.af){var a=this.af[p];for(var R=0;R<a.length;R++){a[R].IA.a(a[R].aF);a[R].IA.h(V.E.k,this.TD,this)}}}lK.prototype=new gM;
lK.prototype.SvH=function(){this.VP=-1};lK.prototype.b=function(){for(var p in this.af)for(var a=0;a<this.af[p].length;
a++)this.af[p][a].IA.b()};lK.prototype.TD=function(){this.Io();this.Y(new $(V.E.k,!1))};lK.prototype.Io=function(){var p=this.LI,a=p[0],R=p[1],Q=p[2],t=this.af[a];
if(t==null)t=[];else t=t.slice(0);if(R)t=t.concat(this.af.anim);if(["GIF","PNG","JPG"].indexOf(a)!=-1&&Q)t=t.concat(this.af.slcs);
if(a+" "+R!=this.VP){this.VP=a+" "+R;V.Tl(this._);for(var N=0;N<t.length;N++){this._.appendChild(t[N].IA._);
V.zp(this._)}}var K=this.Shi=[];for(var N=0;N<t.length;N++)K.push(t[N].IA.l())};lK.prototype.SCc=function(p,a,R){this.LI=[p,a,R];
this.Io()};lK.prototype.l=function(){return this.Shi.slice(0)};function Yj(){gM.call(this);this._=V.P("span","fitem");
this.Ga=!1;this.Vb=new gi("No",!1,"Cancel");this.JN=new gi("Yes",!1,"Confirm");this._.appendChild(this.Vb._);
this._.appendChild(this.JN._);this.Vb.h("click",this.WZ,this);this.JN.h("click",this.WZ,this);this.b()}Yj.prototype=new gM;
Yj.prototype.b=function(){this.Vb.EX(V.uj("cross",null,"autoscale"));this.JN.EX(V.uj("checkmark",null,"autoscale"))};
Yj.prototype.WZ=function(p){this.Ga=p.target==this.JN;this.Y(new UIEvent("click"))};Yj.prototype.l=function(){return this.Ga};
function c(p){gM.call(this);this.SSw=p;this._=V.P("div","");this.vo=[];this.Shc=[]}c.prototype=new gM;
c.prototype.Uv=function(p){};c.prototype.sJ=function(){return!1};c.prototype.Jg=function(p,a){};c.prototype.JD=function(p,a){};
c.prototype.ti=function(p){};c.prototype.a=function(p,a,R,Q,t,N){var K=[];this.dz(p,K,N);for(var T=0;
T<this.vo.length;T++)this.vo[T].a(K[T])};c.prototype.l=function(){var p=gw.gD(this.SSw),a=[];for(var R=0;
R<this.vo.length;R++)a.push(this.vo[R].l());this.Sk(p,a);return p};c.prototype.Qb=function(p){};c.prototype.HP=function(p){var a=this.Shc;
for(var R=0;R<a.length;R+=2){var Q=this.vo[a[R]],t=this.vo[a[R+1]],N=Q.l(),K=t.l();if(p.target==Q)t.a(Math.max(N,K));
else Q.a(Math.min(N,K))}this.Y(new $(V.E.k))};c.prototype.b=function(){for(var p=0;p<this.vo.length;
p++)this.vo[p].b()};c.prototype.rM=function(p){V.ey(this._,"form");var a=this.vo;for(var R=0;R<a.length;
R++){var Q=a[R];Q.parent=this;Q.h(V.E.k,this.HP,this);this._.appendChild(Q._);if(Q instanceof Sz&&a[R+1]instanceof Sv)continue;
if(p&&p.indexOf(R)!=-1)V.xq(this._);else V.zp(this._)}};c.prototype.Yg=function(){return!1};c.prototype.JI=function(p,a,R,Q,t){};
c.prototype.r$=function(p,a,R,Q,t){};c.prototype.Gz=function(p,a,R,Q,t){};c.prototype.Sk=function(p,a){};
c.prototype.dz=function(p,a){};c.Bokh=function(){c.call(this,"Bokh");this.vo=[new gu("Depth Map",["A","b"]),new gW("Focal Distance",0,255),new gu([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new gW([12,56],0,100),new gW([12,15],0,360),new gW([12,2],0,100),new gW([4,13],0,255),new gW([24,6],0,100),new KU([12,58],[[12,59,0],[12,59,1]]),new Sz([12,60])];
this.rM([4,6])};c.Bokh.prototype=new c;c.Bokh.prototype.dz=function(p,a,R){var Q=[[22,5,0],[6,5,3],[6,2]],t=p.BkDi.v.BtDi,N=p.BkDc,K=0;
if(t=="BeIn")K=0;else if(t=="BeIt"&&N.v.BtDc=="BeCt")K=1;else if(t=="BeIt"&&N.v.BtDc=="BeCm")K=2;else K=3+N.v;
for(var T=0;T<R[1].length;T++)Q.push(R[1][T].name);this.vo[0].tY(Q,[3]);a[0]=K;a[1]=p.BkDp.v;a[2]=parseInt(p.BkIs.v.BtIs.slice(3))-3;
a[3]=p.BkIb.v;a[4]=p.BkIr.v;a[5]=p.BkSb.v;a[6]=p.BkSt.v;a[7]=p.BkNa.v;a[8]=p.BkNt.v.BtNt=="BeNu"?0:1;
a[9]=p.BkNm.v};c.Bokh.prototype.Sk=function(p,a){var R;if(a[0]==0){R="BeIn";delete p.BkDc}else if(a[0]<3){R="BeIt";
p.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][a[0]-1]}}}else{R="BeIa";p.BkDc={t:"long",v:a[0]-3}}p.BkDi.v.BtDi=R;
p.BkDp.v=a[1];p.BkIs.v.BtIs="BeS"+(3+a[2]);p.BkIb.v=a[3];p.BkIr.v=a[4];p.BkSb.v=a[5];p.BkSt.v=a[6];p.BkNa.v=a[7];
p.BkNt.v.BtNt=["BeNu","BeNg"][a[8]];p.BkNm.v=a[9]};c["\0\0\x03\xFD"]=function(){c.call(this,"\0\0\x03\xFD");
this.vo=[new gW([12,56],.1,10,"px",!0),new gW("Cleanliness",0,10,"px",!0),new gW([12,38],.1,10,null,!0),new gW("Bristle Detail",0,10,null,!0),new Sz("Lighting"),new gW("Shine",0,10,null,!0),new C_([12,15])];
this.rM()};c["\0\0\x03\xFD"].prototype=new c;c["\0\0\x03\xFD"].prototype.dz=function(p,a){var R="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Q=0;Q<R.length;Q++)a[Q]=p[R[Q]].v;a[6]=p.LghD.v};c["\0\0\x03\xFD"].prototype.Sk=function(p,a){var R="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Q=0;Q<R.length;Q++)p[R[Q]].v=a[Q];p.LghD.v=a[6].TX};c["\0\0\x03^"]=function(){c.call(this,"\0\0\x03^");
this.vo=[new gW([24,3,1],0,30,"px"),new gW([12,38],0,200,"%"),new Sz([4,11]),new gW("High",0,100,"%"),new gW("Medium",0,100,"%"),new gW("Low",0,100,"%")];
this.rM()};c["\0\0\x03^"].prototype=new c;c["\0\0\x03^"].prototype.dz=function(p,a){a[0]=p.blur.v;a[1]=p.textureScale.v*100;
a[2]=p.Scl.v==-1;var R=p.Dtl.v;a[3]=R[0].v*100;a[4]=R[1].v*100;a[5]=R[2].v*100};c["\0\0\x03^"].prototype.Sk=function(p,a){p.blur.v=a[0];
p.textureScale.v=a[1]/100;p.Scl.v=a[2]?-1:1;var R=p.Dtl.v;R[0].v=a[3]/100;R[1].v=a[4]/100;R[2].v=a[5]/100};
c.LnsF=function(){c.call(this,"LnsF");this.vo=[new gW([12,2],10,300,"%"),new KU([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new gW("Position X",0,100,"%"),new gW("Position Y",0,100,"%")];
this.rM()};c.LnsF.prototype=new c;c.LnsF.prototype.dz=function(p,a){a[0]=p.Brgh.v;a[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(p.Lns.v.Lns);
var R=p.FlrC.v;a[2]=Math.round(R.Hrzn.v*100);a[3]=Math.round(R.Vrtc.v*100)};c.LnsF.prototype.Sk=function(p,a){p.Brgh.v=a[0];
p.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][a[1]];var R=p.FlrC.v;R.Hrzn.v=a[2]/100;R.Vrtc.v=a[3]/100};c.LnCr=function(){c.call(this,"LnCr");
this.vo=[new gW([12,57],-100,100),new gW([12,38],10,150,"%")];this.rM()};c.LnCr.prototype=new c;c.LnCr.prototype.dz=function(p,a){a[0]=p.LnIa.v;
a[1]=p.LnSi.v};c.LnCr.prototype.Sk=function(p,a){p.LnIa.v=a[0];p.LnSi.v=a[1]};c["\0\0\x02\xB1"]=function(){c.call(this,"\0\0\x02\xB1");
this.vo=[new gW([12,56],1,200," px")];this.rM()};c["\0\0\x02\xB1"].prototype=new c;c["\0\0\x02\xB1"].prototype.dz=function(p,a){a[0]=p.Rds.v.val};
c["\0\0\x02\xB1"].prototype.Sk=function(p,a){p.Rds.v.val=a[0]};c.GsnB=function(){c.call(this,"GsnB");
this.vo=[new gW([12,56],.1,400,"px",1,!0)];this.rM()};c.GsnB.prototype=new c;c.GsnB.prototype.dz=function(p,a){a[0]=p.Rds.v.val};
c.GsnB.prototype.Sk=function(p,a){p.Rds.v.val=a[0]};c.MtnB=function(){c.call(this,"MtnB");this.vo=[new C_([12,15]),new gW([12,28],1,100," px")];
this.rM()};c.MtnB.prototype=new c;c.MtnB.prototype.dz=function(p,a){a[0]=p.Angl.v;a[1]=p.Dstn.v.val};
c.MtnB.prototype.Sk=function(p,a){p.Angl.v=a[0].TX;p.Dstn.v.val=a[1]};c.RdlB=function(){c.call(this,"RdlB");
this.vo=[new gW([12,57],1,100),new KU([12,36],["Spin","Zoom"]),new Nx("Off X",0,1,null,2),new Nx("Off Y",0,1,null,2)];
this.rM()};c.RdlB.prototype=new c;c.RdlB.prototype.dz=function(p,a){a[0]=p.Amnt.v;a[1]=["Spn","Zm"].indexOf(p.BlrM.v.BlrM);
a[2]=p.Cntr.v.Hrzn.v;a[3]=p.Cntr.v.Vrtc.v};c.RdlB.prototype.Sk=function(p,a){p.Amnt.v=a[0];p.BlrM.v.BlrM=["Spn","Zm"][a[1]];
p.Cntr.v.Hrzn.v=a[2];p.Cntr.v.Vrtc.v=a[3]};c.Dspl=function(){c.call(this,"Dspl");this.vo=[new gu([6,36,3],["a","b"]),new gW([22,4,0],-100,100,"px"),new gW([22,4,1],-100,100,"px"),new gu([24,18,0],[[24,18,3],[24,18,2]])];
this.rM()};c.Dspl.prototype=new c;c.Dspl.prototype.dz=function(p,a,R){this.SxW=[];this.bH=[];var Q=-1,t=R?R[0]:null;
if(t==null)t=this.Sdd;else this.Sdd=t;if(t)for(var N=0;N<t.length;N++){var K=t[N];this.SxW.push(K.Lf.trim());
this.bH.push(K.HN);if(K.HN==p.DspF.v.pth)Q=N}this.vo[0].tY(this.SxW);a[0]=Q==-1?0:Q;a[1]=p.HrzS.v;a[2]=p.VrtS.v;
a[3]=["WrpA","RptE"].indexOf(p.UndA.v.UndA)};c.Dspl.prototype.Sk=function(p,a){if(this.bH.length==0)return;
p.DspF.v.pth=this.bH[a[0]];p.HrzS.v=a[1];p.VrtS.v=a[2];p.UndA.v.UndA=["WrpA","RptE"][a[3]]};c.Pnch=function(){c.call(this,"Pnch");
this.vo=[new gW([12,57],-100,100,"%")];this.rM()};c.Pnch.prototype=new c;c.Pnch.prototype.dz=function(p,a){a[0]=p.Amnt.v};
c.Pnch.prototype.Sk=function(p,a){p.Amnt.v=a[0]};c["Plr "]=function(){c.call(this,"Plr ");this.vo=[new KU(null,["Rect to Polar","Polar to Rect"])];
this.rM()};c["Plr "].prototype=new c;c["Plr "].prototype.dz=function(p,a){a[0]=["RctP","PlrR"].indexOf(p.Cnvr.v.Cnvr)};
c["Plr "].prototype.Sk=function(p,a){p.Cnvr.v.Cnvr=["RctP","PlrR"][a[0]]};c.Rple=function(){c.call(this,"Rple");
this.vo=[new gW([12,57],-999,999),new gu([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.rM()};c.Rple.prototype=new c;
c.Rple.prototype.dz=function(p,a){a[0]=p.Amnt.v;a[1]=["Sml","Mdm","Lrg"].indexOf(p.RplS.v.RplS)};c.Rple.prototype.Sk=function(p,a){p.Amnt.v=a[0];
p.RplS.v.RplS=["Sml","Mdm","Lrg"][a[1]]};c["Shr "]=function(){c.call(this,"Shr ");this.vo=[new Sw(!0,!0),new gu([24,18,0],[[24,18,3],[24,18,2]])];
this.rM()};c["Shr "].prototype=new c;c["Shr "].prototype.dz=function(p,a){var R=new gh(0,255/127,255/127,0,-2,128),Q=JSON.parse(JSON.stringify(p.ShrP.v));
S.ps.t(Q,R);a[0]=Q;a[1]=["WrpA","RptE"].indexOf(p.UndA.v.UndA)};c["Shr "].prototype.Sk=function(p,a){var R=new gh(0,255/127,255/127,0,-2,128);
R.zw();S.ps.t(a[0],R);p.ShrP.v=a[0];p.ShrE.v=a[0].length-1;p.UndA.v.UndA=["WrpA","RptE"][a[1]]};c.Sphr=function(){c.call(this,"Sphr");
this.vo=[new gW([12,57],-100,100),new gu([12,36],["Normal",[22,4,0],[22,4,1]])];this.rM()};c.Sphr.prototype=new c;
c.Sphr.prototype.dz=function(p,a){a[0]=p.Amnt.v;a[1]=["Nrml","HrzO","VrtO"].indexOf(p.SphM.v.SphM)};
c.Sphr.prototype.Sk=function(p,a){p.Amnt.v=a[0];p.SphM.v.SphM=["Nrml","HrzO","VrtO"][a[1]]};c.Twrl=function(){c.call(this,"Twrl");
this.vo=[new gW([12,15],-999,999)];this.rM()};c.Twrl.prototype=new c;c.Twrl.prototype.dz=function(p,a){a[0]=p.Angl.v};
c.Twrl.prototype.Sk=function(p,a){p.Angl.v=a[0]};c.Wave=function(){c.call(this,"Wave");this.Shc=[1,2,3,4];
this.vo=[new gW("Number of Generators",1,100),new Nx("Min Length",1,999),new Nx("Max Length",1,999),new Nx("Min Ampl.",1,999),new Nx("Max Ampl.",1,999),new Nx("Scale X",1,100,"%"),new Nx("Scale Y",1,100,"%"),new KU([12,44],["Sine","Triangle",[12,93,3]]),new gu([24,18,0],[[24,18,3],[24,18,2]]),new KH("Randomizer Seed")];
this.rM()};c.Wave.prototype=new c;c.Wave.prototype.dz=function(p,a){a[0]=p.NmbG.v;a[1]=p.WLMn.v;a[2]=p.WLMx.v;
a[3]=p.AmMn.v;a[4]=p.AmMx.v;a[5]=p.SclH.v;a[6]=p.SclV.v;a[7]=["WvSn","WvTr","WvSq"].indexOf(p.Wvtp.v.Wvtp);
a[8]=["WrpA","RptE"].indexOf(p.UndA.v.UndA);a[9]=p.RndS.v};c.Wave.prototype.Sk=function(p,a){p.NmbG.v=a[0];
p.WLMn.v=a[1];p.WLMx.v=a[2];p.AmMn.v=a[3];p.AmMx.v=a[4];p.SclH.v=a[5];p.SclV.v=a[6];p.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][a[7]];
p.UndA.v.UndA=["WrpA","RptE"][a[8]];var R=parseInt(a[9]);if(isNaN(R))R=248325464;R=Math.max(0,Math.min(268435455,R));
p.RndS.v=R;this.vo[9].a(R)};c["\0\0\x02\xB5"]=function(){c.call(this,"\0\0\x02\xB5");this.vo=[new gW([12,56],1,200," px"),new gW([4,13],1,255," px")];
this.rM()};c["\0\0\x02\xB5"].prototype=new c;c["\0\0\x02\xB5"].prototype.dz=function(p,a){a[0]=p.Rds.v.val;
a[1]=p.Thsh.v};c["\0\0\x02\xB5"].prototype.Sk=function(p,a){p.Rds.v.val=a[0];p.Thsh.v=a[1]};c.AdNs=function(){c.call(this,"AdNs");
this.vo=[new gW([12,57],0,200," %"),new gu([12,58],[[12,59,0],[12,59,1]]),new Sz([12,60])];this.rM()};
c.AdNs.prototype=new c;c.AdNs.prototype.dz=function(p,a){a[0]=p.Nose.v.val;a[1]=["Unfr","Gsn"].indexOf(p.Dstr.v.Dstr);
a[2]=p.Mnch.v};c.AdNs.prototype.Sk=function(p,a){p.Nose.v.val=a[0];p.Dstr.v.Dstr=["Unfr","Gsn"][a[1]];
p.Mnch.v=a[2]};c.DstS=function(){c.call(this,"DstS");this.vo=[new gW([12,56],1,200," px"),new gW([4,13],1,255," px")];
this.rM()};c.DstS.prototype=new c;c.DstS.prototype.dz=function(p,a){a[0]=p.Rds.v;a[1]=p.Thsh.v};c.DstS.prototype.Sk=function(p,a){p.Rds.v=a[0];
p.Thsh.v=a[1]};c["Mdn "]=function(){c.call(this,"Mdn ");this.vo=[new gW([12,56],1,200," px")];this.rM()};
c["Mdn "].prototype=new c;c["Mdn "].prototype.dz=function(p,a){a[0]=p.Rds.v.val};c["Mdn "].prototype.Sk=function(p,a){p.Rds.v.val=a[0]};
c.ClrH=function(){c.call(this,"ClrH");this.vo=[new gW([12,56],4,100," px")];for(var p=1;p<4;p++)this.vo.push(new gW("Angle "+p,0,90," \xB0"));
this.rM()};c.ClrH.prototype=new c;c.ClrH.prototype.dz=function(p,a){a[0]=p.Rds.v;for(var R=1;R<4;R++)a[R]=p["Ang"+R].v};
c.ClrH.prototype.Sk=function(p,a){p.Rds.v=a[0];for(var R=1;R<4;R++)p["Ang"+R].v=a[R]};c.ClrH.prototype.b=function(){var p=this.vo;
p[0].b();for(var a=1;a<4;a++)p[a].EX(gL.get([12,15])+" "+a)};c.Crst=function(){c.call(this,"Crst");this.vo=[new gW([12,61],3,100," px")];
this.rM()};c.Crst.prototype=new c;c.Crst.prototype.dz=function(p,a){a[0]=p.ClSz.v};c.Crst.prototype.Sk=function(p,a){p.ClSz.v=a[0]};
c.Mztn=function(){c.call(this,"Mztn");this.vo.push(new gu([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.bH="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.rM()};c.Mztn.prototype=new c;
c.Mztn.prototype.dz=function(p,a){a[0]=this.bH.indexOf(p.MztT.v.MztT)};c.Mztn.prototype.Sk=function(p,a){p.MztT.v.MztT=this.bH[a[0]]};
c["Msc "]=function(){c.call(this,"Msc ");this.vo=[new gW([12,61],2,200," px")];this.rM()};c["Msc "].prototype=new c;
c["Msc "].prototype.dz=function(p,a){a[0]=p.ClSz.v.val};c["Msc "].prototype.Sk=function(p,a){p.ClSz.v.val=a[0]};
c.Pntl=function(){c.call(this,"Pntl");this.vo=[new gW([12,61],3,100," px")];this.rM()};c.Pntl.prototype=new c;
c.Pntl.prototype.dz=function(p,a){a[0]=p.ClSz.v};c.Pntl.prototype.Sk=function(p,a){p.ClSz.v=a[0]};c["\0\0\x03\xE8"]=function(){c.call(this,"\0\0\x03\xE8");
this.vo=[new gW([12,57],1,200,"%"),new gW([12,56],0,200,"px",1,!0)];this.rM()};c["\0\0\x03\xE8"].prototype=new c;
c["\0\0\x03\xE8"].prototype.dz=function(p,a){a[0]=p.Amnt.v.val;a[1]=p.Rds.v.val};c["\0\0\x03\xE8"].prototype.Sk=function(p,a){p.Amnt.v.val=a[0];
p.Rds.v.val=a[1]};c.UnsM=function(){c.call(this,"UnsM");this.vo=[new gW([12,57],1,200," %"),new gW([12,56],0,200," px"),new gW([4,13],0,255," ")];
this.rM()};c.UnsM.prototype=new c;c.UnsM.prototype.dz=function(p,a){a[0]=p.Amnt.v.val;a[1]=p.Rds.v.val;
a[2]=p.Thsh.v};c.UnsM.prototype.Sk=function(p,a){p.Amnt.v.val=a[0];p.Rds.v.val=a[1];p.Thsh.v=a[2]};c.HghP=function(){c.call(this,"HghP");
this.vo=[new gW([12,56],1,200," px")];this.rM()};c.HghP.prototype=new c;c.HghP.prototype.dz=function(p,a){a[0]=p.Rds.v.val};
c.HghP.prototype.Sk=function(p,a){p.Rds.v.val=a[0]};c["Mxm "]=function(){c.call(this,"Mxm ");this.vo=[new gW([12,56],1,200," px")];
this.rM()};c["Mxm "].prototype=new c;c["Mxm "].prototype.dz=function(p,a){a[0]=p.Rds.v.val};c["Mxm "].prototype.Sk=function(p,a){p.Rds.v.val=a[0]};
c["Mnm "]=function(){c.call(this,"Mnm ");this.vo=[new gW([12,56],1,200," px")];this.rM()};c["Mnm "].prototype=new c;
c["Mnm "].prototype.dz=function(p,a){a[0]=p.Rds.v.val};c["Mnm "].prototype.Sk=function(p,a){p.Rds.v.val=a[0]};
c.Ofst=function(){c.call(this,"Ofst");this.vo=[new gW([22,4,0],-1024,1024," px"),new gW([22,4,1],-1024,1024," px"),new gu([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])];
this.rM()};c.Ofst.prototype=new c;c.Ofst.prototype.dz=function(p,a){a[0]=p.Hrzn.v;a[1]=p.Vrtc.v;a[2]=["Bckg","Rpt","Wrp"].indexOf(p.Fl.v.FlMd)};
c.Ofst.prototype.Sk=function(p,a){p.Hrzn.v=a[0];p.Vrtc.v=a[1];p.Fl.v.FlMd=["Bckg","Rpt","Wrp"][a[2]]};
c.Rept=function(){c.call(this,"Rept");this.vo=[new Nx([12,38],1,300," %"),new Nx("Row Shift",-50,50," %"),new Nx("Space X",-99,200," %"),new Nx("Space Y",-99,200," %"),new Sz([4,16,2]),new C_([12,15])];
this.rM()};c.Rept.prototype=new c;c.Rept.prototype.dz=function(p,a){a[0]=p.Scl.v.val;a[1]=p.Rsft.v.val;
a[2]=p.SpcX.v.val;a[3]=p.SpcY.v.val;a[4]=p.SpcC.v;a[5]=p.Angl.v};c.Rept.prototype.Sk=function(p,a){p.Scl.v.val=a[0];
p.Rsft.v.val=a[1];p.SpcX.v.val=a[2];p.SpcY.v.val=a[3];p.SpcC.v=a[4];p.Angl.v=a[5].TX;return p};c.LqFy=function(){c.call(this,"LqFy");
this.gK=!1;this.Ld=null;this.SdP=null;this.Q=0;this.Wh={bL:[[{Q:{id:0,name:[24,1,0,1,0],aC:"liq/smudge"}}],[{Q:{id:1,name:[24,1,0,1,1],aC:"liq/reconstruct"}}],[{Q:{id:2,name:[24,1,0,1,2],aC:"liq/smooth"}}],[{Q:{id:3,name:[24,1,0,1,3],aC:"liq/twirl"}}],[{Q:{id:4,name:[24,1,0,1,4],aC:"liq/shrink"}}],[{Q:{id:5,name:[24,1,0,1,5],aC:"liq/blow"}}],[{Q:{id:6,name:[24,1,0,1,6],aC:"liq/pleft"}}]],keys:[]};
this.qH=new Cb(this.Wh,!1);this.qH.bF(0);this.qH.h(V.E.v,this.Svq,this);this.bO=de.Rq();this._y=null;
this.ej=[];this.IZ=-1;this.BZ=null;this.Sxk=null;this.bE=null;this.Ct=null;this.bm=null;var p=V.P("div","flexrow");
this.vx=p;this._.appendChild(p);p.appendChild(this.qH._);this.view=new pP(!0);this.view.Jg(100,100);
this.view.h("mousedown",this.mV,this);this.view.h("mousemove",this.tU,this);this.view.h("mouseup",this.aD,this);
this.view.h("zoom",this.RH,this);p.appendChild(this.view._);var a=V.P("div","form");p.appendChild(a);
this.Vn=a;a.style.width="230px";this.Ud=[new gW([12,14,0],0,1e3,null,!1,!0),new gW([12,74],0,100,null,!1,!1),new gW([12,84],0,100,null,!1,!1),new Sz([12,46]),new gW([12,0],0,100,null,!1,!1)];
var R=this.bO.Brsh.v;R.Dmtr.v.val=100;var Q=[100,50,100,!1,100];for(var t=0;t<this.Ud.length;t++){var N=this.Ud[t];
N.a(Q[t]);N.h(V.E.k,this.Svh,this);a.appendChild(N._)}var K=new gi("Reset",!0,null,!0);K.h("click",this.Ij,this);
a.appendChild(K._);this.Ha=new gM;this.Ha._=V.P("div","floatcont");this.CT=new gi("Menu",!1,null,!0);
this.CT.h("click",this.Svz,this);var T=this.CT._;T.setAttribute("style","position:absolute; right:13px; top:47px")};
c.LqFy.prototype=new c;c.LqFy.prototype.sJ=function(){return!0};c.LqFy.prototype.Uv=function(p){this.Vn.appendChild(p)};
c.LqFy.prototype.Svz=function(p){var a=this.CT._.getBoundingClientRect();this.Ha._.appendChild(this.Vn);
var R=new $(V.E.v,!0);R.data={K:V.H.Xf,Vw:this.Ha,x:a.right+a.width-290,y:a.top+a.height};this.Y(R)};
c.LqFy.prototype.Qb=function(p){this.gK=p.g(n.LG);var a=m.WH.fQ(this.bO,p);if(a!=null){this.bO=a;this.RH();
this.Ud[0].a(a.Brsh.v.Dmtr.v.val)}else if(p.g(n.GA)&&p.g(n.DB)){var R=this.ej;if(p.g(n.ei)){if(this.IZ+1<R.length)this.IZ++}else if(this.IZ>0)this.IZ--;
this._y.map=R[this.IZ].slice(0);this.$X(null)}else this.view.Qb(p)};c.LqFy.prototype.Svq=function(p){if(p.data.K==V.H.La){this.Q=p.data.Q;
this.qH.bF(this.Q)}};c.LqFy.prototype.Svh=function(p){var a=p.currentTarget,R=this.Ud.indexOf(a),Q=this.bO.Brsh.v;
if(R==0){Q.Dmtr.v.val=a.l();this.RH()}if(R>2)this.$X(null)};c.LqFy.prototype.TP=function(){var p=this.ej;
this.IZ++;p[this.IZ]=this._y.map.slice(0);while(p.length>this.IZ+1)p.pop();while(p.length>50){p=p.slice(1);
this.IZ--}};c.LqFy.prototype.mV=function(p){this.PO();this.Ld=this.view.In();this.SdP=new X(0,0);this.h(V.E.Jz,this.eg,this)};
c.LqFy.prototype.tU=function(p){var a=this.view.In(),R=new X(a.x-this.Ld.x,a.y-this.Ld.y);if(this.Q==0||this.Q==6)this.SNN(R);
this.Ld=a};c.LqFy.prototype.aD=function(p){this.TP();this.PO()};c.LqFy.prototype.PO=function(){if(this.kI(V.E.Jz,this.eg))this.removeEventListener(V.E.Jz,this.eg,this)};
c.LqFy.prototype.eg=function(p){if(this.Q!=0&&this.Q!=6)this.SNN(new X(0,0))};c.LqFy.prototype.SNN=function(p){var a=this._y,R=a.Xs/this.BZ.C,Q=this.Ld,t=this.bO.Brsh.v,N=t.Dmtr.v.val,K=Date.now(),T=a.Xs,d=a.hZ,y=Math.sqrt(p.x*p.x+p.y*p.y),E=Math.max(1,Math.ceil(y/2)),k=p.x/E,D=p.y/E,P=Q.clone(),e=this.Q,Y=this.Ud[1].l()/100,O=this.Ud[2].l()/100,W=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],w=W[e*2],g=W[e*2+1],J=(1-Y)*w+Y*g,U=N*R/2;
for(var H=0;H<E;H++){var f=[];P.x+=k;P.y+=D;S.HF.ShY(a.map,T,d,e,P.x*R,P.y*R,U,Y,O,k*R,D*R,f,this.gK);
S.HF.SFZ(T,d,a.map,f,2*J*O)}var j=new x(0,0,T,d),I=new x(Q.x*R,Q.y*R,0,0);I.vj(N*R*.5,N*R*.5);var L=I.clone();
L.offset(p.x*R,p.y*R);I=I.hT(L);var C=new x(I.x/R,I.y/R,I.C/R,I.T/R);C=S.s.EN(C).Yl(this.BZ);this.$X(C)};
c.LqFy.prototype.RH=function(){var p=gQ.XJ(this.bO,null,this.view.Ph().f);this.view.IG(p)};c.LqFy.prototype.a=function(p,a,R,Q,t){R=R.clone();
if(a==null)return;if(!Q.xA(R)){var N=R.hT(Q),K=S.p(N.u()*4);S.gW(a,R,K,N);a=K;R=N}R.x=R.y=0;this.bE=a;
this.Sxk=t;this.bm=a.slice(0);this.Ct=a.slice(0);this.BZ=R;this._y=Y_.Hi(new Uint8Array(p.LqMe.v).buffer);
var T=R.C,d=R.T;if(this._y.Xs/T<.22){this._y={Xs:Math.floor(T/4),hZ:Math.floor(d/4)};this._y.map=new Float32Array(this._y.Xs*this._y.hZ*2)}this.ej=[];
this.IZ=-1;this.TP();this.$X(null);this.RH()};c.LqFy.prototype.l=function(){this.PO();var p=gw.gD("LqFy"),a=new Uint8Array(Y_.MM(this._y)),R=[];
for(var Q=0;Q<a.length;Q++)R.push(a[Q]);p.LqMe.v=R;return p};c.LqFy.prototype.Jg=function(p,a){this.qH.Jg(p,a);
var R=this.CT._,Q=this.Vn;this.vx.appendChild(Q);this.vx.appendChild(R);if(p>450){Q.style.marginLeft="1em";
this.vx.removeChild(R);this.view.Jg(p-238-45,a)}else{Q.style.marginLeft="";this.vx.removeChild(Q);this.view.Jg(p-40,a)}};
c.LqFy.prototype.b=function(){this.qH.b();for(var p=0;p<this.Ud.length;p++)this.Ud[p].b()};c.LqFy.prototype.Ij=function(){this.PO();
this._y.map.fill(0);this.TP();this.$X(null)};c.LqFy.prototype.$X=function(p){var a=this.BZ,R=this.bE,Q=this.bm,t=this._y;
S.HF.RK(R,this.Ct,a.C,a.T,p,t.map,t.Xs,t.hZ,0);if(this.Ud[3].WO()){S.gW(this.Sxk,a,Q,a,p?p:a);S.O.KJ("norm",this.Ct,a,Q,a,p?p:a,this.Ud[4].l()/100)}else S.$M(this.Ct,Q);
this.view.a([{sE:a,data:Q.buffer}])};c.GEfc=function(){c.call(this,"GEfc");this.wC=0;this.Ae=0;this.bE=null;
this.bm=null;this.BZ=null;this.$F=null;this.Gx=null;this.IX=0;var p=V.P("div","flexrow");this.vx=p;this._.appendChild(p);
this.view=new pP;this.view.Jg(100,100);p.appendChild(this.view._);var a=V.P("div","form");p.appendChild(a);
a.style.width="230px";a.style.marginLeft="1em";this.Ca=[];var R=[];this.ha={};for(var Q in dS.names){this.Ca.push(Q);
R.push(dS.names[Q]);var t=new c.GEfc.Tk(Q);this.ha[Q]=t;t.h(V.E.k,this.SlJ,this)}this.bS=V.P("div");
a.appendChild(this.bS);this.bS.style.marginBottom="1.5em";this.ih=new gu(null,R);a.appendChild(this.ih._);
this.ih.h(V.E.k,this.SlJ,this);this.Cw=V.P("div");this.Cw.style.height="14em";a.appendChild(this.Cw);
V.zp(a);this.CG=V.P("div","lpbody scrollable");this.FY=V.P("div","lpfoot");a.appendChild(this.CG);a.appendChild(this.FY);
this.h("click",this.Svx,this);this.Fq=[];dr.eV([[5,3],[5,4]],this.Fq,this.FY,this.Nr.bind(this))};c.GEfc.prototype=new c;
c.GEfc.prototype.sJ=function(){return!0};c.GEfc.prototype.Uv=function(p){this.bS.appendChild(p)};c.GEfc.prototype.JD=function(p,a){this.$F=p};
c.GEfc.prototype.Jg=function(p,a){this.wC=p;this.Ae=a;this.view.Jg(p-240,a);this.CG.style.height=a-this.Cw.getBoundingClientRect().height-140+"px"};
c.GEfc.prototype.Nr=function(p){var a=dr.Va(this.Fq,p),R=this.Gx.GEfs.v,Q=R[this.IX].v;if(a==0){R.push(JSON.parse(JSON.stringify(R[this.IX])));
this.IX=R.length-1}else{R.splice(this.IX,1);if(this.IX==R.length)this.IX--}this.Pw();this.$X()};c.GEfc.prototype.SlJ=function(p){var a=this.Ca[this.ih.l()],R;
if(p.target==this.ih)R=dS.gD(a);else R=this.ha[a].l();this.Gx.GEfs.v[this.IX].v=R;this.Pw();this.$X()};
c.GEfc.prototype.a=function(p,a,R,Q,t){console.log(p);p=this.Gx=JSON.parse(JSON.stringify(p));if(p.GEfs==null)p=this.Gx={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:p}]}};
var N=p.GEfs.v;for(var K=0;K<N.length;K++)if(N[K].v.GELv==null)N[K].v.GELv={t:"bool",v:!0};this.IX=N.length-1;
this.Pw();R=R.clone();if(a==null)return;if(!Q.xA(R)){var T=R.hT(Q),d=S.p(T.u()*4);S.gW(a,R,d,T);a=d;
R=T}R.x=R.y=0;this.bE=a;this.bm=a.slice(0);this.BZ=R;this.$X()};c.GEfc.prototype.Svx=function(p){var a=p.data,R=a.Yo,Q=this.Gx.GEfs.v;
if(a.CE){Q[R].v.GELv.v=!Q[R].v.GELv.v;this.$X()}else this.IX=R;this.Pw()};c.GEfc.prototype.Pw=function(){var p=this.Gx.GEfs.v,a=p[this.IX].v,R=a.GEfk.v.GEft,Q=this.Ca.indexOf(R),t=this.Cw;
if(Q==-1){alert("Unsupported gallery filter");this.ih.Fv();V.Tl(t)}else{this.ih.a(Q);this.ih.XH();var N=this.ha[R];
N.a(a);if(t.firstChild!=N._){V.Tl(t);t.appendChild(N._)}}var K=[];for(var T=0;T<p.length;T++){var d=p[T].v,y=dS.names[d.GEfk.v.GEft],E=new YJ(T,!0,!1,null,y?y:"Filter",T==this.IX,d.GELv.v);
E.parent=this;K.push(E._)}V.Tl(this.CG);K.reverse();for(var T=0;T<K.length;T++)this.CG.appendChild(K[T]);
this.Jg(this.wC,this.Ae)};c.GEfc.prototype.l=function(){return JSON.parse(JSON.stringify(this.Gx))};
c.GEfc.prototype.$X=function(p){var a=this.BZ,R=this.bE,Q=this.bm,t=this.Ca[this.ih.l()],N=this.Gx,K=this.$F;
function T(d){return{D:d>>>16,X:d>>>8&255,N:d&255}}gw.pW("GEfc",{rect:this.BZ,buffer:this.bE},N,T(K.rc),T(K.eJ),{rect:this.BZ,buffer:this.bm},null);
this.view.a([{sE:a,data:Q.buffer}])};c.GEfc.prototype.b=function(){for(var p in this.ha)this.ha[p].b();
dr.Oy(this.Fq,["lrs/newlayer","lrs/bin"])};c.GEfc.Tk=function(p){gM.call(this);this.sZ=p;this._=V.P("div");
this.re={};var a=dS.gD(p);for(var R in a){var Q;if(R=="__name"||R=="classID"||R=="GEfk"||R=="GELv"||["LghI","FlRs"].indexOf(R)!=-1)continue;
else if(R=="Sz")Q=new gW([12,14,0],1,50);else if(R=="Dtl")Q=new gW("Detail",1,15);else if(R=="Shrp")Q=new gW("Sharpness",0,40);
else if(R=="BrsT")Q=new gu("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(R=="LghD")Q=new gu("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(R=="SDir")Q=new gu([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(R=="EdgW")Q=new gW("Edge Width",1,14);
else if(R=="EdgB")Q=new gW("Edge Brightness",0,20);else if(R=="Smth")Q=new gW([19,3,3],1,15);else if(R=="ClSz")Q=new gW([12,61],3,100);
else if(R=="BrdT")Q=new gW([7,9],1,20);else if(R=="HghS")Q=new gW([12,64],0,20);else if(R=="HlSz")Q=new gW([12,14,0],1,15);
else if(R=="Cntr")Q=new gW([12,3,0],0,50);else if(R=="ScrT")Q=new gu([12,62],["Circle","Dot",[10,35]]);
else if(R=="SprR")Q=new gW("Spray Radius",0,25);else if(R=="StrL")Q=new gW("Stroke Length",0,20);else console.log(R);
Q.h(V.E.k,this.YD,this);this.re[R]=Q;this._.appendChild(Q._)}};c.GEfc.Tk.prototype=new gM;c.GEfc.Tk.prototype.YD=function(p){this.Y(new $(V.E.k,!1))};
c.GEfc.Tk.prototype.a=function(p){for(var a in this.re){var R;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(a)!=-1)R=p[a].v;
else if(a=="BrsT")R=dS.SCH.indexOf(p[a].v[a]);else if(a=="LghD")R=dS.$w.indexOf(p[a].v[a]);else if(a=="ScrT")R=dS.$A.indexOf(p[a].v[a]);
else if(a=="SDir")R=dS.$D.indexOf(p[a].v.StrD);this.re[a].a(R)}};c.GEfc.Tk.prototype.l=function(){var p=dS.gD(this.sZ);
for(var a in this.re){var R=this.re[a].l();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(a)!=-1)p[a].v=R;
else if(a=="BrsT")p[a].v[a]=dS.SCH[R];else if(a=="LghD")p[a].v[a]=dS.$w[R];else if(a=="ScrT")p[a].v[a]=dS.$A[R];
else if(a=="SDir")p[a].v.StrD=dS.$D[R]}return p};c.GEfc.Tk.prototype.b=function(){for(var p in this.re)this.re[p].b()};
c.blnc=function(){c.call(this);var p=this._;this.Ga=null;this.JW=new gu([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.JW.h(V.E.k,this.$X,this);p.appendChild(this.JW._);this.E$=[];for(var a=0;a<3;a++){var R=new gW(gA.DA[a],-100,100);
R.h(V.E.k,this.HP,this);this.E$.push(R);p.appendChild(R._)}this.hw=new Sz([13,4]);this.hw.h(V.E.k,this.HP,this);
p.appendChild(this.hw._)};c.blnc.prototype=new c;c.blnc.prototype.b=function(){this.JW.b();for(var p=0;
p<3;p++)this.E$[p].b();this.hw.b()};c.blnc.prototype.a=function(p){this.Ga=JSON.parse(JSON.stringify(p));
this.$X()};c.blnc.prototype.l=function(p){var a=["ShdL","MdtL","HghL"],R=this.Ga[a[this.JW.l()]].v;for(var Q=0;
Q<3;Q++)R[Q].v=this.E$[Q].l();this.Ga.PrsL.v=this.hw.l();return JSON.parse(JSON.stringify(this.Ga))};
c.blnc.prototype.$X=function(p){var a=["ShdL","MdtL","HghL"],R=this.Ga[a[this.JW.l()]].v;for(var Q=0;
Q<3;Q++)this.E$[Q].a(R[Q].v);this.hw.a(this.Ga.PrsL.v)};c.brit=function(){c.call(this,"brit");this.vo.push(new gW([12,2],-150,150,""));
this.vo.push(new gW([12,3,0],-100,100,""));this.vo.push(new Sz([12,3,1]));this.rM()};c.brit.prototype=new c;
c.brit.prototype.dz=function(p,a){a[0]=p.Brgh?p.Brgh.v:0;a[1]=p.Cntr?p.Cntr.v:0;a[2]=p.useLegacy?p.useLegacy.v:!1};
c.brit.prototype.Sk=function(p,a){p.Brgh.v=a[0];p.Cntr.v=a[1];p.useLegacy.v=a[2]};c.curv=function(){c.call(this);
this.value=null;this.ix=null;var p=this._;this.Km=new gu([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Km.h(V.E.k,this.XN,this);p.appendChild(this.Km._);this.se=new gu(null,["Spline","Sketch"]);this.se.h(V.E.k,this.Svi,this);
p.appendChild(this.se._);this.Jx=new Sw;this.Jx.h(V.E.k,this.WI,this);p.appendChild(this.Jx._);this.hA=new Yk("Sample from image",["#000000","#888888","#ffffff"]);
p.appendChild(this.hA._)};c.curv.prototype=new c;c.curv.prototype.b=function(){this.Km.b()};c.curv.prototype.Svi=function(p){var a=dW.Vq(this.value,0),R=a.length==256?1:0,Q=this.se.l();
if(R==Q)return;var t=gw.gD("curv");if(Q==1){var N=[];for(var K=0;K<256;K++)N.push(K);dW.Gq(t,0,N)}this.a(t);
this.HP()};c.curv.prototype.WI=function(){dW.Gq(this.value,this.Km.l(),this.Jx.l());this.HP()};c.curv.prototype.XN=function(){var p=this.Km.l(),a=dW.Vq(this.value,p),R=a.length==256?1:0;
this.se.a(R);if(this.ix)this.Jx.ti(this.ix[p],this.ix[4]*[1,.33,.33,.33][p],["#ccc","#fcc","#cfc","#ccf"][p]);
this.Jx.a(a)};c.curv.prototype.Yg=function(){return!0};c.curv.prototype.Gz=function(p,a,R,Q,t){var N=this.value,K=this.hA.l();
this.value=gw.gD("curv");this.HP();var T=m.JT.NO(p,t,1),d=[T>>>16&255,T>>>8&255,T&255];for(var y=0;y<3;
y++){var E=dW.Vq(N,1+y);if(K==0)E[0].v.Hrzn.v=d[y];if(K==1){var k=(d[0]+d[1]+d[2])*.333,D=Math.log(d[y]/255)/Math.log(k/255),P=Math.min(999,Math.max(10,Math.round(100*D)));
if(E.length==2)E.splice(1,0,JSON.parse(JSON.stringify(E[0])));E[1].v.Hrzn.v=127-Math.log(P/100)*127;
E[1].v.Vrtc.v=127}if(K==2)E[E.length-1].v.Hrzn.v=d[y];dW.Gq(N,1+y,E)}this.a(N);this.HP()};c.curv.prototype.a=function(p){this.value=p;
this.XN()};c.curv.prototype.ti=function(p){this.ix=p;this.XN()};c.curv.prototype.l=function(p){return JSON.parse(JSON.stringify(this.value))};
c.expA=function(){c.call(this,"expA");this.vo.push(new gW([12,5],-20,20,null,3));this.vo.push(new gW([12,6],-.5,.5,null,3));
this.vo.push(new gW([12,7],.01,6.99,null,3));this.rM()};c.expA.prototype=new c;c.expA.prototype.dz=function(p,a){a[0]=p.Exps.v;
a[1]=p.Ofst.v;a[2]=p.gammaCorrection.v};c.expA.prototype.Sk=function(p,a){p.Exps.v=a[0];p.Ofst.v=a[1];
p.gammaCorrection.v=a[2]};c.grdm=function(){c.call(this,"grdm");this.vo.push(new Cu(!0,null,!0));this.vo.push(new Sz([12,23,0]));
this.rM()};c.grdm.prototype=new c;c.grdm.prototype.dz=function(p,a){a[0]=p.Grad.v;a[1]=p.Rvrs?p.Rvrs.v:!1};
c.grdm.prototype.Sk=function(p,a){p.Grad.v=a[0];p.Rvrs={t:"bool",v:a[1]}};c.grdm.prototype.JD=function(p,a){this.vo[0].Ul(p.rc,p.eJ);
if(a==gp.EP||a==gp.zc||a==gp.oq)this.vo[0].xT(p.Cm)};c.selc=function(){c.call(this);var p=this._;this.Lm=[];
this.Az=null;this.JW=new gu([12,82],gA.$a.concat([[13,1,8],[13,1,13],[13,1,10]]));this.JW.h(V.E.k,this.YD,this);
p.appendChild(this.JW._);for(var a=0;a<4;a++){var R=new gW(gA.SHd[a],-100,100,"%");R.h(V.E.k,this.YD,this);
this.Lm.push(R);p.appendChild(R._)}this.hD=new Sz([13,3]);p.appendChild(this.hD._);this.hD.h(V.E.k,this.YD,this)};
c.selc.prototype=new c;c.selc.prototype.b=function(){this.JW.b();this.hD.b();for(var p=0;p<4;p++)this.Lm[p].b()};
c.selc.prototype.a=function(p){this.Az=JSON.parse(JSON.stringify(p));this.$X()};c.selc.prototype.l=function(p){return JSON.parse(JSON.stringify(this.Az))};
c.selc.prototype.YD=function(p){if(p.target!=this.JW){var a=this.Az,R=[];for(var Q=0;Q<4;Q++)R[Q]=this.Lm[Q].l();
dJ.Gq(a,this.JW.l(),R);a.Mthd={t:"enum",v:{CrcM:this.hD.l()?"Absl":"Rltv"}}}this.$X();this.HP()};c.selc.prototype.$X=function(){var p=this.Az,a=dJ.Vq(p,this.JW.l());
for(var R=0;R<4;R++)this.Lm[R].a(a[R]);this.hD.a(p.Mthd?p.Mthd.v.CrcM=="Absl":!1)};c.blwh=function(){c.call(this,"blwh");
this.vo.push(new Sz([12,11]));this.vo.push(new Sv(!0));for(var p=0;p<6;p++)this.vo.push(new gW(gA.$a[p],-200,300));
this.rM()};c.blwh.prototype=new c;c.blwh.prototype.dz=function(p,a){a[0]=p.useTint.v;a[1]=p.tintColor.v;
var R="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Q=0;Q<6;Q++)a[2+Q]=p[R[Q]].v};c.blwh.prototype.Sk=function(p,a){p.useTint.v=a[0];
p.tintColor.v=a[1];var R="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Q=0;Q<6;Q++)p[R[Q]].v=a[2+Q]};
c.hue2=function(){c.call(this);this.value=null;this.ty=null;this.SiJ=null;var p=this._;this.JW=new gu([12,12],["Master"].concat(gA.$a));
this.JW.h(V.E.k,this.XN,this);p.appendChild(this.JW._);this.AL=new gW([12,8],-180,180);this.AL.h(V.E.k,this.Pj,this);
p.appendChild(this.AL._);this.Hg=new gW([12,9],-100,100);this.Hg.h(V.E.k,this.Pj,this);p.appendChild(this.Hg._);
this.hG=new gW([12,10],-100,100);this.hG.h(V.E.k,this.Pj,this);p.appendChild(this.hG._);this.hE=new Sz([12,11]);
this.hE.h(V.E.k,this.Svj,this);p.appendChild(this.hE._);this.SiG=new Ky("...",!0);p.appendChild(this.SiG._)};
c.hue2.prototype=new c;c.hue2.prototype.b=function(){this.AL.b();this.Hg.b();this.hG.b();this.hE.b();
this.JW.b()};c.hue2.prototype.Svj=function(p){var a=this.hE.l();this.value.Clrz.v=a;if(a)this.JW.a(0);
this.XN();this.HP()};c.hue2.prototype.Pj=function(p){var a=this.value.Clrz.v,R=this.JW.l(),Q=Sj.Vq(this.value,R),t=R==0?Q:Q.E$;
t[0]=this.AL.l();var N=this.Hg.l();t[1]=a?Math.max(0,N):N;t[2]=this.hG.l();Sj.Gq(this.value,R,Q);this.XN();
this.HP()};c.hue2.prototype.XN=function(){var p=this.value.Clrz?this.value.Clrz.v:!1,t="";this.hE.a(p);
if(p)this.JW.Fv();else this.JW.XH();var a=this.JW.l(),R=Sj.Vq(this.value,a),Q=a==0?R:R.E$;this.AL.a(Q[0]);
this.Hg.a(Q[1]);this.hG.a(Q[2]);if(!p){t+=gL.get([5,8])+": ";var a=this.JW.l();if(a==0)t+=gL.get([13,2]);
else t+=R.yj}this.SiG.a(t)};c.hue2.prototype.Yg=function(){return!0};c.hue2.prototype.JI=function(p,a,R,Q,t){var N=this.value;
this.value=gw.gD("hue2");this.HP();var K=m.JT.NO(p,t,1),T=[K>>>16&255,K>>>8&255,K&255],d=S.Xa(T[0]/255,T[1]/255,T[2]/255);
this.JW.a(1+Math.round(d.hZ*6)%6);this.a(N);this.HP();this.ty=t.x;this.SiJ=this.Hg.l()};c.hue2.prototype.r$=function(p,a,R,Q,t){if(this.ty!=null){var N=t.x-this.ty;
N=Math.max(-100,Math.min(100,this.SiJ+.5*N));this.Hg.a(N);this.Pj()}};c.hue2.prototype.Gz=function(p,a,R,Q,t){this.ty=null};
c.hue2.prototype.a=function(p){this.value=JSON.parse(JSON.stringify(p));this.XN()};c.hue2.prototype.l=function(p){return JSON.parse(JSON.stringify(this.value))};
c.levl=function(){c.call(this);this.value=null;this.ix=null;this.zy=[new X(0,0),new X(0,0),new X(0,0),new X(0,0),new X(0,0)];
this.eB=-1;this.ta=this.LQ.bind(this);this.tG=this.pY.bind(this);var p=this._;this.Km=new gu([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Km.h(V.E.k,this.XN,this);p.appendChild(this.Km._);var a=V.P("div","");p.appendChild(a);var R=V.P("div","");
p.appendChild(R);this.hH=V.P("canvas");a.appendChild(this.hH);this.eY=this.hH.getContext("2d");this._S=new X(256,120);
this.hH.setAttribute("style","display:block");V.LU(this.hH,this._S.x,this._S.y,this.eY);V.gI(this.hH);
V.xb(this.hH,this.Nk.bind(this));this.YA=V.P("canvas","");R.appendChild(this.YA);this.sp=this.YA.getContext("2d");
this.Cj=new X(this._S.x,40);this.YA.setAttribute("style","display:block");V.LU(this.YA,this.Cj.x,this.Cj.y,this.sp);
V.gI(this.YA);V.xb(this.YA,this.SJI.bind(this));var Q=this.Si_=[];for(var t=0;t<5;t++){var N=new KH(null,null,3);
Q.push(N);N.h(V.E.k,this.SJp,this);(t<2||t==4?a:R).appendChild(N._)}a.appendChild(Q[1]._);Q[4]._.setAttribute("style","margin: 0 4.7em");
Q[3]._.setAttribute("style","margin:0 0 0 13em");this.hA=new Yk("Sample from image",["#000000","#888888","#ffffff"]);
p.appendChild(this.hA._)};c.levl.prototype=new c;c.levl.prototype.b=function(){this.Km.b()};c.levl.prototype.SJp=function(p){var a=[];
for(var R=0;R<5;R++){var Q=255,t=1;if(R==4){Q=999;t=100}var N=parseFloat(this.Si_[R].l());a[R]=Math.max(0,Math.min(Q,N*t))}dO.Gq(this.value,this.Km.l(),a);
this.XN();this.HP()};c.levl.prototype.XN=function(p){var a=this._S.x,R=this._S.y,Q=this.Km.l(),t=this.eY;
t.clearRect(0,0,a,R);t.fillStyle="#cccccc";t.fillRect(8,8,a-16,R-16-8);if(this.ix){if(Q==0){S.set(this.ix[0],0);
var N=JSON.parse(JSON.stringify(this.value));dO.Gq(N,0,[0,255,0,255,100]);var K=gA.Sm("levl",N),T=[K.LH,K.kG,K.Hr];
for(var d=0;d<3;d++){var y=this.ix[1+d],E=T[d];for(var k=0;k<256;k++)this.ix[0][E[k]]+=y[k]}}var D=this.ix[Q],P=0;
for(var k=0;k<D.length;k++)P+=D[k];t.fillStyle="#333333";t.beginPath();t.moveTo(8,R-16);for(var k=0;
k<256;k++){var e=55*D[k]/P;t.lineTo(8+k/256*(a-16),Math.max(8,R-16-R*e))}t.lineTo(a-8,R-16);t.closePath();
t.fill()}var Y=dO.Vq(this.value,Q);for(var k=0;k<5;k++)this.Si_[k].a(Y[k]/(k==4?100:1));this.zy[0].YY(8+Y[0]/255*(a-16),R-14);
this.zy[1].YY(8+Y[1]/255*(a-16),R-14);var O=Math.log(Y[4]/100)/Math.log(9.99);O=.5-O/2;this.zy[4].YY(this.zy[0].x+O*(this.zy[1].x-this.zy[0].x),R-14);
this.eN(t,this.zy[0],"#000000");this.eN(t,this.zy[1],"#ffffff");this.eN(t,this.zy[4],"#777777");var a=this.Cj.x,R=this.Cj.y;
t=this.sp;t.clearRect(0,0,a,R);var W=t.createLinearGradient(0,0,a-16,0);W.addColorStop(0,"black");W.addColorStop(1,"white");
t.fillStyle=W;t.fillRect(8,8,a-16,16);this.zy[2].YY(8+Y[2]/255*(a-16),R-14);this.zy[3].YY(8+Y[3]/255*(a-16),R-14);
this.eN(t,this.zy[2],"#000000");this.eN(t,this.zy[3],"#ffffff")};c.levl.prototype.eN=function(p,a,R){p.fillStyle=R;
p.fillRect(a.x-5,a.y,10,10)};c.levl.prototype.Nk=function(p){var a=V.ma(p,this.hH);for(var R=0;R<2;R++)if(X.Hz(this.zy[R],a)<10)this.eB=R;
if(X.Hz(this.zy[4],a)<10)this.eB=4;this.SsU()};c.levl.prototype.SJI=function(p){var a=V.ma(p,this.YA);
for(var R=2;R<4;R++)if(X.Hz(this.zy[R],a)<10)this.eB=R;this.SsU()};c.levl.prototype.SsU=function(p){if(this.eB==-1)return;
V.EU(document.body,this.ta);V.Eb(document.body,this.tG)};c.levl.prototype.LQ=function(p){var a=dO.Vq(this.value,this.Km.l()),R=V.ma(p,this.eB==2&&this.eB==3?this.YA:this.hH),Q=255*(R.x-8)/(this._S.x-16);
Q=Math.max(0,Math.min(255,Q));if(this.eB==0)Q=Math.min(Q,a[1]-2);if(this.eB==1)Q=Math.max(Q,a[0]+2);
if(this.eB!=4)a[this.eB]=Math.round(Q);else{var t=(Q-a[0])/(a[1]-a[0]);t=1-2*t;t=Math.pow(9.99,t);a[4]=Math.min(999,Math.max(10,Math.round(t*100)))}dO.Gq(this.value,this.Km.l(),a);
this.XN();this.HP()};c.levl.prototype.pY=function(p){V._j(document.body,this.ta);V.n$(document.body,this.tG);
this.eB=-1};c.levl.prototype.Yg=function(){return!0};c.levl.prototype.Gz=function(p,a,R,Q,t){var N=this.value,K=this.hA.l();
this.value=gw.gD("levl");this.HP();var T=m.JT.NO(p,t,1),d=[T>>>16&255,T>>>8&255,T&255];for(var y=0;y<3;
y++){var E=dO.Vq(N,1+y);if(K==0)E[0]=d[y];if(K==1){var k=Math.log(d[y]/255)/Math.log((d[0]+d[1]+d[2])*.333/255);
E[4]=Math.min(999,Math.max(10,Math.round(100*k)))}if(K==2)E[1]=d[y];dO.Gq(N,1+y,E)}this.a(N);this.HP()};
c.levl.prototype.a=function(p){this.value=p;this.XN()};c.levl.prototype.ti=function(p){this.ix=p;this.XN()};
c.levl.prototype.l=function(p){return JSON.parse(JSON.stringify(this.value))};c.phfl=function(){c.call(this,"phfl");
this.vo.push(new Sv);this.vo.push(new gW([12,74],0,100,"%"));this.vo.push(new Sz([13,4]));this.rM()};
c.phfl.prototype=new c;c.phfl.prototype.dz=function(p,a){a[0]=p.Clr.v;a[1]=p.Dnst.v;a[2]=p.PrsL.v};c.phfl.prototype.Sk=function(p,a){var R=S.e.gc(a[0]),Q=p.Clr.v,t=S.wk(R.D,R.X,R.N);
Q.Lmnc.v=t.Oe;Q.A.v=t.Eu;Q.B.v=t.N;p.Dnst.v=a[1];p.PrsL.v=a[2]};c.vibA=function(){c.call(this,"vibA");
this.vo.push(new gW([12,13],-100,100,null));this.vo.push(new gW([12,9],-100,100,null));this.rM()};c.vibA.prototype=new c;
c.vibA.prototype.dz=function(p,a){a[0]=p.vibrance?p.vibrance.v:0;a[1]=p.Strt?p.Strt.v:0};c.vibA.prototype.Sk=function(p,a){p.vibrance.v=a[0];
p.Strt.v=a[1]};c.thrs=function(){c.call(this,"thrs");this.vo.push(new gW([4,13],1,255,null));this.rM()};
c.thrs.prototype=new c;c.thrs.prototype.dz=function(p,a){a[0]=p.Lvl.v};c.thrs.prototype.Sk=function(p,a){p.Lvl.v=a[0]};
c.mixr=function(){c.call(this);var p=this._;this.Lm=[];this.Az=null;this.JW=new gu([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.JW.h(V.E.k,this.YD,this);p.appendChild(this.JW._);V.zp(p);this.yW=new Sz([12,60]);p.appendChild(this.yW._);
this.yW.h(V.E.k,this.YD,this);for(var a=0;a<4;a++){var R=new gW([[13,1,1],[13,1,4],[13,1,5],[13,2]][a],-200,200,"%");
R.h(V.E.k,this.YD,this);this.Lm.push(R);p.appendChild(R._)}};c.mixr.prototype=new c;c.mixr.prototype.b=function(){this.JW.b();
this.yW.b();for(var p=0;p<4;p++)this.Lm[p].b()};c.mixr.prototype.a=function(p){this.Az=JSON.parse(JSON.stringify(p));
this.$X()};c.mixr.prototype.l=function(p){return JSON.parse(JSON.stringify(this.Az))};c.mixr.prototype.YD=function(p){if(p.target!=this.JW){var a=gA.DV(this.Az);
if(p.target==this.yW){a.yW=this.yW.l();if(a.yW)a.Z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else a.Z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var R=(a.yW?0:this.JW.l())*5,Q=this.Lm.indexOf(p.target);
a.Z[R+(Q<3?Q:4)]=p.target.l()}this.Az=gA.SHB(a)}this.$X();this.HP()};c.mixr.prototype.$X=function(){var p=gA.DV(this.Az);
this.yW.a(p.yW);var a=(p.yW?0:this.JW.l())*5;for(var R=0;R<4;R++)this.Lm[R].a(p.Z[a+(R<3?R:4)])};c.post=function(){c.call(this,"post");
this.vo.push(new gW([4,1],2,255,null));this.rM()};c.post.prototype=new c;c.post.prototype.dz=function(p,a){a[0]=p.Lvls.v};
c.post.prototype.Sk=function(p,a){p.Lvls.v=a[0]};c.clrL=function(){c.call(this,"clrL");this.vo.push(new ph("LUTs"));
this.rM()};c.clrL.prototype=new c;c.clrL.prototype.dz=function(p,a){a[0]=p};c.clrL.prototype.Sk=function(p,a){var R=a[0];
for(var Q in R)p[Q]=R[Q]};c.clrL.prototype.JD=function(p,a){if(a==gp.EP||a==gp.Sx)this.vo[0].xT(p.Syl)};
c.rplc=function(){c.call(this,"rplc");this.vo.push(new gW([12,92],0,200));this.vo.push(new Sv);this.vo.push(new gW([12,8],-180,180));
this.vo.push(new gW([12,9],-100,100));this.vo.push(new gW([12,10],-100,100));this.rM()};c.rplc.prototype=new c;
c.rplc.prototype.dz=function(p,a){a[0]=p.Fzns.v;a[1]=p.Mxm.v;a[2]=p.H.v;a[3]=p.Strt.v;a[4]=p.Lght.v};
c.rplc.prototype.Sk=function(p,a){function R(t,N){N.Lmnc.v=t.Oe;N.A.v=t.Eu;N.B.v=t.N}p.Fzns.v=a[0];p.H.v=a[2];
p.Strt.v=a[3];p.Lght.v=a[4];var Q=S.e.gc(a[1]),t=S.wk(Q.D,Q.X,Q.N);R(t,p.Mnm.v);R(t,p.Mxm.v)};c.fade=function(){c.call(this,"fade");
this.vo.push(new gW([12,0],0,100,"%"));this.vo.push(new gu([12,19,0],gE.ih,!1,gE.iK));this.rM()};c.fade.prototype=new c;
c.fade.prototype.dz=function(p,a){a[0]=p.Opct.v.val;a[1]=gE.$Z.indexOf(p.Md.v.BlnM)};c.fade.prototype.Sk=function(p,a){p.Opct.v.val=a[0];
p.Md.v.BlnM=gE.$Z[a[1]]};function gt(p,a){gM.call(this);if(p==null)return;this.id=a;this.gN=p;this.bd=null;
this._=V.P("div","window "+a);this.zg=V.P("div","whead");this.SyR=V.P("span","wname");this.zg.appendChild(this.SyR);
this._.appendChild(this.zg);this.HZ=this.SJh.bind(this);this.pf=this.SJT.bind(this);this.pq=this.SJb.bind(this);
V.gI(this.zg);V.xb(this.zg,this.HZ);this.bY=V.P("span","cross");this.zg.appendChild(this.bY);gt.prototype.b.call(this);
V.Eb(this.bY,this.SsD.bind(this));this.body=V.P("div","body");this._.appendChild(this.body)}gt.prototype=new gM;
gt.prototype.AM=function(){return!1};gt.prototype.Yg=function(){return!1};gt.prototype.b=function(){if(this.gN==null)return;
this.SyR.textContent=gL.get(this.gN);var p=PIMG.__cross==null?"filter:invert(1);":"";this.bY.setAttribute("style","background-image:url("+PIMG.cross+");"+p)};
gt.prototype.JI=function(p,a,R,Q,t){};gt.prototype.Tb=function(p,a,R,Q,t){};gt.prototype.r$=function(p,a,R,Q,t){};
gt.prototype.Gz=function(p,a,R,Q,t){};gt.prototype.SK=function(p,a,R,Q,t){};gt.prototype.Qb=function(p,a,R,Q){if(Q.g(n.eL)&&this.xs)this.xs()};
gt.prototype.Gk=function(p){return!1};gt.prototype.Pn=function(p,a){return!0};gt.prototype.FU=function(p,a,R,Q){};
gt.prototype.JD=function(p,a){};gt.prototype.sJ=function(){return!1};gt.prototype.VC=function(p,a){return p<450||a<450?new X(0,0):new X(150,150)};
gt.prototype.Jg=function(){};gt.prototype.close=function(){this.Y(new $(V.E.Nz))};gt.prototype.SJh=function(p){this.bd=V.ma(p,this._);
V.EU(window,this.pf);V.Eb(window,this.pq)};gt.prototype.SJT=function(p){var a=this._.parentNode,R=V.ma(p,a);
this._.style.left=Math.round(R.x-this.bd.x)+"px";this._.style.top=a.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(R.y-this.bd.y)))+"px"};
gt.prototype.SJb=function(p){V._j(window,this.pf);V.n$(window,this.pq)};gt.prototype.SsD=function(p){this.Y(new $("closebtn"));
this.close()};function SI(){gt.call(this,[0,13,0],"account");this.jJ=V.P("div","form padded scrollable");
this.jJ.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.jJ);this._C=[new SI.dh,new SI.eR(SI.SZy),new SI.eR(SI.SZx)];
for(var p=0;p<this._C.length;p++)this._C[p].parent=this;this.h("showpage",this.StK,this)}SI.prototype=new gt;
SI.prototype.StK=function(p){V.Tl(this.jJ);this.jJ.scrollTop=0;this.jJ.appendChild(this._C[p.data.Yo]._)};
SI.prototype.b=function(){gt.prototype.b.call(this);for(var p=0;p<this._C.length;p++)this._C[p].b()};
SI.prototype.FU=function(p,a,R){V.Tl(this.jJ);var Q=this._C[0];this.jJ.appendChild(Q._);Q.FU();this.b()};
SI.prototype.JD=function(p,a){this.FU(null,null,null)};SI.dh=function(){gM.call(this);this._=V.P("div");
var p=this._,a,R,Q="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.Lb=V.P("div");p.appendChild(this.Lb);this.gp=new gi([0,11],!1,null,!0);this.gp._.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.gp.h("click",this.ru,this);p.appendChild(this.gp._);this.bf=new gi([0,13,1],!1,null,!0);this.bf.h("click",this.SeJ,this);
p.appendChild(this.bf._);this.SyI=new gi("Contact",!1,null,!0);this.SyI.h("click",this.SZK,this);a=V.P("h2","");
a.innerHTML="Account types";p.appendChild(a);R=V.P("table","");R.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
p.appendChild(R);var t=this.SdV=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.QG=[];for(var N=0;N<t.length;N++)this.QG.push(new gi("Buy: $"+t[N][0],!1,null,!0));for(var N=0;
N<this.QG.length;N++){this.QG[N]._.setAttribute("style",Q);this.QG[N].h("click",this.SZL,this)}a=V.P("h2","");
a.innerHTML="Go Premium";p.appendChild(a);this.gY=new gi("...",!0);this.gY._.setAttribute("style",Q);
p.appendChild(this.gY._);R=this.SLl(3,["Single user",this.QG[0],this.QG[1],this.QG[2],"Team of 5",this.QG[3],this.QG[4],this.QG[5],"Team of 20",this.QG[6],this.QG[7],this.QG[8]]);
p.appendChild(R);this.SyJ=new Sz("I accept",!0,"");p.appendChild(this.SyJ._);this.bq=new gi([0,13,1],!1,null,!0);
this.bq.h("click",this.SeJ,this);p.appendChild(this.bq._);a=V.P("h2","");a.textContent="Team Settings";
p.appendChild(a);this.Hh=new Sz("Join a team");p.appendChild(this.Hh._);this.Hh.h(V.E.k,this.SLr,this);
this.ge=new KH("Email of a leader",null,14);p.appendChild(this.ge._);V.zp(p);this.hb=new Sz("Start a team");
p.appendChild(this.hb._);this.hb.h(V.E.k,this.SLr,this);var K=new Ky("Emails of other members:");p.appendChild(K._);
V.zp(p);this.WF=V.P("textarea");this.WF.setAttribute("rows",3);this.WF.setAttribute("cols",70);this.WF.setAttribute("style","display:block;tab-size:4;");
p.appendChild(this.WF);var T=new gi("Save Team Settings",!1,null,!0);p.appendChild(T._);T.h("click",this.SZC,this);
var d=this.Sdb=new gi("More about Teams",!1,null,!0);p.appendChild(d._);d.h("click",this.SHE,this);a=V.P("h2","");
a.innerHTML="Distributor Account";p.appendChild(a);this.gf=new gi("...",!0);this.gf._.setAttribute("style",Q);
p.appendChild(this.gf._);R=this.SLl(3,["1000 views/month",this.QG[9],this.QG[10],this.QG[11],"5000 views/month",this.QG[12],this.QG[13],this.QG[14],"20000 views/month",this.QG[15],this.QG[16],this.QG[17]]);
p.appendChild(R);this.gz=new KH("Domain name (e.g. domain.com)",null,14);p.appendChild(this.gz._);V.zp(p);
var T=new gi("Save Domain Settings",!1,null,!0);T.FX();p.appendChild(T._);T.h("click",this.SZg,this);
var d=new gi("More about Distributors",!1,null,!0);p.appendChild(d._);d.h("click",this.SHE,this)};SI.dh.prototype=new gM;
SI.dh.prototype.SeJ=function(p){var a=new $("showpage",!0);a.data={Yo:1};this.Y(a)};SI.dh.prototype.SZK=function(p){var a=new $("showpage",!0);
a.data={Yo:2};this.Y(a)};SI.dh.prototype.b=function(){this.gp.EX(gU.aG()?gL.get([0,11]):gL.get([0,10]));
this.bq.b();this.bf.b();this.SyI.b()};SI.dh.prototype.SHE=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.Jb,link:"https://www.photopea.com/api/accounts#"+(p.target==this.Sdb?"teams":"distributors")};
this.Y(a)};SI.dh.prototype.SLr=function(p){var a=p.currentTarget==this.Hh;this.Hh.a(a);this.hb.a(!a)};
SI.dh.prototype.SZC=function(p){var a=this.Hh.l(),R=this.ge.l().trim(),Q=this.WF.value.trim();if(R.length>60){alert("Too long email address");
return}if(Q.length>600){alert("Too many team members");return}Q=Q.split(",").join(" ").trim();Q=Q.replace(/\s+/g," ");
if(Q=="")Q=[];else Q=Q.split(" ");var t=gU.$s();if(t==null)t={};if(t.acc==null)t.acc={};t.acc.team={jin:a,ldr:R,mmb:Q};
gU.lS(t,this.We.bind(this));alert("Saved!");this.FU()};SI.dh.prototype.SZg=function(p){var a=this.gz.l().trim();
if(a.length==0){alert("Domain is empty.");return}if(!gU.aG()){alert("You have to log in first.");return}if(gU.wR().distrib=="0"){alert("Order a distributor account first.");
return}var R=gU.$s();if(R==null)R={};if(R.acc==null)R.acc={};R.acc.dname=a;gU.lS(R,this.We.bind(this));
alert("Saved!");this.FU()};SI.dh.prototype.FU=function(){if(gU.aG()){var p=gU.wR();if(p==null)return;
this.Lb.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+p.name+"</span> "+p.email+" <br/>"}else this.Lb.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var a=gU.aG()&&gU.XB();this.gY._.style.display=a?"block":"none";if(a){var R=parseInt(p[V.uJ("!&|'&50")])-Date.now()*(1/1e3),Q=parseInt(p.ptype),t;
if(Q==-1)t="member of a team";else if(Q==1)t="Single user";else t="Team of "+Q;this.gY.EX("Premium active for "+Math.round(R/(60*60*24))+" more days! ("+t+")")}var N=gU.aG()&&p.distrib*1e3>Date.now();
this.gf._.style.display=N?"block":"none";if(N){var R=parseInt(p.distrib)-Date.now()/1e3,Q=parseInt(p.ptype);
this.gf.EX("Distributor active for "+Math.round(R/(60*60*24))+" more days! ("+Q+" visitos)")}var K=gU.$s();
if(K&&K.acc&&K.acc.team){var T=K.acc.team;this.Hh.a(T.jin);this.hb.a(!T.jin);this.ge.a(T.ldr);this.WF.value=T.mmb.join(", ")}else{this.Hh.a(!0);
this.hb.a(!1);this.ge.a("");this.WF.value=""}if(K&&K.acc&&K.acc.dname)this.gz.a(K.acc.dname);else this.gz.a("")};
SI.dh.prototype.SLl=function(p,a){var R=V.P("table");R.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(p==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var Q=0;Q<a.length;Q+=p+1){var t=V.P("tr"),N;R.appendChild(t);N=V.P("td","left");t.appendChild(N);
N.innerHTML="<b>"+a[Q]+"</b>";for(var K=0;K<p;K++){N=V.P("td");t.appendChild(N);N.appendChild(a[Q+1+K]._)}}return R};
SI.dh.prototype.SZL=function(p){var a=this.QG.indexOf(p.currentTarget);if(!gU.aG()){alert("You must log in before buying Premium");
return}if(this.SyJ.l()==!1&&a<9){alert("You must accept Terms of Service");return}var R=this.SdV[a],Q=R[1],t=R[2],N=gU.aG()&&gU.XB();
if(N&&t<1e3){alert("You already have premium.");return}gU.order(Q,t,this.We.bind(this));this.W$()};SI.dh.prototype.We=function(p){if(gU.aG()&&gU.wR().msg)alert(gU.wR().msg);
this.FU();this.W$()};SI.dh.prototype.ru=function(p){if(gU.aG()){gU.SK$();this.W$();this.FU(null,null,null)}else gU.ru(this.SZB.bind(this))};
SI.dh.prototype.SZB=function(){var p=new $(V.E.v,!0);p.data={K:V.H.Sdn};this.Y(p)};SI.dh.prototype.W$=function(){var p=new $(V.E.v,!0);
p.data={K:V.H.SRo};this.Y(p)};SI.eR=function(p){gM.call(this);this._=V.P("div");var a=this._,R=this.Sdk=new gi([0,13,2],!1,null,!0);
R.h("click",this.SZh,this);a.appendChild(R._);var Q=V.P("div","");Q.innerHTML=p;a.appendChild(Q)};SI.eR.prototype=new gM;
SI.eR.prototype.SZh=function(p){var a=new $("showpage",!0);a.data={Yo:0};this.Y(a)};SI.eR.prototype.b=function(){this.Sdk.b()};
SI.SZx="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
SI.SZy="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function pp(){gt.call(this,[11,14],"addguides");this.zV;this.$F={QR:{tc:0}};this.bx=null;var p=V.P("div","form");
this.body.appendChild(p);this.Ik=new KH([22,4,0],null,16);this.Ik.h(V.E.k,this.aa,this);this.h_=new KH([22,4,1],null,16);
this.h_.h(V.E.k,this.aa,this);this._f=new gu(null,S.EH.dD);this._f.h(V.E.k,this.aa,this);p.appendChild(this.Ik._);
p.appendChild(this._f._);V.zp(p);p.appendChild(this.h_._);this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);
p.appendChild(this.JN._);this.h("closebtn",this.SZW,this)}pp.prototype=new gt;pp.prototype.Pn=function(p,a){return p!=null};
pp.prototype.AM=function(){return!0};pp.prototype.b=function(){gt.prototype.b.call(this);this.Ik.b();
this.h_.b();this._f.b()};pp.prototype.JD=function(p,a){var R=p.QR.tc;this.$F.QR.tc=R;this._f.a(R)};pp.prototype.FU=function(p,a){this.zV=p;
this.bx=JSON.stringify(p.zk);this.Io()};pp.prototype.Io=function(){var p=this.zV,a=p.zk,R=function(Q,p,t,N){var K=[];
for(var T=0;T<Q.length;T++)K.push(S.EH.be(Q[T],p.po,t,N));return K.join(", ")};this.Ik.a(R(a[1],p,this.$F,p.T));
this.h_.a(R(a[0],p,this.$F,p.C))};pp.prototype.aa=function(p){if(p&&p.currentTarget==this._f)this.$F.QR.tc=this._f.l();
else{var a=this.SBU(this.Ik),R=this.SBU(this.h_),Q=this.zV;Q.zk=[R,a];Q.$h=!0}this.Io()};pp.prototype.SBU=function(p){var a=p==this.Ik?this.zV.T:this.zV.C,R=p.l().replace(/,/g," ").replace(/  +/g," ").trim(),Q=R==""?[]:R.split(" ");
for(var t=0;t<Q.length;t++)Q[t]=S.EH.Sit(Q[t],this.zV.po,this.$F,a);return Q};pp.prototype.SZW=function(p){var a=this.zV;
a.zk=JSON.parse(this.bx);a.$h=!0;this.zV=null};pp.prototype.xs=function(p){this.aa(p);var a=new $(V.E.W,!0);
a.Q=m.Tx;a.data={K:"gids",ee:JSON.parse(this.bx),Qk:JSON.parse(JSON.stringify(this.zV.zk))};this.zV=null;
this.close();this.Y(a)};function pv(p){var a=gw.names[p];if(a==null)a=gA.names[p];if(p=="fade")a=[2,11];
gt.call(this,a,"afw_"+p);this.CY=p;this.zW=null;this.by=null;this.Jx=new c[p];this.Jx.h(V.E.k,this.HP,this);
this.Jx.parent=this;this.body.appendChild(this.Jx._);this.WQ=new Sz([24,18,5]);this.WQ.a(!0);this.WQ.h(V.E.k,this.HP,this);
this.SoI=new gi("Reset",!0,null,!0);this.SoI.h("click",this.Ij,this);this.JN=new gi("OK",!0,null,!0);
this.JN.h("click",this.xs,this);if(this.Jx.sJ())this.Jx.Uv(this.JN._);else{V.ey(this.Jx._,"form");V.ey(this.body,"flexrow");
this.Jx._.setAttribute("style","width:24em");var R=V.P("div");this.body.appendChild(R);R.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
R.appendChild(this.JN._);R.appendChild(this.SoI._);R.appendChild(this.WQ._)}this.h("closebtn",this.VT,this)}pv.prototype=new gt;
pv.prototype.AM=function(){return!0};pv.prototype.sJ=function(){return this.Jx!=null&&this.Jx.sJ()};
pv.prototype.VC=function(){return this.Jx.sJ()?new X(0,0):gt.prototype.VC()};pv.prototype.Yg=function(){return this.Jx.Yg()};
pv.prototype.JI=function(p,a,R,Q,t){this.Jx.JI(p,a,R,Q,t)};pv.prototype.r$=function(p,a,R,Q,t){this.Jx.r$(p,a,R,Q,t)};
pv.prototype.Gz=function(p,a,R,Q,t){this.Jx.Gz(p,a,R,Q,t)};pv.prototype.Pn=function(p,a){if(this.CY=="fade")return pv.S$Q(p);
return!0};pv.prototype.Ij=function(p){this.Jx.a(gw.gD(this.CY));this.HP()};pv.prototype.HP=function(p){this.mw({K:"edit",Lr:this.Jx.l(),uS:!this.WQ.l()})};
pv.prototype.VT=function(p){this.mw({K:"cancel"})};pv.prototype.xs=function(p){if(!this.WQ.l()){this.WQ.a(!0);
this.HP()}this.by=this.Jx.l();if(this.sJ())this.HP();this.mw({K:"confirm"});this.close()};pv.prototype.b=function(){gt.prototype.b.call(this);
this.WQ.b();if(this.Jx)this.Jx.b()};pv.prototype.JD=function(p,a){if(this.Jx)this.Jx.JD(p,a)};pv.prototype.Qb=function(p,a,R,Q){if(this.Jx&&this.Jx.sJ())this.Jx.Qb(Q);
else gt.prototype.Qb.call(this,p,a,R,Q)};pv.prototype.FU=function(p,a,R,Q){this.zW=a.zW;var t=p.add.lnk2?p.add.lnk2:[],N,K,T=new x(0,0,p.C,p.T),d=p.M[p.V[0]],y=null;
N=d.buffer;K=d.rect;if(this.sJ())y=p.iD(p.V[0]-1);var E=gw.gD(this.CY),k=[t,p.Mn];if(a.zW==null){this.Jx.a(E,N,K,T,y,k);
if(gA.names[this.CY]){if(Q.g(n.LG)&&this.by)this.Jx.a(this.by);var D=gf.GI.getData(p),P=S.MW(D[0].UJ);
this.Jx.ti(P)}}else{var e=!1,d=p.M[this.zW.w];if(d.kF()){var Y=d.iW(p);N=Y.buffer;K=Y.rect;var O=d.add.SoLd.filterFX.v.filterFXList.v;
if(O[this.zW.index]){var W=O[this.zW.index].v.Fltr.v;this.Jx.a(W,N,K,T,y,k);e=!0}}if(!e)this.Jx.a(E,N,K,T,y,k)}if(!this.sJ())this.HP()};
pv.prototype.mw=function(p){var a=new $(V.E.W,!0);p.CY=this.CY;p.zW=this.zW;a.data=p;a.Q=gw.names[this.CY]||this.zW?m.tQ:m.Sb;
a.LB=!0;this.Y(a)};pv.prototype.Jg=function(p,a){a=a-26;p=p-26;this.Jx.Jg(p,a)};pv.S$Q=function(p){if(p==null)return!1;
var a=p.Lx();if(a==null||!(a.data instanceof Array)||a.data.length!=p.V.length)return!1;for(var R=0;
R<a.data.length;R++){var Q=a.data[R];if(Q.w<0&&p.Mn[-1-Q.w])return!0;if(Q.w==null||p.M[Q.w]==null||p.M[Q.w].FE!=Q.tF)return!1;
if(p.V.indexOf(Q.w)==-1)return!1}return!0};function pf(){gt.call(this,[11,0],"camera");this.data=null;
this.bo=new X(1,1);this.Soj=[];var p=V.P("div","form hbar");this.body.appendChild(p);this.Sxe=new gu(null,[]);
this.bW=new gu([21,0],[[21,2],[21,1]]);p.appendChild(this.bW._);this.xS=new gu(null,[]);this.xS.h(V.E.k,this.SME,this);
p.appendChild(this.xS._);this.bv=new gi([11,0],!1,null,!0);this.bv.h("click",this.SZv,this);p.appendChild(this.bv._);
this.bJ=new Ky("");p.appendChild(this.bJ._);this.stream=null;this.HC=V.P("video","");this.HC.setAttribute("autoplay","true");
this.body.appendChild(this.HC);this.SUJ=this.SZE.bind(this);this.SWT=this.SZm.bind(this);this.SCf=this.ShL.bind(this);
this.h("closebtn",this.Sid,this)}pf.prototype=new gt;pf.prototype.b=function(){gt.prototype.b.call(this);
this.bW.b();this.bv.b();this.ShL()};pf.prototype.iD=function(){var p=this.HC.videoWidth,a=this.HC.videoHeight,R=V.P("canvas","");
R.width=p;R.height=a;var Q=R.getContext("2d");Q.drawImage(this.HC,0,0,p,a);var t=Q.getImageData(0,0,p,a);
return{sE:new x(0,0,p,a),data:t.data.buffer}};pf.prototype.SZv=function(p){if(this.bW.l()==0)this.SZT();
else this.SZt()};pf.prototype.SZt=function(){var p=this.iD(),a={buffer:new Uint8Array(p.data),rect:p.sE},R=new $(V.E.W,!0);
R.LB=!0;R.Q=m.pw;R.data={K:l.sW,gT:a};this.Y(R);alert(gL.get([21,4]))};pf.prototype.SZT=function(){var p=this.iD(),a=SK.HJ("camera",[p]),R=new $(V.E.v,!0);
R.data={K:V.H.UT,NI:a};this.Y(R);alert(gL.get([21,5]))};pf.prototype.FU=function(p,a,R){navigator.mediaDevices.enumerateDevices().then(this.SZQ.bind(this))};
pf.prototype.SZQ=function(p){var a=this.Soj=[],R=[];for(var Q=0;Q<p.length;Q++)if(p[Q].kind=="videoinput"){a.push(p[Q]);
R.push("Camera "+a.length)}this.xS.tY(R);this.xS.a(0);this.SME()};pf.prototype.SME=function(p){this.Sid();
var a={video:{deviceId:this.Soj[this.xS.l()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(a).then(this.SUJ).catch(this.SWT);
else navigator.webkitGetUserMedia(a,this.SUJ,this.SWT)};pf.prototype.SZE=function(p){this.stream=p;this.HC.srcObject=p;
this.HC.addEventListener("loadedmetadata",this.SCf,!1)};pf.prototype.ShL=function(p){this.HC.play();
this.Jg(this.Xs,this.hZ)};pf.prototype.VC=function(p,a){return new X(0,0)};pf.prototype.Jg=function(p,a){var R=this.HC.videoWidth,Q=this.HC.videoHeight;
this.bJ.a(R+" x "+Q+" px");this.bJ._.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.bo.YY(R,Q);this.Xs=p;this.hZ=a;var t=p-28,N=a-28-30,K=this.bo.x/this.bo.y;if(t/N>K)t=N*K;else N=t/K;
this.HC.setAttribute("style","display: block; width: "+Math.round(t)+"px; height:"+Math.round(N)+"px;")};
pf.prototype.SZm=function(p){console.log("error",p);alert(gL.get([21,6]));this.close()};pf.prototype.Sid=function(p){if(this.stream!=null){var a=this.stream.getTracks();
for(var R=0;R<a.length;R++)a[R].stop();this.stream=null}};function Yd(){gt.call(this,[7,8],"crange");
this.zV=null;this.gL={Oe:73,Eu:4.45,N:4};this.gB={Oe:73,Eu:4.45,N:4};var p=V.P("div","form");p.setAttribute("style","width:18em");
this.body.appendChild(p);this._x=new gW([12,92],0,200);this._x.a(40);this._x.h(V.E.k,this.$X,this);p.appendChild(this._x._);
this.Xd=V.P("canvas");p.appendChild(this.Xd);this.bt=new KU([12,36],[[18,0],"\uFF0B","\u2014"]);p.appendChild(this.bt._);
this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);this.body.appendChild(this.Sj._)}Yd.prototype=new gt;
Yd.prototype.Pn=function(p,a){return p!=null};Yd.prototype.Yg=function(){return!0};Yd.prototype.AM=function(){return!0};
Yd.prototype.b=function(){gt.prototype.b.call(this);this._x.b();this.bt.b()};Yd.prototype.JI=function(p,a,R,Q,t){var N=p.z.oD(t.x,t.y);
this.Sie(N.x,N.y)};Yd.prototype.Sie=function(p,a){var R=Math.min,Q=Math.max,t=this.zV,N=Q(0,R(t.C-1,Math.floor(p))),K=Q(0,R(t.T-1,Math.floor(a))),T=t.iD(),d=(K*t.C+N)*4,y=T[d],E=T[d+1],k=T[d+2],D=S.wk(y,E,k),P=this.bt.l(),e=this.gL,Y=this.gB;
if(P==0){this.gL=JSON.parse(JSON.stringify(D));this.gB=D}else if(P==1){e.Oe=R(e.Oe,D.Oe);e.Eu=R(e.Eu,D.Eu);
e.N=R(e.N,D.N);Y.Oe=Q(Y.Oe,D.Oe);Y.Eu=Q(Y.Eu,D.Eu);Y.N=Q(Y.N,D.N)}else if(P==2){var O=(e.Oe+Y.Oe)/2,W=(e.Eu+Y.Eu)/2,w=(e.N+Y.N)/2;
if(D.Oe<O)e.Oe=Q(e.Oe,D.Oe+10);else Y.Oe=R(Y.Oe,D.Oe-10);if(D.Eu<W)e.Eu=Q(e.Eu,D.Eu+1);else Y.Eu=R(Y.Eu,D.Eu-1);
if(D.N<w)e.N=Q(e.N,D.N+1);else Y.N=R(Y.N,D.N-1)}this.$X()};Yd.prototype.xs=function(p){var a=new $(V.E.W,!0);
a.Q=m.yO;a.data={K:"crange",YM:this.gL,YX:this.gB,Wn:this._x.l()/200};a.LB=!0;this.Y(a);this.close()};
Yd.prototype.FU=function(p,a){this.zV=p;this.Sie(0,0)};Yd.prototype.$X=function(){var p=this.zV,a=m.GP.SpO(p,this.gL,this.gB,this._x.l()/200),R=a.rect,Q=a.channel,t=this.Xd,N=t.getContext("2d"),K=Math.floor(230*V.o()),T=Math.floor(K*(R.T/R.C));
t.width=K;t.height=T;V.mT(t,K,T);var d=S.p(Q.length*4);S.wp(d,4294967295);for(var y=0;y<3;y++)S.RA(Q,d,y);
var E=m.B.hj([d,R],new gh(K/R.C,0,0,T/R.T,0,0)),k=E.rect,D=new ImageData(new Uint8ClampedArray(E.buffer.buffer),k.C,k.T);
N.putImageData(D,0,0)};function Sq(){gt.call(this,[12,76,1],"createshape");this.rp=null;var p=V.P("div","form");
p.setAttribute("style","width:20em");this.body.appendChild(p);this.GW=new SD([12,41],0,0,null,0,!1,!0);
p.appendChild(this.GW._);V.zp(p);this.Ik=new SD([12,42],0,0,null,0,!1,!0);p.appendChild(this.Ik._);V.zp(p);
this.bT=new Sz([19,5,3]);p.appendChild(this.bT._);this.GW.a(100);this.Ik.a(100);this.JN=new gi("OK",!0,null,!0);
this.JN.h("click",this.xs,this);p.appendChild(this.JN._)}Sq.prototype=new gt;Sq.prototype.xs=function(p){this.rp.SvI(this.rp.SvB,this.GW.l(),this.Ik.l(),this.bT.l());
this.close()};Sq.prototype.b=function(){if(this.rp)this.gN=gL.get([5,3])+": "+gL.get(this.rp.SvL);gt.prototype.b.call(this);
this.GW.b();this.Ik.b();this.bT.b()};Sq.prototype.FU=function(p,a){this.rp=a;this.b()};function pF(){gt.call(this,[11,1],"colorpicker");
this.xR=null;this.OY=null;this.BC=null;this.Ho=!1;this.EA=!1;var p=V.P("div","flexrow"),N,K;this.body.appendChild(p);
this.He=new Yn(256);this.He.h(V.E.k,this.WW,this);p.appendChild(this.He._);var a=V.P("div","form");a.setAttribute("style","width:14.5em; margin-left:1em;");
p.appendChild(a);this.SOz=V.P("div","full");a.appendChild(this.SOz);this.SOy=V.P("div","full");a.appendChild(this.SOy);
var R=V.P("div","flexrow");a.appendChild(R);var Q=V.P("div"),t=V.P("div");R.appendChild(Q);R.appendChild(t);
N=["R","G","B"];K=Q;this.ba=[];for(var T=0;T<3;T++){var d=new SD(N[T]+":",0,255,null,0,!1,!0);this.ba.push(d);
d.h(V.E.k,this.SZb,this);K.appendChild(d._)}N=["H","S","B"];K=t;this.bw=[];for(var T=0;T<3;T++){var y=0,E=360,k="\xB0";
if(T!=0){E=100;k="%"}var d=new SD(N[T]+":",y,E,k,0,!1,!0);this.bw.push(d);d.h(V.E.k,this.SZ_,this);K.appendChild(d._)}this.Ik=new KH("Hex",null,6);
this.Ik.h(V.E.k,this.Wt,this);a.appendChild(this.Ik._);this._W=V.P("input","fitem");this._W.setAttribute("type","color");
this._W.setAttribute("style","width:50px");this._W.addEventListener("change",this.Wt.bind(this),!1);
a.appendChild(this._W);this.xe=new Yo(9);this.xe.h(V.E.k,this.Wt,this);a.appendChild(this.xe._);this.JN=new gi("OK",!0,null,!0);
this.JN.h("click",this.xs,this);a.appendChild(this.JN._);this.h("closebtn",this.VT,this);this.gM=!1}pF.prototype=new gt;
pF.prototype.Yg=function(){return!0};pF.prototype.Jg=function(p,a){this.He.Jg(Math.min(256,p-250),a)};
pF.prototype.WW=function(p){this.OY=this.He.l();this.update()};pF.prototype.JI=function(p,a,R,Q,t){this.gM=!0;
this.Sv_(p,t)};pF.prototype.r$=function(p,a,R,Q,t){if(!this.gM)return;this.Sv_(p,t)};pF.prototype.Gz=function(p,a,R,Q,t){this.gM=!1};
pF.prototype.Sv_=function(p,a){var R=m.JT.NO(p,a,1),Q=R&255,t=R>>8&255,N=R>>16&255;this.OY={D:N/255,X:t/255,N:Q/255};
this.update()};pF.prototype.SZb=function(p){var a=this.ba,R=this.GB(parseInt(a[0].l())),Q=this.GB(parseInt(a[1].l())),t=this.GB(parseInt(a[2].l()));
this.OY={D:R/255,X:Q/255,N:t/255};this.update()};pF.prototype.SZ_=function(p){var a=this.bw,R=this.TB(parseInt(a[0].l())/360),Q=this.TB(parseInt(a[1].l())/100),t=this.TB(parseInt(a[2].l())/100);
this.OY=S.Hv(R,Q,t);this.update()};pF.prototype.Wt=function(p){var a;if(p.currentTarget==this.xe)a=this.xe.l();
else{a=p.currentTarget==this.Ik?this.Ik.l():this._W.value;if(a.charAt(0)=="#")a=a.slice(1);if(a.length==3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];
a=S.cW(a)}this.OY={D:(a>>16&255)/255,X:(a>>8&255)/255,N:(a&255)/255};this.update()};pF.prototype.VS=function(p){var a=p.D,R=p.X,Q=p.N;
return Math.round(a*255)<<16|Math.round(R*255)<<8|Math.round(Q*255)};pF.prototype.xs=function(p){this.SZd();
var a=this.VS(this.OY);this.BC(a);this.close();this.EA=!1;this.OY=null};pF.prototype.VT=function(p){this.SZd();
if(this.Ho)this.BC(this.VS(this.xR));this.EA=!1;this.OY=null};pF.prototype.SZd=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.Sod};this.Y(a)};pF.prototype.JD=function(p,a){if(a!=gp.zc)return;var R=p.rc;this.xe.a(R);
if(this.OY!=null){this.OY={D:(R>>16&255)/255,X:(R>>8&255)/255,N:(R>>0&255)/255};this.update()}};pF.prototype.FU=function(p,a){var R=a.dV,Q={D:(R>>16&255)/255,X:(R>>8&255)/255,N:(R>>0&255)/255};
if(this.OY==null){var t=new $(V.E.v,!0);t.data={K:V.H.PA,Mz:"crosshair",push:!0};this.Y(t);this.gM=!1;
this.BC=a.cJ;this.Ho=!1;this.EA=a.PW;this.xR=JSON.parse(JSON.stringify(Q));this.SOy.setAttribute("style","height:3em;background-color:#"+S.ay(R)+";")}this.OY=Q;
this.update()};pF.prototype.update=function(){var p=this.OY,a=this.VS(p),R=this.ba;R[0].a(Math.round(p.D*255));
R[1].a(Math.round(p.X*255));R[2].a(Math.round(p.N*255));this.Ik.a(S.ay(a));this._W.value="#"+S.ay(a);
this.SOz.setAttribute("style","height:3em;background-color:#"+S.ay(a)+";");var Q=S.Xa(p.D,p.X,p.N);R=this.bw;
R[0].a(Math.round(Q.hZ*360));R[1].a(Math.round(Q.IH*100));R[2].a(Math.round(Q.Lr*100));this.He.a(p);
if(this.EA){this.BC(this.VS(this.OY));this.Ho=!0}};pF.prototype.GB=function(p){return Math.max(0,Math.min(255,p))};
pF.prototype.TB=function(p){return Math.max(0,Math.min(1,p))};function rp(){gt.call(this,[11,2],"contoureditor");
this.SOk=null;this.ar=null;this.response=null;this.kz=V.P("div","cell");this.body.appendChild(this.kz);
this.VI=V.P("div","cell padded");this.body.appendChild(this.VI);var p=V.P("div","bordered padded vmargin");
this.kz.appendChild(p);this.Jx=new Sw;this.Jx.h(V.E.k,this.WI,this);p.appendChild(this.Jx._);this.JN=new gi("OK",!0,null,!0);
this.JN.h("click",this.close,this);this.VI.appendChild(this.JN._);this.coords=V.P("div","");this.coords.setAttribute("style","width:250px");
this.kz.appendChild(this.coords);this.HM=new KH("X (in)","%",4);this.HO=new KH("Y (out)","%",4);this.xL=new Sz([19,3,0]);
this.HM.h(V.E.k,this.WE,this);this.HO.h(V.E.k,this.WE,this);this.xL.h(V.E.k,this.WE,this);this.coords.appendChild(this.HM._);
this.coords.appendChild(this.xL._);this.coords.appendChild(this.HO._);this.h("closebtn",this.pc,this)}rp.prototype=new gt;
rp.prototype.b=function(){gt.prototype.b.call(this);this.xL.b()};rp.prototype.WI=function(p){this.ar.Crv.v=this.Jx.l();
this.response(this.ar);this.WT()};rp.prototype.pc=function(p){this.response(this.SOk)};rp.prototype.FU=function(p,a){this.SOk=JSON.parse(JSON.stringify(a.c));
this.ar=a.c;this.response=a.response;this.Jx.a(this.ar.Crv.v);this.WT()};rp.prototype.WT=function(){var p=this.Jx.SsW();
this.coords.setAttribute("class",p==-1?"disabled":"");if(p==-1)return;var a=this.ar.Crv.v[p].v;this.HM.a(Math.round(a.Hrzn.v*(100/255)));
this.HO.a(Math.round(a.Vrtc.v*(100/255)));this.xL.a(a.Cnty.v)};rp.prototype.WE=function(p){var a=this.Jx.SsW(),R=this.ar.Crv.v[a];
R.v.Hrzn.v=parseFloat(this.HM.l())*(255/100);R.v.Vrtc.v=parseFloat(this.HO.l())*(255/100);R.v.Cnty.v=this.xL.l();
this.ar.Crv.v.sort(function(Q,t){return Q.v.Hrzn.v-t.v.Hrzn.v});this.Jx.a(this.ar.Crv.v,this.ar.Crv.v.indexOf(R));
this.WT();this.response(this.ar)};function rz(){gt.call(this,[11,3],"csize");this.bA=0;this.jJ=V.P("div","form");
this.jJ.setAttribute("style","width:22em");this.body.appendChild(this.jJ);this.v_=new px(!0,!0,!0,!0);
this.v_.SWd(!1);this.jJ.appendChild(this.v_._);this.bD=new KU("Align with",[[8,7],[12,6]]);this.bD.h(V.E.k,this.SZk,this);
this.xB=new pL([12,23,2],41);this.jJ.appendChild(this.xB._);this.xB.a(4);this.bn=new Yl(!1);this.bn.SWf(new X(0,0));
this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);this.body.appendChild(this.Sj._)}rz.prototype=new gt;
rz.prototype.Pn=function(p,a){return p!=null};rz.prototype.AM=function(){return!0};rz.prototype.SZk=function(){var p=[this.xB._,this.bn._];
this.jJ.removeChild(p[this.bA]);this.bA=this.bD.l();this.jJ.appendChild(p[this.bA])};rz.prototype.b=function(){gt.prototype.b.call(this);
this.v_.b();this.bD.b();this.xB.b();this.bn.b()};rz.prototype.xs=function(p){var a=this.v_.l(),R=a.x,Q=a.y,t=new $(V.E.JF,!0);
t.data=m.RO.S$g(R,Q,this.xB.l());this.close();this.Y(t)};rz.prototype.FU=function(p,a){this.v_.a(new X(p.C,p.T),p.po)};
function dL(){gt.call(this,[11,4],"duplinto");this.OR=null;this.aL=null;var p=V.P("div","form");p.setAttribute("style","max-width:26em");
this.body.appendChild(p);this.fC=new gu([12,43],["abc","def"]);this.fC.h(V.E.k,this.SKu,this);p.appendChild(this.fC._);
V.zp(p);this.XR=new KH([12,48],null,14);p.appendChild(this.XR._);this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);
p.appendChild(this.JN._)}dL.prototype=new gt;dL.prototype.AM=function(){return!0};dL.prototype.b=function(){gt.prototype.b.call(this);
this.fC.b();this.XR.b()};dL.prototype.SKu=function(p){var a=this.fC.l();if(a==this.aL.length)this.XR.XH();
else this.XR.Fv()};dL.prototype.FU=function(p,a,R){this.OR=p;this.aL=R;this.XR.a(p.V.length==0?"Layer":p.M[p.V[0]].getName());
var Q=[];for(var t=0;t<R.length;t++)Q.push(R[t].name);Q.push([11,7]);this.fC.tY(Q);this.fC.a(R.indexOf(p));
this.SKu(null)};dL.prototype.xs=function(p){var a=this.fC.l();if(a==this.aL.length){var R=new SF(this.XR.l()+".psd");
R.C=this.OR.C;R.T=this.OR.T;R.buffer=S.p(R.C*R.T*4);var Q=R.hX();Q.xJ("Background");R.ag([Q]);var t=new $(V.E.v,!0);
t.LB=!0;t.data={K:V.H.UT,NI:R};this.Y(t)}var N=this.OR.RC(null,this.OR!=this.aL[a]),t=new $(V.E.W,!0);
t.data={K:l.sL,M:N,Hy:this.OR,Sd:this.aL[a]};t.Q=m.pw;t.LB=!0;this.Y(t);this.close()};function rI(){gt.call(this,[1,9],"eassets");
this.$F=null;this.Jc=null;var p=V.P("div","form");p.setAttribute("style","width:32em");this.body.appendChild(p);
this.Jv=V.P("span");p.appendChild(this.Jv);V.zp(p);this.pm=[new Sz("Only layers / folders, whose name starts with \"-e-\""),new Sz("Remove parts outside the canvas"),new Sz("Trim transparent parts")];
for(var a=0;a<3;a++){var R=this.pm[a];R.a(!0);R.h(V.E.k,this.Io,this);p.appendChild(R._);V.zp(p)}this.gF=new YZ([12,14,0],["1x","2x","3x","4x"]);
this.gF.a([!0,!1,!1,!1]);p.appendChild(this.gF._);V.xq(p);this.bk=["PNG","JPG","SVG"];this.x$=new gu([12,50],this.bk);
this.x$.h(V.E.k,this.SCZ,this);p.appendChild(this.x$._);this.CA=new lK;p.appendChild(this.CA._);this.Sj=new gi([1,9],!0,null,!0);
this.Sj.h("click",this.xs,this);p.appendChild(this.Sj._);this.h("closebtn",this.e$,this)}rI.prototype=new gt;
rI.prototype.SCZ=function(p){this.CA.SCc(this.bk[this.x$.l()])};rI.prototype.e$=function(p){this.Jc=null};
rI.prototype.b=function(){gt.prototype.b.call(this);this.x$.b();this.gF.b();this.Sj.b();this.CA.b()};
rI.prototype.FU=function(p,a,R){this.Jc=p;this.Io()};rI.prototype.Io=function(p){var a=this.SCY(),R="- - - "+a.length+" exportable layers";
this.Jv.textContent=R;this.SCZ(null)};rI.prototype.SCY=function(){var p=this.pm[0].l(),a=[],R=this.Jc;
for(var Q=0;Q<R.M.length;Q++){var t=R.M[Q],N=t.getName();if(!p&&!t.sc()&&!t.rect.RJ()||N.startsWith("-e"))a.push(Q)}return a};
rI.prototype.JD=function(p,a){this.$F=p};rI.prototype.xs=function(p){var a=this.Jc,R=[this.bk[this.x$.l()]],Q=[this.CA.l()],t=this.gF.l(),N={},K={},T=this.SCY();
if(T.length==0){alert("No layers to export.");return}var d=[this.pm[1].l(),this.pm[2].l()];for(var y=0;
y<T.length;y++){var E=T[y],k=a.M[E],D=k.getName();if(K[D]!=null){K[D]++;D+=" "+K[D]}else K[D]=1;var P=k.Aw();
k.mt(!0);for(var e=0;e<t.length;e++){if(!t[e])continue;var Y=e+1,O=m.OS.Siw(a,R,Y,this.$F,E,Q,d);for(var W=0;
W<R.length;W++){var w=R[W],g=D.slice(D.startsWith("-e-")?3:0)+(Y==1?"":"-"+Y+"x")+"."+w.toLowerCase();
N[g]=new Uint8Array(O[W])}}k.mt(P)}var J=UZIP.encode(N),U=new $(V.E.v,!0);U.data={K:V.H.IB,data:J,name:"assets.zip"};
this.Y(U)};function dl(){gt.call(this,"File Info","finfo");this.bj=null;this._y=null;this._Z=null;this.jJ=V.P("div","form scrollable label12");
this.jJ.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.jJ);
var p=V.P("div","form");this.body.appendChild(p);this.gv=new gu(null,["Hello"]);p.appendChild(this.gv._);
this.Svs=new gi("Add Parameter",!1,null,!0);p.appendChild(this.Svs._);this.Svs.h("click",this.Ns,this);
this.gJ=new gi("=== S A V E ===",!1,null,!0);p.appendChild(this.gJ._);this.gJ.h("click",this.Wu,this);
this.Svy=""}dl.prototype=new gt;dl.prototype.VC=function(p,a){return p<450||a<450?new X(0,0):new X(150,100)};
dl.prototype.Ns=function(p){if(this._Z.length==0)return;var a=this._Z[this.gv.l()],R=this.Wb();R[a]=Nu.gx[a][0];
this.VR(R);this._y[a]._.scrollIntoView();this._y[a].Np()};dl.prototype.eX=function(p){var a=this.Wb();
delete a[p.currentTarget.SCt];this.VR(a)};dl.prototype.Wu=function(p){var a=this.Wb(),R=this.bj,Q=!0;
for(var t in R)if(JSON.stringify(R[t])!=JSON.stringify(a[t]))Q=!1;for(var t in a)if(JSON.stringify(R[t])!=JSON.stringify(a[t]))Q=!1;
if(Q)return;var N=new $(V.E.W,!0);N.Q=m.pw;N.data={K:l.Eq,xg:a};this.Y(N);this.bj=a;this.VR(a)};dl.SSd=function(p){function a(t){var N=t.toLowerCase();
return t==N}var R=p.split(":").pop();for(var Q=1;Q<R.length-1;Q++){if(R[Q]==R[Q].toUpperCase()&&(a(R[Q+1])||a(R[Q-1]))){R=R.slice(0,Q)+" "+R.slice(Q);
Q++}}return R};dl.prototype.FU=function(p,a){this.bj=p.SE;this.VR(p.SE)};dl.prototype.VR=function(p){var a=this.jJ,t=0;
V.Tl(a);var R=this._y={},Q=["tiff","exif","exif:GPS"],N=this._Z=[],K=[];for(var T in Nu.gx){var d=dl.SSd(T),y=0,k=15,D=null;
if(p[T]==null){N.push(T);K.push(d);continue}for(var E=0;E<Q.length;E++)if(T.startsWith(Q[E]))y=E;if(y!=t){V.xq(a);
t=y}if(T=="tiff:ImageDescription"||T=="dc:Keywords"){k=18.5;D=3}var P=new KH(d,null,k,D);R[T]=P;var e=p[T];
if(e instanceof Array)e=e[1]==0?"---":e[0]+"/"+e[1];var Y=new gi("\u2716",null,gL.get([5,4]));a.appendChild(Y._);
Y.h("click",this.eX,this);Y.SCt=T;P.a(e);a.appendChild(P._);V.zp(a);if(T=="exif:GPSLongitude"&&p["exif:GPSLatitude"]){this.Svy=dl.SCr(p["exif:GPSLatitude"])+","+dl.SCr(p["exif:GPSLongitude"]);
var O=new gi("Show on map",!1,null,!0);a.appendChild(O._);V.zp(a);O.h("click",this.SSK,this)}}this.gv.tY(K);
this.gv.a(0)};dl.prototype.Wb=function(){var p=this._y,a=Nu.gx,R={};for(var Q in a){var t=a[Q][0],N=typeof t;
if(t==null||p[Q]==null)continue;var K=p[Q].l();if(N=="number")K=parseFloat(K);else if(t instanceof Array&&t.length==2)K=K.split("/").map(parseFloat);
R[Q]=K}return R};dl.SCr=function(p){var a=p.length,R=p.slice(0,a-1).split(",").map(parseFloat),Q=p.slice(a-1),t=R[0]+R[1]/60+R[2]/3600;
if(Q!="N"&&Q!="E")t=-t;return t};dl.prototype.SSK=function(p){window.open("https://maps.google.com?q="+this.Svy,"Map")};
function df(){gt.call(this,[11,5],"gradienteditor");this.xR=null;this.OY=null;this.aP=null;this.BC=null;
this.Ho=!1;this.EA=!1;V.ey(this.body,"form");this.rh=null;this.Fo=null;this.UQ=-1;this.gh=-1;this.mu=0;
this.ta=this.LQ.bind(this);this.tG=this.pY.bind(this);this.hH=V.P("canvas","");this.eY=this.hH.getContext("2d");
this.hH.setAttribute("style","display:block");this.Uw=null;V.gI(this.hH);V.xb(this.hH,this.Nk.bind(this));
this.nv=new SD([19,3,3],0,100,"%");this.nv.h(V.E.k,this.QS,this);this.nv.parent=this;this.body.appendChild(this.nv._);
V.zp(this.body);this.qE=new Ky([12,0]);this.body.appendChild(this.qE._);this.xX=V.P("div","bordered padded noalign");
this.body.appendChild(this.xX);this.NC=new SD([12,0],0,100,"%");this.NC.parent=this;this.NC.h(V.E.k,this.QS,this);
this.xX.appendChild(this.NC._);this.qP=new SD([12,40],0,100,"%");this.qP.parent=this;this.qP.h(V.E.k,this.QS,this);
this.xX.appendChild(this.qP._);this.gG=new gi([5,4],!1,null,!0);this.gG.h("click",this.SCF,this);this.xX.appendChild(this.gG._);
this.body.appendChild(this.hH);V.zp(this.body);this.SvU=new Ky([13,0]);this.body.appendChild(this.SvU._);
this.hJ=V.P("div","bordered padded noalign");this.body.appendChild(this.hJ);this.zm=new gu([12,44],[[12,45],[12,46],[12,47]]);
this.zm.h(V.E.k,this.QS,this);this.hJ.appendChild(this.zm._);this.DC=new Sv(!0);this.DC.parent=this;
this.DC.h(V.E.k,this.QS,this);this.hJ.appendChild(this.DC._);this.qV=new SD([12,40],0,100,"%");this.qV.parent=this;
this.qV.h(V.E.k,this.QS,this);this.hJ.appendChild(this.qV._);this.gE=new gi([5,4],!1,null,!0);this.gE.h("click",this.SgS,this);
this.hJ.appendChild(this.gE._);this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);this.body.appendChild(this.JN._);
this.h("closebtn",this.VT,this)}df.prototype=new gt;df.prototype.VT=function(p){if(this.Ho)this.BC(this.xR)};
df.prototype.b=function(){gt.prototype.b.call(this);this.nv.b();this.qE.b();this.SvU.b();this.gG.b();
this.gE.b();this.NC.b();this.qP.b();this.zm.b();this.qV.b()};df.prototype.JD=function(p,a){this.aP=p};
df.prototype.FU=function(p,a){this.OY=JSON.parse(JSON.stringify(a.e));this.xR=JSON.parse(JSON.stringify(a.e));
this.rh=this.Fo=null;this.BC=a.cJ;this.Ho=!1;this.EA=a.PW;this.XN();this.aQ()};df.prototype.xs=function(p){var a=this.OY;
this.BC(a);this.close()};df.prototype.Gk=function(p){return p==n.gU||p==n.gZ};df.prototype.Qb=function(p,a,R,Q){if(Q.g(n.gU)||Q.g(n.gZ)){if(this.Fo)this.SCF();
if(this.rh)this.SgS()}};df.prototype.SCF=function(p){var a=this.OY.Trns.v;if(this.Fo==null||a.length==2)return;
a.splice(a.indexOf(this.Fo),1);this.Fo=null;this.XN();this.aQ()};df.prototype.SgS=function(p){var a=this.OY.Clrs.v;
if(this.rh==null||a.length==2)return;a.splice(a.indexOf(this.rh),1);this.rh=null;this.XN();this.aQ()};
df.prototype.XN=function(){var p=this.hH,a=this.eY,R=V.o();p.width=Math.floor(410*R);p.height=Math.floor(90*R);
V.mT(p,p.width,p.height);this.Uw=new x(0,0,Math.floor(380*R),Math.floor(32*R));this.Uw.x=Math.floor((this.hH.width-this.Uw.C)/2);
this.Uw.y=Math.floor((this.hH.height-this.Uw.T)/2);var Q=this.Uw,t=Q.C,N=Q.T,K=Q.x,T=Q.y,d=new x(0,0,t,N),y=a.getImageData(0,0,t,N),E=new Uint8Array(y.data.buffer);
S.Sz(E,t,N,8,0,0);var k=S.p(t*N*4);S.e.Su(this.OY,k,d,[1/t,0,0,1/N],t/2,N/2,!1,0,this.aP.rc,this.aP.eJ);
S.O.KJ("norm",k,Q,E,Q,Q,1);a.clearRect(0,0,p.width,p.height);a.putImageData(y,K,T);var D=this.OY.Trns.v,P=this.OY.Clrs.v,e=S.e.ON(P,this.aP.rc,this.aP.eJ),Y=Math.round(6*V.o()),O=Math.round(14*V.o()),W=this.Fo?this.Fo.v:null,w=this.rh?this.rh.v:null;
for(var g=0;g<D.length;g++){var J=D[g].v,U=Math.round(255-255*J.Opct.v.val/100);if((J==W||D[g-1]&&D[g-1].v==W||g==this.gh)&&g!=0){a.fillStyle="#000000";
a.fillRect(K-3+t*(D[g-1].v.Lctn.v+(J.Lctn.v-D[g-1].v.Lctn.v)*J.Mdpn.v/100)/4096,T-6-2,6,6)}if(J==W){a.fillStyle="#ffffff";
a.fillRect(K-Y+t*(J.Lctn.v/4096)-2,T-2-O-2,2*Y+4,O+4)}a.fillStyle="rgb("+U+","+U+","+U+")";a.fillRect(K-Y+t*(J.Lctn.v/4096),T-2-O,2*Y,O)}for(var g=0;
g<P.length;g++){var H=P[g].v,f=e[g];if((H==w||P[g-1]&&P[g-1].v==w||g==this.UQ)&&g!=0){a.fillStyle="#000000";
a.fillRect(K-3+t*(P[g-1].v.Lctn.v+(H.Lctn.v-P[g-1].v.Lctn.v)*H.Mdpn.v/100)/4096,T+N+2,6,6)}if(H==w){a.fillStyle="#ffffff";
a.fillRect(K-Y+t*(H.Lctn.v/4096)-2,T+N+2-2,2*Y+4,O+4)}a.fillStyle="rgb("+Math.round(f.D)+", "+Math.round(f.X)+","+Math.round(f.N)+")";
a.fillRect(K-Y+t*(H.Lctn.v/4096),T+N+2,2*Y,O)}if(this.EA){this.BC(this.OY);this.Ho=!0}};df.prototype.aQ=function(){this.nv.a(Math.round(100*this.OY.Intr.v/4096));
var p=this.OY.Trns.v,a=this.OY.Clrs.v,R=this.Fo!=null,Q=this.gh!=-1;this.NC.Ub(R);this.qP.Ub(R||Q);this.gG.Ub(R);
if(R){this.xX.setAttribute("style","");var t=this.Fo.v;this.qP.a(Math.round(100*t.Lctn.v/4096));this.NC.a(t.Opct.v.val)}if(Q)this.qP.a(p[this.gh].v.Mdpn.v);
var R=this.rh!=null,Q=this.UQ!=-1;this.zm.Ub(R);this.DC.Ub(R);this.qV.Ub(R||Q);this.gE.Ub(R);if(R){this.hJ.setAttribute("style","");
var K=this.rh.v;this.qV.a(Math.round(100*K.Lctn.v/4096));var T=K.Type.v.Clry;this.zm.a(["FrgC","BckC","UsrS"].indexOf(T));
if(T=="FrgC")this.DC.mz(this.aP.rc);if(T=="BckC")this.DC.mz(this.aP.eJ);if(T=="UsrS")this.DC.a(K.Clr.v)}if(Q)this.qV.a(a[this.UQ].v.Mdpn.v)};
df.prototype.QS=function(p){var a=Math.round(4096*this.nv.l()/100);this.OY.Intr.v=a;var R=this.OY.Trns.v,Q=this.OY.Clrs.v;
if(this.Fo!=null){var t=this.Fo.v;t.Lctn.v=Math.round(4096*(this.qP.l()/100));t.Opct.v.val=this.NC.l()}if(this.rh!=null){var N=this.rh.v;
N.Lctn.v=Math.round(4096*(this.qV.l()/100));if(p.target==this.DC)this.zm.a(2);var K=this.zm.l();N.Type.v.Clry=["FrgC","BckC","UsrS"][K];
if(K==2)N.Clr={t:"Objc",v:this.DC.l()};else if(N.Clr)delete N.Clr}if(this.gh!=-1)R[this.gh].v.Mdpn.v=this.qP.l();
if(this.UQ!=-1)Q[this.UQ].v.Mdpn.v=this.qV.l();this.XN()};df.prototype.Nk=function(p){var a=V.ma(p,this.hH),R=(a.x*V.o()-this.Uw.x)/this.Uw.C,Q=(a.y*V.o()-this.Uw.y)/this.Uw.T,t=this.OY.Trns.v,N=this.OY.Clrs.v,K=null,T=null,d=-1,y=-1;
if(Q<1)for(var E=0;E<t.length;E++){var k=t[E].v;if(Math.abs(k.Lctn.v/4096-R)<.02)K=t[E];if(E>0)if(Math.abs((t[E-1].v.Lctn.v+(k.Lctn.v-t[E-1].v.Lctn.v)*k.Mdpn.v/100)/4096-R)<.01)d=E}if(Q>0)for(var E=0;
E<N.length;E++){var D=N[E].v;if(Math.abs(D.Lctn.v/4096-R)<.02)T=N[E];if(E>0)if(Math.abs((N[E-1].v.Lctn.v+(D.Lctn.v-N[E-1].v.Lctn.v)*D.Mdpn.v/100)/4096-R)<.01)y=E}if(T==null&&K==null&&d==-1&&y==-1){if(Q<0){var k={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
k.v.Lctn.v=Math.round(R*4096);t.push(k);t.sort(this.VL);K=k}if(Q>1){var N=this.OY.Clrs.v,P=S.e.ON(N,this.aP.rc,this.aP.eJ),e=S.e.Jl(this.OY,P,R),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:S.e.HW({D:e&255,X:e>>8&255,N:e>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
D.v.Lctn.v=Math.round(R*4096);N.push(D);N.sort(this.VL);T=D}}if(T!=null)y=-1;if(K!=null)d=-1;if(T!=null||K!=null||d>-1||y>-1){this.Fo=K;
this.rh=T;this.gh=d;this.UQ=y;this.aQ();this.XN();V.EU(window,this.ta);V.Eb(window,this.tG)}};df.prototype.LQ=function(p){var a=V.ma(p,this.hH),R=V.o()*(a.x-this.Uw.x)/this.Uw.C,Q=V.o()*(a.y-this.Uw.y)/this.Uw.T;
R=Math.max(0,Math.min(1,R));var t=this.OY.Trns.v,N=this.OY.Clrs.v;if(this.Fo!=null){var K=this.Fo.v;
K.Lctn.v=Math.round(4096*R);var T=t.indexOf(this.Fo);if(T!=-1&&Q<-1&&t.length>2)t.splice(T,1);if(T==-1&&Q>-1)t.push(this.Fo);
t.sort(this.VL)}if(this.rh!=null){var d=this.rh.v;d.Lctn.v=Math.round(4096*R);var y=N.indexOf(this.rh);
if(y!=-1&&Q>1.5&&N.length>2)N.splice(y,1);if(y==-1&&Q<1.5)N.push(this.rh);N.sort(this.VL)}if(this.gh>-1){var K=t[this.gh].v;
K.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(R*4096-t[this.gh-1].v.Lctn.v)/(K.Lctn.v-t[this.gh-1].v.Lctn.v))))}if(this.UQ>-1){var d=N[this.UQ].v;
d.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(R*4096-N[this.UQ-1].v.Lctn.v)/(d.Lctn.v-N[this.UQ-1].v.Lctn.v))))}if(this.Fo!=null||this.rh!=null||this.gh>-1||this.UQ>-1){this.aQ();
this.XN()}};df.prototype.pY=function(p){V._j(window,this.ta);V.n$(window,this.tG);if(Date.now()-this.mu<300){if(this.UQ!=-1||this.gh!=-1){var a=(this.UQ!=-1?this.OY.Clrs.v[this.UQ]:this.OY.Trns.v[this.gh]).v;
a.Mdpn.v=50;this.aQ();this.XN()}else if(this.rh!=null)this.DC.SiD()}this.mu=Date.now()};df.prototype.VL=function(p,a){return p.v.Lctn.v-a.v.Lctn.v};
function ri(){gt.call(this,[11,10],"isize");this.jJ=V.P("div","form");this.jJ.setAttribute("style","width:20em");
this.body.appendChild(this.jJ);this.v_=new px(!0,!0);this.jJ.appendChild(this.v_._);this.xF=new Sz("Resample");
this.xF.a(!0);this.jJ.appendChild(this.xF._);this.xF.h(V.E.k,this.SSs,this);this.se=new gu([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.se.a(1);this.jJ.appendChild(this.se._);this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);
this.body.appendChild(this.Sj._)}ri.prototype=new gt;ri.prototype.Pn=function(p,a){return p!=null};ri.prototype.AM=function(){return!0};
ri.prototype.SSs=function(p){var a=this.xF.l(),R=this.v_,Q=this.se;if(a)Q.XH();else Q.Fv();if(a)R.SUP();
else R.SUo()};ri.prototype.b=function(){gt.prototype.b.call(this);this.se.b();this.v_.b()};ri.prototype.xs=function(p){this.close();
var a=this.v_.l(),R=a.x,Q=a.y,t=this.se.l();if(!this.xF.l())t=null;var N=new $(V.E.JF,!0);N.data=m.RO.SKx(R,Q,this.v_.S$h(),t);
this.Y(N)};ri.prototype.FU=function(p,a){this.v_.a(new X(p.C,p.T),p.po)};function dB(){gt.call(this,"Import RAW","importraw");
var p=V.P("div","flexrow"),a=V.P("div");this.body.appendChild(p);this.body.appendChild(a);var R=V.P("div","form");
R.setAttribute("style","width:16em");p.appendChild(R);var Q=V.P("div","form");Q.setAttribute("style","width:14em");
p.appendChild(Q);this.rp=null;this.SvT=null;this.vi=null;this.Sva=[];this.Uk=[new px(!0,!0),new KU([12,72],["1","3","4"]),new KU([12,34],["8 Bits","16 Bits"]),new KU("Byte Order",["12-34","34-12"]),new gu("Guesses",[])];
for(var t=0;t<this.Uk.length;t++){var N=this.Uk[t];if(t!=0)N.a(0);N.h(V.E.k,t==4?this.SNr:this.YD,this);
var K=t==0?R:t==4?a:Q;K.appendChild(N._)}this.Xd=V.P("canvas");this.XC=this.Xd.getContext("2d");this.body.appendChild(this.Xd);
this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);this.body.appendChild(this.Sj._)}dB.prototype=new gt;
dB.prototype.b=function(){gt.prototype.b.call(this);var p=this.Uk;for(var a=0;a<p.length;a++)p[a].b()};
dB.prototype.xs=function(p){this.close();var a=this.Uk[0].l(),R=SK.HJ(this.SvT,[{data:this.vi,sE:new x(0,0,a.x,a.y)}]),Q=new $(V.E.v,!0);
Q.data={K:!0?V.H.UT:V.H.PB,NI:R};this.Y(Q)};dB.prototype.FU=function(p,a){this.rp=new Uint8Array(a.gV);
this.SvT=a.Lf;var R=this.rp.length,Q=[1,3,4],t=0,N=0,K=1,T=1,d=this.Sva=[];for(var y=0;y<3;y++){for(var E=1;
E<3;E++){var k=Q[y],D=k*E,P=Math.round(R/D);if(P!=R/D)continue;for(var e=0;e<=4e3;e++)for(var Y=0;Y<=4e3;
Y++)if(e*Y==P){var O=0;if(e==Y)O+=64;if(Math.round(e/100)==e/100&&Math.round(Y/100)==Y/100)O+=32;if(Math.round(e/10)==e/10&&Math.round(Y/10)==Y/10)O+=16;
if(Math.round(e/2)==e/2&&Math.round(Y/2)==Y/2)O+=8;d.push([e,Y,k,E,O])}}}var W=function(H,f){if(f[4]!=H[4])return f[4]-H[4];
var j=Math.max(H[0],H[1])/Math.min(H[0],H[1]),I=Math.max(f[0],f[1])/Math.min(f[0],f[1]);if(j!=I)return j-I;
return f[0]-H[0]};d.sort(W);var w=this.Uk,g=[];for(var J=0;J<d.length;J++){var U=d[J];g.push(U[0]+" x "+U[1]+", "+U[2]+"c, "+U[3]*8+"-bit")}w[4].tY(g);
w[4].a(0);this.SNr(null)};dB.prototype.SNr=function(p){var a=this.Uk,R=this.Sva[this.Uk[4].l()];a[0].a(new X(R[0],R[1]),72);
a[1].a([1,3,4].indexOf(R[2]));a[2].a([1,2].indexOf(R[3]));this.YD()};dB.prototype.YD=function(p){var a=this.Uk,R=a[0].l(),Q=R.x,t=R.y,N=8+8*a[2].l(),K=this.rp;
if(N==16&&a[3].l()==1){K=K.slice(0);for(var T=0;T<K.length;T+=2){var d=K[T];K[T]=K[T+1];K[T+1]=d}}var y=this.vi=UPNG.toRGBA8.decodeImage(K,Q,t,{tabs:{},ctype:[0,2,6][a[1].l()],depth:N}),E=this.Xd,k=this.XC,D=[y,new x(0,0,Q,t)];
S.UR(D);for(var T=0;T<D.length;T+=2)if(D[T+1].T<300){y=D[T];Q=D[T+1].C;t=D[T+1].T;break}E.width=Q;E.height=t;
V.mT(E,Q,t);var P=new ImageData(new Uint8ClampedArray(y.buffer),Q,t);k.putImageData(P,0,0)};function KQ(p,a,R){gM.call(this);
this._=V.P("div","");this.$Z=p;this.lr=null;this.xy=a==null?!1:a;this.gb=null;this.nJ=R;this._g=[];this.fg=[];
this.xU=[];this.KR=[];this.xw=0;this.lr=this.SSo(KQ.KR[p]);this.rM()}KQ.prototype=new gM;KQ.prototype.SSL=function(){for(var p=0;
p<this.KR.length;p++){V.Eg(this.KR[p],"selected");if(this.xU[p]instanceof Sz)this.xU[p].a(!1)}};KQ.prototype.SS$=function(p){var a=this.SSx.bind(this);
for(var R=0;R<this.xU.length;R++){var Q=V.P("div","listitem");this.KR.push(Q);if(R>0)Q.textContent="\u2003";
Q.appendChild(this.xU[R]._);if(gZ.SIC.indexOf(this.$Z)!=-1){var t=new gi("+");t.FX();t._.style.float="right";
Q.appendChild(t._);var N=new gi("\u2B0D");N.FX();N._.style.float="right";N._.style["margin-right"]="2px";
Q.appendChild(N._)}Q.addEventListener("click",a,!1);p.appendChild(Q)}};KQ.QH=function(p,a){var R=a.getBoundingClientRect();
return(p.clientY-R.top)/R.height};KQ.prototype.SSx=function(p){var a=p.target.tagName.toLowerCase();
if(a=="input"){return}if(a=="button"){var R=new $(V.E.W,!0),Q=p.target.textContent=="+",t=Q?0:KQ.QH(p,p.target)<.5?-1:1;
if(Q)R.data={K:"st_dupsingle",w:this.parent.data.w,Xx:this.nJ};else R.data={K:"st_movsingle",w:this.parent.data.w,Xx:this.nJ,SXl:t};
R.Q=m.hO;R.LB=!0;this.Y(R);R=new $("redrawall",!0);R.data={SXl:t};this.Y(R);return}V.pc(p);this.W_();
this.xw=this.KR.indexOf(p.currentTarget);this.Y(new $("showme"))};KQ.prototype.W_=function(){if(this.lr.enab&&this.lr.enab.l()==!1)this.mw({Lz:"enab",Z:!0})};
KQ.prototype.SSi=function(){var p=this.KR[this.xw];if(p)V.ey(p,"selected");return this.fg[this.xw]};
KQ.prototype.SSo=function(p){var a={};for(var R=0;R<p.length;R++){var Q=p[R],t=null;if(Q=="----")t={_:V.P("hr")};
if(Q=="\n")t={_:V.P("br")};if(Q=="blOptions")t=new Ky([14,10]);if(Q=="brst")t=new MultiCheck([12,72],["R","G","B"]);
if(Q=="knko")t=new gu("Knockout",[[13,1,0],"Shallow","Deep"]);if(Q=="enab")t=new Sz(gZ.names[gZ.order.indexOf(this.$Z)]);
if(Q=="lrMd"||Q=="Md")t=new gu([12,19,0],gE.ih,!1,gE.iK);if(Q=="Opct")t=new Nx([12,0],0,100,"%");if(Q=="iOpa")t=new Nx([12,26],0,100,"%");
if(Q=="blIf")t=new rK;if(Q=="ShdN")t=new Nx([12,68],0,100,"%");if(Q=="lagl"||Q=="Angl")t=new C_([12,15]);
if(Q=="uglg")t=new Sz([12,27]);if(Q=="Dstn")t=new Nx([12,28],0,200,"px");if(Q=="Ckmt")t=new Nx([12,29],0,100,"%");
if(Q=="blur")t=new Nx([12,14,0],0,200,"px");if(Q=="TrnS"||Q=="MpgS")t=new pk([12,21]);if(Q=="Nose")t=new Nx([12,30],0,100,"%");
if(Q=="layerConceals")t=new Sz([12,31]);if(Q=="AntA"||Q=="antialiasGloss")t=new Sz("Anti-alias");if(Q=="GlwT")t=new gu([12,32],gZ.vY.names);
if(Q=="glwS")t=new gu([12,70],gZ.vY.Sz$);if(Q=="Inpr")t=new Nx([12,12],1,100,"%");if(Q=="bvlS")t=new gu([12,22],gZ.Cu.style);
if(Q=="bvlT")t=new gu([12,32],gZ.Cu.SzM);if(Q=="bvlD")t=new gu(null,gZ.Cu.dir);if(Q=="srgR")t=new Nx([12,34],0,1e3,"%");
if(Q=="Sftn")t=new Nx([12,35],0,20,"px");if(Q=="Lald")t=a.lagl;if(Q=="hglM"||Q=="sdwM")t=new gu([12,36],gE.ih,!1,gE.iK);
if(Q=="hglC"||Q=="sdwC")t=new Sv;if(Q=="hglO"||Q=="sdwO")t=new Nx([12,0],0,100,"%");if(Q=="Invr"||Q=="InvT")t=new Sz([4,11]);
if(Q=="Sz")t=new Nx([12,14,0],1,200,"px");if(Q=="Styl")t=new gu([12,40],gZ.stroke.names);if(Q=="PntT")t=new gu([12,66],gZ.stroke.SzH);
if(Q=="Clr")t=new Sv(!0);if(Q=="Grad"){t=new Cu(!0,[12,37],!0);t.a(JSON.parse(gZ.mo.SIN).v)}if(Q=="Rvrs")t=new Sz([12,23,0]);
if(Q=="Dthr")t=new Sz("Dither");if(Q=="Type")t=new gu([12,22],gZ.e.names.slice(0,this.$Z=="FrFX"?6:5));
if(Q=="Ptrn")t=new pS([12,62]);if(Q=="Scl")t=new Nx([12,38],10,500,"%",0,!0);if(Q=="Algn")t=new Sz([12,39]);
if(Q=="Ofst")t=new Yl(!0);if(Q=="phase")t=new Yl(!1);if(Q=="useShape")t=new Sz([12,21]);if(Q=="useTexture")t=new Sz([12,67]);
if(Q=="textureDepth")t=new Nx([12,34],-300,300,"%");var N=Q=="----"||Q=="\n"?Q+R:Q;if(t!=null)a[N]=t}return a};
KQ.prototype.SSU=function(p){var a=this.fg[this.xw];for(var R=0;R<p.length;R++){var Q=this.lr[p[R]];
if(Q&&a.contains(Q._))a.removeChild(Q._)}};KQ.prototype.SSV=function(p){var a=this.fg[this.xw];for(var R=0;
R<p.length;R++){var Q=this.lr[p[R]];if(Q&&!a.contains(Q._))a.appendChild(Q._)}};KQ.prototype.JD=function(p,a){if(this.lr==null)return;
var R=a==gp.EP;if(this.lr.Grad){this.lr.Grad.Ul(p.rc,p.eJ);if(R||a==gp.zc||a==gp.oq)this.lr.Grad.xT(p.Cm)}if(this.lr.Ptrn){if(R||a==gp.Se)this.lr.Ptrn.xT(p.Ym)}if(this.lr.TrnS){if(R||a==gp.YU)this.lr.TrnS.xT(p._p)}if(this.lr.MpgS){if(R||a==gp.YU)this.lr.MpgS.xT(p._p)}};
KQ.prototype.b=function(){for(var p=0;p<this._g.length;p++)this._g[p].b();for(var a in this.lr)if(this.lr[a]instanceof gM)this.lr[a].b()};
KQ.prototype.rM=function(){for(var p in this.lr){var a=this.lr[p];a.parent=this;if(a instanceof gM)a.h(V.E.k,this.SSn,this);
if(this.fg.length==0||p=="useShape"||p=="useTexture"){var R=new Ky(a.S$X()),Q=V.P("div","bordered padded");
if(this.xy==!1){Q.appendChild(R._);Q.appendChild(V.P("hr",""))}this._g.push(R);this.fg.push(Q);this.xU.push(a)}else this.fg[this.fg.length-1].appendChild(a._)}};
KQ.prototype.update=function(p,a){if(this.lr==null)return;if(this.xy)this.gb=JSON.parse(JSON.stringify(a));
for(var R in a){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(R)!=-1)this.lr[R].a(a[R].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(R)!=-1){this.lr[R].a(a[R].v,p)}if(["Md","hglM","sdwM"].indexOf(R)!=-1)this.lr[R].a(gE.$Z.indexOf(a[R].v.BlnM));
if(R=="lrMd"){var Q=(a.sc?[[15,10,27]]:[]).concat(gE.ih),t=(a.sc?[1]:[]).concat(gE.iK);this.lr[R].tY(Q,t);
this.lr[R].a(a[R].v)}if(R=="lagl"){var N=a.uglg&&a.uglg.v?p.Co():a.lagl.v.val;this.lr[R].a(N)}if(R=="Lald"){var N=a.uglg&&a.uglg.v?p.RS():a.Lald.v.val;
this.lr[R].a(null,N)}if(R=="Type")this.lr[R].a(gZ.e.types.indexOf(a.Type.v.GrdT));if(R=="Styl")this.lr[R].a(gZ.stroke.types.indexOf(a.Styl.v.FStl));
if(R=="PntT"){var K=gZ.stroke.MT.indexOf(a.PntT.v.FrFl);this.lr[R].a(K);if(!this.xy){this.SSU(gZ.Yw.concat(gZ.aH.concat(gZ.QN)));
this.SSV([gZ.Yw,gZ.aH,gZ.QN][K])}}if(R=="GlwT")this.lr[R].a(gZ.vY.types.indexOf(a.GlwT.v.BETE));if(R=="glwS")this.lr[R].a(gZ.vY.SIL.indexOf(a.glwS.v.IGSr));
if(R=="bvlS")this.lr[R].a(gZ.Cu.types.indexOf(a.bvlS.v.BESl));if(R=="bvlT")this.lr[R].a(gZ.Cu.See.indexOf(a.bvlT.v.bvlT));
if(R=="bvlD")this.lr[R].a(["In","Out"].indexOf(a.bvlD.v.BESs))}};KQ.prototype.SSn=function(p){for(var a in this.lr){if(this.lr[a]!=p.target)continue;
var R=null,Q=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(a)!=-1)R={type:"#Prc",val:p.target.l()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(a)!=-1)R={type:"#Pxl",val:p.target.l()};if(["Angl","lagl"].indexOf(a)!=-1)R={type:"#Ang",val:p.target.l().TX};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(a)!=-1)R=p.target.l();
if(["Md","hglM","sdwM"].indexOf(a)!=-1)R={BlnM:gE.$Z[p.target.l()]};if(a=="uglg"){R=p.target.l();Q=!0}if(a=="PntT"){R={FrFl:gZ.stroke.MT[p.target.l()]};
Q=!0}if(a=="Lald")R={type:"#Ang",val:p.target.l().alt};if(a=="Type")R={GrdT:gZ.e.types[p.target.l()]};
if(a=="Styl")R={FStl:gZ.stroke.types[p.target.l()]};if(a=="GlwT")R={BETE:gZ.vY.types[p.target.l()]};
if(a=="glwS")R={IGSr:gZ.vY.SIL[p.target.l()]};if(a=="bvlS")R={BESl:gZ.Cu.types[p.target.l()]};if(a=="bvlT")R={bvlT:gZ.Cu.See[p.target.l()]};
if(a=="bvlD")R={BESs:["In","Out"][p.target.l()]};this.mw({Lz:a,Z:R});if(Q){if(this.xy)this.update(null,this.gb);
else{var t=this.parent,N=t.NI,K=this.nJ,T=N.M[t.data.w].add.lmfx[gZ.lV[K[0]]].v[K[1]].v;this.update(N,T)}}}};
KQ.prototype.mw=function(p){if(this.xy){this.gb[p.Lz].v=p.Z;this.Y(new $(V.E.k))}else{p.K="changeprop";
p.w=this.parent.data.w;p.Yo=this.nJ;var a=new $(V.E.W,!0);a.data=p;a.Q=m.hO;a.LB=!0;this.Y(a);this.Y(new $("afterchange",!0))}};
KQ.prototype.l=function(){return JSON.parse(JSON.stringify(this.gb))};KQ.KR={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(gZ.Yw),GrFl:["enab","Md","Opct"].concat(gZ.aH),patternFill:["enab","Md","Opct"].concat(gZ.QN),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(gZ.Yw.concat(gZ.aH.concat(gZ.QN)))};
function Sl(){gt.call(this,[11,6],"layerstyle");this.SiQ=-1;this.data={};this.NI=null;this.$F=null;this.Uf=[];
this.nt=[];V.ey(this.body,"flexrow");this.kz=V.P("div","bordered");this.kz.setAttribute("style","min-width:13em;");
this.body.appendChild(this.kz);this.Or=V.P("div","");this.Or.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Or);this.VI=V.P("div","form");this.VI.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.VI);this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);this.VI.appendChild(this.JN._);
this._r=new gi([12,87],!0,null,!0);this._r.h("click",this.Sdr,this);this.VI.appendChild(this._r._);this.fL=new pD;
this.fL.parent=this;this.fL.h(V.E.k,this.SdK,this);this.VI.appendChild(this.fL._);this.h("closebtn",this.VT,this);
this.h("redrawall",this.SNl,this)}Sl.prototype=new gt;Sl.prototype.AM=function(){return!0};Sl.prototype.SdK=function(p){var a=this.fL.l();
this.mw({K:"setstl",Z:a.jd});this.SNl(null)};Sl.prototype.Sdr=function(p){var a=this.NI,R=this.data.w;
if(R==null)R=a.V[0];var Q=this.NI.M[R],t=gB.Sly(Q),N=new $(V.E.v,!0);N.data={K:V.H.es,ii:"add",L_:gp.xC,yR:[JSON.parse(JSON.stringify(t))]};
this.Y(N)};Sl.prototype.Sdl=function(p){this.data.index=p.currentTarget.nJ;this.Wc(p.currentTarget.nJ)};
Sl.prototype.SNl=function(p){this.FU(this.NI,this.data)};Sl.prototype.Wc=function(p,a){V.Tl(this.Or);
for(var R=0;R<this.Uf.length;R++)this.Uf[R].SSL();var Q=p==0?this.Uf[0]:this.nt[p[0]][p[1]];this.Or.appendChild(Q.SSi());
if(a)Q.W_();var t=this.NI;if(t){var N=t.M[this.data.w];this.Uf[0].update(t,gf.GQ.Kt(t,N));var K=N.add.lmfx;
if(K==null)return;for(var R=0;R<gZ.order.length;R++){var T=K[gZ.lV[R]].v;for(var d=0;d<T.length;d++)this.nt[R][d].update(t,T[d].v)}}if(a)Q.W_()};
Sl.prototype.b=function(){gt.prototype.b.call(this);this._r.b();this.fL.b();for(var p=0;p<this.Uf.length;
p++)this.Uf[p].b()};Sl.prototype.FU=function(p,a){var R=a.w==null;this.data.w=a.w;this.data.index=a.index;
a=this.data;this.NI=p;if(R)a.w=p.V.length==0?p.M.length-1:p.V[0];V.Tl(this.kz);var Q=p.M[a.w].add.lmfx;
this.Wj();this.Uf=[new KQ("bops",!1,0)];this.nt=[];for(var t=0;t<gZ.order.length;t++){this.nt.push([]);
var N=Q==null?[]:Q[gZ.lV[t]].v;for(var K=0;K<N.length;K++){var T=new KQ(gZ.order[t],!1,[t,K]);this.Uf.push(T);
this.nt[t].push(T)}if(N.length==0){var T=new KQ(gZ.order[t],!1,[t,0]);this.Uf.push(T);this.nt[t].push(T)}}this.b();
this.SNG(this.$F,gp.EP);for(var t=0;t<this.Uf.length;t++){this.Uf[t].parent=this;this.Uf[t].SS$(this.kz);
this.Uf[t].h("showme",this.Sdl,this)}if(a.index==null||a.index==0||!R&&Q[gZ.lV[a.index[0]]].v.length==0){this.Wc(0)}else this.Wc(a.index,R);
this.h("afterchange",this.Wj,this)};Sl.prototype.Wj=function(p){var a=this.NI,R=this.data.w;if(R==null)R=a.V[0];
var Q=this.NI.M[R],t=gB.Sly(Q);this.fL.a(t,a.add.Patt?a.add.Patt:[],a.Co(),a.RS())};Sl.prototype.JD=function(p,a){this.$F=p;
this.SNG(p,a);if(a==gp.xC||a==gp.EP){this.fL.xT([p.Lu,p.Ym])}if(a==gp.Sq){}};Sl.prototype.SNG=function(p,a){for(var R=0;
R<this.Uf.length;R++)this.Uf[R].JD(p,a)};Sl.prototype.VT=function(p){this.mw({K:"cancel"})};Sl.prototype.xs=function(p){this.mw({K:"confirm"});
this.close()};Sl.prototype.mw=function(p){p.w=this.data.w;var a=new $(V.E.W,!0);a.data=p;a.Q=m.hO;a.LB=!0;
this.Y(a);this.Wj()};Sl.SNu=function(p){var a=[{name:[14,10],i_:!0}];for(var R=0;R<gZ.names.length;R++)a.push({name:gZ.names[R]});
if(p){a[a.length-1].i_=!0;a.push({name:"Styles To Separate Layers",J:function(Q){return{J:Q!=null&&Q.V.length!=0&&Q.M[Q.V[0]].add.lmfx!=null}}})}return a};
Sl.SpI=function(p){var a=[{q:V.E.v,F:{K:V.H.XS,ax:"layerstyle"}}];for(var R=0;R<gZ.names.length;R++)a.push({q:V.E.v,F:{K:V.H.XS,ax:"layerstyle",index:[R,0]}});
if(p){var Q={classID:"Mk",null:Nr.Fx("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
a.push({q:V.E.JF,F:{zt:"make",UD:Q}})}return a};Sl.Spj=function(p){var a=[];if(p)a.push({name:[6,48,0,0],Kk:!0},{name:[6,48,0,1],Kk:!0},{name:[6,48,0,2],Kk:!0,i_:!0});
for(var R in gA.names)a.push({name:gA.names[R],i_:gA.SIZ.indexOf(R)!=-1,Kk:c[R]!=null});return a};Sl.SlZ=function(p){var a=[];
if(p)for(var R=0;R<3;R++)a.push({q:V.E.JF,F:m.Wi.FQ(R)});for(var Q in gA.names){var t=gw.gD(Q);for(var N in gA.DD)if(gA.DD[N]==Q)t.classID=N;
var K={zt:"make",UD:{classID:"Mk",null:Nr.Fx("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:t}}}}};
a.push({q:V.E.JF,F:K})}return a};function da(){gt.call(this,"Merge Channels","mergechannels");this.nQ=null;
var p=V.P("div","form");this.body.appendChild(p);this.Uk=[];for(var a=0;a<3;a++){var R=new gu(gA.DA[a],[]);
this.Uk.push(R);p.appendChild(R._);V.zp(p)}this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);
p.appendChild(this.JN._)}da.prototype=new gt;da.prototype.b=function(){gt.prototype.b.call(this);for(var p=0;
p<3;p++)this.Uk[p].b()};da.prototype.FU=function(p,a,R,Q){this.nQ=R;var t=[];for(var N=0;N<R.length;
N++)t.push(R[N].name);for(var N=0;N<3;N++){var K=this.Uk[N];K.tY(t);K.a(Math.min(N,R.length-1))}};da.prototype.xs=function(p){var a=this.nQ,R=a[0],Q=new $(V.E.JF,!0);
Q.data=SF.MJ(R.C,R.T,R.po,"Merged Document","Wht");this.Y(Q);var t=[];for(var N=0;N<3;N++)t.push(a[this.Uk[N].l()].iD());
var R=a[a.length-1],K=R.M[0],T=K.buffer;for(var N=0;N<T.length;N+=4){T[N]=t[0][N];T[N+1]=t[1][N];T[N+2]=t[2][N]}K.U();
R.U();this.close()};function YT(){gt.call(this,[1,10],"script");var p=V.P("div","form");p.setAttribute("style","width:44em");
this.body.appendChild(p);this.$F=null;this.NH=[];this._l=[];this.SvP;var a=this.gJ=new gi([1,2],!1,null,!0);
a.h("click",this.Wu,this);p.appendChild(a._);var R=new gi("JS Reference",!1,null,!0);R.h("click",this.SdO,this);
p.appendChild(R._);p.appendChild(new Ky("Demos:")._);this.StC=[];var Q=YT.OZ;for(var t=0;t<Q.length;
t++){var N=new gi(Q[t].Nv,!1,null,!0);this.StC.push(N);p.appendChild(N._);N.h("click",this.SdJ,this)}this.WF=V.P("textarea");
this.WF.setAttribute("rows",16);this.WF.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
p.appendChild(this.WF);var K=new gi("Run",!0,null,!0);K.h("click",this.xs,this);p.appendChild(K._);this.SdS=V.P("div");
p.appendChild(this.SdS)}YT.prototype=new gt;YT.prototype.b=function(){this.gJ.b()};YT.prototype.Wu=function(){var p=this.SvP;
if(p==null)p="script.jsx";var a=new $(V.E.v,!0);a.data={K:V.H.XS,ax:"namewindow",pt:p.slice(0,p.length-4),HI:this.Sds.bind(this)};
this.Y(a)};YT.prototype.Sds=function(p){var a=this.WF.value,R=A.gd(a),Q=new $(V.E.v,!0);Q.data={K:V.H.ik,gV:R.buffer,J_:p+".jsx",SCT:!0};
this.Y(Q)};YT.prototype.SdI=function(p){var a=this.NH.indexOf(p.target),R=this.SvP=this._l[a],Q=this.$F.DW.fB[R],t=new Uint8Array(Q),N=A.ng(t,0,t.length);
this.WF.value=N};YT.prototype.FU=function(p,a,R){this.WF.value=YT.OZ[0].V$;this.SsY()};YT.prototype.SsY=function(){var p=this.$F.DW,a=this.SdS;
V.Tl(a);this.NH=[];this._l=[];a.textContent="Saved scripts: ";for(var R in p.fB){if(R.endsWith(".jsx")){var Q=new gi(R,!1,null,!0);
this.NH.push(Q);this._l.push(R);Q.h("click",this.SdI,this);a.appendChild(Q._)}}};YT.prototype.JD=function(p,a){this.$F=p;
if(a==gp.ry)this.SsY()};YT.prototype.SdO=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.Jb,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.Y(a)};YT.prototype.xs=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.UP,qb:this.WF.value};this.Y(a)};
YT.prototype.SdJ=function(p){var a=this.StC.indexOf(p.currentTarget);this.WF.value=YT.OZ[a].V$};YT.OZ=[{Nv:"Hello",V$:"\nalert(\"Hello Photopea!\");\n"},{Nv:"Process Layers",V$:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Nv:"Clone Layers",V$:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function Nc(){gt.call(this,[11,7],"newproject");this.data=null;this.nQ=null;var p=V.P("div","flexrow");
this.rV=p;this.body.appendChild(p);var a=V.P("div","form");this.jJ=a;p.appendChild(a);this.XR=new KH([12,48]);
a.appendChild(this.XR._);V.zp(a);this.v_=new px(!0);this.v_.a(new X(1280,720),72);this.v_.h(V.E.k,this.OI,this);
a.appendChild(this.v_._);this._H=new gu([12,46],[[13,1,8],[13,1,9],[12,46]]);a.appendChild(this._H._);
a.appendChild(V.P("hr"));this.Sj=new gi([12,49],!0,null,!0);this.Sj.h("click",this.xs,this);a.appendChild(this.Sj._);
var R=Nc.rp,Q=[];for(var t=0;t<R.length;t++)Q.push(R[t].name);this.nD=new KU(null,Q);this.nD.h(V.E.k,this.Ssk,this);
a.appendChild(this.nD._);this.nD._.style["margin-top"]="1em";this.kC=new ps(!0);this.kC.h(V.E.k,this.Sd_,this);
a.appendChild(this.kC._);this.Ssk();this.a$=new SV;this.a$.parent=this;this.a$._.setAttribute("style","margin-left:1em");
this.a$.h("tempready",this.SKo,this)}Nc.prototype=new gt;Nc.prototype.JD=function(p,a){this.a$.JD(p)};
Nc.prototype.VC=function(p,a){return new X(Math.max(0,Math.min(70,(p-690)/2)),p>a?Math.max(0,Math.min(50,(a-400)/2)):0)};
Nc.prototype.Jg=function(p,a){this.jJ.setAttribute("style","width:"+Math.min(p,338)+"px");this.kC._.style.height=a-260+"px";
var R=this.a$._,Q=R.parentNode;if(p<500){if(Q!=null)this.rV.removeChild(R)}else{if(Q==null)this.rV.appendChild(R)}this.a$.Jg(p-360,a-35)};
Nc.prototype.OI=function(){this.a$.a(this.v_.l())};Nc.prototype.Sd_=function(p){var a=this.kC.l(),R=Nc.rp[this.nD.l()].E$[a],Q=R[4];
if(Q==0)Q=72;var t=R[1],N=R[2],K=["px","%","mm","in"].indexOf(R[3]),T=[1,1,25.4/Q,1/Q][K];t/=T;N/=T;
this.v_.a(new X(Math.round(t),Math.round(N)),Q);this.v_.SWr(K);this.kC.NY(a);this.OI()};Nc.prototype.Ssk=function(p){var a=Nc.rp[this.nD.l()].E$,R=[],Q=[],t=Math.round(106*V.o()),N=Math.round(106*V.o()),K=0;
for(var T=0;T<a.length;T++)K=Math.max(K,a[T][1],a[T][2]);for(var T=0;T<a.length;T++){var d=a[T],y=d[1]+" x "+d[2]+" "+d[3];
if(d[3]=="in")y=(d[1]*25.4).toFixed(0)+" x "+(d[2]*25.4).toFixed(0)+" mm";if(d[3]=="mm")y=(d[1]/25.4).toFixed(1)+" x "+(d[2]/25.4).toFixed(1)+" in";
if(d[4])y=y+" @ "+d[4]+" ppi";Q.push(y);R.push(Nc.np(d,t,N,K))}this.kC.ER(R,Q,t,N)};Nc.np=function(p,a,R,Q){var t=V.P("canvas",""),N=t.getContext("2d");
t.width=a;t.height=R;var K=Math.round(a/8),T=Math.floor(11*V.o()),d=p[1],y=p[2];N.fillStyle="#000000";
N.font=Math.round(T*.9)+"px \"Open Sans\", Sans-Serif";var E=d+" x "+y+" "+p[3],k=N.measureText(E);N.fillText(E,Math.round((a-k.width)/2),R-Math.round(K/2));
if(p[0]!=null){N.font="bold "+T+"px \"Open Sans\", Sans-Serif";var E=p[0],k=N.measureText(E);N.fillText(E,Math.round((a-k.width)/2),R-Math.round(K/2)-Math.round(T*1.3))}R-=Math.round(2.5*T);
var D=Math.min((a-K)/d,(R-K)/y);D*=.5+.5*(Math.max(d,y)/Q);var P=(a-d*D)/2,e=(R-y*D)/2;N.strokeRect(Math.round(P)+.5,Math.round(e)+.5,Math.round(d*D),Math.round(y*D));
return t.toDataURL()};Nc.prototype.b=function(){gt.prototype.b.call(this);this.v_.b();this.XR.b();this._H.b();
this.Sj.b();this.XR.a(gL.get([11,7]));this.nD.b();this.a$.b()};Nc.prototype.xs=function(p){var a=this.v_.l(),R=a.x,Q=a.y;
this.close();var t=new $(V.E.JF,!0);t.data=SF.MJ(R,Q,this.v_.S$h(),this.XR.l(),["Wht","Trns","BckC"][this._H.l()]);
this.Y(t);this.SIx()};Nc.prototype.SKo=function(p){var a=p.data.NI,R=new $(V.E.v,!0);R.data={K:V.H.UT,NI:a};
this.Y(R);this.close();this.SIx()};Nc.prototype.SIx=function(){var p=this.nQ[this.nQ.length-1],a=this.data.SCG;
if(a)Sh.SR(function(){var R=new XMLHttpRequest,Q="https://www.googleapis.com/drive/v3/files?"+Sh.kc();
R.open("POST",Q,!0);R.setRequestHeader("Content-Type","application/json");R.addEventListener("load",function(t){var N=JSON.parse(t.target.response);
p.JM={file:N,_z:"psd"};alert(p.name+" created in Google Drive")});R.send(JSON.stringify({name:p.name,SyC:[a]}))})};
Nc.prototype.FU=function(p,a,R,Q){this.nQ=R;if(p!=null&&p.S!=null){var t=new x(0,0,p.C,p.T).Yl(p.S.rect);
this.v_.a(new X(t.C,t.T))}this.data=a;this.OI();this.XR.Np();if(V.gi())SK.SLk(this.SKU.bind(this))};
Nc.prototype.SKU=function(p){if(p=="granted")SK.tC(this,this.SKA.bind(this))};Nc.prototype.SKA=function(p,a){this.v_.a(new X(a.C,a.T))};
Nc.rp=[{name:"Social",E$:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],E$:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],E$:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],E$:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],E$:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],E$:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",E$:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function SQ(p,a,R){gt.call(this,a,"sel_"+p);this.K=p;var Q=V.P("div","form");this.body.appendChild(Q);
this.XR=new SD(a,0,255,null,0,!1,!0);Q.appendChild(this.XR._);this.XR.a(1);var t=V.P("span");t.textContent=R;
Q.appendChild(t);V.zp(Q);this.Sdg=new Sz("Apply at canvas bounds");if(p!="border")Q.appendChild(this.Sdg._);
this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);Q.appendChild(this.JN._)}SQ.prototype=new gt;
SQ.prototype.Pn=function(p,a){if(p==null)return;if(p.S==null)alert("No selection!");return p.S!=null};
SQ.prototype.xs=function(p){var a=new $(V.E.JF,!0);a.data=m.GP.SCi(this.K,this.XR.l(),this.Sdg.l());
a.LB=!0;this.Y(a);this.close()};SQ.prototype.b=function(){gt.prototype.b.call(this);if(this.XR)this.XR.b()};
SQ.prototype.FU=function(p,a){};function SG(p,a,R,Q){gt.call(this,R,a);this.EA=Q;this.rp=null;this.jJ=V.P("div","form");
this.body.appendChild(this.jJ);this.XR=p==0?new KH(R):new SD(R,0,100,null,0,!1,!0);this.XR.h(V.E.k,this.TD,this);
this.jJ.appendChild(this.XR._);this.JN=new gi("OK",!0,null,!0);this.JN.h("click",this.xs,this);this.jJ.appendChild(this.JN._);
this.h("closebtn",this.VT,this)}SG.prototype=new gt;SG.prototype.TD=function(p){var a=this.XR.l();if(this.EA&&this.rp.HI)this.rp.HI(a)};
SG.prototype.VT=function(p){if(this.EA&&this.rp.HI)this.rp.HI("cancel")};SG.prototype.xs=function(p){if(this.EA&&this.rp.HI)this.rp.HI("confirm");
else{var a=this.XR.l();if(this.rp.HI)this.rp.HI(a);else{var R=this.rp.Spu,Q=new $(R.q,!0);Q.Q=R.Q;Q.data=R.F;
Q.data.Z=a;Q.LB=!0;this.Y(Q)}}this.close()};SG.prototype.b=function(){gt.prototype.b.call(this);if(this.XR)this.XR.b()};
SG.prototype.FU=function(p,a){this.rp=a;this.XR.a(a.pt);this.XR.Np();this.TD(null)};function d_(){gt.call(this,[1,5],"open_from_url");
this.Gy=null;var p=V.P("div","form");this.body.appendChild(p);this.g_=new KH("URL",null,22);p.appendChild(this.g_._);
this.g_.h(V.E.k,this.xs,this);V.zp(p);this._F=new KU([21,0],[[21,2],[21,1]]);p.appendChild(this._F._);
this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);p.appendChild(this.Sj._)}d_.prototype=new gt;
d_.prototype.b=function(){gt.prototype.b.call(this);this._F.b()};d_.prototype.FU=function(p,a,R){this.g_.Np();
this.Gy=null;if(p&&R.indexOf(p)!=-1)this.Gy=R.indexOf(p)};d_.prototype.xs=function(p){var a=new $(V.E.v,!0),R=this.g_.l();
a.data={K:V.H.Pa,L_:{url:R,dg:!0,Gy:this._F.l()==1?this.Gy:null}};this.Y(a);this.close()};function rL(){gt.call(this,[12,79],"preferences");
this.$F=null;var p=V.P("div","form");this.body.appendChild(p);this.KR=[new Sz([8,2]),new Sz([8,4]),new gu([12,80,3],[[12,93,3],[12,80,4]]),new Nx([12,80,5],1,100,null,2),new gu(null,S.EH.dD),new gu([12,80,6],S.EH.dD)];
for(var a=0;a<this.KR.length;a++){var R=this.KR[a];p.appendChild(R._);if(a!=3)V.zp(p);R.h(V.E.k,this.aa,this)}}rL.prototype=new gt;
rL.prototype.b=function(){gt.prototype.b.call(this);for(var p=0;p<this.KR.length;p++)this.KR[p].b()};
rL.prototype.FU=function(p,a,R){};rL.prototype.JD=function(p,a){this.$F=p;this.KR[0].a(p.QR.zk);this.KR[1].a(p.QR.HS);
this.KR[2].a(p.QR.lE);this.KR[3].a(p.QR.vq);this.KR[4].a(p.QR.vX);this.KR[5].a(p.QR.tc)};rL.prototype.aa=function(p){var KI=this.KR,a=JSON.parse(JSON.stringify(this.$F.QR));
a.zk=KI[0].l();a.HS=KI[1].l();a.lE=KI[2].l();a.vq=KI[3].l();a.vX=KI[4].l();a.tc=KI[5].l();if(a.vX!=4)a.vq=Math.round(a.vq);
var R=new $(V.E.v,!0);R.data={K:V.H.es,L_:gp.rZ,yD:a};this.Y(R)};function CQ(){gt.call(this,[11,8],"saveforweb");
this.SKs="";this.h("closebtn",function(){this.fx.Px()},this);this.Xv=new X(512,512);this.NI=null;this.fh=null;
this.SKI=null;this.$F=null;V.ey(this.body,"flexrow");var p=V.P("div"),a=V.P("div");this.body.appendChild(p);
this.body.appendChild(a);this.hJ=V.P("div","imgcont");p.appendChild(this.hJ);this.fx=new pP;this.fx.Jg(this.Xv.x,this.Xv.y);
this.Aa=V.P("span");p.appendChild(this.Aa);this.jJ=V.P("div","form cell");this.jJ.setAttribute("style","width:15em; padding-left:1em;");
a.appendChild(this.jJ);this.zS=new gu([12,50],gr.ms());this.jJ.appendChild(this.zS._);this.zS.h(V.E.k,this.Io,this);
this.v_=new px(!1,!0);this.v_.h(V.E.k,this.Io,this);this.jJ.appendChild(this.v_._);this.CA=new lK;this.CA.h(V.E.k,this.Io,this);
this.jJ.appendChild(this.CA._);this._h=new gi([1,2],!0,null,!0);this._h.h("click",this.xs,this);this.jJ.appendChild(this._h._)}CQ.prototype=new gt;
CQ.prototype.Pn=function(p,a){return p!=null};CQ.prototype.b=function(){gt.prototype.b.call(this);this.v_.b();
this.zS.b();this.CA.b();this._h.b()};CQ.prototype.xs=function(p){var a=this.NI.name.split(".")[0],R=gr.ms()[this.zS.l()],Q=this.fh,t=a+"."+R.toLowerCase(),N=this.NI,K=N.GD;
if(K.length!=0&&(R=="JPG"||R=="PNG"||R=="GIF")&&this.CA.l().pop()){var T="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",d=[],y={},E=new x(0,0,N.C,N.T),k=N.iD();
for(var D=0;D<K.length;D++)d.push(m.rG.Rg(K,D));d.reverse();var P=S.rect.CR([0,0,N.C,N.T],d);for(var D=0;
D<P.length;D++){var e=P[D],Y=new x(e[0],e[1],e[2]-e[0],e[3]-e[1]),O=e.length==5?K[e[4]].v:null,W=S.p(Y.u()*4);
S.gW(k,E,W,Y);var w="img/img"+(D+1)+"."+R.toLowerCase();y[w]=new Uint8Array(gr[R].WL([[W.buffer,0]],Y.C,Y.T,this.CA.l()));
T+="<div style=\"background-image:url('"+w+"'); left:"+Y.x+"px; top:"+Y.y+"px; width:"+Y.C+"px; height:"+Y.T+"px\">";
if(O&&O.url.v!="")T+="\n\t<a href=\""+O.url.v+"\" target=\""+O.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
T+="</div>\n"}T+="</body>\n</html>\n";var g=S.p(Math.round(T.length*1.5)),J=A.VK(T,g,0);y["index.html"]=g.slice(0,J);
Q=UZIP.encode(y);t=a+".zip"}var U=new $(V.E.v,!0);U.data={K:V.H.IB,data:Q,name:t};this.Y(U);this.fx.Px();
this.close()};CQ.prototype.FU=function(p,a){if(a.bU!=null)this.zS.a(a.bU);this.NI=p;var R=p.C+","+p.T;
if(R!=this.SKs){this.SKs=R;this.v_.a(new X(p.C,p.T))}this.CA.SvH();this.Io(null,!0)};CQ.prototype.VC=function(p,a){return new X(Math.max(0,Math.min(150,(p-770)/2)),Math.max(0,Math.min(150,(a-590)/2)))};
CQ.prototype.Jg=function(p,a){this.Xs=p;this.hZ=a;this.Xv.x=Math.min(512,p-26-214);this.Xv.y=Math.min(512,a-45);
if(this.NI==null)return;var R=this.v_.l(),p=R.x,a=R.y,Q=gr.ms()[this.zS.l()],t=gr[Q],k="<span style=\"width:",D="display:inline-block; text-align:right;\">";
if(t.Ja){var N=p,K=a,T;if(Q=="PDF"||t.uS){N=this.Xv.x;K=this.Xv.y}else{N=Math.min(p+20,this.Xv.x);K=Math.min(a+20,this.Xv.y)}this.hJ.firstChild.setAttribute("style","display:block; width:"+N+"px; height:"+K+"px;")}else{if(t.uS){N=this.Xv.x;
K=this.Xv.y}else{var d=this.SKI,y=d[0].sE,N=y.C,K=y.T;this.fx.Jg(Math.max(50,Math.min(N/V.o(),this.Xv.x)),Math.max(50,Math.min(K/V.o(),this.Xv.y)))}}var E=this.fh.byteLength,P=Q+":"+k+64+"px;"+D+CQ.Nq(E)+"</span>";
if(this.Xv.x>200)P+=k+90+"px; opacity:"+.5+";"+D+E.toLocaleString()+" B</span>";this.Aa.innerHTML=P};
CQ.Nq=function(p){var a=0;while(p>>>a+10!=0)a+=10;var R=(p/(1<<a)).toFixed(1),Q=["B","KB","MB","GB"][Math.floor(a/10)];
return R+" "+Q};CQ.prototype.JD=function(p,a){this.$F=p};CQ.prototype.Io=function(p,a){var R=this.v_.l(),Q=R.x,t=R.y,N=this.zS.l(),K=gr.ms()[N],T=gr.cR(this.NI)[0].length,d=["GIF","PNG","WEBP"].indexOf(K)!=-1&&T>1,D="";
if(d&&a&&(T>4&&Q*t>1024*1024||Q*t*T>800*800*50)){var y=1;while(Math.max(Q>>>y,t>>>y)>800)y++;var E=window.confirm("Your animation is large ("+Q+" x "+t+" px). Press \"OK\" to scale it to "+(100>>>y)+"%. Press \"Cancel\" to keep the size.");
if(E){this.v_.a(new X(Q>>>y,t>>>y));Q=Q>>>y;t=t>>>y}}this.CA.SCc(K,d,this.NI.GD.length!=0);var k=this.CA.l();
this.fh=gr.$x(this.NI,K,Q,t,k,this.$F);if(this.fh==null){this.NI=null;return}V.Tl(this.hJ);this.fx.Px();
var P=gr[K];if(P.uS){this.hJ.innerHTML="<div></div>";D+="width:0px"}else if(P.Ja){var e=Q,Y=t,O;if(K=="PDF"){O=URL.createObjectURL(new Blob([this.fh],{type:"application/pdf"}))}else{O=URL.createObjectURL(new Blob([this.fh],{type:"image/svg+xml"}))}this.hJ.innerHTML="<iframe src=\""+O+"\"></iframe>"}else{var W=this.SKI=P.Lc(this.fh),w=W[0].sE,e=w.C,Y=w.T;
this.fx.a(W,W.length>1?k[k.length-2]:0);this.hJ.appendChild(this.fx._);D="background: rgba(0,0,0,0);"}this.hJ.setAttribute("style","display:block; background-size:"+16/V.o()+"px;"+D);
this.Jg(this.Xs,this.hZ)};function SA(){gt.call(this,[11,13],"shortcuts");var p=this.rV=V.P("div","scrollable");
p.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(p);
this.SeR()}SA.prototype=new gt;SA.prototype.b=function(){gt.prototype.b.call(this);this.SeR()};SA.prototype.SeR=function(){var p="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",a="";
a+="<h2 style=\"margin-top:0;\">Main Menu</h2>";a+=p;a+=this.eQ([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";a+=p;a+=this.eQ("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
a+=p;a+=this.eQ([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
a+=p;var R=[];for(var Q=0;Q<SA.Wh.length;Q+=3)R.push(SA.Wh[Q],SA.Wh[Q+1]);a+=this.eQ(R);a+=this.eQ(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
a+="</div>";this.rV.innerHTML=a};SA.prototype.eQ=function(p){var a="",R=!0;for(var Q=0;Q<p.length;Q+=2){var t=p[Q],N=p[Q+1];
if(N==null){R=!1;continue}var K=V.SHA(gL.get(t));if(N=="---"){if(!R)a+="<br/>";a+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+K+"</div>"}else a+="<div>"+K+" <span style=\"float:right; font-weight:bold;\">"+N+"</span> </div>";
R=!1}return a};SA.Wh=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function KC(){gt.call(this,[8,11,1],"soptions");this.Gx=null;var p=V.P("div","form");p.style.width="20em";
this.body.appendChild(p);this.gn={Nm:[12,48],url:"URL",null:[12,71]};this.KR={};for(var a in this.gn){var R=new KH(this.gn[a],null,15);
this.KR[a]=R;p.appendChild(R._)}var Q=new gi("OK",!0,null,!0);Q.h("click",this.xs,this);p.appendChild(Q._)}KC.prototype=new gt;
KC.prototype.FU=function(p,a,R){var Q=a.Z;this.Gx=JSON.stringify(Q);for(var t in this.gn){if(Q[t])this.KR[t].a(Q[t].v)}};
KC.prototype.xs=function(p){var a=JSON.parse(this.Gx);for(var R in this.gn){var Q=this.KR[R].l();a[R]={t:"TEXT",v:Q}}var t=new $(V.E.W,!0);
t.Q=m.ap;t.data=a;t.LB=!0;this.Y(t);this.close()};function Su(){gt.call(this,[2,3],"fill");this.$F=null;
this.zV=null;var p=V.P("div","form padded");p.style.width="22em";this.body.appendChild(p);this.Jm="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.yc=new gu([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.yc.h(V.E.k,this.SCy,this);
p.appendChild(this.yc._);this.hJ=V.P("span");p.appendChild(this.hJ);this.yy=new Sv;this.yy.parent=this;
this.yy.mz(0);this._o=new gu([12,19,0],gE.ih,!1,gE.iK);p.appendChild(this._o._);this.gk=new Nx([12,0],0,100,"%",0,!1);
this.gk.a(100);p.appendChild(this.gk._);this.Sj=new gi("OK",!0,null,!0);this.Sj.h("click",this.xs,this);
this.body.appendChild(this.Sj._)}Su.prototype=new gt;Su.prototype.Pn=function(p,a){return p!=null};Su.prototype.AM=function(){return!0};
Su.prototype.SCy=function(){var p=this.yc.l()==2,a=this.yy._,R=this.hJ;if(p)R.appendChild(a);else if(R.contains(a))R.removeChild(a)};
Su.prototype.b=function(){gt.prototype.b.call(this);this.yc.b();this._o.b();this.gk.b()};Su.prototype.xs=function(p){if(!this.zV.Fp())return;
var a=new $(V.E.JF,!0),R=this.yc.l();a.data=m.WH.FQ(this.Jm[R],gE.TV[this._o.l()],this.gk.l()/100,this.yy.l());
this.close();this.Y(a)};Su.prototype.FU=function(p,a){this.zV=p};Su.prototype.JD=function(p,a){this.$F=p};
function dy(){gt.call(this,[14,9],"stroke");this.$F=null;this.jJ=V.P("div","form");this.jJ.setAttribute("style","width:24em");
this.body.appendChild(this.jJ);this.tA=new KQ("FrFX",!0);this.tA.parent=this;var p=["Sz","Styl","Md","Opct"].concat(gZ.Yw);
for(var a=0;a<p.length;a++){var R=this.tA.lr[p[a]]._;this.jJ.appendChild(R)}this.SKt=!1;this.Sj=new gi("OK",!0,null,!0);
this.Sj.h("click",this.xs,this);this.body.appendChild(this.Sj._)}dy.prototype=new gt;dy.prototype.Pn=function(p,a){return p!=null};
dy.prototype.AM=function(){return!0};dy.prototype.b=function(){gt.prototype.b.call(this);this.tA.b()};
dy.prototype.xs=function(p){var a=new $(V.E.W,!0);a.Q=m.gA;a.data={K:"stroke",SOI:this.tA.l()};this.close();
this.Y(a)};dy.prototype.FU=function(p,a){if(!this.SKt){var R=gZ.pB[gZ.order.indexOf("FrFX")];R=JSON.parse(R);
this.tA.update(p,R);this.SKt=!0}var R=this.tA.l(),Q=this.$F.rc;R.Clr.v=S.e.HW({D:Q>>16&255,X:Q>>8&255,N:Q&255});
this.tA.update(p,R)};dy.prototype.JD=function(p,a){this.$F=p};function dY(){gt.call(this,[11,9],"textwarp");
this.KR=new dZ;this.KR.h(V.E.k,this.HP,this);this.KR.parent=this;this.jJ=V.P("div","form");this.jJ.setAttribute("style","width:20em");
this.body.appendChild(this.jJ);this.jJ.appendChild(this.KR.Ti._);this.jJ.appendChild(this.KR.en._);this.jJ.appendChild(this.KR.TQ._);
this.jJ.appendChild(this.KR.Tj._);this.jJ.appendChild(this.KR.aY._);this.Sj=new gi("OK",!0,null,!0);
this.Sj.h("click",this.xs,this);this.jJ.appendChild(this.Sj._);this.h("closebtn",this.VT,this)}dY.prototype=new gt;
dY.prototype.AM=function(){return!0};dY.prototype.b=function(){gt.prototype.b.call(this);this.KR.b()};
dY.prototype.HP=function(p){var a=this.KR.l();this.Oq({K:"warp",KF:a})};dY.prototype.Oq=function(p){var a=new $(V.E.W,!0);
a.Q=m.Fr;a.data=p;a.LB=!0;this.Y(a)};dY.prototype.VT=function(p){this.Oq({K:"warpCancel"})};dY.prototype.xs=function(p){this.Oq({K:"warpConfirm"});
this.close()};dY.prototype.FU=function(p,a){var R=p.M[p.V[0]];this.KR.a(R.add.TySh.oJ)};function dn(){gt.call(this,"Raw Photopea","rawpea");
this.vi=null;this.$d=null;this._U=null;this.Sy$=0;this.ah=null;this.km=null;this.SKc=500;this.SCd=500;
this.h("closebtn",this.ki,this);V.ey(this.body,"flexrow");var p=V.P("div"),a=V.P("div"),t="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
a.setAttribute("style","padding-left: 1em");this.body.appendChild(p);this.body.appendChild(a);this.Xd=V.P("canvas");
p.appendChild(this.Xd);this.Dw=new KM(225);this.Dw.tH(4);a.appendChild(this.Dw._);this.jJ=V.P("div");
this.jJ.setAttribute("style","width:18em;");a.appendChild(this.jJ);this.SCg=new Ky("Hi",!0);this.jJ.appendChild(this.SCg._);
this.re=[new gW("Temperature",2e3,13e3),new gW("Tint",-150,150),new gW([4,3],-4,4,null,!0),new gW([12,3,0],-100,100)];
for(var R=0;R<this.re.length;R++){var Q=this.re[R];Q.a(0);Q.h(V.E.k,this.$X,this);this.jJ.appendChild(Q._);
if(R==1)this.jJ.appendChild(V.P("hr"))}this.Sj=new gi([1,0],!0,null,!0);this.Sj.h("click",this.xs,this);
this.jJ.appendChild(this.Sj._);this._J=new gi(t+" JPG",!0,null,!0);this._J.h("click",this.SCW,this);
this.jJ.appendChild(this._J._);this._J._.style.marginTop="6px"}dn.prototype=new gt;dn.prototype.sJ=function(){return!0};
dn.prototype.VC=function(){return new X(0,0)};dn.prototype.Jg=function(p,a){this.SKc=p-274;this.SCd=a-32;
if(this.vi)this.SHK()};dn.prototype.b=function(){gt.prototype.b.call(this);this.Sj.b();for(var p=0;p<this.re.length;
p++)this.re[p].b()};dn.prototype.SCW=function(p){var a=this.vi,R=this.$d,Q=S.p(a.width*a.height*4);S.wp(Q,4294967295);
S.raw.Iy(R,Q,a,this.vn());var t=gr.JPG.WL([[Q.buffer]],R.YS,R.YN,[85]),N=new $(V.E.v,!0);N.data={K:V.H.IB,data:t,name:"photo.jpg"};
this.Y(N)};dn.prototype.xs=function(p){var a=this.vi,R=this.$d,Q=S.p(a.width*a.height*4);S.wp(Q,4294967295);
S.raw.Iy(R,Q,a,this.vn());var t=Nu.Jd(a),a={sE:new x(0,0,R.YS,R.YN),data:Q.buffer,SE:t},N=SK.HJ("Raw Photo",[a]),K=new $(V.E.v,!0);
K.data={K:V.H.UT,NI:N};this.Y(K);this.ki();this.close()};dn.prototype.ki=function(){this.vi=null;this.$d=null;
this.ah=null;this.km=null};dn.prototype.FU=function(p,a,R,Q){this.vi=a.Cq;this.$d=S.raw.Sgy(this.vi);
var t=this.$d;this.SCg.a(t.YS+" x "+t.YN+", "+(t.YS*t.YN/1e6).toFixed(1)+" MPx");var N=S.raw.SpZ(a.Cq);
this._U=CE.Rz(N);this.re[0].a(this._U.wg);this.re[1].a(this._U.bu);for(var K=2;K<this.re.length;K++)this.re[K].a(0);
this.SHK()};dn.prototype.JD=function(p,a){this.Dw.mz(Yw.oc[p.Td]["--text-color"])};dn.prototype.SHK=function(){var p=this.$d,a=p.YS,R=p.YN,Q=1;
while(a/Q>this.SKc*V.o()||R/Q>this.SCd*V.o())Q++;var t=Math.floor(a/Q),N=Math.floor(R/Q);this.ah={Yz:new Float32Array(t*N*3),YS:t,YN:N};
var K=this.Xd.getContext("2d");this.km=K.createImageData(t,N);S.wp(this.km.data,4294967295);var T=1/(Q*Q);
for(var d=0;d<N;d++)for(var y=0;y<t;y++){var E=0,k=0,D=0,P=(y+1)*Q,e=(d+1)*Q;for(var Y=d*Q;Y<e;Y++)for(var O=y*Q;
O<P;O++){var W=(Y*a+O)*3;E+=this.$d.Yz[W];k+=this.$d.Yz[W+1];D+=this.$d.Yz[W+2]}var w=(d*t+y)*3;this.ah.Yz[w]=E*T;
this.ah.Yz[w+1]=k*T;this.ah.Yz[w+2]=D*T}this.$X()};dn.prototype.$X=function(){var p=this.vi,a=this.ah.YS,R=this.ah.YN,Q=a*R,t=this.Xd,N=t.getContext("2d");
t.width=a;t.height=R;V.mT(t,a,R);S.raw.Iy(this.ah,new Uint8Array(this.km.data.buffer),p,this.vn());N.putImageData(this.km,0,0);
var K=S.MW(this.km.data);for(var T=0;T<4;T++)for(var d=1;d<256;d++)if(K[T][d]==0)K[T][d]=K[T][d-1];for(var T=0;
T<4;T++)for(var d=1;d<256;d++)if(K[T][d]==0)K[T][d]=K[T][d-1];this.Dw.a(K)};dn.prototype.vn=function(){var p=[];
for(var a=0;a<this.re.length;a++)p.push(this.re[a].l());return p};function pq(){gt.call(this,[11,11],"vbitmap");
this.rp=null;this.NK=null;this._t=null;this.NN=null;this.Jc=null;this.vA=this.XN.bind(this);this.jJ=V.P("div","form hbar");
this.body.appendChild(this.jJ);this.xD=new Nx([12,82],2,50,null);this.xD.h(V.E.k,this.XN,this);this.jJ.appendChild(this.xD._);
this.Uk="";this.xG=new Sz([12,81]);this.xG.h(V.E.k,this.XN,this);this.jJ.appendChild(this.xG._);this.xu=new Sz("Segmentize");
this.xu.h(V.E.k,this.XN,this);this.jJ.appendChild(this.xu._);this.Sj=new gi("OK",!1,null,!0);this.Sj.h("click",this.xs,this);
this.jJ.appendChild(this.Sj._);var p=V.P("div","flexrow"),a=16;this.body.appendChild(p);this.zl=new pP;
this.zl.h("viewchange",this.SzN,this);this.Ou=V.P("canvas");this.Ou.setAttribute("style","margin-left: 1px; cursor:grab;");
this.eY=this.Ou.getContext("2d");var R=S.p(16*16*4);S.Sz(R,a,a,8,0,0);this._a=S.scale._e(R,a,a);this.zl.SUZ(this.Ou);
p.appendChild(this.zl._);p.appendChild(this.Ou)}pq.prototype=new gt;pq.prototype.sJ=function(){return!0};
pq.prototype.VC=function(){return new X(0,0)};pq.prototype.AM=function(){return!0};pq.prototype.Jg=function(p,a){a=a-26-30;
p=Math.floor((p-28)/2);V.LU(this.Ou,p,a);this.zl.Jg(p,a)};pq.prototype.Qb=function(p,a,R,Q){this.zl.Qb(Q)};
pq.prototype.b=function(){gt.prototype.b.call(this);this.xD.b();this.xG.b();this.xu.b();this.Sj.b()};
pq.prototype.FU=function(p,a){this.Jc=p;var R=p.M[p.V[0]],Q=S.Lt.Lq(R.buffer.buffer,R.rect.C,R.rect.T).Sys,t=Q/((R.rect.C-2)*(R.rect.T-2));
this.xG.a(t<.75);this.xu.a(t<.75);var N=R.rect.clone();N.x=N.y=0;this.rp={sE:N,data:R.buffer.buffer.slice(0)};
this.NK=null;this.zl.a([this.rp]);this.xD.a(20);setTimeout(this.vA,20)};pq.prototype.XN=function(){var p=!0,a=Date.now(),R=this.rp,Q=this.xG.l(),t=this.xu.l(),N=Q||t,K=Q+","+t;
if(N&&(this.NK==null||this.Uk!=K)){this.Uk=K;console.log("recomputing");var T=new Uint8Array(R.data.slice(0)),d=15,y=35,E=R.sE.C,k=R.sE.T;
if(Q){gw.Uq(T,T,E,k,d,S.eF.jy,[y],2)}if(p){console.log("denoise",Date.now()-a);a=Date.now()}if(t){var D=S.Lt.Lh(T,E,k),P=D.xM,e=new Uint8Array(P*4);
for(var Y=0;Y<P;Y++){var O=Y*4,W=Y*6,w=1/D.zI[W+5];e[O]=D.zI[W]*w;e[O+1]=D.zI[W+1]*w;e[O+2]=D.zI[W+2]*w}for(var Y=0;
Y<T.length;Y+=4){var g=D.eG[Y>>>2]*4;T[Y]=e[g];T[Y+1]=e[g+1];T[Y+2]=e[g+2]}}this.NK={sE:R.sE.clone(),data:T.buffer};
if(p){console.log("segm",Date.now()-a);a=Date.now()}}if(N)R=this.NK;var T=new Uint8Array(R.data),E=R.sE.C,k=R.sE.T;
for(var Y=0;Y<T.length;Y+=4){if(T[Y+3]<10)T[Y]=T[Y+1]=T[Y+2]=T[Y+3]=0}var J=S.Lt.SHG(T,E,k,this.xD.l(),N?.1:2e-4);
if(p){console.log("doclipart",Date.now()-a);a=Date.now()}var U=J.eG.slice(0);for(var Y=0;Y<U.length;
Y++)U[Y]++;var H=new Uint8Array((E+2)*(k+2));S.JG(U,new x(1,1,E,k),H,new x(0,0,E+2,k+2));var f=Math.round((E+2)*(k+2)/1e4),j=pl.Iw(H,E+2,k+2,Math.min(12,f)),I=pl.h$(j),L=new gh(1,0,0,1,-1,-1);
for(var Y=0;Y<I.length;Y++)S.s.t(I[Y].path.r,L,I[Y].path.r);this.NN=I;this._t=J;if(p){console.log("trace",Date.now()-a);
a=Date.now()}for(var Y=0;Y<I.length;Y++){var C=I[Y];for(var v=Y+1;v<I.length;v++){var o=I[v];if(J.it[o.color-1].est.q[3]>.05||o.parent!=Y)continue;
var Z=o.path.$.slice(1);Z.reverse();Z=["M"].concat(Z);var B=[],j=o.path.r.length;for(var s=0;s<j;s+=2){B[s]=o.path.r[j-2-s];
B[s+1]=o.path.r[j-2-s+1]}S.s.concat(C.path,{r:B,$:Z})}}for(var Y=0;Y<I.length;Y++){var C=I[Y],q=J.it[C.color-1].est.q;
if(q[3]<=.05){I.splice(Y,1);Y--;continue}}for(var Y=1;Y<I.length;Y++){var F=I[Y-1],C=I[Y];if(F.color==C.color){S.s.concat(F.path,C.path);
I.splice(Y,1);Y--;continue}}this.SzN()};pq.prototype.SzN=function(p){if(this.NN==null)return;var a=this.rp.sE.C,R=this.rp.sE.T,Q=this.NN,t=this._t.it,N=this.eY,K=this.zl.Ph();
N.setTransform(1,0,0,1,0,0);N.clearRect(0,0,N.canvas.width,N.canvas.height);N.translate(N.canvas.width/2,N.canvas.height/2);
N.scale(K.f,K.f);N.translate(K.A.x/K.f-a/2,K.A.y/K.f-R/2);N.scale(1/K.f,1/K.f);N.fillStyle=this._a;N.fillRect(0,0,a*K.f,R*K.f);
N.scale(K.f,K.f);var T=[];for(var d=0;d<t.length;d++){var y=t[d].est.q;T.push({D:Math.round(255*y[0]),X:Math.round(255*y[1]),N:Math.round(255*y[2]),Eu:Math.round(255*y[3])})}for(var d=0;
d<Q.length;d++){var E=Q[d],y=T[E.color-1];if(y.Eu==0)continue;N.fillStyle="rgba("+y.D+","+y.X+","+y.N+","+y.Eu/255+")";
N.beginPath();Typr.U.pathToContext({crds:E.path.r,cmds:E.path.$},N);N.fill()}};pq.prototype.xs=function(p){var a=this.NN,R=a.length==1,Q=this.Jc,t=Q.V[0],N=Q.M[t],K=Q.M.slice(0,t);
if(!R)K.push(Q.Df());for(var T=0;T<a.length;T++){var d=a[T],y=this._t.it[d.color-1].est.q;S.s.t(d.path.r,new gh(1,0,0,1,N.rect.x,N.rect.y),d.path.r);
var E=Q.hX();E.xJ("Path "+T);K.push(E);E.opacity=Math.round(y[3]*255);E.KN|=16;E.add.SoCo={classID:"null",Clr:{t:"Objc",v:S.e.HW({D:255*y[0],X:255*y[1],N:255*y[2]})}};
E.add.vmsk=new l.IC;E.add.vstk=JSON.parse(JSON.stringify(gZ.up.default));E.add.vmsk.G=S.s.Vl(d.path,!1);
E.add.vogk=[];E.YH();E.WU(Q)}var k=K[K.length-1];if(!R){var E=Q.hX();E.xJ(N.getName());E.add.lsct=Ns.hI;
E.bQ="pass";E.KN=24;K.push(E);k=E}var D=N.add.lmfx;if(D)k.add.lmfx=JSON.parse(JSON.stringify(D));for(var T=t+1;
T<Q.M.length;T++)K.push(Q.M[T]);var P=new $(V.E.W,!0);P.LB=!0;P.Q=m.pw;P.data={K:l.uL,eP:K,AO:[t+a.length+(R?-1:1)],LS:[11,11]};
this.Y(P);this.close()};function ST(p){gt.call(this,[[7,11],"Magic Cut"][p],["redge","magiccut"][p]);
this.cX=p;this.rp={};this.Nj=null;this.hM=null;this.Jc=null;this.xV=null;this.dk=null;this.ej=[];this.IZ=-1;
this.jJ=V.P("div","form hbar");this.body.appendChild(this.jJ);this.ab=new rf;this.ab.parent=this;this.ab.h(V.E.k,this.RH,this);
this.jJ.appendChild(this.ab._);var a=p==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],R=p==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this._Q=new Yk(null,a,R,28);this.jJ.appendChild(this._Q._);this.$m=new SD([7,9],0,50,null);this.$m.parent=this;
this.$m.h(V.E.k,[this.SzT,this.XN][p],this);this.jJ.appendChild(this.$m._);var Q=this.SCE=new gi([2,2],!1,null,!0);
Q.h("click",this.ki,this);this.jJ.appendChild(Q._);var t=this.Sgd=new gi([12,90],!1,null,!0);t.h("click",function(T){alert(p==0?gL.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.jJ.appendChild(t._);var N=V.P("span","form");this.jJ.appendChild(N);N.setAttribute("style","position:absolute;  right:0px");
this.Nf=new Yk([12,46],["checker","white","black"]);this.Nf.h(V.E.k,this.SLq,this);N.appendChild(this.Nf._);
this._w=new gu(null,[[6,13],[6,2],[17,2]]);N.appendChild(this._w._);this.Sj=new gi("OK",!1,null,!0);
this.Sj.h("click",this.xs,this);N.appendChild(this.Sj._);var K=V.P("div","flexrow");this.body.appendChild(K);
this.qa=new pP(!0);this.kg=new pP;this.qa.UL(this.kg);this.kg.UL(this.qa);this.qa.h("mousedown",this.mV,this);
this.qa.h("mousemove",this.tU,this);this.qa.h("mouseup",this.aD,this);this.qa.h("zoom",this.RH,this);
this.kg.h("zoom",this.RH,this);K.appendChild(this.qa._);K.appendChild(this.kg._)}ST.prototype=new gt;
ST.prototype.Pn=function(p,a){var R=p!=null&&!p.M[p.V[0]].rect.RJ();if(!R)alert("The layer is empty.");
return R};ST.prototype.sJ=function(){return!0};ST.prototype.VC=function(){return new X(0,0)};ST.prototype.AM=function(){return!0};
ST.prototype.Jg=function(p,a){a=a-26-33;p=Math.floor((p-28)/2);this.qa.Jg(p,a);this.kg.Jg(p,a)};ST.prototype.b=function(){gt.prototype.b.call(this);
this.ab.b();this.$m.b();this.Sj.b();this.Nf.b();this._w.b();this.SCE.b();this.Sgd.b()};ST.prototype.JD=function(p,a){this.hM=p;
if(a==gp.JH||a==gp.EP){this.ab.xT(p.WP);this.ab.a(de.Rq(),p.WP.mp,p.WP.rw)}};ST.prototype.Qb=function(p,a,R,Q){this.xV=Q;
var t=m.WH.fQ(this.ab.l(),Q);if(t!=null){this.ab.a(t);this.RH()}else if(Q.g(n.GA)&&Q.g(n.DB)){var N=this.ej,K=0;
if(Q.g(n.ei)){if(this.IZ+1<N.length)K=1}else if(this.IZ>0)K=-1;if(K!=0){this.IZ+=K;var T=this.IZ,d=this.rp;
if(K==1)S.gW(N[T][2],N[T][0],d.UE,d.rect);else S.gW(N[T+1][1],N[T+1][0],d.UE,d.rect);d.xj=d.rect;this.XN()}}else this.qa.Qb(Q)};
ST.prototype.TP=function(p){var a=this.rp,R=this.ej,Q=S.p(p.u()*4);S.gW(a.NX,a.rect,Q,p);a.NX=null;var t=S.p(p.u()*4);
S.gW(a.UE,a.rect,t,p);this.IZ++;R[this.IZ]=[p.clone(),Q,t];while(R.length>this.IZ+1)R.pop();while(R.length>50){R=R.slice(1);
this.IZ--}};ST.prototype.RH=function(){var p=this.hM,a=gQ.XJ(this.ab.l(),p.WP.mp,this.qa.Ph().f);this.qa.IG(a)};
ST.prototype.mV=function(p){var a=this.hM,R=this.rp,Q=this.xV,t=this.ab.l(),N=this.qa.In(),K=[16777215,8421504,0][this._Q.l()];
this.Nj=new gQ(t,a.WP.list[0].mp,a.WP.list[0].rw,{NC:1,DZ:!0},K,a.eJ,R.rect);R.NX=R.UE.slice(0);if(Q!=null&&Q.g(n.ei)&&this.dk){this.Nj.moveTo(this.dk.x,this.dk.y);
this.Nj.lineTo(N.x,N.y)}else this.Nj.moveTo(N.x,N.y);this.SzW()};ST.prototype.tU=function(p){var a=this.rp,R=this.qa.In();
this.Nj.lineTo(R.x,R.y);this.SzW()};ST.prototype.aD=function(p){this.dk=this.qa.In();this.TP(this.Nj.vE());
this.XN()};ST.prototype.SzW=function(){var p=this.rp,a=this.Nj,R=a.XW();if(R.RJ())return;p.xj=R;S.O.KJ("norm",a.gR(),a.yk(),p.UE,p.rect,R,1);
this.SzV()};ST.prototype.ki=function(p){var a=this.rp;a.NX=a.UE.slice(0);a.xj=a.rect;S.wp(a.UE,[4278190080,4292730333][this.cX]);
this.TP(a.rect);this.XN()};ST.prototype.FU=function(p,a){this.Jc=p;var R=p.M[p.V[0]],Q=R.rect.clone(),t=Q.C,N=Q.T;
this.$m.a(this.cX==0?3:t*N<3e6?3:0);this._Q.a(p.S==null?0:1);this.$m.Fv();if(this.cX==0&&p.S!=null||this.cX==1)this.$m.XH();
var K=this.cX,T=S.p(Q.u()),d=new Float32Array(Q.u());if(K==0&&p.S){S.JG(p.S.channel,p.S.rect,T,Q);var y=S.p(Q.u());
for(var E=0;E<N;E++)for(var k=0;k<t;k++){var D=E*t+k,P=T[D];if(k>0&&T[D-1]!=P||k<t-1&&T[D+1]!=P||E>0&&T[D-t]!=P||E<N-1&&T[D+t]!=P)y[D]=255}S.style.hK(y,d,t,N)}else d.fill(1e9);
Q.x=Q.y=0;this.rp={rect:Q,Yz:R.buffer,Xu:T,Ua:d,lg:S.p(Q.u()*4),TS:S.p(Q.u()*4),UE:S.p(Q.u()*4),NX:null,kY:null,xj:Q,SCs:{}};
if(K==0)this.SzT();else{this.rp.SCs=m.Lo.Sqz(p);var e=this.rp.UE;S.wp(e,4287137928);var Y=S.Cv.getSelection(R.buffer,t,N),O=Math.round(t/60),W=Math.round(.7*N);
for(var E=0;E<N;E++)for(var k=0;k<t;k++){var w=(E*t+k)*4,g=Y[w>>>2];g=g>128?255:128;if(E<O||E<W&&(k<O||k>t-1-O))g=0;
e[w]=e[w+1]=e[w+2]=g}this.XN()}this.ej=[1];this.IZ=0;this.qa.SOB();var J=this.ab.l();J.Brsh.v.Dmtr.v.val=Math.round(Q.C/(K==0?10:20));
this.ab.a(J);this.RH()};ST.prototype.SzT=function(){var p=this.rp,a=p.rect.u(),R=this.$m.l(),Q=p.Xu.slice(0);
for(var t=0;t<a;t++)if(p.Ua[t]<R)Q[t]=128;S.wp(p.UE,4294967295);S.RA(Q,p.UE,0);S.RA(Q,p.UE,1);S.RA(Q,p.UE,2);
p.xj=p.rect;this.XN()};ST.prototype.XN=function(){var p=this.rp,t,N=0,K=0,T=0;this.SzV();var a=p.rect,R=S.p(a.u()),Q=p.Yz;
S.vh(p.UE,R,0);for(var d=0;d<R.length;d++){var y=R[d];if(y==0)N++;else if(y==255)K++;else T++}if(N*K*T!=0){if(this.cX==0)t=S.fn.fn(a,Q,R);
else{var E=Date.now(),k=this.rp.SCs;S.$M(R,k.UO);m.Lo.wF(k,!0);var D=Math.ceil(this.$m.l()/2);if(D==0){t=Q.slice(0);
S.RA(k.S,t,3)}else{var P=k.S.slice(0),e=k.S.slice(0),Y=a.C,O=a.T;for(var W=0;W<D;W++){for(var w=1;w<O-1;
w++)for(var g=1;g<Y-1;g++){var d=w*a.C+g,J=P[d];if(P[d-Y]!=J||P[d-1]!=J||P[d+1]!=J||P[d+Y]!=J)e[d]=128;
else e[d]=J}var U=P;P=e;e=U}t=S.fn.fn(a,Q,P,20,!1)}}}else{t=Q.slice(0);S.RA(R,t,3)}if(a.xA(p.rect))p.kY=t;
else S.gW(t,a,p.kY,p.rect);this.SLq()};ST.prototype.SzV=function(p){var a=this.rp,R=a.xj;S.gW(a.Yz,a.rect,a.lg,a.rect,R,!0);
var Q=a.UE;if(this.cX==1){var t=new Uint32Array(256);t[0]=4278190335;t[255]=4278255360;var N=a.rect.u();
Q=Q.slice(0);var K=new Uint32Array(Q.buffer);for(var T=0;T<N;T+=2){K[T]=t[K[T]&255];K[T+1]=t[K[T+1]&255]}}S.O.KJ("norm",Q,a.rect,a.lg,a.rect,R,.3);
this.qa.a([{sE:a.rect,data:a.lg.buffer}])};ST.prototype.SLq=function(p){var a=this.rp;S.wp(a.TS,[0,4294967295,4278190080][this.Nf.l()]);
S.O.KJ("norm",a.kY,a.rect,a.TS,a.rect,a.rect,1);this.kg.a([{sE:a.rect,data:a.TS.buffer}])};ST.prototype.xs=function(p){var a=this.Jc,R=this.rp,Q=this._w.l(),t=a.M[a.V[0]],N=new $(V.E.W,!0);
N.LB=!0;var K=t.rect.clone();if(Q==0&&t.Aw()||Q!=0&&!t.Aw()){N.Q=m.pw;N.data={K:l.ia,w:a.V[0]};this.Y(N)}if(a.S!=null){N.Q=m.yO;
N.data={K:"fromAction",Db:m.GP.lR()};this.Y(N)}if(Q==0){var T=a.M.slice(0),d=a.hX();d.xJ(t.getName());
T.splice(a.V[0]+1,0,d);d.rect=K;d.buffer=R.kY;d.U();N.Q=m.pw;N.data={K:l.uL,eP:T,AO:[a.V[0]+1],LS:[7,11]};
this.Y(N)}if(Q==1){var y=t.mg();N.Q=m.pw;N.data={K:l.ft,SJA:!0};this.Y(N);var E=t.mg();E.channel=S.p(K.u());
E.rect=K;E.color=0;E.Ol=!0;S.vh(R.kY,E.channel,3);if(y){var k=E.Xl(y);E.rect=k.rect;E.channel=k.channel;
E.color=k.color}E.dT();t.WU()}if(Q==2){var D={rect:K,channel:S.p(K.u())};S.vh(R.kY,D.channel,3);N.Q=m.yO;
N.data={K:"setsel",S:D,LS:this.gN};this.Y(N)}this.close()};function ds(){gt.call(this,[1,13],"locstor");
this.$F=null;this.ov=[];var p=this.body,a=V.P("p");a.textContent="These files are loaded every time you start Photopea.";
p.appendChild(a);this.SNb=0;this._D=V.P("span");p.appendChild(this._D);this._D.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.eX=new gi([5,4],!1,null,!0);this.eX.h("click",this.SCA,this);p.appendChild(this.eX._);this.DE=new ps(!0);
this.DE.parent=this;this.DE.tH(1);this.DE.h(V.E.k,this.SCv,this);p.appendChild(this.DE._);this.DE._.setAttribute("style","width: 40em; height: 25em")}ds.prototype=new gt;
ds.prototype.b=function(){gt.prototype.b.call(this);this._D.textContent=gL.get([13,2])+": "+CQ.Nq(this.SNb);
this.eX.b()};ds.prototype.JD=function(p,a){this.$F=p;if(a==gp.ry)this.FU()};ds.prototype.FU=function(p,a){var R=this.$F.DW.fB,d=0;
this.ov=[];for(var Q in R)this.ov.push(Q);this.ov.sort(function(k,D){k=k.split(".");D=D.split(".");return k[1]==D[1]?k[0]<D[0]?-1:1:k[1]<D[1]?-1:1});
var t=Math.floor(100*V.o()),N=Math.floor(16*V.o()),K=[],T=[];for(var y=0;y<this.ov.length;y++){var Q=this.ov[y],E=ds.np(Q,R[Q],t,N);
K.push(E);T.push(Q);d+=R[Q].byteLength}this.DE.ER(K,T,t,N);this.SNb=d;this.b()};ds.prototype.SCv=function(p){this.DE.NY(this.DE.l())};
ds.prototype.SCA=function(p){var a=this.DE.l();if(a==-1){alert("Select a file first.");return}this.DE.a(-1);
var R=this.$F.DW.fB;delete R[this.ov[a]];var Q=new $(V.E.v,!0);Q.data={K:V.H.es,L_:gp.ry};this.Y(Q)};
ds.np=function(p,a,R,Q){var t=V.P("canvas"),T=0;t.width=R;t.height=Q;var N=t.getContext("2d"),K=p.split(".").pop().toLowerCase();
for(var d=0;d<K.length;d++)T+=K.charCodeAt(d)*613<<8*d;N.fillStyle="#"+S.ay(T&16777215);N.fillRect(0,0,20,Q);
var y=Math.floor(14*V.o());N.fillStyle="#000000";N.font="bold "+y+"px sans-serif";var E=(Q-y)/2,k=CQ.Nq(a.byteLength),D=N.measureText(k);
N.fillText(k,R-12-D.width,Q-E);return t.toDataURL()};function KR(p,a,R){gt.call(this,a,"cwindow");this.SgK=new X(R[0],R[1]-33);
this.jJ=V.P("div","form");this.jJ.setAttribute("style","width:"+(R[2]-R[0])+"px; height:"+(R[3]-R[1])+"px");
this.body.appendChild(this.jJ)}KR.prototype=new gt;KR.prototype.VC=function(p,a){return this.SgK.clone()};
function gV(p,a,R,Q){gM.call(this);this.name=p;this.SgC=R;this.aJ=Q;this.$U=V.P("div","");this.$U.setAttribute("draggable","true");
this.zD=V.P("div","pbody");this.TC=new gi("",!1,"");this.TC.parent=this;this.SpH=V.P("span","cross");
this.lJ=V.P("span","label");var t=this.Sgg.bind(this);this.$U.addEventListener("mousedown",this.SCD.bind(this),!1);
this.$U.addEventListener("contextmenu",t,!1);this.TC._.addEventListener("contextmenu",t,!1);this.SpH.addEventListener("mousedown",this.e$.bind(this),!1);
this.$U.appendChild(this.lJ);if(a)this.$U.appendChild(this.SpH);this.rY=!1;this._E=new Nq([{name:[1,12]}]);
this._E.h("select",this.e$,this);this.lJ.textContent=p}gV.prototype=new gM;gV.prototype.OF=function(){return null};
gV.prototype.VX=function(){return new X(0,0)};gV.prototype.b=function(){var p=gL.get(this.name),a=this.Xs==0?22:Math.round(2+this.Xs/50),R=p.length>a;
this.lJ.textContent=R?p.slice(0,a-2):p;if(R)for(var Q=0;Q<2;Q++){var t=V.P("span");t.textContent=p.charAt(a-2+Q);
t.setAttribute("style","opacity:"+(.6-Q*.4));this.lJ.appendChild(t)}var N=p.split(" "),K=N.length==2?N[0].substring(0,2)+N[1][0]:p.substring(0,3);
if(K.charCodeAt(0)>=11776)K=K.substring(0,1);var T=this.SgC;if(T==null)this.TC.EX(K,p);else{if(T.indexOf("\"")==-1)this.TC.EX("<img src=\""+T+"\" alt=\""+p+"\" height=\"20\" />",p)}};
gV.prototype.enable=function(){this.zD.setAttribute("class","pbody")};gV.prototype.disable=function(){this.zD.setAttribute("class","pbody disabled")};
gV.prototype.JD=function(p,a){};gV.prototype.FU=function(p,a,R){};gV.prototype.Jg=function(p,a){};gV.prototype.wt=function(p){this.name=p;
this.b()};gV.prototype.tE=function(){};gV.prototype.SCD=function(p){if(p.button==0)this.Y(new $("select",!1))};
gV.prototype.Sgg=function(p){V.pc(p);if(this.aJ!=null&&isNaN(this.aJ))return;var a=V.ma(p,document.body),R=this._E;
R.update(null);R.b();R.parent=this;var Q=new $(V.E.v,!0);Q.data={K:V.H.Xf,Vw:R,x:a.x+1,y:a.y+1};this.Y(Q)};
gV.prototype.Oh=function(){this.e$({})};gV.prototype.e$=function(p){if(p.stopPropagation)p.stopPropagation();
if(this.aJ!=null&&!isNaN(this.aJ)){var a=new $(V.E.v,!0);a.data={K:V.H.II,Vw:this._E};this.Y(a);a.data={K:V.H.es,L_:gp.ot,Z:parseFloat(this.aJ),ii:"del"};
this.Y(a)}else if(this.SL$())this.Y(new $(V.E.Nz,!1))};gV.prototype.SL$=function(p){return!0};gV.prototype.JI=function(p,a,R,Q,t){};
gV.prototype.r$=function(p,a,R,Q,t){};gV.prototype.Gz=function(p,a,R,Q,t){};gV.Nn=function(p,a){if(p.childElementCount!=0)return;
var R=p.textContent;this.bZ=this.Sgp.bind(this);this.SpB=this.SgY.bind(this);this.YR=a;this.v$=p;this.SgN=R;
var Q=V.P("input","");Q.setAttribute("type","text");Q.setAttribute("size","10");Q.setAttribute("value",R);
V.Tl(p);p.appendChild(Q);Q.select();Q.focus();p.addEventListener("keyup",this.bZ,!1);document.body.addEventListener("mousedown",this.SpB,!1)};
gV.Nn.prototype.Sgp=function(p){var a=n.Lk,R=a(p.code,n.eL);if(a(p.code,n.tu)||R)this.SLv(R)};gV.Nn.prototype.SgY=function(p){var a=p.target;
if(a.tagName&&a.tagName.toLowerCase()=="input")return;this.SLv(!0)};gV.Nn.prototype.SLv=function(p){var a=this.v$;
a.removeEventListener("keyup",this.bZ);document.body.removeEventListener("mousedown",this.SpB);if(p){var R=a.firstChild.value;
this.YR(R)}else{V.Tl(a);a.textContent=this.SgN}};gV.Ny={EI:"0",SgL:"1",pw:"2",SgG:"3",SgP:"4",VF:"5",CSS:"6",JH:"7",SNs:"8",SBh:"9",SNR:"10",SNI:"11",SNe:"12",zc:"13",m$:"14",SNH:"15",SNz:"16",oA:"17",SN$:"18"};
function CJ(){gV.call(this,[9,9],!1,null,gV.Ny.SNI);this.$F=null;this.ks=[0,0];this.LI=V.P("div","padded scrollable");
this.LI.setAttribute("style","width:260px;  height:260px");this.zD.appendChild(this.LI);this.h(V.E.k,this.TD,this);
this.FY=V.P("div","lpfoot");this.zD.appendChild(this.FY);this.NH=[];var p="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",a="</svg>",R=p+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+a,Q=p+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+a;
this.SYg=p+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+a;this.Sgr=p+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+a;
var t=[this.SYg,Q,"lrs/folder","lrs/newlayer","lrs/bin",R],N=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var K=0;K<t.length;K++){var T=t[K];if(1<K&&K!=t.length-1)T="<img src=\""+PIMG[t[K]]+"\" class=\"gsicon\" />";
var d=new gi(T,!1,N[K]);d.h("click",this.SBi,this);this.FY.appendChild(d._);this.NH.push(d)}}CJ.prototype=new gV("");
CJ.prototype.b=function(){gV.prototype.b.call(this);for(var p=0;p<this.NH.length;p++)this.NH[p].b()};
CJ.prototype.SBi=function(p){var a=this.NH.indexOf(p.currentTarget),R=this.ks,Q=this.$F,t=Q.zH;if(a==0){var N,K=Q.Nx;
if(t.length==0){alert("Create an Action Set first.");return}if(R.length<2){alert("Select a target action first.");
return}if(K==null){N=this.Sgr;K=this.ks}else{N=this.SYg;K=null}this.NH[0].EX(N);Q.Nx=K}else if(a==1)this.SNM();
else if(a==2||a==3){var T={LS:"Action Set "+t.length,c:[],exp:!0};if(a==2||t.length==0){R=[t.length];
t.push(T)}if(a==3){var d=t[R[0]].c;R=[R[0],d.length];d.push({LS:"Action "+d.length,color:0,c:[],SRc:!1,shift:!1,exp:!0,Yo:d.length})}this.ks=R;
this.$X()}else if(a==4){var y;if(R.length==1)y=t;else if(R.length==2)y=t[R[0]].c;else y=t[R[0]].c[R[1]].c;
var E=R.length-1;y.splice(R[E],1);if(y.length==0)R.pop();else while(R[E]>=y.length)R[E]--;if(R.length==0)R.push(0);
this.$X()}else if(a==5){if(t.length==0){alert("No Actions Present.");return}var k=new $(V.E.v,!0);k.data={K:V.H.im,SYF:gp.W,Xx:R[0]};
this.Y(k)}};CJ.prototype.TD=function(p){var a=this.$F.zH,R=p.data.K,Q=p.data.D_;if(R=="sel")this.ks=Q;
if(R=="fold"){if(Q.length==1)a[Q[0]].exp=!a[Q[0]].exp;else a[Q[0]].c[Q[1]].exp=!a[Q[0]].c[Q[1]].exp}if(R=="enab"){var t=a[Q[0]].c[Q[1]].c[Q[2]];
t.J=!t.J}if(R=="nchange"){if(Q.length==1)a[Q[0]].LS=p.data.Kb;else a[Q[0]].c[Q[1]].LS=p.data.Kb}this.$X()};
CJ.prototype.JD=function(p,a){this.$F=p;if(a==gp.W||a==gp.EP)this.$X()};CJ.prototype.$X=function(){if(this.$F==null)return;
V.Tl(this.LI);var p=this.$F.zH;if(p.length==0)return;var a=JSON.stringify(this.ks);for(var R=0;R<p.length;
R++){var Q=p[R],t=new CJ.Qx([R],a,Q.exp,Q.LS.split("=").pop());t.parent=this;this.LI.appendChild(t._);
if(!Q.exp)continue;for(var N=0;N<Q.c.length;N++){var K=Q.c[N],t=new CJ.Qx([R,N],a,K.exp,K.LS.split("=").pop());
t.parent=this;this.LI.appendChild(t._);if(!K.exp)continue;for(var T=0;T<K.c.length;T++){var d=K.c[T],t=new CJ.Qx([R,N,T],a,null,gL.get(Nr.Sei(d)),d.J);
t.parent=this;this.LI.appendChild(t._)}}}};CJ.prototype.SNM=function(){var p=this.$F.zH,a=this.ks;if(p.length==0){alert("No Actions Present");
return}if(a.length==1){alert("Select an Action first");return}if(this.$F.Nx!=null){alert("You can not apply actions while recording actions");
return}if(a.length==1)a.push(0);var R=p[a[0]],Q=R.c[a[1]],t=new $(V.E.v,!0);t.data={K:V.H.yr,dX:[Q.LS,R.LS]};
this.Y(t)};CJ.Qx=function(p,a,R,Q,t){gM.call(this);this.D_=p;var N=this.D_.length-1;this._=V.P("div","layeritem"+(JSON.stringify(p)==a?" selected":""));
this.zg=V.P("div","head");this._.appendChild(this.zg);this.zg.setAttribute("style","height:24px");this.kt=V.P("div","headL");
this.zg.appendChild(this.kt);if(N!=0){var K=V.P("div");K.style.width=N*20+"px";this.kt.appendChild(K)}if(R!=null){var T=this.Sgl=V.P("div",R?"open":"closed");
this.kt.appendChild(T)}else{var d=this.SgR=V.P("div","cmark");d.setAttribute("style","background-size:12px 12px; opacity:"+(t?1:.3));
this.kt.appendChild(d)}if(N==0){var y=V.P("div","folder");this.kt.appendChild(y)}var E=this.lJ=V.P("div","label");
E.textContent=Q;this.kt.appendChild(E);this._.addEventListener("mouseup",this.eD.bind(this),!1)};CJ.Qx.prototype=new gM;
CJ.Qx.prototype.eD=function(p){if(p.detail==1&&p.target.tagName.toLowerCase()!="input"){var a="sel";
if(p.target==this.Sgl)a="fold";if(p.target==this.SgR)a="enab";var R=new $(V.E.k,!0);R.data={K:a,D_:this.D_};
this.Y(R)}else if(this.D_.length<3)var Q=new gV.Nn(this.lJ,this.YR.bind(this))};CJ.Qx.prototype.YR=function(p){var a=new $(V.E.k,!0);
a.data={K:"nchange",Kb:p,D_:this.D_};this.Y(a)};function g_(){gV.call(this,[9,3],!1,null,gV.Ny.JH);this.Gf=null;
this.uZ=null;this.$F=null}g_.prototype=new gV("");g_.prototype.pl=function(){var p=V.P("div","");this.zD.appendChild(p);
this.kz=V.P("div","bordered cell");this.kz.setAttribute("style","width:10em; height:28.5em;");p.appendChild(this.kz);
this.KR=[];this._m=null;this.MC=[];var a=this.SNv.bind(this);this.Uf=[new g_.LA,new g_.bX,new g_.YL,new g_.WS];
for(var R=0;R<this.Uf.length;R++){var Q=V.P("div","listitem"),t=this.Uf[R].ET,N=null;if(R==0){this._m=new Ky(t);
Q.appendChild(this._m._)}else{N=new Sz(t,!1);N.h(V.E.k,this.SNF,this);Q.appendChild(N._)}this.MC.push(N);
this.kz.appendChild(Q);this.KR.push(Q);Q.addEventListener("click",a,!1)}this.Or=V.P("div","cell padded");
p.appendChild(this.Or);for(var R=0;R<this.Uf.length;R++)this.Uf[R].h("brushchange",this.SNX,this);this.setItem(0);
this.hH=V.P("canvas","");this.hH.width=Math.floor(380*V.o());this.hH.height=Math.floor(80*V.o());V.mT(this.hH,this.hH.width,this.hH.height);
p.appendChild(this.hH);this.eY=this.hH.getContext("2d");this.XN()};g_.prototype.tE=function(){if(!V.aM(this.zD))return;
if(this.kz){this.XN();return}this.pl();this.b();this.JD(this.$F,gp.EP)};g_.prototype.b=function(){gV.prototype.b.call(this);
if(this.kz==null)return;this._m.b();for(var p=1;p<this.MC.length;p++)this.MC[p].b();for(var p=0;p<this.Uf.length;
p++)this.Uf[p].b()};g_.prototype.SNX=function(p){var a=this.Uf.indexOf(p.currentTarget),R=JSON.parse(JSON.stringify(this.Uf[a].uZ)),Q=new $(V.E.v,!0);
Q.data={K:V.H.es,L_:gp.Ka,uZ:R};this.Y(Q)};g_.prototype.SNF=function(p){this.Sqa(this.MC.indexOf(p.currentTarget),p.currentTarget.WO())};
g_.prototype.SNv=function(p){var a=this.KR.indexOf(p.currentTarget);if(p.target.tagName.toLowerCase()=="input")return;
if(this.MC[a]&&!this.MC[a].WO()){this.MC[a].FX();this.Sqa(a,!0)}this.setItem(a)};g_.prototype.Sqa=function(p,a){this.Uf[p].Vi(a)};
g_.prototype.setItem=function(p){for(var a=0;a<this.Uf.length;a++)this.KR[a].setAttribute("class","listitem");
if(this.Or.firstChild)this.Or.removeChild(this.Or.firstChild);this.KR[p].setAttribute("class","listitem selected");
this.Or.appendChild(this.Uf[p]._)};g_.prototype.JD=function(p,a){this.$F=p;if(this.kz==null)return;if(a==gp.JH||a==gp.EP){this.Gf=p.WP;
for(var R=0;R<this.Uf.length;R++)this.Uf[R].xT(this.Gf)}if(a==gp.Ka||a==gp.EP){this.uZ=p.WP.kR;this.XN()}if(a==gp.zc)this.XN()};
g_.prototype.XN=function(){if(this.uZ)this.enable();else{this.disable();return}if(!V.aM(this.zD))return;
var p=this.$F;for(var a=0;a<this.Uf.length;a++){this.Uf[a].a(this.uZ);if(this.MC[a])this.MC[a].a(this.Uf[a].WO())}var R=JSON.parse(JSON.stringify(this.uZ));
R.Brsh.v.Dmtr.v.val=Math.min(R.Brsh.v.Dmtr.v.val,50);var Q=new x(0,0,this.hH.width,this.hH.height),t=new gQ(R,this.Gf?this.Gf.mp:null,this.Gf?this.Gf.rw:null,{NC:1},p.rc,p.eJ,Q),N=40*V.o(),K=300*V.o();
t.moveTo(N,N);for(var a=0;a<=K;a+=10)t.lineTo(N+a,N+20*Math.sin(2*Math.PI*a/K));t.finish();var T=this.eY.createImageData(Q.C,Q.T);
S.gW(t.gR(),t.yk(),T.data,Q);this.eY.putImageData(T,0,0)};g_.da=function(p){gM.call(this);this.ET=p;
this._=V.P("div","");this.uZ=null};g_.da.prototype=new gM;g_.da.prototype.xT=function(p){};g_.da.prototype.a=function(p){this.uZ=JSON.parse(JSON.stringify(p));
this._.setAttribute("class",this.WO()?"":"disabled");this.XN()};g_.da.prototype.Vi=function(p){};g_.da.prototype.WO=function(){return!1};
g_.da.prototype.b=function(){};g_.da.prototype.XN=function(){};g_.da.prototype.ai=function(){this.Y(new $("brushchange"))};
g_.LA=function(){g_.da.call(this,[15,0]);this.Gf=null;this.SYq=null;this.iZ=new ps(!0);this._.appendChild(this.iZ._);
this.iZ.h(V.E.k,this.SNk,this);this.iZ._.style.height="10.7em";this.ig=new gW([12,14,0],1,1e3," px",0,!0);
this.ig.h(V.E.k,this.SNc,this);this.iN=new gW([12,15],0,359," \xB0");this.iN.h(V.E.k,this.SNj,this);
this.ie=new gW([12,16],0,100," %");this.ie.h(V.E.k,this.Spd,this);this.iz=new gW([12,17],0,100," %");
this.iz.h(V.E.k,this.Spg,this);this.iB=new gW([12,18],1,300," %");this.iB.h(V.E.k,this.SpN,this);this.KR=[this.ig,this.iN,this.ie,this.iz,this.iB]};
g_.LA.prototype=new g_.da;g_.LA.prototype.b=function(){this.ig.b();this.iN.b();this.ie.b();this.iz.b();
this.iB.b()};g_.LA.prototype.WO=function(){return!0};g_.LA.prototype.xT=function(p){this.Gf=p;var a=[],R=Math.floor(30*V.o()),Q=Math.floor(40*V.o());
for(var t=0;t<p.list.length;t++){var N=p.list[t].v,K=gQ.np(N,p.mp,p.rw,R,Q);a.push(K)}this.iZ.ER(a,null,R,Q)};
g_.LA.prototype.XN=function(){var p=this.uZ.Brsh.v,a=p.classID!=this.SYq;this.SYq=p.classID;if(a)for(var R=0;
R<this.KR.length;R++)if(this._.contains(this.KR[R]._))this._.removeChild(this.KR[R]._);this.ig.a(p.Dmtr.v.val);
if(a)this._.appendChild(this.ig._);this.iN.a(p.Angl.v.val);if(a)this._.appendChild(this.iN._);if(p.classID=="computedBrush"||p.classID=="sampledBrush"){this.ie.a(p.Rndn.v.val);
if(a)this._.appendChild(this.ie._)}if(p.classID=="computedBrush"){this.iz.a(p.Hrdn.v.val);if(a)this._.appendChild(this.iz._)}this.iB.a(p.Spcn.v.val);
if(a)this._.appendChild(this.iB._)};g_.LA.prototype.SNk=function(p){this.uZ=this.Gf.list[this.iZ.l()].v;
this.ai()};g_.LA.prototype.SNc=function(p){this.uZ.Brsh.v.Dmtr.v.val=p.target.l();this.ai()};g_.LA.prototype.SNj=function(p){this.uZ.Brsh.v.Angl.v.val=p.target.l();
this.ai()};g_.LA.prototype.Spd=function(p){this.uZ.Brsh.v.Rndn.v.val=p.target.l();this.ai()};g_.LA.prototype.Spg=function(p){this.uZ.Brsh.v.Hrdn.v.val=p.target.l();
this.ai()};g_.LA.prototype.SpN=function(p){this.uZ.Brsh.v.Spcn.v.val=p.target.l();this.ai()};g_.bX=function(){g_.da.call(this,[15,1]);
this.Ni=new gW([15,4,0],0,100," %");this.Ni.h(V.E.k,this.Spp,this);this._.appendChild(this.Ni._);this.Nt=new gW([15,4,1],0,100," %");
this.Nt.h(V.E.k,this.SpY,this);this._.appendChild(this.Nt._);this.Nu=new gW([15,4,2],0,100," %");this.Nu.h(V.E.k,this.Spr,this);
this._.appendChild(this.Nu._);this.pd=new gW([15,4,3],0,100," %");this.pd.h(V.E.k,this.Spc,this);this._.appendChild(this.pd._);
this.pK=new gW([15,4,4],0,100," %");this.pK.h(V.E.k,this.SYI,this);this._.appendChild(this.pK._)};g_.bX.prototype=new g_.da;
g_.bX.prototype.b=function(){this.Ni.b();this.Nt.b();this.Nu.b();this.pd.b();this.pK.b()};g_.bX.prototype.WO=function(){return this.uZ.useTipDynamics.v};
g_.bX.prototype.Vi=function(p){this.uZ.useTipDynamics.v=p;de.GB.Mj(this.uZ);this.ai()};g_.bX.prototype.XN=function(){var p=this.uZ;
if(p.useTipDynamics.v==!1)return;this.Ni.a(p.szVr.v.jitter.v.val);this.Nt.a(p.minimumDiameter.v.val);
this.Nu.a(p.angleDynamics.v.jitter.v.val);this.pd.a(p.roundnessDynamics.v.jitter.v.val);this.pK.a(p.minimumRoundness.v.val)};
g_.bX.prototype.Spp=function(p){this.uZ.szVr.v.jitter.v.val=p.target.l();this.ai()};g_.bX.prototype.SpY=function(p){this.uZ.minimumDiameter.v.val=p.target.l();
this.ai()};g_.bX.prototype.Spr=function(p){this.uZ.angleDynamics.v.jitter.v.val=p.target.l();this.ai()};
g_.bX.prototype.Spc=function(p){this.uZ.roundnessDynamics.v.jitter.v.val=p.target.l();this.ai()};g_.bX.prototype.SYI=function(p){this.uZ.minimumRoundness.v.val=p.target.l();
this.ai()};g_.YL=function(){g_.da.call(this,[15,2]);this.pg=new gW([15,5,0],0,1e3," %");this.pg.h(V.E.k,this.SYv,this);
this._.appendChild(this.pg._);this.pN=new gW([15,5,1],1,20);this.pN.h(V.E.k,this.SY_,this);this._.appendChild(this.pN._);
this.pr=new gW([15,5,2],0,100," %");this.pr.h(V.E.k,this.SYj,this);this._.appendChild(this.pr._)};g_.YL.prototype=new g_.da;
g_.YL.prototype.b=function(){this.pg.b();this.pN.b();this.pr.b()};g_.YL.prototype.WO=function(){return this.uZ.useScatter.v};
g_.YL.prototype.Vi=function(p){this.uZ.useScatter.v=p;de.GB.Mj(this.uZ);this.ai()};g_.YL.prototype.XN=function(){var p=this.uZ;
if(p.useScatter.v==!1)return;this.pg.a(p.scatterDynamics.v.jitter.v.val);this.pN.a(p.Cnt.v);this.pr.a(p.countDynamics.v.jitter.v.val)};
g_.YL.prototype.SYv=function(p){this.uZ.scatterDynamics.v.jitter.v.val=p.target.l();this.ai()};g_.YL.prototype.SY_=function(p){this.uZ.Cnt.v=p.target.l();
this.ai()};g_.YL.prototype.SYj=function(p){this.uZ.countDynamics.v.jitter.v.val=p.target.l();this.ai()};
g_.WS=function(){g_.da.call(this,[15,3]);this.pe=new gW([15,6,0],0,100," %");this.pe.h(V.E.k,this.Srd,this);
this._.appendChild(this.pe._);this.AL=new gW([15,6,1],0,100," %");this.AL.h(V.E.k,this.SrB,this);this._.appendChild(this.AL._);
this.pH=new gW([15,6,2],0,100," %");this.pH.h(V.E.k,this.Sri,this);this._.appendChild(this.pH._);this.p$=new gW([15,6,3],0,100," %");
this.p$.h(V.E.k,this.SrU,this);this._.appendChild(this.p$._)};g_.WS.prototype=new g_.da;g_.WS.prototype.b=function(){this.pe.b();
this.AL.b();this.pH.b();this.p$.b()};g_.WS.prototype.WO=function(){return this.uZ.useColorDynamics.v};
g_.WS.prototype.Vi=function(p){this.uZ.useColorDynamics.v=p;de.GB.Mj(this.uZ);this.ai()};g_.WS.prototype.XN=function(){var p=this.uZ;
if(p.useColorDynamics.v==!1)return;this.pe.a(p.clVr.v.jitter.v.val);this.AL.a(p.H.v.val);this.pH.a(p.Strt.v.val);
this.p$.a(p.Brgh.v.val)};g_.WS.prototype.Srd=function(p){this.uZ.clVr.v.jitter.v.val=p.target.l();this.ai()};
g_.WS.prototype.SrB=function(p){this.uZ.H.v.val=p.target.l();this.ai()};g_.WS.prototype.Sri=function(p){this.uZ.Strt.v.val=p.target.l();
this.ai()};g_.WS.prototype.SrU=function(p){this.uZ.Brgh.v.val=p.target.l();this.ai()};function KZ(){gV.call(this,[9,0],!1,null,gV.Ny.EI);
this.zD.setAttribute("style","min-width:200px;");this.vx=V.P("div","hpbody scrollable");this.vx.style.height="160px";
this.zD.appendChild(this.vx);this.SgH=-1;this._u=[];this.JQ=""}KZ.prototype=new gV("");KZ.prototype.FU=function(p){if(p==null){V.Tl(this.vx);
this.JQ="";return}var a=p.history.length+"-"+p.oR,R=0;if(a==this.JQ)return;this.JQ=a;V.Tl(this.vx);for(var Q=0;
Q<p.history.length;Q++)if(Q<=p.oR&&!p.history[Q].uW)R=Q;for(var Q=0;Q<p.history.length;Q++){var t=p.history[Q];
if(t.uW)continue;var N=new Kf(t,Q,R);N.parent=this;this.vx.appendChild(N._);this._u.push(N)}if(p.oR==p.history.length-1)this.tE()};
KZ.prototype.tE=function(){this.vx.scrollTop=this.vx.scrollHeight};KZ.prototype.b=function(){gV.prototype.b.call(this);
for(var p=0;p<this._u.length;p++)this._u[p].b()};function Kf(p,a,R){gM.call(this);this.index=a;this._=V.P("div",a==R?"listitem selected":"listitem");
this.Dq=p.name;this.b();if(a>R)this._.style.opacity=.4;this._.addEventListener("click",this.JI.bind(this),!1)}Kf.prototype=new gM;
Kf.prototype.b=function(){this._.textContent=gL.get(this.Dq)};Kf.prototype.JI=function(p){if(this.index==this.parent.SgH)return;
this.mw({K:"h_itemchange",index:this.index})};Kf.prototype.mw=function(p){var a=new $(V.E.W,!0);a.data=p;
a.Q=m.EI;this.Y(a)};function dM(){gV.call(this,[9,10],!1,null,gV.Ny.SgP);var p=V.P("div","padded");this.zD.appendChild(p);
this.Dw=new KM(256);p.appendChild(this.Dw._);this.Sgf=[];this.ep=[];var a=["Mean:","Pixels:"];for(var R=0;
R<a.length;R++){var Q=new Ky(a[R]);this.Sgf.push(Q);p.appendChild(Q._);var t=new Ky("hi");this.ep.push(t);
p.appendChild(t._);V.zp(p)}this.zV=null}dM.prototype=new gV("");dM.prototype.FU=function(p){this.zV=p;
this.$X()};dM.prototype.$X=function(){var p=this.zV,y=0;if(!V.aM(this.zD))return;if(p==null||p.V.length==0){this.Dw.a(S.MW(S.p(4)));
this.ep[0].a("");this.ep[1].a("");return}var a=p.iD(),R=new x(0,0,p.C,p.T),Q=R.u();if(p.S){var t=p.S.rect,N=S.p(t.u()*4);
S.gW(a,R,N,t);S.cP(p.S.channel,N);a=N;R=t;var K=p.S.channel;Q=0;for(var T=0;T<K.length;T++)Q+=K[T];Q=Math.round(Q/255)}var d=S.MW(a);
this.Dw.a(d);for(var T=0;T<256;T++)y+=T*(.333*d[1][T]+.333*d[2][T]+.333*d[3][T]);this.ep[0].a((y/Q).toFixed(1)+"");
this.ep[1].a(Q+"")};dM.prototype.JD=function(p,a){this.Dw.mz(Yw.oc[p.Td]["--text-color"])};dM.prototype.b=function(){gV.prototype.b.call(this);
this.Dw.b()};dM.prototype.tE=function(){this.$X()};function KB(){gV.call(this,[9,8],!1,null,gV.Ny.SgL);
this.LI=V.P("div","padded");this.zD.appendChild(this.LI);this.tS=new Yo(10);this.LI.appendChild(this.tS._);
this.LI.appendChild(V.P("hr"));this.kw=new dt;this.kw.parent=this;this.LI.appendChild(this.kw.uy);this.tS.h(V.E.k,this.SXi,this);
this.kw.h(V.E.k,this.SXi,this)}KB.prototype=new gV("");KB.prototype.SXi=function(p){var a;if(p.target==this.tS)a=this.tS.l();
else{var R=this.kw.l();a=Math.round(R.D)<<16|Math.round(R.X)<<8|Math.round(R.N)}var Q=new $(V.E.v,!0);
Q.data={K:V.H.es,L_:gp.zc,mK:0,Z:a};this.Y(Q)};KB.prototype.JD=function(p,a){var R=p.rc,Q=a==gp.EP;if(a==gp.zc||Q){this.tS.a(R);
this.kw.a({D:R>>>16&255,X:R>>>8&255,N:R>>>0&255,QV:"Color #"+S.ay(R)})}if(a==gp.oO||Q){var t=p.SY$;this.kw.xT(t)}};
function dr(){gV.call(this,[12,72],!1,null,gV.Ny.SNz);this.pM=null;this.EC=null;this.vx=V.P("div","lpbody scrollable");
this.FY=V.P("div","lpfoot");this.zD.appendChild(this.vx);this.zD.appendChild(this.FY);this._P=[];this.h("click",this.Oi,this);
this.Fq=[];dr.eV([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Fq,this.FY,this.Nr.bind(this),this.Ox.bind(this));
this.SYk=new Nq([{name:"Merge Channels",Kk:!0}]);this.SYk.h("select",this.SU,this)}dr.prototype=new gV("");
dr.prototype.SU=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.XS,ax:"mergechannels"};this.Y(a)};dr.prototype.OF=function(){return this.SYk};
dr.eV=function(p,a,R,Q,t){for(var N=0;N<p.length;N++){var K=new gi("W",!1,p[N]);a.push(K);V.xb(K._,Q);
R.appendChild(K._);var T=K._;T.addEventListener("drop",t,!1);T.addEventListener("dragover",function(d){d.preventDefault()},!1);
T.addEventListener("dragenter",V.pc,!1)}};dr.Va=function(p,a){for(var R=0;R<p.length;R++)if(p[R]._==a.currentTarget)return R};
dr.prototype.Nr=function(p){var a=dr.Va(this.Fq,p);if(a==0)this.Y(YJ.Oo(!0,null,p));else{a--;var R=new $(V.E.JF,!0),Q={classID:"null"};
if(a==0)Q.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(a==1)Q.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else Q.null=Nr.Fx("Chnl",!0);R.data={zt:["duplicate","make","delete"][a],UD:Q};this.Y(R)}};dr.prototype.Ox=function(p){var a=dr.Va(this.Fq,p);
if(a==2){var R=new $(V.E.JF,!0),Q={classID:"null"};Q.null=Nr.Fx("Chnl",!0);R.data={zt:"duplicate",UD:Q};
this.Y(R)}else this.Nr(p)};dr.prototype.iC=function(p){var a=this._P,R=a[p];if(R==null){var Q=V.P("canvas");
R=Q.getContext("2d");a.push(R)}return R};dr.prototype.Oi=function(p){var a=this.pM.slice(0),R=p.data.Yo,Q=a[0]+a[1]+a[2],t=this.EC;
if(-5<R&&R<0){var N=-R-1;if(p.data.CE){if(N==0)a=Q==3?[0,0,0]:[1,1,1];else{if(a[N-1]==0)a[N-1]=1;else if(!0)a[N-1]=0}}else{if(N==0)a=[1,1,1];
else{a=[0,0,0];a[N-1]=1}t.JO=[]}var K=new $(V.E.W,!0);K.Q=m.yd;K.data={K:"setcls",mC:a};this.Y(K);return}if(-1<R){var T=t.M[R],d=T.FE==1?T.mg():T.iW(t).n;
if(p.data.CE)d.oB=!d.oB;else{for(var y=0;y<t.Mn.length;y++)t.Mn[y].oB=!1;t.JO=[]}}else{var E=-R-5,d=t.Mn[E];
if(p.data.CE)d.oB=!d.oB;else{for(var y=0;y<t.Mn.length;y++)t.Mn[y].oB=!1;d.oB=!0;t.JO=[E]}}t.$h=t.At=!0};
dr.prototype.tE=function(){this.Io()};dr.prototype.FU=function(p){this.EC=p;this.Io()};dr.prototype.Io=function(){var p=this.EC,a=this.vx,T=34,d=34,e=4;
V.Tl(a);if(p==null||!V.aM(a))return;var R=p.C,Q=p.T,t=new x(0,0,R,Q),N=this.pM=p.z.mC.slice(0),K=N[0]+N[1]+N[2];
if(R>Q)d=Math.round(d*Q/R);else T=Math.round(T*R/Q);var y=["RGB"].concat(gA.DA);for(var E=0;E<4;E++){var k=this.iC(E);
S.aA.Kf(k,T,d,t,p.iD(),t,!1,E==0?null:E-1);var D=E==0?K==3:N[E-1]==1,P=new YJ(-1-E,!0,!0,k,y[E],D,D);
P.parent=this;a.appendChild(P._)}for(var E=0;E<p.V.length;E++){var Y=p.M[p.V[E]],O=Y.FE;if(O!=1&&O!=3)continue;
var W=O==1?Y.mg():Y.iW(p).n,k=this.iC(e+E);e++;S.aA.dE(k,T,d,t,W);var P=new YJ(p.V[E],!0,!0,k,Y.getName()+(O==1?"":" Filter")+" Mask",!0,W.oB);
P.parent=this;a.appendChild(P._)}for(var E=0;E<p.Mn.length;E++){var W=p.Mn[E],k=this.iC(e+E);S.aA.dE(k,T,d,t,W);
var P=new YJ(-5-E,!0,W.name=="Quick Mask",k,W.name,p.JO.indexOf(E)!=-1,W.oB,m.pw,{K:l.Kx,mK:"rnm",Yo:E});
P.parent=this;a.appendChild(P._)}};dr.prototype.Jg=function(p,a){this.vx.style.height=a-9-25+"px"};dr.prototype.b=function(){gV.prototype.b.call(this);
this.Io();dr.Oy(this.Fq,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};dr.Oy=function(p,a){for(var R=0;
R<p.length;R++){var Q=p[R];Q.EX(V.uj(a[R]))}};function YJ(p,a,R,Q,t,N,K,T,d){gM.call(this);this._=V.P("div","layeritem");
this.SgB=p;this.Sgq=a;this.SgM=R;this.XC=Q;this.SgX=T;this.Sgt=d;this.zg=V.P("div",N?"head selected":"head");
this.zg.setAttribute("style","height: "+40+"px");var y=V.P("div","headL"),E=V.P("div","headR"),k=15;
this._.appendChild(this.zg);this.zg.appendChild(y);this.zg.appendChild(E);this.aE=V.P("div","eye");if(1<V.o()&&V.o()<1.5)k=k/V.o();
this.aE.setAttribute("style","background-size: "+k+"px "+k+"px;");this.aE.style.opacity=K?1:.2;if(a)y.appendChild(this.aE);
this.zh=V.P("div","thumb");if(Q)this.zh.appendChild(Q.canvas);y.appendChild(this.zh);this.Uu=V.P("div","label");
if(R)this.Uu.style.fontStyle="italic";this.Uu.textContent=gL.get(t);y.appendChild(this.Uu);var D=this.zg;
D.setAttribute("draggable","true");this.zg.addEventListener("mousedown",this.SrW.bind(this),!1);this.zg.addEventListener("mouseup",this.Srj.bind(this),!1)}YJ.prototype=new gM;
YJ.prototype.YR=function(p){var a=new $(V.E.W,!0);a.Q=this.SgX;a.data=this.Sgt;a.data.name=p;this.Y(a)};
YJ.prototype.SrW=function(p){var a=p.ctrlKey||p.metaKey,R=this.SgB;if(a&&p.target==this.XC.canvas){this.Y(YJ.Oo(this.Sgq,R,p))}else{var Q=new $("click",!0);
Q.data={Yo:R,CE:p.target==this.aE,_V:a};this.Y(Q)}};YJ.prototype.Srj=function(p){if(!this.SgM&&p.detail==2&&p.target==this.Uu){var a=new gV.Nn(this.Uu,this.YR.bind(this))}};
YJ.Oo=function(p,a,R){var Q=0;if(R.shiftKey)Q++;if(R.altKey)Q+=2;var t=new $(V.E.W,!0);t.Q=m.yO;if(p)t.data={K:"fromchannel",dX:[a,0,Q]};
else t.data={K:"frompath",dX:[a,0,Q]};return t};function p_(){gV.call(this,[8,9],!1,null,gV.Ny.oA);this.pM=null;
this.EC=null;this.vx=V.P("div","lpbody scrollable");this.FY=V.P("div","lpfoot");this.zD.appendChild(this.vx);
this.zD.appendChild(this.FY);this.zD.addEventListener("click",this.SlE.bind(this),!1);this._P=[];this.h("click",this.Oi,this);
this.Fq=[];dr.eV([[17,2],"Selection to Path",[5,3],[5,4]],this.Fq,this.FY,this.Nr.bind(this),this.Ox.bind(this))}p_.prototype=new gV("");
p_.prototype.Nr=function(p){var a=dr.Va(this.Fq,p),R;if(a==0)R=YJ.Oo(!1,null,p);else if(a==1){R=new $(V.E.JF,!0);
R.data={zt:"make",UD:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var R=new $(V.E.W,!0);
R.Q=m.Sh;R.data={K:"pathedit",mK:["new","del"][a-2]}}this.Y(R)};p_.prototype.Ox=function(p){this.Nr(p)};
p_.prototype.iC=function(p){var a=this._P,R=a[p];if(R==null){var Q=V.P("canvas");R=Q.getContext("2d");
a.push(R)}return R};p_.prototype.SlE=function(p){if(p.target==this.vx){var a=this.EC;a.Op=[];a.FS=[];
a.At=!0;a.$h=!0}};p_.prototype.Oi=function(p){var a=p.data.Yo,R=this.EC,Q=p.data._V,t=0,N,K;if(a<0){t=-1-a;
N=R.Op;K=R.FS}else{var T=R.h$()[0];for(var d=0;d<T.length;d++){var y=T[d].Yo;if(y==a)break;if(y>=0)t++}N=R.FS;
K=R.Op}if(Q){var E=N.indexOf(t);if(E==-1)N.push(t);else N.splice(E,1)}else{while(N.length!=0)N.pop();
while(K.length!=0)K.pop();N.push(t)}R.At=!0;R.$h=!0};p_.prototype.tE=function(){this.Io()};p_.prototype.FU=function(p){this.EC=p;
this.Io()};p_.prototype.Io=function(){var p=this.EC,a=this.vx,T=34,d=34;V.Tl(a);if(p==null||!V.aM(a))return;
var R=p.C,Q=p.T,t=new x(0,0,R,Q),N=this.pM=p.z.mC.slice(0),K=N[0]+N[1]+N[2];if(R>Q)d=Math.round(d*Q/R);
else T=Math.round(T*R/Q);var y=p.h$(),E=y[0];for(var k=0;k<E.length;k++){var D=E[k],P=this.iC(k);S.aA.SWm(P,T,d,t,D.add.vmsk);
var e=new YJ(D.Yo,!1,D.Yo>=-1,P,D.name,y[1].indexOf(k)!=-1,!1,m.Sh,{K:"pathedit",mK:"rnm",Yo:D.Yo});
e.parent=this;a.appendChild(e._)}};p_.prototype.Jg=function(p,a){this.vx.style.height=a-9-25+"px"};p_.prototype.b=function(){gV.prototype.b.call(this);
this.Io();dr.Oy(this.Fq,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function dF(p){gV.call(this,[9,p?4:5],!1,null,p?gV.Ny.SBh:gV.Ny.SNR);
this.zD.setAttribute("style","min-width:240px;");this.Sga=p;this.Mg=null;this.$F=null}dF.prototype=new gV("");
dF.prototype.pl=function(){this.Mg=new pb;var p=this.Mg,a=this.zD;p.parent=this;if(this.Sga){var R=V.P("div","marged");
a.appendChild(R);R.appendChild(p.Re._);a.appendChild(V.P("hr"));var Q=V.P("div","marged");a.appendChild(Q);
Q.appendChild(p.RF._);Q.appendChild(p.Ie._);var t=V.P("div","marged");a.appendChild(t);t.appendChild(p.RD._);
t.appendChild(p.FV._);a.appendChild(V.P("hr"));var N=V.P("div","marged");a.appendChild(N);N.appendChild(p.PY._);
N.appendChild(p.Pf._);var K=V.P("div","marged");a.appendChild(K);K.appendChild(p.PM._);K.appendChild(p.If._);
a.appendChild(V.P("hr"));var T=V.P("div","marged");a.appendChild(T);T.appendChild(p.Ks._);T.appendChild(p.Ke._);
T.appendChild(p.Kz._);T.appendChild(p.KL._);T.appendChild(p.Kw._);T.appendChild(p.KX._);T.appendChild(p.KP._);
T.appendChild(p.Kj._)}else{var R=V.P("div","marged");a.appendChild(R);R.appendChild(p.PT._);R.appendChild(p.Pb._);
R.appendChild(p.PV._);R.appendChild(p.SeC._);R.appendChild(p.Szk._);R.appendChild(p.Sex._);R.appendChild(p.SLO._);
a.appendChild(V.P("hr"));var Q=V.P("div","marged");a.appendChild(Q);Q.appendChild(p.hr._);Q.appendChild(p.hl._);
Q.appendChild(p.hs._);a.appendChild(V.P("hr"));var t=V.P("div","marged");a.appendChild(t);t.appendChild(p.hR._);
t.appendChild(p.he._);t.appendChild(p.PD._)}};dF.prototype.tE=function(){if(!V.aM(this.zD))return;if(this.Mg==null){this.pl();
var p=this.$F;if(p)this.Mg.a(p.og,p.mk,p.ku);this.Mg.b()}};dF.prototype.b=function(){gV.prototype.b.call(this);
if(this.Mg)this.Mg.b()};dF.prototype.JD=function(p,a){this.$F=p;if(a!=gp.EP&&a!=gp.YQ&&a!=gp.Sy&&a!=gp.Yj)return;
if(this.Mg)this.Mg.a(p.og,p.mk,p.ku)};function dD(){gV.call(this,[13,0],!1,null,gV.Ny.zc);this._b=0;
this.SrN=0;this.$F=null;var p=V.P("div","flexrow padded");this.zD.appendChild(p);var a=V.P("div");p.appendChild(a);
this._n=[];for(var R=0;R<2;R++){var Q=new Sv;this._n.push(Q);Q.h("click",this.Ssg,this);a.appendChild(Q._)}this.He=new Yn(192);
this.He.h(V.E.k,this.WW,this);p.appendChild(this.He._)}dD.prototype=new gV("");dD.prototype.Ssg=function(p){this._b=this._n.indexOf(p.currentTarget);
this.$X()};dD.prototype.WW=function(p){var a=this.He.l();this.He.a(a);var R=Math.round(a.D*255)<<16|Math.round(a.X*255)<<8|Math.round(a.N*255),Q=new $(V.E.v,!0);
Q.data={K:V.H.es,L_:gp.zc,mK:this._b,Z:R};this.Y(Q);this.SrN=Date.now()};dD.prototype.$X=function(){var p=this.$F,a=this._b,R=[p.rc,p.eJ];
for(var Q=0;Q<2;Q++){var t=this._n[Q],N=t._.style;t.mz(R[Q]);if(Q==a)delete N.borderColor;else N.borderColor="var(--bg-color)"}var K=R[a];
if(Date.now()-this.SrN>100)this.He.a({D:(K>>>16)/255,X:(K>>>8&255)/255,N:(K&255)/255})};dD.prototype.JD=function(p,a){this.$F=p;
if(a==gp.EP||a==gp.zc)this.$X()};dD.prototype.tE=function(){this.$X()};function Sf(){gV.call(this,"CSS",!1,null,gV.Ny.CSS);
this.zV=null;var p=V.P("div","padded");this.zD.appendChild(p);this.WF=V.P("textarea");this.WF.setAttribute("rows",16);
this.WF.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
p.appendChild(this.WF)}Sf.prototype=new gV("");Sf.prototype.FU=function(p){this.zV=p;this.$X()};Sf.prototype.JD=function(p,a){if(a==gp.Sy)this.$X()};
Sf.prototype.$X=function(){var p=this.zV;if(p==null||p.V.length==0)return;if(!V.aM(this.zD))return;var a=p.M[p.V[0]],R=CSS.Sha(a,p);
if(R.length!=0)this.WF.value=R.join(";\n")+";";else this.WF.value=""};Sf.prototype.tE=function(){this.$X()};
function Sa(){gV.call(this,[9,6],!1,null,gV.Ny.SgG);this.zD.setAttribute("style","min-width:240px;");
this.zV=null;this.$F=null;var p=V.P("div","marged row");this.zD.appendChild(p);var a=V.P("div","cell");
a.setAttribute("style","width:10em");p.appendChild(a);var R=V.P("div","cell");R.setAttribute("style","width:10em");
p.appendChild(R);this.Sli=[];for(var Q=0;Q<4;Q++){var t=new Ky("");this.Sli.push(t);a.appendChild(t._);
V.zp(a)}this.zD.appendChild(V.P("hr",""));var N=V.P("div","marged row");this.zD.appendChild(N);var a=V.P("div","cell");
a.setAttribute("style","width:10em");var R=V.P("div","cell");R.setAttribute("style","width:10em");N.appendChild(a);
N.appendChild(R);this.HM=new Ky("");a.appendChild(this.HM._);V.zp(a);this.HO=new Ky("");a.appendChild(this.HO._);
this.GW=new Ky("");R.appendChild(this.GW._);V.zp(R);this.Ik=new Ky("");R.appendChild(this.Ik._);this.HM.a("X: 100 px");
this.HO.a("Y: 100 px");this.GW.a("W: 0");this.Ik.a("H: 0")}Sa.prototype=new gV("");Sa.prototype.r$=function(p,a,R,Q,t){if(!V.aM(this.zD)||p==null)return;
var N=p.z.oD(t.x,t.y),K=new X(Math.floor(N.x),Math.floor(N.y));if(!t.Fa){var T=0,d=0,y=0,E=0,k=this.Sli;
if(!t.Fa&&!p.SzS()&&new x(0,0,p.C-1,p.T-1).lp(K)){var D=p.iD(),P=p.C*K.y+K.x<<2;T=D[P+0];d=D[P+1];y=D[P+2];
E=D[P+3]}k[0].a("R: "+T);k[1].a("G: "+d);k[2].a("B: "+y);k[3].a("A: "+E)}this.HM.a("X: "+S.EH.be(K.x,p.po,R,p.C));
this.HO.a("Y: "+S.EH.be(K.y,p.po,R,p.T));this.OU()};Sa.prototype.OU=function(){var p=this.zV,a=this.$F,R=0,Q=0;
if(p&&a){if(p.z.cH){R=p.z.cH.C;Q=p.z.cH.T}else if(p.S){R=p.S.rect.C;Q=p.S.rect.T}R=S.EH.be(Math.abs(R),p.po,a,p.C);
Q=S.EH.be(Math.abs(Q),p.po,a,p.T)}this.GW.a(gL.get([12,41]).charAt(0)+": "+R);this.Ik.a(gL.get([12,42]).charAt(0)+": "+Q)};
Sa.prototype.b=function(){gV.prototype.b.call(this);this.OU()};Sa.prototype.FU=function(p,a,R){this.zV=p;
this.$F=R;this.OU()};function Ny(){gV.call(this,[9,1],!1,null,gV.Ny.pw);this.kP=null;this.NI=null;this.aL=null;
this.zg=V.P("div","lphead");this.vx=V.P("div","lpbody scrollable");this.FY=V.P("div","lpfoot");this.aj=new gu(null,gE.ih,!1,gE.iK);
this.aj.h(V.E.k,this.Sso,this);this.zg.appendChild(this.aj._);this.kb=new SD([12,0],0,100,"%",0);this.kb.h(V.E.k,this.SsA,this);
this.kb.parent=this;this.zg.appendChild(this.kb._);this.i$=new YZ("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.i$.h(V.E.k,this.Ssu,this);this.zg.appendChild(this.i$._);this.iX=new SD([12,26],0,100,"%",0);this.iX.h(V.E.k,this.Ssc,this);
this.iX.parent=this;this.Fq=[];this.eV();this.zD.appendChild(this.zg);this.zD.appendChild(this.vx);this.zD.appendChild(this.FY);
this.zD.addEventListener("contextmenu",V.pc,!1);var p=[{name:[14,10]},{name:[14,11],i_:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],i_:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",J:function(N){return{J:N.M[N.V[0]].add.SoLd!=null}},i_:!0},{name:[6,8],J:function(N){var K=N.M[N.V[0]];
if(K.add.TySh||K.add.SoLd||K.add.SoCo||K.add.GdFl||K.add.PtFl)return{J:!0};return{J:!1}}},{name:[6,34],J:function(N){var K=N.M[N.V[0]];
return{J:K.add.lmfx!=null&&!K.sc()}}},{name:[6,40],i_:!0,J:function(N){var K=N.M[N.V[0]];return{J:K.add.TySh!=null}}},{name:"",i_:!0,J:function(N){var K=N.M[N.V[0]],T=K.add.TySh,d=T?T.KY:null;
return{J:T!=null&&d.Curve==null,vb:gL.get(T&&gK.Ez(d)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],i_:!0,J:function(N){return{J:N.EE(N.V[0]),Ve:N.M[N.V[0]].$L}}},{name:[11,6],i_:!0,sub:[{name:[5,1],J:function(N){var K=N.M[N.V[0]];
return{J:K.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],J:function(N){var K=N.M[N.V[0]];return{J:K.add.lmfx!=null}}}]},{name:[6,10],J:function(N){return{J:N.V.length==1&&N.V[0]!=0&&!N.M[N.V[0]].sc()}}},{name:[6,12,0],J:function(N){return{J:N.V.length>1||N.M[N.V[0]].sc()}}},{name:[6,12,1],i_:!0},{name:[13,0],sub:function(){var N=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],K=[];
for(var T=0;T<N.length;T++)K.push({name:N[T]});return K}()}];this.NM=[null,{q:V.E.W,Q:m.yO,F:{K:"fromlayer",dX:[null,0,0]}},l.iP,{q:V.E.v,F:{K:V.H.XS,ax:"duplinto"}},l.iU,{q:V.E.JF,F:{zt:"newPlacedLayer"}},l.$n,{q:V.E.JF,F:{zt:"rasterizeLayer",UD:{classID:"rasterizeLayer",null:Nr.Fx("Lyr",!0)}}},l.Md,l.SfY,{q:V.E.W,Q:m.Fr,F:{K:"switchPntPrgr"}},l.CX,null,l.dw,l.lq,l.MY,l.vg];
this.Or=new Nq(p);this.Or.h("select",this.SU,this);var a=[{name:[6,45],J:function(N){var K=N.M[N.V[0]];
return{J:K.iW(N).n==null}}},{name:[6,47]}];this.SgV=[l.Ei,l.Mq];this.nS=new Nq(a);this.nS.h("select",this.SU,this);
var R=[{name:"enab/disab",J:function(N){return{vb:gL.get(N.M[N.V[0]].mg().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],J:function(N){return{J:N.Fp(!1,!0)}}}];
this.Sgb=[l.dn,l.Wk,l.MB];this.nd=new Nq(R);this.nd.h("select",this.SU,this);var Q=[{name:"enab/disab",J:function(N){return{vb:gL.get(N.M[N.V[0]].iW(N).n.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.Sg_=[l.lT,l.EW];this.nK=new Nq(Q);this.nK.h("select",this.SU,this);var t=[{name:"enab/disab",J:function(N){return{vb:gL.get(N.M[N.V[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.SNK=[l.Wz,l.Og];this.nr=new Nq(t);this.nr.h("select",this.SU,this);this.nl=new Nq(Sl.Spj(!0),Sl.SlZ(!0));
this.SlT=new Nq(Sl.SNu(),Sl.SpI());this.h("rclick",this.Ssy,this)}Ny.prototype=new gV("");Ny.prototype.VX=function(){return new X(253,0)};
Ny.prototype.SU=function(p){var a=p.target.UK(),R=a[0],Q;if(p.target==this.Or)Q=this.NM;if(p.target==this.nS)Q=this.SgV;
if(p.target==this.nd)Q=this.Sgb;if(p.target==this.nr)Q=this.SNK;if(p.target==this.nK)Q=this.Sg_;if(p.target==this.nl)Q=this.SUF;
if(p.target==this.SlT)Q=this.SUh;if(Q[R]==null){if(R==0){var t=new $(V.E.v,!0);t.data={K:V.H.XS,ax:"layerstyle",w:this.NI.V[0]};
this.Y(t)}else{var N=new $(V.E.W,!0);N.Q=m.hO;N.data={K:["st_copy","st_paste","st_clear"][a[1]],w:this.NI.V[0]};
this.Y(N)}return}if(Q[R].q!=null){var K=Q[R],N=new $(K.q,!0);N.Q=K.Q;N.data=K.F;p.target.Y(N);return}var N=new $(V.E.W,!0);
if(p.target==this.nl)N.data=Q[R];else N.data={K:Q[R]};if(Q[R]==l.vg)N.data.S$p=a[1];N.Q=m.pw;p.target.Y(N)};
Ny.prototype.Ssy=function(p){var a=this.NI,R=p.data,t;if(a.V.indexOf(R.w)==-1){var Q={K:l.K_,w:p.target.v$.index,dj:R.FE};
this.mw(Q)}if(a.V.indexOf(R.w)==-1)return;if(R.FE==1){t=this.nd}else if(R.FE==2){t=this.nr}else if(R.FE==3){t=this.nK}else if(R.SNY){t=this.nS}else{t=this.Or}t.b();
t.update(a);t.parent=this;var N=new $(V.E.v,!0);N.data={K:V.H.Xf,Vw:t,x:R.qL.x+1,y:R.qL.y+1};this.Y(N)};
Ny.prototype.b=function(){gV.prototype.b.call(this);this.aj.b();this.kb.b();this.i$.b();this.iX.b();
if(this.NI)this.FU(this.NI);var p="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var a=0;a<this.Fq.length;a++){var R=this.Fq[a];R.EX(V.uj(p[a]))}};Ny.prototype.FU=function(p,a){if(p&&!p.if)return;
if(p==null)V.ey(this.zD,"disabled");else V.Eg(this.zD,"disabled");this.NI=p;this.aL=a;if(this.kP!=null){this.vx.removeChild(this.kP.vx);
this.kP=null}if(p==null)return;this.kP=new SH(p.root,this,p,{dV:0});this.vx.appendChild(this.kP.vx);
if(p.V.length==0)V.ey(this.zg,"disabled");else{V.Eg(this.zg,"disabled");if(p.V.length==1&&p.Es)this.kP.Syi(p.V);
var R=p.M[p.V[0]];if(R.sc()){this.aj.tY([[15,10,27]].concat(gE.ih),[1].concat(gE.iK));var Q=gE.TV.indexOf(R.bQ);
this.aj.a(Q+1)}else{this.aj.tY(gE.ih,gE.iK);var Q=gE.TV.indexOf(R.bQ);this.aj.a(Q)}this.kb.a(Math.round(100*R.opacity/255));
this.i$.a([R.qJ(1),R.qJ(2),R.qJ(31)]);this.iX.a(Math.round(100*(R.add.iOpa!=null?R.add.iOpa/255:1)))}};
Ny.prototype.Jg=function(p,a){var R=this.zg.getBoundingClientRect().height;R=Math.max(R,52);if(R>68)R=Math.max(R,76);
var Q=a-(R+35);this.vx.style.height=Q+"px"};Ny.prototype.Sso=function(p){this.mw({K:l.Ko,yD:this.aj.l()})};
Ny.prototype.SsA=function(p){this.mw({K:l.KD,yD:Math.round(255*this.kb.l()/100)})};Ny.prototype.Ssu=function(p){this.mw({K:l.OP,yD:[this.i$.l(),[1,2,31]]})};
Ny.prototype.Ssc=function(p){this.mw({K:l.sK,yD:Math.round(255*this.iX.l()/100)})};Ny.prototype.SRY=function(p){this.SXa(p,this.nl)};
Ny.prototype.SRr=function(p){this.SXa(p,this.SlT)};Ny.prototype.SXa=function(p,a){var R=p.currentTarget;
if(V.aM(a._))return;p.stopPropagation();var Q=R.getBoundingClientRect();a.b();a.update(this.NI);a.parent=this;
var t=new $(V.E.v,!0);t.data={K:V.H.Xf,Vw:a,x:Q.left,y:Q.top,SNi:!0};this.Y(t)};Ny.prototype.SRB=function(p){this.mw({K:l.Slm})};
Ny.prototype.SR$=function(p){this.mw({K:this.NI.V.length>1?l.vd:l.El})};Ny.prototype.SRi=function(p){this.mw({K:l.iw})};
Ny.prototype.SRU=function(p){this.mw({K:l.iU})};Ny.prototype.SRJ=function(p){this.mw({K:l.WC})};Ny.prototype.mw=function(p){var a=new $(V.E.W,!0);
a.data=p;a.Q=m.pw;this.Y(a)};Ny.prototype.eV=function(){var p=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],a=[this.SRJ,this.SRr,this.SRY,this.SRB,this.SR$,this.SRi,this.SRU],R=this.SIf.bind(this);
for(var Q=0;Q<p.length;Q++){var t=new gi("W",!1,p[Q]);this.Fq.push(t);V.xb(t._,a[Q].bind(this));this.FY.appendChild(t._);
if(Q>=p.length-3){var N=t._;N.addEventListener("drop",R,!1);N.addEventListener("dragover",function(K){K.preventDefault()},!1);
N.addEventListener("dragenter",V.pc,!1)}}};Ny.prototype.SIf=function(p){V.pc(p);var a=0,R=this.Fq;while(R[a]._!=p.currentTarget)a++;
R[a].Un();var Q=p.dataTransfer.getData("Text");if(Q=="")return;var Q=JSON.parse(Q);if(Q.yH=="l"){var t={K:[l.vd,l.iP,l.iU][a-4]};
if(this.NI.V.indexOf(Q.Xx)==-1)t.w=Q.Xx;this.mw(t)}if(a!=6)return;if(Q.yH=="sm"||Q.yH=="s"){var N=new $(V.E.W,!0);
N.Q=m.hO;N.data={K:Q.yH=="sm"?"st_clear":"st_delsingle",w:Q.Xx,Xx:Q.nH};this.Y(N)}if(Q.yH=="fm"||Q.yH=="f"){this.mw({K:Q.yH=="fm"?l.Mq:l.SS_,src:Q.Xx,nH:Q.nH})}if(Q.yH=="m"||Q.yH=="vm"){this.mw({K:Q.yH=="m"?l.Wk:l.Og,w:Q.Xx})}};
function SH(p,a,R,Q){gM.call(this);this.parent=a;this.v$=p;this.ns=[];this._=V.P("div","layeritem");
var t=p.w,g=15,r=!1;this.zg=V.P("div",R.V.indexOf(p.index)!=-1?"head selected":"head");if(p.w.add.artb!=null)V.ey(this.zg,"artb");
this.zg.setAttribute("style","height: "+(t.SXb+10)+"px");var N=V.P("div","headL"),K=V.P("div","headR"),T=V.P("div","lpineck");
this.vx=V.P("div","lpibody");this._.appendChild(this.zg);this.zg.appendChild(N);this.zg.appendChild(K);
if(t.GK()||t.kF())if(t.lC())this._.appendChild(T);var d=this.zg;d.setAttribute("draggable","true");d.addEventListener("dragstart",this.OW.bind(this),!1);
d.addEventListener("drop",this.UC.bind(this),!1);d.addEventListener("dragover",this.OQ.bind(this),!1);
d.addEventListener("dragenter",V.pc,!1);d.addEventListener("dragleave",this.Oa.bind(this),!1);var y=[],E=[],k=V.P("div");
this.aE=V.P("div","eye");k.appendChild(this.aE);var D=V.P("div","space");this.Uu=V.P("div","label");
this.Uu.textContent=t.getName();this.nR=V.P("div","lock");this.pX=V.P("div","arfx");var P=this.SeX.bind(this),e=this.SeT.bind(this);
this.zg.addEventListener("click",e,!1);this.zg.addEventListener("contextmenu",P,!1);var Y=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],O=t.add.lclr==null?0:Y[t.add.lclr];
if(O==0)O=Q.dV;var W=[O>>16,O>>8&255,O&255];for(var w=0;w<3;w++){W[w]=Math.round(.5*W[w]+.5*220)}if(1<V.o()&&V.o()<1.5)g=g/V.o();
k.setAttribute("style","background-color:rgba("+W.join(",")+","+(O==0?0:1)+");");this.aE.setAttribute("style","background-size: "+g+"px "+g+"px;");
var J=this.SI$.bind(this);k.addEventListener("mousedown",J,!1);k.addEventListener("mouseover",J,!1);
this.Uu.addEventListener("pointerup",this.SeY.bind(this),!1);this.pX.addEventListener("click",this.SeM.bind(this),!1);
y[0]=k;y[1]=D;y[10]=this.Uu;if(t.sc()){var U=V.P("div","arrow"),H=V.P("div","folder");U.addEventListener("click",this.SIM.bind(this),!1);
y[2]=U;y[3]=H;if(t.add.lsct==Ns.hI){for(var w=p.children.length-1;w>=0;w--){var f=new SH(p.children[w],a,R,{dV:O});
this.ns.push(f);this.vx.appendChild(f._)}this._.appendChild(this.vx)}U.setAttribute("class",t.add.lsct==Ns.hI?"open":"closed")}else{this.zh=V.P("div","thumb");
y[5]=this.zh;this.zh.appendChild(t.vv.canvas)}var j=t.mg();if(j){this.px=V.P("div","chain");this.QX=V.P("div","thumb");
this.QX.setAttribute("draggable","true");this.QX.appendChild(p.w.SXn.canvas);this.px.style.opacity=j.XI?1:0;
this.px.addEventListener("click",this.SIX.bind(this),!1)}var I=t.xP()&&t.add.vmsk;if(t.add.vmsk&&!I){this.py=V.P("div","chain");
this.LR=V.P("div","thumb");this.LR.setAttribute("draggable","true");this.LR.appendChild(p.w.SXk.canvas);
this.py.style.opacity=t.add.vmsk.XI?1:0;this.py.addEventListener("click",this.SIu.bind(this),!1)}if(t.kF()&&t.iW(R).n){this.kj=V.P("div","thumb");
this.kj.appendChild(p.w.SXc.canvas);this.kj.addEventListener("click",e,!1);this.kj.addEventListener("contextmenu",P,!1)}if(t.GK()){T.addEventListener("contextmenu",P,!1);
var L=new Ny.VZ(gL.get([12,1]),"sm","layerstyle",p.depth,0,null);L.parent=this;T.appendChild(L._);var C=t.add.lmfx,v=C.masterFXSwitch.v;
L.mt(v);for(var w=0;w<gZ.order.length;w++){var o=C[gZ.lV[w]].v;if(o.length==0)continue;for(var Z=0;Z<o.length;
Z++){var L=new Ny.VZ(gL.get(gZ.names[w]),"s","layerstyle",p.depth,1,[w,Z]);L.mt(v&&o[Z].v.enab.v);L.parent=this;
T.appendChild(L._)}}}if(t.kF()){var L=new Ny.VZ(gL.get([12,55]),"fm",null,p.depth,0,-1,t.iW(R).n?this.kj:null);
L.parent=this;T.appendChild(L._);this.Ssz=L._;this.Ssz.addEventListener("contextmenu",P,!1);var C=t.add.SoLd.filterFX.v,B=C.filterFXList.v,v=C.enab.v;
L.mt(v);for(var w=B.length-1;w>=0;w--){var s=B[w].v,q=s.filterID.v,F=A.tR(q);if(gA.dZ[F])F=gA.dZ[F];
var b=s.Nm.v;if(gw.names[F])b=gL.get(gw.names[F]);if(gA.names[F])b=gL.get(gA.names[F]);var G=c[F]||gw.Wh[F]?"afw_"+F:null,L=new Ny.VZ(b,"f",G,p.depth,1,w);
L.mt(v&&s.enab.v);L.parent=this;T.appendChild(L._)}}if(R.M.indexOf(t)==R.V[0]){var u=t.FE,h;if(u<=0)h=this.zh;
else if(u==1)h=this.QX;else if(u==3)h=this.kj;if(h)h.setAttribute("class","thumb active");if(t.LK&&this.LR)this.LR.setAttribute("class","thumb active")}k.style.opacity=t.Aw()?1:.25;
D.setAttribute("style","width:"+Math.max(0,p.depth-1)*18+"px");var z=t.add.lspf!=null&&t.add.lspf!=0;
this.nR.style.opacity=t.qJ(31)?1:.5;y[4]=t.$L?V.P("div","clipp"):null;y[6]=j?this.px:null;y[7]=j?this.QX:null;
y[8]=t.add.vmsk&&!I?this.py:null;y[9]=t.add.vmsk&&!I?this.LR:null;var i=t.dI,gg=R.V;if(i!=0)for(var w=0;
w<gg.length;w++)if(R.M[gg[w]].dI==i){r=!0;break}E[0]=r?V.P("div","link"):null;E[1]=z?this.nR:null;E[2]=t.GK()?V.P("div","lrfx"):null;
E[3]=t.GK()||t.kF()?this.pX:null;this.pX.setAttribute("class",t.lC()?"arfx open  gsicon":"arfx closed  gsicon");
var gC=y;for(var w=0;w<gC.length;w++)if(gC[w])N.appendChild(gC[w]);gC=E;for(var w=0;w<gC.length;w++)if(gC[w])K.appendChild(gC[w])}SH.prototype=new gM;
SH.prototype.Syi=function(p){var a=this.v$.index;if(p.indexOf(a)!=-1){if(this._.scrollIntoView)this._.scrollIntoView({block:"nearest"})}for(var R=0;
R<this.ns.length;R++)this.ns[R].Syi(p)};SH.QH=function(p,a){var R=a.getBoundingClientRect();return(p.clientY-R.top)/R.height};
SH.prototype.OW=function(p){p.stopPropagation();var a=p.target==this.QX?"m":p.target==this.LR?"vm":"l";
p.dataTransfer.setData("Text",JSON.stringify({yH:a,Xx:this.v$.index}))};SH.prototype.Oa=function(p){V.pc(p);
this.pR()};SH.prototype.UC=function(p){V.pc(p);this.pR();var a=p.dataTransfer.getData("Text"),R=this.parent.NI,Q=SH.QH(p,this.zg),t=this.v$.index;
if(Q>.8){var N=!0,K=R.root.GE(t);while(K.parent!=null){var T=K.parent,d=T.children;if(d.indexOf(K)!=0)N=!1;
K=K.parent}if(N){t=0;Q=1}}if(a==""){V.SFb(p,this,this.parent.aL.indexOf(R),t+(Q>.5?0:1))}else if(a!="--panel"){var a=JSON.parse(a),y=a.yH;
if(y=="l")this.mw({K:l.vS,source:a.Xx,target:t,ul:Q});else if(y=="m"||y=="vm")this.mw({K:y=="m"?l.Go:l.GU,src:a.Xx,QW:t,TZ:p.altKey});
else SH.SoC(p,a,this)}};SH.SoC=function(p,a,R,Q){var t=a.yH,N=R.v$.index,K=a.Xx;if(t=="s"||t=="sm")R.mw({K:l.EB,src:K,QW:N,nH:a.nH,TZ:p.altKey});
if(t=="f"||t=="fm")R.mw({K:l.SSJ,src:K,QW:N,nH:a.nH,ju:Q==null?0:Q,TZ:p.altKey})};SH.prototype.OQ=function(p){V.pc(p);
var a=SH.QH(p,this.zg);this.pR();var R="border-"+(a>.5?"bottom":"top");if(this.v$.w.sc()&&.5<a&&a<.8)R="border";
this.zg.style[R]="0.2em solid rgba(0,0,0,0.5)"};SH.prototype.pR=function(p){this.zg.style.border="none"};
SH.SWZ=-1;SH.OV=!1;SH.SWi=function(p){SH.OV=!1;document.body.removeEventListener("mouseup",SH.SWi)};
SH.prototype.SI$=function(p){if(p.button!=0)return;if(p.type=="mousedown"){SH.OV=!0;document.body.addEventListener("mouseup",SH.SWi,!1)}if(p.type=="mouseover"&&(!SH.OV||SH.SWZ==this.v$.index))return;
V.pc(p);this.mw({K:l.ia,w:this.v$.index});SH.SWZ=this.v$.index};SH.prototype.SIM=function(p){this.mw({K:l.Sev,w:this.v$.index})};
SH.prototype.SIX=function(p){this.mw({K:l.sd,w:this.v$.index})};SH.prototype.SIu=function(p){this.mw({K:l.Gu,w:this.v$.index})};
SH.Ug=0;SH.prototype.SeY=function(p){var a=SH.Ug;SH.Ug=Date.now();if(Date.now()-a>300)return;p.preventDefault();
p.stopPropagation();this.zg.setAttribute("draggable","false");var R=new gV.Nn(this.Uu,this.YR.bind(this))};
SH.prototype.YR=function(p){this.mw({K:l.vC,w:this.v$.index,name:p})};SH.prototype.SeM=function(p){this.mw({K:l.SHO,w:this.v$.index})};
SH.prototype.SeX=function(p){if(this.StN(p,p.target,this.FE(p)))return;var a=p.sourceCapabilities;if(a)a=a.firesTouchEvents;
if(p.button!=2&&a!=!0)return;var R=new $("rclick",!0);R.data={w:this.v$.index,FE:this.FE(p),qL:V.ma(p,document.body),SNY:p.currentTarget==this.Ssz};
this.Y(R)};SH.prototype.FE=function(p){var a=p.target,R=a.parentNode;return R==this.LR?2:R==this.QX?1:R==this.zh?0:R==this.kj?3:-1};
SH.prototype.SeT=function(p){var a=p.target,y=0;if(a==this.aE||a==this.pX||a==this.px||a==this.py||a.tagName&&a.tagName.toLowerCase()=="input")return;
var R=this.FE(p),Q=this.parent.NI,t=this.v$.index,N=Q.M[t];if(a==this.nR){this.mw({K:l.OP,w:t,yD:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(p.button==0&&p.detail==2){if(a==this.Uu)return;var K=new $(V.E.v,!0),T=new $(V.E.JF,!0);if(R==0&&(gA.get(N.add)||N.add.SoCo||N.add.GdFl||N.add.PtFl))K.data={K:V.H.Jh,ax:gV.Ny.VF};
else if(R!=0&&R!=-1)K.data={K:V.H.Jh,ax:gV.Ny.VF};else if(R==0&&N.add.SoLd)T.data={zt:"placedLayerEditContents",UD:{classID:"placedLayerEditContents"}};
else if(R==0&&N.add.TySh)K.data={K:V.H.La,Q:m.Fr};else K.data={K:V.H.XS,ax:"layerstyle",w:t};this.Y(T.data?T:K);
if(R==0&&N.add.TySh){var d=new $(V.E.W,!0);d.Q=m.Fr;d.data={K:"editCurr",ll:t};this.Y(d)}return}if(this.StN(p,a,R))return;
if(p.button!=0)return;var E={K:l.K_,w:t,dj:R};this.mw(E);if(p.altKey){if(R==1||R==3){var d=new $(V.E.W,!0);
d.Q=m.NL;d.data={K:"mskView",Z:y!=0?0:p.shiftKey?1:2};this.Y(d)}else{this.mw({K:l.CX,w:t})}return}};
SH.prototype.StN=function(p,a,R){if((p.ctrlKey||p.metaKey)&&(R==0||R==1||R==2)){var Q=0;if(p.shiftKey)Q++;
if(p.altKey)Q+=2;var t=new $(V.E.W,!0);t.Q=m.yO;t.data={K:"fromlayer",dX:[this.v$.index,R,Q]};this.Y(t);
return!0}return!1};SH.prototype.mw=function(p){var a=new $(V.E.W,!0);a.data=p;a.Q=m.pw;this.Y(a)};Ny.VZ=function(p,a,R,Q,t,N,K){gM.call(this);
this.SsB=a;this.pT=R;this.index=N;this._=V.P("div","styleitem");this.zg=V.P("div","head");this.io=V.P("div","eye gsicon");
this.Uu=V.P("div","label");this._.appendChild(this.zg);this.zg.appendChild(this.io);if(K){this.QX=K;
this.zg.appendChild(this.QX);this.zg.setAttribute("style","height: "+(K.firstChild.height/V.o()+10)+"px")}this.Uu.innerHTML=p;
this._.setAttribute("style","margin-left: "+(24+Q*16+t*22)+"px");this.zg.appendChild(this.Uu);this.io.addEventListener("click",this.SeV.bind(this),!1);
var T=this._;T.setAttribute("draggable","true");T.addEventListener("dragstart",this.OW.bind(this),!1);
if(!0){T.addEventListener("drop",this.UC.bind(this),!1);T.addEventListener("dragover",this.OQ.bind(this),!1);
T.addEventListener("dragenter",V.pc,!1);T.addEventListener("dragleave",this.Oa.bind(this),!1)}this._.addEventListener("click",this.Gz.bind(this),!1)};
Ny.VZ.prototype=new gM;Ny.VZ.prototype.OW=function(p){p.stopPropagation();p.dataTransfer.setData("Text",JSON.stringify({yH:this.SsB,Xx:this.parent.v$.index,nH:this.index}))};
Ny.VZ.prototype.Oa=function(p){V.pc(p);this.pR()};Ny.VZ.prototype.UC=function(p){V.pc(p);this.pR();var a=p.dataTransfer.getData("Text");
if(a=="")return;var a=JSON.parse(a);SH.SoC(p,a,this.parent,this.index+(SH.QH(p,this.zg)>.5?0:1))};Ny.VZ.prototype.OQ=function(p){V.pc(p);
var a=SH.QH(p,this.zg)>.5;this.pR();var R="border-"+(a?"bottom":"top");this.zg.style[R]="0.2em solid rgba(0,0,0,0.5)"};
Ny.VZ.prototype.pR=function(p){this.zg.style.border="none"};Ny.VZ.prototype.mt=function(p){var a=15;
if(1<V.o()&&V.o()<1.5)a=a/V.o();this.io.setAttribute("style","background-size: "+a+"px "+a+"px;");this.io.style.opacity=p?1:.2};
Ny.VZ.prototype.Gz=function(p){if(p.target==this.io)return;if(p.detail!=1&&this.pT!=null){var a=this.parent.v$.index,R=new $(V.E.v,!0);
if(this.pT.indexOf("afw_")==0)R.data=gf.eI.SpR(this.pT.slice(4),{w:a,index:this.index});else R.data={K:V.H.XS,ax:this.pT,w:a,index:this.index};
this.Y(R)}};Ny.VZ.prototype.SeV=function(p){var a={fm:l.sA,f:l.sP,sm:l.sC,s:l.sg}[this.SsB];this.parent.mw({K:a,w:this.parent.v$.index,index:this.index})};
function Sb(){gV.call(this,"Guide Guy",!1,null,gV.Ny.SNH);this.zV=null;this.Ud=[];var p=V.P("div","form padded");
this.zD.appendChild(p);p.setAttribute("style","width:200px");this.zD.appendChild(p);var a=V.P("canvas"),R=a.getContext("2d");
a.width=a.height=160;var Q=[32,0,16,160,0,32,160,16,0,112,160,16],t="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),N=[0,0,0,0,0,0,0,0,0,0];
for(var K=0;K<10;K++){R.clearRect(0,0,160,160);R.setTransform(1,0,0,1,80,80);R.rotate((K&3)*Math.PI/2);
R.translate(-80,-80);R.fillStyle="rgba(0,0,0,0.3)";if(K<4){for(var T=0;T<12;T+=4){R.fillStyle=T==0?"#000000":"rgba(0,0,0,0.3)";
R.fillRect(Q[T],Q[T+1],Q[T+2],Q[T+3])}}else if(K<6){var d=8*6;R.fillRect(0,0,d,160);R.fillRect(8*7,0,d,160);
R.fillStyle="#000000";R.fillRect(8*14,0,d,160)}else if(K<8){R.fillRect(0,0,16,160);R.fillRect(160-16,0,16,160);
R.fillRect(32,0,160-64,160);R.fillStyle="#000000";R.fillRect(32,80-8,160-64,8*1)}else{R.fillRect(0,0,8*7,160);
R.fillRect(8*13,0,160,160);R.fillStyle="#000000";R.fillRect(8*7,80-8,8*6,8*1)}var y="<img src=\""+a.toDataURL()+"\" class=\"autoscale gsicon\" /> ",E=new SD(y,0,200,K==4||K==5?null:"px",null,null,null,4,t[K]);
E.parent=this;E.h(V.E.k,this.SHS,this);E.a(N[K]);E.b();this.Ud.push(E);p.appendChild(E._)}var k=["Add Guides","Clear Guides"];
this.NH=[];for(var K=0;K<k.length;K++){var D=new gi(k[K],!0,null,!0);this.NH.push(D);D.h("click",this.VG,this);
p.appendChild(D._)}for(var K=0;K<6;K++){R.setTransform(1,0,0,1,80,80);R.rotate(Math.floor(K/3)*Math.PI/2);
R.translate(-80,-80);R.clearRect(0,0,160,160);R.fillStyle="rgba(0,0,0,0.3)";R.fillRect(0,0,160,160);
R.clearRect(16,16,128,128);R.fillStyle="#000000";var P=K%3;R.fillRect([0,9,18][P]*8,0,16,160);var y="<img src=\""+a.toDataURL()+"\" class=\"autoscale gsicon\" /> ",D=new gi(y,!1,null,!1);
this.NH.push(D);D.h("click",this.VG,this);p.appendChild(D._)}}Sb.prototype=new gV("");Sb.prototype.SHS=function(p){var a=this.Ud,R=a.indexOf(p.target),Q=Math.floor(R/2),t=R&1,N=[];
for(var K=0;K<4;K++)N.push(a[2*K+t].l());var T=-1;if(Q==2&&N[2]!=0&&N[3]!=0&&N[4]!=0)T=4;if(Q==3&&N[3]!=0&&N[2]!=0&&N[4]!=0)T=4;
if(Q==4&&N[4]!=0&&N[2]!=0&&N[3]!=0)T=3;if(T!=-1)a[2*T+t].a(0)};Sb.prototype.VG=function(p){var a=this.zV,R=this.NH.indexOf(p.target),Q=[[],[]];
if(a==null)return;var t=a.S?a.S.rect:new x(0,0,a.C,a.T),N=t.C,K=t.T;if(R==0){var T=[[],[]];for(var d=0;
d<this.Ud.length;d++)T[d&1].push(this.Ud[d].l());Q=[Sb.SZw(T[0],t.x,t.x+N),Sb.SZw(T[1],t.y,t.y+K)];m.OS.zO(Q,a.zk)}else if(R==1){}else{R-=2;
var y=Math.floor(R/3),Q=[[],[]];Q[y].push([t.x,t.x+N/2,t.x+N,t.y,t.y+K/2,t.y+K][R]);m.OS.zO(Q,a.zk)}var E=function(k,D){return k-D};
Q[0].sort(E);Q[1].sort(E);this.SHH(Q)};Sb.prototype.StZ=function(p){var a=this.SUA.indexOf(p.target)};
Sb.prototype.SHH=function(p){var a=new $(V.E.W,!0);a.Q=m.Tx;a.data={K:"gids",Qk:p};this.Y(a)};Sb.SZw=function(p,a,R){var Q=[],t=p[2],N=p[3],K=p[4],T=0;
if(t==0)T++;if(N==0)T++;if(K==0)T++;if(T>1&&t==0&&N==0){if(p[0]!=0)Q.push(a+p[0]);if(p[1]!=0)Q.push(R-p[1]);
return Q}var y=R-a-p[0]-p[1];if(t==0){if(K==0){t=Math.floor(y/N);K=(y-t*N)/(t-1)}else{t=1;while(N*t+K*(t-1)+N+K<=y)t++}}else if(t!=0&&N!=0){if(t*N>y)t=Math.floor(y/N);
K=(y-t*N)/(t-1)}Q.push(a+p[0],R-p[1]);var N=(y-K*(t-1))/t;for(var E=1;E<t;E++){if(K==0)Q.push(a+p[0]+E*N);
else Q.push(a+p[0]+E*N+(E-1)*K,a+p[0]+E*N+E*K)}return Q};Sb.prototype.FU=function(p){this.zV=p};function Ne(){gV.call(this,[9,2],!1,null,gV.Ny.VF);
this.Ssv=null;this.Jc=null;this.$F=null;this.Ssn=-1}Ne.prototype=new gV("");Ne.prototype.pl=function(){this.LI=V.P("div","padded");
this.LI.style.width="22em";this.zD.appendChild(this.LI);var p=V.P("span","fitem");this.LI.appendChild(p);
this.eH=[new gi([0,3]),new gi([12,73]),new gi([12,91,0])];for(var a=0;a<this.eH.length;a++){var R=this.eH[a];
R.h("click",this.SHy,this);p.appendChild(R._)}this.LI.appendChild(V.P("hr"));this.cK=new Ne.$W;this.cK.parent=this;
this.iv=new Ne.pI;this.iv.parent=this;this.nI=new Ne.eb;this.nI.parent=this;this.SRT=[this.cK,this.iv,this.nI];
this.LI.appendChild(this.cK._)};Ne.prototype.SHy=function(p){var a=this.eH.indexOf(p.currentTarget);
this.VV(a);this.SSA(a==1?this.iv.ib:-1)};Ne.prototype.VV=function(p){for(var a=0;a<3;a++){this.eH[a].Un();
var R=this.SRT[a]._;if(R.parentNode==this.LI&&a!=p)this.LI.removeChild(R);if(R.parentNode!=this.LI&&a==p)this.LI.appendChild(R)}this.eH[p].FX()};
Ne.prototype.SSA=function(p){var a=this.Jc.V[0],R=this.Jc.M[a],Q=p+1;if(p==1&&R.LK)return;var t=new $(V.E.W,!0);
t.Q=m.pw;if(p!=1&&R.LK){t.data={K:l.K_,w:a,dj:2};this.Y(t)}t.data={K:l.K_,w:a,dj:Q};this.Y(t)};Ne.prototype.b=function(){gV.prototype.b.call(this);
if(this.LI==null)return;this.FU(this.Jc);for(var p=0;p<3;p++){this.eH[p].b();this.SRT[p].b()}};Ne.prototype.tE=function(){if(!V.aM(this.zD))return;
if(this.LI==null){this.pl();this.JD(this.$F,gp.EP);this.FU(this.Ssv);this.b()}};Ne.prototype.FU=function(p){this.Ssv=p;
if(this.LI==null)return;this.cK.FU(p);this.iv.FU(p);this.nI.FU(p);if(p==null||p.V.length==0){V.ey(this.zD,"disabled");
this.Jc=null;return}else V.Eg(this.zD,"disabled");var a=p.V[0],R=p.M[a],Q=p.h$(),t=Q[0],N=Q[1];if(N.length!=0){var K=t[N[0]],T=K.add.vogk,d=!1;
if(T)for(var y=0;y<T.length;y++){var E=T[y].v,k=E.keyShapeInvalidated;if(k&&k.v||E.keyOriginType==null)continue;
d=!0;a=K.Yo}}if(p!=this.Jc||this.Ssn!=a){this.Jc=p;this.Ssn=a;if(d)this.VV(2);else if(R.FE<1&&!R.LK)this.VV(0);
else this.VV(1)}this.eH[1].Ub(this.iv.ib!=-1);this.eH[2].Ub(d)};Ne.prototype.JD=function(p,a){this.$F=p;
if(this.cK)this.cK.JD(p,a)};Ne.$W=function(){gM.call(this);this._=V.P("div","form");this.SRP=new Ky("Hello");
this._.appendChild(this.SRP._);this.pk=null;this.SII=null;this.Jc=null;this.SIe=-1;this.SIF=null;this.oC=new Sv(!0);
this.oC.parent=this;this.oC.h(V.E.k,this.SHJ,this);this.sT=V.P("div","marged hiline");this.sT.appendChild(this.oC._);
this.En=new KQ("GrFl",!0);this.En.parent=this;this.En.h(V.E.k,this.SHT,this);this.FK=V.P("div","marged hiline");
var p="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var a=0;a<p.length;a++){var R=this.En.lr[p[a]]._;
this.FK.appendChild(R)}this.kN=new KQ("patternFill",!0);this.kN.parent=this;this.kN.h(V.E.k,this.SHu,this);
this.FC=V.P("div","marged hiline");var p=["Ptrn","Scl","Algn","phase"];for(var a=0;a<p.length;a++){var R=this.kN.lr[p[a]]._;
this.FC.appendChild(R)}this.Tp={};for(var Q in gA.names){if(c[Q]==null)continue;this.Tp[Q]=new c[Q];
this.Tp[Q].h(V.E.k,this.SHP,this);this.Tp[Q].parent=this}var t=this.SNy=V.P("div","marged hiline");this.ne=Ne.vR(["W","H","X","Y"],null,t,this.O_,this);
this.Ns=new gu([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Ns.h(V.E.k,this.O_,this);t.appendChild(this.Ns._);
this.in=new Sv(!1);this.in.parent=this;this.in.h(V.E.k,this.O_,this);t.appendChild(this.in._)};Ne.$W.prototype=new gM;
Ne.$W.prototype.b=function(){for(var p in this.Tp)this.Tp[p].b();this.En.b();this.kN.b();this.Ns.b();
for(var a=0;a<4;a++)this.ne[a].b()};Ne.$W.prototype.O_=function(p){var a=Ne.vz(this.ne),R=l.SpE(new x(a[2],a[3],a[0],a[1])),Q=this.Ns.l(),t={classID:"artboard",artboardRect:{t:"Objc",v:R},Clr:{t:"Objc",v:this.in.l()},artboardBackgroundType:{t:"long",v:Q+1}},N=new $(V.E.W,!0);
N.Q=m.pw;N.data={K:l.EK,Ml:t};this.Y(N)};Ne.$W.prototype.SHJ=function(p){var a=this.Jc,R=a.V[0];if(a.M[R].add.SoCo==null)return;
var Q=JSON.parse(JSON.stringify(a.M[R].add.SoCo));Q.Clr.v=this.oC.l();this.Oc({Fb:1,Cz:Q})};Ne.$W.prototype.SHT=function(p){var a=this.Jc,R=a.V[0];
if(a.M[R].add.GdFl==null)return;this.Oc({Fb:2,Cz:this.En.l()})};Ne.$W.prototype.SHu=function(p){this.Oc({Fb:3,Cz:this.kN.l()})};
Ne.$W.prototype.Oc=function(p){this.SdF(m.pw,{K:l.vN,G$:[this.Jc.V[0]],Um:!0,Z:p})};Ne.$W.prototype.SHP=function(p){this.SdF(m.Sb,{K:"edit_layer",Z:this.SII.l()})};
Ne.$W.prototype.SdF=function(p,a){var R=new $(V.E.W,!0);R.Q=p;R.data=a;this.Y(R)};Ne.$W.prototype.FU=function(p){var a=gL.get([0,3]),R=null;
this.Jc=p;if(p&&p.M.length>0&&p.V.length!=0){var Q=p.M[p.V[0]],t=gA.get(Q.add);if(t!=null&&this.Tp[t]!=null){R=this.Tp[t]._;
this.SII=this.Tp[t];this.Tp[t].a(Q.add[t]);if(p.V[0]!=this.SIe){var N=p.iD(p.V[0]-1);this.SIF=S.MW(N)}this.Tp[t].ti(this.SIF);
a=gL.get(gA.names[t])}if(Q.add.SoCo){R=this.sT;this.oC.a(Q.add.SoCo.Clr.v);a=gL.get([6,48,0,0])}if(Q.add.GdFl){R=this.FK;
this.En.update(p,Q.add.GdFl);a=gL.get([6,48,0,1])}if(Q.add.PtFl){R=this.FC;this.kN.update(p,Q.add.PtFl);
a=gL.get([6,48,0,2])}if(Q.add.artb){var K=Q.add.artb,T=Q.iy();R=this.SNy;this.Ns.a(K.artboardBackgroundType.v-1);
if(K.Clr)this.in.a(K.Clr.v);Ne.FI(this.ne,[T.C,T.T,T.x,T.y]);a="Artboard"}this.SIe=p.V[0]}if(R!=this.pk){if(this.pk)this._.removeChild(this.pk);
if(R!=null)this._.appendChild(R);this.pk=R}this.SRP.a(a)};Ne.$W.prototype.JD=function(p,a){this.En.JD(p,a);
this.kN.JD(p,a);for(var R in this.Tp)this.Tp[R].JD(p,a)};Ne.pI=function(){gM.call(this);this._=V.P("div","form");
this.Jc=null;this.ib=0;var p=V.P("span","fitem");this._.appendChild(p);this.eH=[new gi([6,2]),new gi([6,3]),new gi([6,50])];
for(var a=0;a<this.eH.length;a++){var R=this.eH[a];R.h("click",this.SHV,this);p.appendChild(R._)}this.Sn=new gW([12,74],0,255);
this.Sn.h(V.E.k,this.YD,this);this._.appendChild(this.Sn._);this.dy=new gW([7,6],0,500,"px",2,!0);this.dy.h(V.E.k,this.YD,this);
this._.appendChild(this.dy._)};Ne.pI.prototype=new gM;Ne.pI.prototype.YD=function(p){var a=this.Sn.l(),R=this.dy.l(),Q=new $(V.E.W,!0);
Q.Q=m.pw;Q.data={K:l.EJ,uH:this.Jc.V[0],Gx:{Ea:this.ib,Sn:a,dy:R}};this.Y(Q)};Ne.pI.prototype.b=function(){for(var p=0;
p<this.eH.length;p++)this.eH[p].b();this.Sn.b();this.dy.b()};Ne.pI.prototype.FU=function(p){this.Jc=p;
this.Io()};Ne.pI.prototype.SHV=function(p){this.Io(this.eH.indexOf(p.currentTarget));this.parent.SSA(this.ib)};
Ne.pI.prototype.Io=function(p){var a=this.Jc,R=this.eH;for(var Q=0;Q<3;Q++){var t=R[Q];t.Un();t.Fv()}if(a==null||a.M.length==0||a.V.length==0)return;
var N=-1,K=a.M[a.V[0]];if(K.kF()&&K.iW(a).n!=null){R[2].XH();N=2}if(K.add.vmsk){R[1].XH();N=1}if(K.mg()){R[0].XH();
N=0}if(p!=null)N=p;else if(K.LK)N=1;else if(K.FE==3)N=2;else if(K.FE==1)N=0;this.ib=N;if(N==-1){this.Sn.Fv();
this.dy.Fv();return}var T=K.SsO(N);this.Sn.XH();this.dy.XH();this.Sn.a(T.Sn);this.dy.a(T.dy);R[N].FX()};
Ne.eb=function(){gM.call(this);this._=V.P("div","form");this.nf=1;this.Yd=V.P("div");this.ab=Ne.vR(["W","H","X","Y"],[12,51],this.Yd,this.SdU,this);
this.Ys=V.P("div");var p=["\u250F","\u2513","\u2517","\u251B"];this.ic=Ne.vR(p,[12,91,2],this.Ys,this.SdU,this)};
Ne.eb.prototype=new gM;Ne.eb.prototype.b=function(){V.Pp(this.ab[0],this.ab[1]);for(var p=2;p<5;p++){this.ab[p].b()}this.ic[4].b()};
Ne.vR=function(p,a,R,Q,t){var N=V.P("div","numlist");R.appendChild(N);var K=[];for(var T=0;T<4;T++){var d=new SD(p[T],0,0,null,1,!1,!0);
d.h(V.E.k,Q,t);N.appendChild(d._);K.push(d);if(T==1||T==3)V.zp(N)}if(a){K[4]=new Sz(a);K[4].a(!0);R.appendChild(K[4]._)}return K};
Ne.FI=function(p,a){for(var R=0;R<4;R++)p[R].a(a[R])};Ne.vz=function(p){var a=[];for(var R=0;R<4;R++)a[R]=p[R].l();
return a};Ne.eb.prototype.SdU=function(p){var a=this.ab.indexOf(p.currentTarget),R=this.ic.indexOf(p.currentTarget),Q=[null,null,null,null],t=[null,null,null,null];
if(a!=-1){var N=Ne.vz(this.ab),K=this.ab[4].l();N[0]=Math.max(1,N[0]);N[1]=Math.max(1,N[1]);if(K&&a==0)N[1]=N[0]/this.nf;
if(K&&a==1)N[0]=N[1]*this.nf;Q[0]=N[2];Q[1]=N[3];Q[2]=Q[0]+N[0];Q[3]=Q[1]+N[1]}if(R!=-1){var N=Ne.vz(this.ic);
t[R]=Math.max(0,N[R]);if(this.ic[4].l())for(var T=0;T<4;T++)t[T]=t[R];var d=t[3];t[3]=t[2];t[2]=d}var y=new $(V.E.W,!0);
y.Q=m.pw;y.data={K:l.Gn,a_:Q,SJU:t};this.Y(y)};Ne.eb.prototype.FU=function(p){if(p==null)return;var a=this.Yd.parentNode!=null,R=this.Ys.parentNode!=null,Q=S.lm.vn(p),t=Q[0],N=Q[1];
if(t){if(!a)this._.appendChild(this.Yd);this.nf=(t[2]-t[0])/(t[3]-t[1]);Ne.FI(this.ab,[t[2]-t[0],t[3]-t[1],t[0],t[1]])}else if(a)this._.removeChild(this.Yd);
if(N){if(!R)this._.appendChild(this.Ys);var K=N[2];N[2]=N[3];N[3]=K;Ne.FI(this.ic,N)}else if(R)this._.removeChild(this.Ys)};
function Ng(p){gV.call(this,p.name,!0);this.NI=p;this.hM=null;this.GC=[];this.nz=!1;this.Ld={x:0,y:0,Fa:!1};
this.YI=!0;this.ij=document.createElement("canvas");this.yC=this.ij.getContext("2d");this.Ou=document.createElement("canvas");
this.c=this.Ou.getContext("2d");var a=16,R=S.p(16*16*4);S.Sz(R,a,a,8,0,0);this._a=S.scale._e(R,a,a);
this.SNo=this.mV.bind(this);this.yg=this.tU.bind(this);this.SHL=this.aD.bind(this);var Q=this.zD;V.xb(Q,this.SNo);
V.EU(Q,this.yg);Q.addEventListener("wheel",this.IW.bind(this),!1);Q.addEventListener("contextmenu",this.SHk.bind(this),!1);
this.Cb=0;this.nL="";this.fG=4;Q.addEventListener("touchmove",V.gX,!1)}Ng.prototype=new gV;Ng.prototype.SL$=function(){if(this.NI.mR())return window.confirm(gL.get([22,6,3])+" "+this.NI.name+". "+gL.get([22,6,4]));
return!0};Ng.prototype.gX=function(p){p.preventDefault()};Ng.prototype.vU=function(p){var a=-1,R=this.GC;
for(var Q=0;Q<R.length;Q++)if(R[Q].pointerId==p.pointerId)a=Q;return a};Ng.prototype.mV=function(p){var a=this.vU(p);
if(a!=-1)this.GC[a]=p;else this.GC.push(p);if(this.GC.length==1){var R=p.button!=null&&p.button!=0?"rdown":"down",Q=new $("mouse",!0);
Q.action=R;this.e_(p,Q);this.Y(Q);V._j(this.zD,this.yg);V.EU(window,this.yg);V.Eb(window,this.SHL)}if(this.GC.length==2){this.Sp$("multidown");
this.nz=!0}};Ng.prototype.tU=function(p){var a=this.vU(p);if(a!=-1)this.GC[a]=p;if(this.GC.length>1){this.Sp$("multimove")}if(this.nz)return;
var R=new $("mouse",!0);R.action="move";this.e_(p,R);this.Y(R)};Ng.prototype.aD=function(p){var a=this.GC,R=this.vU(p);
a.splice(R,1);if(a.length==0){var Q=p.button!=null&&p.button!=0?"rup":"up",t=new $("mouse",!0);t.action=Q;
this.e_(p,t);this.Y(t);V._j(window,this.yg);V.n$(window,this.SHL);V.EU(this.zD,this.yg);this.nz=!1}};
Ng.prototype.IW=function(p){this.gX(p);if(p.deltaX==0&&p.deltaY==0)return;var a=new $("mouse",!0);a.action="scroll";
a._V=p.ctrlKey;this.e_(p,a);this.Y(a)};Ng.prototype.SHk=function(p){V.pc(p);var a=p.sourceCapabilities;
if(a)a=a.firesTouchEvents;if(a){var R=new $("mouse",!0);this.e_(p,R);R.action="rdown";this.Y(R);R.action="rup";
this.Y(R)}};Ng.prototype.Sp$=function(p){var a=this.GC,R=V.o(),Q=[];for(var t=0;t<a.length;t++){var N=Q[t]=V.ma(a[t],this.zD);
N.x*=R;N.y*=R}var K=new $("mouse",!0);K.action=p;K.Gg=Q;this.Y(K)};Ng.prototype.e_=function(p,a,R){var Q=this.GC.length!=0;
if(a.action!="up"){var t=V.o();if(R==null)R=V.ma(p,this.zD);this.Ld=a.Gm={x:t*R.x,y:t*R.y,Fa:Q};var N=V.ma(p,document.body);
a.Gm.ce=N.x;a.Gm.vl=N.y}else this.Ld=a.Gm={x:this.Ld.x,y:this.Ld.y,Fa:Q};a.Gm.qB=1;if(p.pressure!=null&&p.pressure!=0)a.Gm.qB=p.pressure*2;
if(p.deltaX!=null){var K=p.deltaMode==0?1:40;a.rb=new X(p.deltaX*K,p.deltaY*K)}};Ng.prototype.JD=function(p,a){this.hM=p};
Ng.prototype.FU=function(p){this.tE();this.$X()};Ng.prototype.Jg=function(p,a){if(p<=0||a<=0)return;
this.Xs=p;this.hZ=a;var R=this.NI,Q=V.o();R.z.c.C=Math.floor(p*Q);R.z.c.T=Math.floor(a*Q);V.LU(this.Ou,p,a);
V.LU(this.ij,p,a);V.LU(_.KQ(),p,a);if(R.z.f==0)R.z.f=m.d$.Li(R.C,R.T,p*Q,a*Q);this.YI=!0;this.$X()};
Ng.prototype.tE=function(){var p=this.zD.firstChild;if(!_.KZ&&p==_.KQ()||_.KZ&&p==this.Ou)this.zD.removeChild(p);
this.zD.appendChild(_.KZ?_.KQ():this.Ou)};Ng.prototype.$X=function(){if(_.KZ!=this.fG){this.Cb=0;this.nL="";
this.YI=!0}this.fG=_.KZ;if(this.hM==null)return;if(_.KZ)this.SfZ();else this.vA();var p=this.NI;this.Cb=p.z.f;
this.nL=JSON.stringify(p.z.mC);this.YI=!1};Ng.prototype.SfZ=function(){if(_.KZ&&Ng.SH$==null)Ng.SH$=new Ng.Fi(!1);
if(_.KZ&&Ng.Sfa==null)Ng.Sfa=new Ng.Fi(!0);var p=this.NI,T;if(p.Fc==null)return;var a=p.z,R=a.c.C,Q=a.c.T,t=_.XC;
this.c.clearRect(0,0,a.c.C,a.c.T);var N=this.Spy(p);if(a.MI==null)a.MI=new _.LV(a.c.C,a.c.T);if(N)a.MI.set(this.Ou);
else{_.UZ(a.MI);_.Ms(0)}var K=new x(0,0,p.C*a.f,p.T*a.f);K.x=Math.round((R-p.C*a.f)/2+a.A.x);K.y=Math.round((Q-p.T*a.f)/2+a.A.y);
var d=[0,0,0,0],y=[];if(p.add.artd){d=Ng.va(p);var E=p.C,D=p.T;T=Ng.Sfa;for(var P=0;P<p.M.length;P++){var e=p.M[P],Y=e.add.artb;
if(Y==null||!e.Aw())continue;var O=e.iy();y.push(O.x/E,O.y/D,O.C/E,O.T/D)}if(y.length>32*4){y=y.slice(0,32*4)}while(y.length<32*4){y.push(0,0,0,0)}}else T=Ng.SH$;
_.Bd(R,Q);_.Ms(0);_.Bd(R,Q);T.xl();T.xd(a.MI.CD,p.Fc.CD,new Float32Array([K.x/R,K.y/Q,K.C/R,K.T/Q]),new Float32Array([8/R,8/Q]),p.C,p.T,1/p.z.f,R,Q,new Float32Array(y),new Float32Array(d),new Float32Array(S.MA.NJ(S.MA.RR(a.mC))));
t.drawArrays(t.TRIANGLES,0,6)};Ng.va=function(p){var a=p.add.artd.canvasColor;if(a==null)return[0,0,0,0];
return Ng.SfK(a)};Ng.SfK=function(p){var a=S.e.gc(p.v),R=[a.D/255,a.X/255,a.N/255,1];for(var Q=0;Q<4;
Q++)R[Q]=Math.min(1,R[Q]);return R};Ng.Gw=function(p,a){var R=p[2]*255;if(_.KZ)R=a?0:Math.max(1,R);return"rgba("+p[0]*255+","+p[1]*255+","+R+","+p[3]+")"};
Ng.vQ=function(p){if(_.KZ)for(var a=0;a<p.length;a+=4){if(p[a+2]==0)p[a+2]++}};Ng.prototype.vA=function(){var p=this.NI;
if(p.buffer==null)return;var a=p.z,R=a.c.C,Q=a.c.T;this.yC.clearRect(0,0,a.c.C,a.c.T);this.c.clearRect(0,0,a.c.C,a.c.T);
if(p.add.artd==null){}else{this.c.fillStyle=Ng.Gw(Ng.va(p));this.c.fillRect(0,0,a.c.C,a.c.T)}var t=a.vp(),N=a.c.Yl(t);
this.c.save();this.c.translate(t.x,t.y);if(p.add.artd==null){this.c.fillStyle=this._a;this.c.fillRect(0,0,t.C,t.T)}this.c.restore();
var K=p.C!=a.uk.C||p.T!=a.uk.T;if(K)a.uk.YY(0,0,p.C,p.T);var T=JSON.stringify(a.mC);if(a.f<=1){if(a.f!=this.Cb||T!=this.nL||p.Gt){if(a.f!=this.Cb||a.XY==null||K)a.XY=this.c.createImageData(Math.max(1,t.C),Math.max(1,t.T));
if(a.f<1){var d=S.lw(p.buffer,new x(0,0,p.C,p.T),a.f,new Uint8Array(a.XY.data.buffer))}else S.$M(p.buffer,a.XY.data);
S.MA.Rs(a.XY.data,a.XY.data,S.MA.RR(a.mC))}this.yC.putImageData(a.XY,t.x,t.y);this.c.drawImage(this.ij,N.x,N.y,N.C,N.T,N.x,N.y,N.C,N.T)}else{var y=a.mP(),E=new x(0,0,y.C*a.f,y.T*a.f);
E.x=y.x*a.f+t.x;E.y=y.y*a.f+t.y;if(a.f!=this.Cb||this.YI){a.TY=S.p(y.u()*4);a.XY=this.c.createImageData(E.C,E.T)}S.set(a.TY,0);
S.gW(this.NI.buffer,new x(0,0,p.C,p.T),a.TY,y);S.scale.FT(a.TY,y.C,y.T,a.XY.data,E.C,E.T,a.f);S.MA.Rs(a.XY.data,a.XY.data,S.MA.RR(a.mC));
this.yC.putImageData(a.XY,E.x,E.y);this.c.drawImage(this.ij,0,0)}this.Spy(p)};Ng.prototype.Spy=function(p){var a=p.z,R=a.mC[0]+a.mC[1]+a.mC[2],Q=!1,t=[];
for(var N=0;N<p.V.length;N++){var K=p.M[p.V[N]],T=K.FE;if(T!=1&&T!=3)continue;var d=T==1?K.mg():K.iW(p).n;
if(d.oB)t.push(d)}for(var N=0;N<p.Mn.length;N++)if(p.Mn[N].oB)t.push(p.Mn[N]);for(var N=0;N<t.length;
N++){var d=t[N];this.Spw(d.channel,d.rect,a,t.length==1&&R==0?2:1,d.color,d.dV);Q=!0}var y=this.hM;Q=this.SfN(p,this.c,a)||Q;
if(p.S&&y.yZ&&y.QR.rr){this.Spw(p.S.channel,p.S.rect,a,0,0,null);Q=!0}return Q};Ng.prototype.Spw=function(p,a,R,Q,t,N){var K=R.vp(),T,d,y,E=0;
if(N)E=Math.round(N.N)<<16|Math.round(N.X)<<8|Math.round(N.D);if(R.f<=1){T=a.clone();T.x=Math.round(T.x*R.f);
T.y=Math.round(T.y*R.f);T.C=Math.floor(T.C*R.f);T.T=Math.floor(T.T*R.f);d=p;if(R.f<1){if(R.sz==null||R.sz.length<a.u()>>>1){console.log("here");
R.sz=S.p(a.u()>>>1)}d=R.sz;var k=S.cG(p,a,R.f,d);T.C=k.rect.C;T.T=k.rect.T}if(R.Jj==null||R.Jj.length!=T.u()*4)R.Jj=S.p(T.u()*4);
else S.wp(R.Jj,0);var D=R.c.clone();D.offset(-K.x,-K.y);y=T.Yl(D)}else{var P=R.mP();T=new x(P.x*R.f,P.y*R.f,P.C*R.f,P.T*R.f);
if(R.Jj==null||R.Jj.length!=T.u()*4){R.sz=S.p(T.u());R.Jj=S.p(T.u()*4)}var e=S.p(P.u());S.set(e,t);S.JG(p,a,e,P);
S.scale.vH(e,P.C,P.T,R.sz,T.C,T.T,R.f);S.wp(R.Jj,0);d=R.sz}if(Q==0)S.S.Soi(d,R.Jj,T,y);else{var Y=K.x,O=K.y,W=K.C,w=K.T;
y=T.Yl(new x(0,0,W,w));if(R.f<=1){this.c.fillStyle=Q==2?Ng.Gw([t/255,t/255,t/255,1]):Ng.Gw([N.D/255,N.X/255,N.N/255,.5*(1-t/255)]);
var g=Y,J=g+y.x,U=J+y.C,H=g+W,f=O,j=f+y.y,I=j+y.T,L=f+w;this.c.fillRect(Y,f,W,j-f);this.c.fillRect(Y,j,J-g,I-j);
this.c.fillRect(U,j,H-U,I-j);this.c.fillRect(Y,I,W,L-I)}S.S.SUR(d,R.Jj,T,y,Q,E)}Ng.vQ(R.Jj);if(R.f<=1)this.yC.clearRect(0,0,R.c.C,R.c.T);
if(T.u()!=0){var C=new ImageData(new Uint8ClampedArray(R.Jj.buffer),T.C,T.T);this.yC.putImageData(C,K.x+T.x,K.y+T.y);
this.c.drawImage(this.ij,0,0)}};Ng.prototype.SfN=function(p,a,R){var Q=p.R.I$||p.R.FF||p.R.XG||p.R.DU.length!=0||p.R.qm.length!=0,t=this.hM,N=t.QR,K=R.vp(),T=new gh(R.f,0,0,R.f,K.x+.5,K.y+.5),d=Yw.oc[t.Td],y=Math.round(12*V.o());
if(p.add.artd){var E=Ng.va(p)[0];E=E<.5?E+.5:E-.5;E=""+Math.round(E*255).toString(16);while(E.length<2)E="0"+E;
a.fillStyle="#"+E+E+E;a.font=y+"px sans-serif";for(var k=0;k<p.M.length;k++){var D=p.M[k];if(D.add.artb==null||!D.Aw())continue;
var P=D.iy(),e=new X(P.x,P.y);e=T.Ci(e);a.fillText(D.getName(),Math.round(e.x),Math.round(e.y-6));Q=!0}}var Y=Ng.Gw([.1,.5,1,1]),O=Ng.Gw([1,1,1,1]);
if(t.yZ&&N.pU){a.fillStyle=a.strokeStyle=Y;a.lineWidth=1.5;var W=p.h$(),w=W[0],g=W[1];for(var J=0;J<g.length;
J++){var D=w[g[J]],U=D.add.vmsk,H=U.G,f=S.s.VO(H);this.Qm(f,T,a);a.stroke();Q=!0;var j=Math.round(3*V.o()),I=H.length-3;
for(var k=0;k<U.Wx.length;k++){var L=S.d.pJ(H,U.Wx[k]);if(L==null)continue;var C=K.x+L.x*R.f,v=K.y+L.y*R.f;
a.beginPath();var o=k==0;if(U.Rp)o=!o;if(o){a.moveTo(C-j,v-j);a.lineTo(C+j,v+j);a.moveTo(C-j,v+j);a.lineTo(C+j,v-j);
a.stroke()}else{a.arc(C,v,j*1,0,2*Math.PI);a.fill()}Q=!0}if(p.V.length!=1)continue;var Z=-1;for(var k=0;
k<H.length;k++){if(H[k].type>5)continue;if(H[k].type==0||H[k].type==3){if(H[k].gu!=-1)Z++;continue}if(U.V.indexOf(Z)!=-1){var C=K.x+H[k].i.x*R.f,v=K.y+H[k].i.y*R.f;
a.fillRect(Math.round(C-j+.5),Math.round(v-j+.5),2*j-1,2*j-1)}if(U.mU.indexOf(k)!=-1){var B=[H[k].i];
a.beginPath();a.moveTo(K.x+H[k].Xe.x*R.f,K.y+H[k].Xe.y*R.f);a.lineTo(K.x+H[k].i.x*R.f,K.y+H[k].i.y*R.f);
a.lineTo(K.x+H[k].k$.x*R.f,K.y+H[k].k$.y*R.f);a.stroke();if(!H[k].i.xA(H[k].Xe))B.push(H[k].Xe);if(!H[k].i.xA(H[k].k$))B.push(H[k].k$);
for(var s=0;s<B.length;s++){var L=B[s],C=K.x+L.x*R.f,v=K.y+L.y*R.f;if(s==0&&(H[k].type==2||H[k].type==5))a.fillRect(Math.round(C-1.2*j),Math.round(v-1.2*j),Math.round(2.4*j),Math.round(2.4*j));
else{a.beginPath();a.arc(C,v,j*1.2,0,2*Math.PI);a.fill();if(s!=0)a.fillStyle=O;a.beginPath();a.arc(C,v,j*.8,0,2*Math.PI);
a.fill();a.fillStyle=Y}}}Q=!0}}}a.fillStyle=a.strokeStyle=Ng.Gw([0,0,0,1],!0);a.lineWidth=1;if(p.R.I$){this.Qm(p.R.I$,T,a);
a.fill()}if(p.R.FF){this.Qm(p.R.FF,T,a);a.stroke()}for(var q in p.R.Eo)if(p.R.Eo[q].FF){this.Qm(p.R.Eo[q].FF,T,a);
a.stroke();Q=!0}a.beginPath();var j=4*V.o(),F=p.R.vI;for(var k=0;k<F.length;k+=2){Q=!0;var C=K.x+F[k]*R.f,v=K.y+F[k+1]*R.f;
a.rect(C-j+.5,v-j+.5,2*j-1,2*j-1)}a.stroke();var F=p.R.SZs;a.beginPath();var j=4*V.o();for(var k=0;k<F.length;
k+=2){Q=!0;var C=K.x+F[k]*R.f,v=K.y+F[k+1]*R.f;a.moveTo(C+j-.5,v);a.arc(C,v,j-.5,0,2*Math.PI)}a.fill();
var F=p.R.tn;a.fillStyle=Ng.Gw([1,1,1,1]);a.beginPath();var j=6*V.o();for(var k=0;k<F.length;k+=2){Q=!0;
var C=K.x+F[k]*R.f,v=K.y+F[k+1]*R.f;a.moveTo(C+j-.5,v);a.arc(C,v,j-.5,0,2*Math.PI)}a.fill();var j=4*V.o();
for(var k=0;k<F.length;k+=2){Q=!0;var C=K.x+F[k]*R.f,v=K.y+F[k+1]*R.f;a.fillStyle=Ng.Gw(p.R.Mp.indexOf(k>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
a.beginPath();a.moveTo(C+j-.5,v);a.arc(C,v,j-.5,0,2*Math.PI);a.fill()}if(p.R.DU.length!=0){for(var k=0;
k<p.R.DU.length;k++){var b=p.R.DU[k],G=b[1];a.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),G.C,G.T),G.x,G.y)}}if(p.R.Ua){Q=!0;
var u=p.R.Ua,h=u.kl,f={$:[],r:[]};for(var k=0;k<u.kp.length;k++)S.s.concat(f,S.s.Ht(u.kp[k]));f.r=f.r.concat(h);
for(var k=0;k<h.length;k+=4)f.$.push("M","L");a.strokeStyle=Ng.Gw([.9,.2,.2,1]);this.Qm(f,T,a);a.stroke();
var z=V.o();for(var k=0;k<h.length;k+=4){var C=h[k],v=h[k+1],r=h[k+2],i=h[k+3],gg=Math.sqrt((i-v)*(i-v)+(r-C)*(r-C));
gg=S.EH.be(gg,p.po,t,v==i?p.C:p.T);var gC=new X((C+r)/2,(v+i)/2);gC=T.Ci(gC);a.fillStyle=Ng.Gw([.9,.2,.2,1]);
var gd=a.measureText(gg),gY=gd.width;a.fillRect(gC.x-gY/2-2.5*z,gC.y-7.5*z,gY+5*z,15*z);a.fillStyle=Ng.Gw([1,1,1,1]);
a.fillText(gg,gC.x-gY/2,gC.y+4*z)}}if(t.yZ){a.lineWidth=1;if(N.HS){var gN=S.EH.CO(N.vq,p,N.vX),gS=gN;
if(N.vX==4)gS*=p.T/p.C;this.lO(p,K,a,gN,gS,1,N.lE);Q=!0}if(N.cC&&p.z.f>7){this.lO(p,K,a,1,1,.5,N.lE);
Q=!0}if(N.zk){a.beginPath();a.strokeStyle=Ng.Gw([0,1,1,1]);for(var k=0;k<p.zk[0].length;k++){var M=Math.round(p.z.Jk(p.zk[0][k],0).x)+.5;
a.moveTo(M,0);a.lineTo(M,p.z.c.T)}for(var k=0;k<p.zk[1].length;k++){var Cj=Math.round(p.z.Jk(0,p.zk[1][k]).y)+.5;
a.moveTo(0,Cj);a.lineTo(p.z.c.C,Cj)}a.closePath();a.stroke()}var gs=p.GD;if(N.GD&&gs.length!=0){var gl=a.font;
a.font=Math.round(y*.8)+"px sans-serif";var gR=[],ge=[];for(var k=0;k<gs.length;k++){var So=m.rG.Rg(gs,k);
gR.push(So);if(p.Fz.indexOf(k)!=-1)ge.push(So)}gR.reverse();var gq=Date.now();gR=S.rect.CR([0,0,p.C,p.T],gR);
a.translate(.5,.5);for(var s=0;s<2;s++)for(var k=0;k<gR.length;k++){var gH=gR[k],Z=gH[4],gx=Z!=null?gs[Z]:null;
if(gx&&s==0||gx==null&&s==1)continue;var g$=p.z.Jk(gH[0],gH[1]),gy=p.z.Jk(gH[2],gH[3]),C=Math.round(g$.x),v=Math.round(g$.y),r=Math.round(gy.x),i=Math.round(gy.y);
a.strokeStyle=a.fillStyle=Ng.Gw(gx?[0,.7,.7,1]:[.8,.8,.8,1]);a.beginPath();a.moveTo(C,v);a.lineTo(r,v);
a.lineTo(r,i);a.lineTo(C,i);a.closePath();a.stroke();var SZ=k+1,gd=a.measureText(SZ),gY=gd.width;a.fillRect(C-.5,v-.5,Math.round(gY+y/2),y);
a.fillStyle=Ng.Gw([1,1,1,1]);a.fillText(SZ,C+y/4,Math.round(v+y*.8)-.5)}for(var k=0;k<ge.length;k++){var gH=ge[k],g$=p.z.Jk(gH[0],gH[1]),gy=p.z.Jk(gH[2],gH[3]),C=Math.round(g$.x),v=Math.round(g$.y),r=Math.round(gy.x),i=Math.round(gy.y);
a.strokeStyle=a.fillStyle=Ng.Gw([0,.7,.7,1]);a.beginPath();a.moveTo(C,v);a.lineTo(r,v);a.lineTo(r,i);
a.lineTo(C,i);a.closePath();a.stroke();var dU=[C,v,r,v,r,i,C,i];for(var gz=0;gz<dU.length;gz+=2){var M=dU[gz],Cj=dU[gz+1],gX=dU[gz+2&7],gJ=dU[gz+3&7];
a.fillRect(M-2.5,Cj-2.5,4,4);a.fillRect(Math.round((M+gX)/2)-2.5,Math.round((Cj+gJ)/2)-2.5,4,4)}}a.translate(-.5,-.5);
a.font=gl;Q=!0}}a.strokeStyle=Ng.Gw([1,0,0,1]);if(p.R.XG){this.Qm(p.R.XG,T,a);a.stroke()}if(t.UA){if(p.z.wJ==null||p.z.wJ.width!=p.z.c.C||p.z.fV.height!=p.z.c.T){p.z.wJ=a.createImageData(p.z.c.C,S.EH.AE);
p.z.fV=a.createImageData(S.EH.AE,p.z.c.T)}var d=Yw.oc[t.Td],R=p.z,SR=R.f*p.C/2,gF=R.f*p.T/2,gv=[1,p.po,p.po/2.54,p.po/25.4,p.C/100][N.tc],SU=R.f,ga=R.A.clone();
R.f*=gv;R.A.x+=SR*gv-SR;R.A.y+=gF*gv-gF;S.EH.Syv(R,d["--text-color"],d["--bg-input"]);R.f=SU;R.A=ga;
var Sg=pP.SSc(R.f,Ng.Gw([1,1,1,1]));Ng.vQ(p.z.fV.data);Ng.vQ(p.z.wJ.data);a.putImageData(p.z.fV,0,0);
a.putImageData(p.z.wJ,0,0);a.putImageData(Sg,0,p.z.c.T-Sg.height)}if(p.R.qm.length!=0){for(var k=0;k<p.R.qm.length;
k++){var b=p.R.qm[k],G=b[1];a.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),G.C,G.T),G.x,G.y)}}return Q||t.UA||p.zk[0].length+p.zk[1].length>0};
Ng.prototype.lO=function(p,a,R,Q,t,N,K){while(Q*p.z.f<4){Q*=2;t*=2}var T=a.x,d=T+a.C,y=a.y,E=y+a.T;R.beginPath();
R.strokeStyle=Ng.Gw([.5,.5,.5,N],!0);for(var k=0;k<=p.C;k+=Q){var D=Math.round(p.z.Jk(k,0).x)+.5;R.moveTo(D,y);
R.lineTo(D,E)}if(K==0){for(var P=0;P<=p.T;P+=t){var e=Math.round(p.z.Jk(0,P).y)+.5;R.moveTo(T,e);R.lineTo(d,e)}}else{t*=Math.sqrt(4/3);
var Y=(d-T)*(t/(2*Q)),O=t*Math.floor(p.C/t);for(var P=-O;P<=p.T+O;P+=t){var e=Math.round(p.z.Jk(0,P).y)+.5,W=e-Y,w=e+Y;
this.SYY(R,T,y,d,E,e,W);this.SYY(R,T,y,d,E,e,w)}}R.closePath();R.stroke()};Ng.prototype.SYY=function(p,a,R,Q,t,N,K){var T=a,d=Q,y=N,E=K,k=0,D=1,P=d-T,e=E-y,Y,O,W;
for(var w=0;w<4;w++){if(w==0){Y=-P;O=-(a-T)}if(w==1){Y=P;O=Q-T}if(w==2){Y=-e;O=-(R-y)}if(w==3){Y=e;O=t-y}W=O/Y;
if(Y==0&&O<0)return!1;if(Y<0){if(W>D)return!1;else if(W>k)k=W}else if(Y>0){if(W<k)return!1;else if(W<D)D=W}}var g=T+k*P,J=y+k*e,U=T+D*P,H=y+D*e;
p.moveTo(g,J);p.lineTo(U,H)};Ng.prototype.Qm=function(p,a,R){R.beginPath();var Q=S.s.clone(p);S.s.t(Q.r,a,Q.r);
Typr.U.pathToContext({cmds:Q.$,crds:Q.r},R)};Ng.Fi=function(p){_.mY.call(this);this.SNU=p;var a="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(p?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+_.Wo.B$+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(p?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",R="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.rM(a,R)};Ng.Fi.prototype=new _.mY;Ng.Fi.prototype.xd=function(p,a,R,Q,t,N,K,T,d,y,E,k){this.zi("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var D=_.XC,P=this.z_;D.uniform4fv(P.srct,R);D.uniform2fv(P.gsize,Q);D.uniform3f(P.imgSizeZoom,t,N,K);
D.uniform2f(P.cnvSize,T,d);D.uniformMatrix4fv(P.ctrn,!1,k);if(this.SNU){D.uniform4fv(P.ars,y);D.uniform4fv(P.bgClr,E)}D.uniform1i(P.source,0);
D.uniform1i(P.target,1);D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,p);D.activeTexture(D.TEXTURE1);
D.bindTexture(D.TEXTURE_2D,a);D.activeTexture(D.TEXTURE0)};function dP(){gV.call(this,[9,7],!1,null,gV.Ny.SNs);
this.zD.setAttribute("style","min-width:240px;");this.Jc=null;this.yp=-1;this.SNW=[];this.vx=V.P("div","scrollable");
this.vx.style.height="160px";this.zD.appendChild(this.vx);this.FY=V.P("div","lpfoot");this.zD.appendChild(this.FY);
this.NH=[];var p=["reload","lrs/newlayer","lrs/bin"],a=[[5,10],[5,3],[5,4]];for(var R=0;R<p.length;R++){var Q=new gi("<img src=\""+PIMG[p[R]]+"\" class=\"gsicon\" />",!1,a[R]);
Q.h("click",this.Sfs,this);this.FY.appendChild(Q._);this.NH.push(Q)}}dP.prototype=new gV("");dP.prototype.mw=function(p){var a=new $(V.E.W,!0);
a.data=p;a.Q=m.aW;this.Y(a)};dP.prototype.Sfs=function(p){var a=this.NH.indexOf(p.currentTarget);if(a!=1)if(this.yp==-1)return;
this.mw({K:["updLC","addLC","delLC"][a],Yo:this.yp});if(a==2)this.yp=-1};dP.prototype.b=function(){gV.prototype.b.call(this);
for(var p=0;p<this.NH.length;p++)this.NH[p].b()};dP.prototype.FU=function(p){if(p==null)V.ey(this.zD,"disabled");
else V.Eg(this.zD,"disabled");this.Jc=p;V.Tl(this.vx);if(p==null)return;var a=p.FA.lastAppliedComp?p.FA.lastAppliedComp.v:0,R=p.FA.list.v.slice(0);
R.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Q=0;Q<R.length;
Q++){var t=R[Q].v,N=new KL(t.Nm.v,t.compID.v,t.capturedInfo.v,a,this.yp);N.h("activate",this.eD,this);
N.parent=this;this.vx.appendChild(N._);this.SNW.push(N)}};dP.prototype.eD=function(p){this.yp=p.currentTarget.Yo;
this.FU(this.Jc)};function KL(p,a,R,Q,t){gM.call(this);this.Yo=a;this._=V.P("div","head listitem"+(a==t?" selected":""));
var N=a==Q,K=new gi("<b>"+(N?"\u2713":"\u2014")+"</b>");if(N)K.FX();this._.appendChild(K._);K.h("click",this.Ag,this);
var T=this.lJ=V.P("span");T.textContent=p;this._.appendChild(T);this.NH=[];if(a!=0){this._.addEventListener("mouseup",this.eD.bind(this),!1);
this.SzZ=V.P("span","headR");this._.appendChild(this.SzZ);var d=["lrs/eye","pos","lrs/fx"],y=["Visibility","Position","Appearance"];
for(var E=0;E<d.length;E++){var k=new gi("<img src=\""+PIMG[d[E]]+"\" class=\"autoscale gsicon\" />",!1,y[E]);
if((R>>E&1)==0)k._.setAttribute("style","opacity:0.3");k.h("click",this.SfR,this);this.SzZ.appendChild(k._);
this.NH.push(k)}}}KL.prototype=new gM;KL.prototype.eD=function(p){if(p.target!=this.lJ&&p.target!=this._)return;
if(p.detail==1)this.Y(new $("activate",!1));else{var a=new gV.Nn(this.lJ,this.YR.bind(this))}};KL.prototype.SfR=function(p){var a=this.NH.indexOf(p.currentTarget);
this.mw({K:"editLC",SXB:a,Yo:this.Yo})};KL.prototype.YR=function(p){this.mw({K:"editLC",Kb:p,Yo:this.Yo})};
KL.prototype.Ag=function(p){this.mw({K:"setLC",Yo:this.Yo})};KL.prototype.mw=function(p){var a=new $(V.E.W,!0);
a.data=p;a.Q=m.aW;this.Y(a)};function YM(){gV.call(this,[9,11],!1,null,gV.Ny.SNe);var p=V.P("div","padded");
p.setAttribute("style","min-width:15em");this.zD.appendChild(p);var a=V.P("div");p.appendChild(a);a.setAttribute("style","cursor:grab;");
this.Xd=V.P("canvas");this.Xd.width=100;a.appendChild(this.Xd);V.gI(this.Xd);V.xb(this.Xd,this.HZ.bind(this));
this.YB=new Nx(null,0,m.d$.hm.length-1);this.YB.h(V.E.k,this.Sfx,this);p.appendChild(this.YB._);this.SzF=this.pf.bind(this);
this.SzA=this.pq.bind(this);this.zV=null}YM.prototype=new gV("");YM.prototype.Jg=function(p,a){this.$X()};
YM.prototype.Sfx=function(p){var a=this.YB.l(),R=this.zV,Q=m.d$.hm[m.d$.hm.length-1-a],t=new $(V.E.W,!0);
t.Q=m.NL;t.data={K:"zoom",f:Q};this.Y(t)};YM.prototype.HZ=function(p){if(this.zV==null)return;V.EU(window,this.SzF);
V.Eb(window,this.SzA)};YM.prototype.pf=function(p){var a=V.ma(p,this.Xd),R=this.zV,Q=this.Xd.width,t=this.Xd.height,N=(a.x*V.o()-Q/2)/Q,K=(a.y*V.o()-t/2)/t,T=V.o()*R.z.f,d=Math.round(-R.z.f*R.C*N),y=Math.round(-R.z.f*R.T*K);
m.Ee.wZ(R,d,y)};YM.prototype.pq=function(p){V._j(window,this.SzF);V.n$(window,this.SzA)};YM.prototype.FU=function(p){if(p==null&&this.zV!=null)this.Xd.width=100;
this.zV=p;this.$X()};YM.prototype.$X=function(){var p=this.zV,R=0;if(p==null||p.z.f==0)return;if(!V.aM(this.zD))return;
this.YB.a(m.d$.hm.length-1-m.d$.LW(p.z.f));var a=300*V.o(),Q=[p.iD(),new x(0,0,p.C,p.T)];S.UR(Q);while(Math.max(Q[R+1].C,Q[R+1].T)>a){R+=2}var t=Q[R],N=Q[R+1],K=N.C,T=N.T,d=this.Xd;
d.width=K;d.height=T;V.mT(d,K,T);var y=d.getContext("2d"),E=y.createImageData(K,T);S.$M(t,E.data);y.putImageData(E,0,0);
var k=p.z.mP(),D=K/p.C;y.scale(D,D);y.lineWidth=4/D;y.strokeStyle="#ff0000";y.strokeRect(k.x,k.y,k.C,k.T)};
YM.prototype.JD=function(p,a){};YM.prototype.tE=function(){this.$X()};function Kt(p){if(p==null){gV.call(this);
return}var a=p.id;if(a==null)a="plg_"+p.name;gV.call(this,p.name,!1,p.icon,a);var R=V.P("iframe","padded");
R.setAttribute("src",p.url);R.setAttribute("style","width:"+p.width+"px; height:"+p.height+"px");this.zD.appendChild(R)}Kt.prototype=new gV("");
function KT(){Kt.call(this,{id:gV.Ny.SN$,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}KT.prototype=new Kt;
function KS(){gV.call(this,[9,12],!1,null,gV.Ny.m$);this.$F=null;this.Ts=new Yq(m.JH);this.Ts.parent=this;
var p=V.P("div","padded");p.setAttribute("style","width:20em");this.zD.appendChild(p);p.appendChild(this.Ts.uy)}KS.prototype=new gV("");
KS.prototype.tE=function(){this.Ts.xT(this.$F.Yy)};KS.prototype.JD=function(p,a){this.$F=p;if(a==gp.EP||a==gp.m$)this.Ts.xT(p.Yy)};
KS.prototype.Jg=function(p,a){this.Ts.Sij(this.$F.FD)};KS.prototype.b=function(){gV.prototype.b.call(this);
this.Ts.b()};function NM(){gM.call(this);this.Q=0;this.aC=null;this._=V.P("div","toolconf");this.Ts=null;
this.nB=null;this.body=new V.P("div","body")}NM.prototype=new gM;NM.prototype.SfU=function(p,a){this.Q=p;
this.aC=a;if(m.dF[p]){var R=this.Ts=new Yq(p);this._.appendChild(R._);R.parent=this}else{this.nB=V.P("div");
this._.appendChild(this.nB)}this._.appendChild(this.body);this.b()};NM.prototype.Srr=function(p,a){};
NM.prototype.Sl$=function(p){};NM.prototype.JD=function(p,a){if(a==gp.EP||a==gp.m$)if(this.Ts)this.Ts.xT(p.Yy)};
NM.prototype.bI=function(p){};NM.prototype.b=function(){if(this.Ts)this.Ts.b();else this.nB.innerHTML=V.uj(this.aC,null,"toolicon");
this.mO()};NM.prototype.mO=function(){};function dp(p){NM.call(this);if(p==null)return;this.$F=null;
this.Ud={};for(var a=0;a<p.length;a++){var R=p[a],Q=null;if(R=="brush"){Q=new rf}if(R=="bmode"){Q=new gu([12,19,0],gE.ih,!1,gE.iK)}if(R=="bmode0"){Q=new gu([12,19,0],gE.ih.slice(23),!1)}if(R=="emode"){Q=new gu([12,36],[[9,3],[10,38]])}if(R=="opacity"){Q=new SD([12,0],0,100,"%");
Q.a(100)}if(R=="flow"){Q=new SD([12,63],0,100,"%");Q.a(100)}if(R=="smth"){Q=new SD([19,3,0],0,100,"%");
Q.a(0)}if(R=="samp"){Q=new gu("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(R=="wconf"){Q=new rj;
Q.a([40,!0,!0])}if(R=="strn"){Q=new SD([12,64],1,100,"%");Q.a(50)}if(R=="smode"){Q=new gu([12,36],[[19,7,0],[19,7,1]]);
Q.a(1)}if(R=="pdetail"){Q=new Sz([12,65]);Q.FX()}if(R=="rng"){Q=new gu([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
Q.a(1)}if(R=="expo"){Q=new SD([12,5],0,100,"%");Q.a(50)}if(R=="algnd"){Q=new Sz([12,75]);Q.a(!1)}if(R=="sfrom"){Q=new gu([12,70],[[17,1],[17,3],[17,0]])}if(R=="alt"){Q=new YZ(null,["Alt"],!0,["Select Source"])}if(R=="qsmode"){Q=new KU([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(R=="redge"){Q=new gi([7,11],!1,null,!0)}if(R=="setop"){Q=new rs}if(R=="patch"){Q=new KU(null,[[12,70],[12,71]])}if(R=="prsr"){Q=new YZ(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
Q.a([!1,!0])}Q.parent=this;this.body.appendChild(Q._);this.Ud[R]=Q;if(R=="brush")Q.h(V.E.k,this.SlM,this);
else if(R=="redge")Q.h("click",this.JC,this);else Q.h(V.E.k,this.MK,this)}}dp.prototype=new NM;dp.prototype.Srr=function(p,a){p=p[1];
var R=this.Ud;if(p.Md)R.bmode.a(gE.$Z.indexOf(p.Md.v.BlnM));if(p.Opct)R.opacity.a(p.Opct.v);if(p.flow)R.flow.a(p.flow.v);
if(p.Brsh)R.brush.a(p,a.WP.mp,a.WP.rw);if(p.FrgC){var Q=S.e.gc(p.FrgC.v),t=new $(V.E.v,!0);t.data={K:V.H.es,L_:gp.zc,mK:0,Z:Q.D<<16|Q.X<<8|Q.N};
this.Y(t)}this.SlM();this.MK()};dp.prototype.Sl$=function(){if(m.dF[this.Q]==null)return null;var p=this.Ud,a=JSON.parse(JSON.stringify(p.brush.l()));
a.classID=m.dF[this.Q][1][0];if(p.bmode)a.Md={t:"enum",v:{BlnM:gE.$Z[p.bmode.l()]}};if(p.opacity)a.Opct={t:"long",v:p.opacity.l()};
if(p.flow)a.flow={t:"long",v:p.flow.l()};var R=this.$F.rc;R={D:R>>>16,X:R>>>8&255,N:R&255};a.FrgC={t:"Objc",v:S.e.HW(R)};
return["Brush Preset "+a.Brsh.v.Dmtr.v.val,a]};dp.prototype.JC=function(){var p=new $(V.E.v,!0);p.data={K:V.H.XS,ax:"redge"};
this.Y(p)};dp.prototype.mO=function(){for(var p in this.Ud)this.Ud[p].b()};dp.prototype.bI=function(p){if(p.SOR=="showBrushOpts"){this.Ud.brush.Spz(p.qL.x,p.qL.y)}for(var a in p.YP){var R=p.YP[a];
if(a!="qsmode")R*=100;if(this.Ud[a])this.Ud[a].a(R)}};dp.prototype.JD=function(p,a){NM.prototype.JD.call(this,p,a);
this.$F=p;var R=this.Ud.brush;if(R==null)return;if(a==gp.EP||a==gp.JH)R.xT(p.WP);if(a==gp.Ka){R.a(p.WP.kR,p.WP.mp,p.WP.rw)}};
dp.prototype.SlM=function(){var p=new $(V.E.v,!0);p.data={K:V.H.es,L_:gp.Ka,uZ:this.Ud.brush.l()};this.Y(p)};
dp.prototype.MK=function(){var p=new $(V.E.v,!0);p.data={K:V.H.nh,Q:this.Q};for(var a in this.Ud){if(a=="brush"||a=="redge")continue;
var R=this.Ud[a].l();if(["opacity","flow","smth","strn","expo"].indexOf(a)!=-1)p.data[a]=R/100;else if(a=="bmode")p.data.bmode=gE.TV[R];
else if(a=="bmode0")p.data.bmode=gE.TV[23+R];else p.data[a]=R}this.Y(p)};function Nv(p){NM.call(this);
if(p)return;this.data={K:V.H.nh,WV:"front",Ge:0,DS:[10,!0,!0],FG:{GY:0,x:1,y:1}};this.ys=new rs;this.body.appendChild(this.ys._);
this.ys.h(V.E.k,this.CN,this);this.c$=new SD([7,6],0,100," px");this.c$.parent=this;this.c$.a(0);this.body.appendChild(this.c$._);
this.c$.h(V.E.k,this.CN,this);this.nq=new gi([7,11],!1,null,!0);this.body.appendChild(this.nq._);this.nq.h("click",this.JC,this)}Nv.prototype=new NM;
Nv.prototype.bI=function(p){if(p.WV!=null)this.ys.a(p.WV);else{var a=Nv.yX;if(a==null){var R=SE.SLW(!0);
a=Nv.yX=new Nq(R.items,R.NM)}a.b();a.parent=this;a.update(p.$$,p.hM);var Q=new $(V.E.v,!0);Q.data={K:V.H.Xf,Vw:a,x:p.sq.ce+2,y:p.sq.vl+1};
this.Y(Q)}};Nv.prototype.mO=function(){this.c$.b();this.ys.b();this.nq.b()};Nv.prototype.JC=function(){var p=new $(V.E.v,!0);
p.data={K:V.H.XS,ax:"redge"};this.Y(p)};Nv.prototype.CN=function(){var p=new $(V.E.v,!0);this.data.Q=this.Q;
this.data.WV=this.ys.l();this.data.Ge=this.c$.l();p.data=this.data;this.Y(p)};function KD(){dp.call(this,["brush","strn"])}KD.prototype=new dp;
function KG(){dp.call(this,"brush bmode opacity flow smth prsr".split(" "))}KG.prototype=new dp;function KE(){dp.call(this,["brush","bmode0","samp","wconf"])}KE.prototype=new dp;
function Km(){dp.call(this,["brush"])}Km.prototype=new dp;function Ku(){dp.call(this,"brush bmode opacity flow smth prsr".split(" "))}Ku.prototype=new dp;
function KP(){dp.call(this,["brush","rng","expo"])}KP.prototype=new dp;function KV(){dp.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}KV.prototype=new dp;
function dd(p){NM.call(this);if(p==null)return;var a=V.P("span","fitem");this.body.appendChild(a);var R=[[17,0],[17,1],[11,12,0],[17,2]];
this.eH=[];for(var Q=0;Q<R.length;Q++){var t=new gi(R[Q],!1,null,!0);this.eH.push(t);t.h("click",this.SfV,this);
if(!p||Q==1)a.appendChild(t._)}this.FG=new Ye;this.FG.h(V.E.k,this.Sfb,this);if(!p)this.body.appendChild(this.FG._);
this.eO=new Yj;this.eO.h("click",this.WZ,this)}dd.prototype=new NM;dd.prototype.mO=function(){this.eO.b();
for(var p=0;p<this.eH.length;p++)this.eH[p].b();this.FG.b()};dd.prototype.bI=function(p){var a=this.eO._;
if(p.qy)this.body.appendChild(a);else if(this.body.contains(a))this.body.removeChild(a);if(p.FG)this.FG.a(p.FG)};
dd.prototype.WZ=function(p){var a={K:V.H.nh,Q:this.Q,IM:this.eO.l()?"commit":"cancel"},R=new $(V.E.v,!0);
R.data=a;this.Y(R)};dd.prototype.SfV=function(p){p.target._.blur();var a={K:V.H.nh,Q:this.Q,IM:"cropby",SyB:this.eH.indexOf(p.target)},R=new $(V.E.v,!0);
R.data=a;this.Y(R)};dd.prototype.Sfb=function(p){var a={K:V.H.nh,Q:this.Q,IM:"config",tD:{ND:this.FG.l()}},R=new $(V.E.v,!0);
R.data=a;this.Y(R)};function K_(){dd.call(this,!1)}K_.prototype=new dd;function Kn(){dd.call(this,!0)}Kn.prototype=new dd;
function Kk(){dp.call(this,["brush","rng","expo"])}Kk.prototype=new dp;function Kc(){dp.call(this,"brush emode opacity flow smth prsr".split(" "))}Kc.prototype=new dp;
function Kj(){dp.call(this,["brush","samp","wconf"])}Kj.prototype=new dp;function CZ(){Nv.call(this);
this.FG=new Ye;this.FG.h(V.E.k,this.JR,this);this.body.appendChild(this.FG._)}CZ.prototype=new Nv(!0);
CZ.prototype.JR=function(p){this.data.FG=this.FG.l();this.CN()};CZ.prototype.mO=function(){Nv.prototype.mO.call(this);
this.FG.b()};function CS(){NM.call(this);this.YE=new gu([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.YE.h(V.E.k,this.MK,this);this.body.appendChild(this.YE._)}CS.prototype=new NM;CS.prototype.MK=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.nh,Q:this.Q,kv:[1,3,5,11,31][this.YE.l()]};this.Y(a)};CS.prototype.mO=function(){this.YE.b()};
function Kz(){NM.call(this);this.LL=new Cu(!1);this.LL.parent=this;this.LL.h(V.E.k,this.YD,this);this.body.appendChild(this.LL._);
this.LL.a(JSON.parse(gZ.mo.SIz).v);this.YV=new gu(null,gZ.e.names.slice(0,5));this.YV.h(V.E.k,this.YD,this);
this.body.appendChild(this.YV._);this.Yb=new gu([12,19,0],gE.ih,null,gE.iK);this.Yb.h(V.E.k,this.YD,this);
this.body.appendChild(this.Yb._);this.qE=new SD([12,0],0,100,"%");this.qE.parent=this;this.qE.h(V.E.k,this.YD,this);
this.body.appendChild(this.qE._);this.qE.a(100);this.Yk=new Sz([12,23,0]);this.Yk.h(V.E.k,this.YD,this);
this.body.appendChild(this.Yk._);this.Yc=new Sz("Dither");this.Yc.h(V.E.k,this.YD,this);this.body.appendChild(this.Yc._)}Kz.prototype=new NM;
Kz.prototype.mO=function(){this.YV.b();this.Yb.b();this.qE.b();this.Yk.b();this.Yc.b()};Kz.prototype.JD=function(p,a){NM.prototype.JD.call(this,p,a);
var R=a==gp.zc;this.LL.Ul(p.rc,p.eJ);if(R||a==gp.oq||a==gp.EP)this.LL.xT(p.Cm)};Kz.prototype.YD=function(){var p=new $(V.E.v,!0);
p.data={K:V.H.nh,Q:this.Q};p.data.L_={e:this.LL.l(),jd:gZ.e.types[this.YV.l()],Rp:this.Yk.WO(),Soq:this.Yc.WO(),SUK:gE.TV[this.Yb.l()],NC:this.qE.l()/100};
this.Y(p)};function CK(){NM.call(this)}CK.prototype=new NM;function CC(){dp.call(this,["brush","algnd","sfrom","alt"])}CC.prototype=new dp;
function KX(){NM.call(this);this.MF=new pb;this.MF.parent=this;this.body.appendChild(this.MF.Re._);this.body.appendChild(this.MF.RF._);
this.body.appendChild(this.MF.If._);var p=V.P("span","fitem");this.body.appendChild(p);p.appendChild(this.MF.PT._);
p.appendChild(this.MF.Pb._);p.appendChild(this.MF.PV._);this.Mh=new gi([11,9],!1,null,!0);this.Mh.h("click",this.Sf_,this);
this.body.appendChild(this.Mh._);this.eO=new Yj;this.eO.h("click",this.WZ,this)}KX.prototype=new NM;
KX.prototype.mO=function(){this.eO.b();this.MF.b();this.Mh.b()};KX.prototype.Sf_=function(p){var a={K:V.H.nh,Q:this.Q,IM:"showwarp"},R=new $(V.E.v,!0);
R.data=a;this.Y(R)};KX.prototype.bI=function(p){if(p.IM=="showactive")this.body.appendChild(this.eO._);
if(p.IM=="hideactive")this.body.removeChild(this.eO._)};KX.prototype.JD=function(p,a){NM.prototype.JD.call(this,p,a);
if(a!=gp.EP&&a!=gp.YQ&&a!=gp.Sy&&a!=gp.Yj)return;this.MF.a(p.og,p.mk,p.ku)};KX.prototype.WZ=function(p){var a={K:V.H.nh,Q:this.Q,IM:this.eO.l()?"commit":"cancel"},R=new $(V.E.v,!0);
R.data=a;this.Y(R)};function CN(){Nv.call(this)}CN.prototype=new Nv(!0);function Kh(){NM.call(this);
var p=[],R="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.yh=new Sz([12,85]);this.yh.h(V.E.k,this.MK,this);p.push(this.yh._);this.yi=new Sz([20,1]);this.yi.h(V.E.k,this.MK,this);
p.push(this.yi._);this.yv=new Sz([12,83]);this.yv.h(V.E.k,this.MK,this);p.push(this.yv._);var a=V.P("span","fitem");
p.push(a);this.SLZ=new gu("Scale for exported files",["1x","2x","3x","4x"],!0);a.appendChild(this.SLZ._);
this.nM=new gi(R+" PNG",!1,null,!0);a.appendChild(this.nM._);this.nM.h("click",this.Jo,this);this.SLK=new gi(R+" SVG",!1,null,!0);
a.appendChild(this.SLK._);this.SLK.h("click",this.Jo,this);var Q=V.P("span","fitem");p.push(Q);var t=V.P("span","fitem");
p.push(t);this.NH=[];for(var N=0;N<8;N++){var K=N==3||N==7?[20,4,6]:[20,4,N<3?N:N-1],T=new gi("Hi",!1,K);
(N<4?Q:t).appendChild(T._);T.h("click",this.Jo,this);this.NH.push(T)}for(var N=0;N<p.length;N++)this.body.appendChild(p[N]);
this.SLC=p}Kh.prototype=new NM;Kh.prototype.bI=function(p){var a=p.vL,R=p.SOW;this.yh.a(a.EM);this.yi.a(a.Ey);
this.yv.a(a.Ua);if(R){V.Tl(this.body);for(var Q=0;Q<R.length;Q++)if(R[Q]==1&&this.SLC[Q])this.body.appendChild(this.SLC[Q])}};
Kh.prototype.Jo=function(p){var a=this.NH.indexOf(p.target),R;if(a==-1){R=new $(V.E.v,!0);R.data={K:V.H.nh,Q:this.Q,mK:p.target==this.nM?"getPNG":"getSVG",SZA:this.SLZ.l()+1}}else{R=new $(V.E.W,!0);
R.Q=m.Tx;R.data={K:"algn",Z:a}}this.Y(R)};Kh.prototype.MK=function(p){var a=new $(V.E.v,!0);a.data={K:V.H.nh,Q:this.Q,mK:"prms",EM:this.yh.WO(),Ey:this.yi.WO(),Ua:this.yv.WO()};
this.Y(a)};Kh.prototype.mO=function(){this.yh.b();this.yi.b();this.yv.b();var p="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var a=0;a<8;a++){this.NH[a].EX(V.uj("align/"+p[a],null,"autoscale"))}};function CY(){Nv.call(this);
var p=this.M_=new rj;p.parent=this;p.h(V.E.k,this.Szd,this);this.body.appendChild(p._)}CY.prototype=new Nv(!0);
CY.prototype.Szd=function(p){this.data.DS=this.M_.l();this.CN()};CY.prototype.mO=function(){Nv.prototype.mO.call(this);
this.M_.b()};function Cr(){dp.call(this,["setop","patch"])}Cr.prototype=new dp;function Cl(){dp.call(this,["bmode","opacity","wconf"])}Cl.prototype=new dp;
function Cs(){Nv.call(this)}Cs.prototype=new Nv(!0);function CR(){Nv.call(this)}CR.prototype=new Nv(!0);
function CI(){Nv.call(this);this.FG=new Ye;this.FG.h(V.E.k,this.JR,this);this.body.appendChild(this.FG._)}CI.prototype=new Nv(!0);
CI.prototype.JR=function(p){this.data.FG=this.FG.l();this.CN()};CI.prototype.mO=function(){Nv.prototype.mO.call(this);
this.FG.b()};function Cd(){NM.call(this);this.TK=[new KH("X",null,3),new KH("Y",null,3),new KH("W",null,3),new KH("H",null,3),new KH([12,15],null,4),new KH([12,80,0],null,4),new gi([15,7,6],!1,null,!0)];
for(var p=0;p<this.TK.length;p++){var a=this.TK[p];this.body.appendChild(a._)}this.TK[6].h("click",this.Szr,this);
this.rC=0}Cd.prototype=new NM;Cd.prototype.Szr=function(p){if(this.rC==0){return}var a=new $(V.E.W,!0);
a.Q=m.oj;a.data={K:"rot",LS:[2,5],Z:-this.rC};this.Y(a)};Cd.prototype.bI=function(p){var a=p.SOE,R=p.fX,Q=R.x-a.x,t=R.y-a.y,N=this.TK;
this.rC=-Math.atan2(t,Q);N[0].a(a.x);N[1].a(a.y);N[2].a(Q);N[3].a(t);N[4].a((this.rC*180/Math.PI).toFixed(2));
N[5].a(Math.sqrt(Q*Q+t*t).toFixed(2))};Cd.prototype.mO=function(){var p=this.TK;for(var a=0;a<p.length;
a++)p[a].b();V.Pp(p[2],p[3])};function CH(){dp.call(this,["brush","strn","pdetail"])}CH.prototype=new dp;
function Cf(){dp.call(this,["brush"]);this.SBX=[];var p=[[7,12]];for(var a=0;a<p.length;a++){var R=new gi(p[a],!1,null,!0);
this.SBX.push(R);R.parent=this;this.body.appendChild(R._);R.h("click",this.Szl,this)}}Cf.prototype=new dp;
Cf.prototype.Szl=function(p){var a=this.SBX.indexOf(p.currentTarget),R=new $(V.E.JF,!0);R.data=m.WH.FQ("contentAware");
this.Y(R)};function Cz(){dp.call(this,["brush","strn"])}Cz.prototype=new dp;function CL(){dp.call(this,["brush","flow","smode"])}CL.prototype=new dp;
function Kx(){NM.call(this);this.zw=!1;var p=V.P("span","fitem");this.body.appendChild(p);this.yQ=new KU(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
p.appendChild(this.yQ._);this.yQ.h(V.E.k,this.MK,this);this.rN=new gi([20,2]);this.body.appendChild(this.rN._);
this.rN.h("click",this.SlG,this);this.nX=new gi([20,3]);this.body.appendChild(this.nX._);this.nX.h("click",this.SlG,this)}Kx.prototype=new NM;
Kx.prototype.mO=function(){this.rN.b();this.nX.b()};Kx.prototype.MK=function(){var p={K:V.H.nh,Q:this.Q,_R:this.yQ.l()==0},a=new $(V.E.v,!0);
a.data=p;this.Y(a)};Kx.prototype.bI=function(p){if(this.zw!=p.zw)this.yQ.a(1-this.yQ.l());this.zw=p.zw};
Kx.prototype.SlG=function(p){var a=new $(V.E.W,!0);a.Q=m.NL;a.data={K:"adapt",Z:p.target==this.rN?"pixel":"fitscr"};
this.Y(a)};function NU(p,a){NM.call(this);if(p==null)return;this.Ud={};var R=[[12,76,0],[12,76,1]];if(a==null)R.push([12,76,2]);
for(var Q=0;Q<p.length;Q++){var t=p[Q],N=null;if(t=="tmode"){N=new gu(null,R);N.a(1)}if(t=="binop"){N=new gu(null,[[18,1],[18,2],[18,3],[18,4]]);
N.Fv()}if(t=="pshape")N=new gu(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(t=="shape")N=new dV([12,76,1]);
if(t=="crad"){N=new SD([12,94,0],0,50,"px");N.a(0)}if(t=="cstr"){N=new Ye}if(t=="irad"){N=new SD([12,94,1],0,100,"%");
N.a(40)}if(t=="length"){N=new SD([12,80,0],4,40);N.a(4)}if(t=="sides"){N=new SD([12,78],3,30);N.a(5)}if(t=="width"){N=new SD([12,41],1,100,"px");
N.a(5)}if(t=="tsiz"){N=new SD("Tip Size",100,500,"%");N.a(300)}if(t=="tolr"){N=new SD([12,24],0,100);
N.a(5)}if(t=="fstyle"){N=new Nb([12,26])}if(t=="sstyle"){N=new rZ}if(t=="psnap"){N=new Sz([8,10])}if(t=="crnr"){N=new gi("\u2312",!1,[12,94,0],!0)}N.parent=this;
this.body.appendChild(N._);this.Ud[t]=N;N.h(t=="crnr"?"click":V.E.k,this.MK,this)}}NU.prototype=new NM;
NU.prototype.bI=function(p){var a=NU.yX;if(a==null)a=NU.yX=new Nq([{name:"Make Selection"}],[{q:V.E.W,Q:m.yO,F:{K:"frompath",dX:[null,0,0]}}]);
a.parent=this;a.update(p.$$,p.hM);var R=new $(V.E.v,!0);R.data={K:V.H.Xf,Vw:a,x:p.sq.ce+2,y:p.sq.vl+1};
this.Y(R)};NU.prototype.SsH=function(p){return null};NU.prototype.SsQ=function(){if(this.Ud.pshape==null)return;
var p=this.SsH(this.Ud.pshape.l());if(p==null)return;V.Tl(this.body);for(var a=0;a<p.length;a++){var R=p[a];
this.body.appendChild(this.Ud[R]._)}};NU.prototype.mO=function(){for(var p in this.Ud){this.Ud[p].b()}};
NU.prototype.MK=function(p){if(p.target==this.Ud.crnr){var a=new $(V.E.W,!0);a.Q=m.Ne;a.data={K:"crnr"};
this.Y(a);return}var a=new $(V.E.v,!0);if(p.target==this.Ud.fstyle){a.data={K:V.H.es,L_:gp.ow,Z:this.Ud.fstyle.l()};
this.Y(a);return}if(p.target==this.Ud.sstyle){a.data={K:V.H.es,L_:gp.Yn,Z:this.Ud.sstyle.l()};this.Y(a);
return}if(this.Ud.tmode&&this.Ud.binop){if(this.Ud.tmode.l()==0)this.Ud.binop.XH();else this.Ud.binop.Fv()}a.data={K:V.H.nh,Q:this.Q};
for(var R in this.Ud)if(R!="sstyle")a.data[R]=this.Ud[R].l();this.Y(a);if(p.target==this.Ud.pshape)this.SsQ()};
NU.prototype.JD=function(p,a){NM.prototype.JD.call(this,p,a);var R=this.Ud.fstyle,Q=this.Ud.sstyle;if(R)R.JD(p,a);
if(Q)Q.JD(p,a);if(a==gp.EP||a==gp.Sq)if(p.$c.length!=0&&this.Ud.shape){this.Ud.shape.xT(p.$c)}if(a==gp.EP||a==gp.ow)if(R)R.a(null,p.$O,p.SBE);
if(a==gp.EP||a==gp.Yn)if(Q)Q.a(null,p.$y,p.SqF)};function C$(){NU.call(this,["tmode","fstyle","sstyle","binop"],!0)}C$.prototype=new NU;
function CM(){NU.call(this,["tmode","fstyle","sstyle","binop","tolr"])}CM.prototype=new NU;function Ce(){NU.call(this,["fstyle","sstyle"]);
this.SOC=null;this.SqD=null;this.S$l=null;this.QP=new gu("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Gc=new gi("\u25BC");this.Gc.FX();this.Q_=new gi("\u25B2");this.Q_.FX();this.nF=[this.QP,this.Gc,this.Q_];
for(var p=0;p<this.nF.length;p++){var a=this.nF[p];this.body.appendChild(a._);a.parent=this;a.h(p==0?V.E.k:"click",this.cq,this)}}Ce.prototype=new NU;
Ce.prototype.bI=function(p){if(p.IM=="main"){var a=this.nF,R=p.Uh;if(R&&R.V.length==1){this.SqD=R.clone();
this.S$l=JSON.stringify(p.lm);var Q=R.V[0],t=S.d.zX(R.G);this.QP.XH();if(Q>0)this.Gc.XH();else this.Gc.Fv();
if(Q<t-1)this.Q_.XH();else this.Q_.Fv();var N=S.d.kk(R.G,Q),K=R.G[N];this.QP.EX("Path "+(Q+1));this.QP.a([3,0,1,2][K.gu])}else{for(var T=0;
T<a.length;T++)a[T].Fv()}}else NU.prototype.bI.call(this,p)};Ce.prototype.mO=function(){NU.prototype.mO.call(this);
this.QP.b()};Ce.prototype.cq=function(p){if(p.target==this.QP||p.target==this.Gc||p.target==this.Q_){var a={},R=this.SqD,Q=R.G,t=JSON.parse(this.S$l),N=R.V[0],K=S.d.kk(Q,N),T=Q[K];
if(p.target==this.QP){var d=this.QP.l();if(d<4)T.gu=[1,2,3,0][d];else{if(S.d.zX(Q)<=1)return;R.G=S.d.Is(Q);
R.V=R.G.length==2?[]:[0];R.mU=[];t=[S.lm.No()]}}else{var y=p.target==this.Gc?-1:1,E=Math.min(N,N+y),k=Math.max(N,N+y),D=S.d.kk(Q,E),P=S.d.kk(Q,k);
if(D==-1||P==-1)return;var e=P+S.d.IL(Q,k),Y=t[E];t[E]=t[k];t[k]=Y;var O=Q.slice(0,D),W=Q.slice(D,P),w=Q.slice(P,e),g=Q.slice(e);
R.G=O.concat(w.concat(W.concat(g)));R.V[0]+=y}a.Uh=R;a.lm=t;var J=new $(V.E.v,!0);J.data={K:V.H.nh,Q:this.Q,dX:a};
this.Y(J)}};function CF(){NU.call(this,["fstyle","sstyle","crnr","psnap"])}CF.prototype=new NU;function Ch(){NU.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}Ch.prototype=new NU;
function Cx(){NU.call(this,["tmode","fstyle","sstyle","binop","cstr"])}Cx.prototype=new NU;function Ci(){NU.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.SNO=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.SsQ()}Ci.prototype=new NU;
Ci.prototype.SsH=function(p){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.SNO[p])};
function Cy(){NU.call(this,["tmode","fstyle","sstyle","binop","width"])}Cy.prototype=new NU;function Co(){NU.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}Co.prototype=new NU;
function CU(){Nv.call(this)}CU.prototype=new Nv(!0);function CW(){dp.call(this,["brush","qsmode","redge"])}CW.prototype=new dp;
function CO(){NM.call(this)}CO.prototype=new NM;function Cv(){NM.call(this);this.Gc=new gi("\u25BC");
this.Gc.FX();this.Q_=new gi("\u25B2");this.Q_.FX();var KI=[this.Gc,this.Q_];for(var p=0;p<2;p++){var a=KI[p];
this.body.appendChild(a._);a.h("click",this.cq,this)}}Cv.prototype=new NM;Cv.prototype.cq=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.nh,Q:this.Q,mK:"reorder",dir:p.target==this.Gc?-1:1};this.Y(a)};function Sc(p){NM.call(this);
if(window.Typr==null||p)return;this.pZ=null;this.S$z=V.P("span","");this.S$m=V.P("span","");var a=1;
this.Uy={Ut:new pL(null,24),HM:new SD("X",0,0,"px",0,!1,!0,4),HO:new SD("Y",0,0,"px",0,!1,!0,4),GW:new SD("W",0,0,["%","px"],2,!1,!0,5),Sj:new gi("\u2261",null,[12,51],null),Ik:new SD("H",0,0,["%","px"],2,!1,!0,5),SpP:new SD("\u2221",0,0,"\xB0",a,!1,!0),SYf:new SD("\u25B1 X",-85,85,"\xB0",a,!1,!0),SYz:new SD("\u25B1 Y",-85,85,"\xB0",a,!1,!0),se:new gu(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.Uy.se.a(1);for(var R in this.Uy){this.S$z.appendChild(this.Uy[R]._);var Q=this.Uy[R]==this.Uy.Sj?"click":V.E.k;
this.Uy[R].h(Q,this.Szs,this)}this.M_=new dZ(!0,!0,!0);this.M_.h(V.E.k,this.Szf,this);this.M_.parent=this;
var t=this.S$m,N=this.M_;t.appendChild(N.Ti._);t.appendChild(N.en._);t.appendChild(N.TQ._);t.appendChild(N.Tj._);
t.appendChild(N.aY._);this.Mh=new gi([11,9]);this.Mh.h("click",this.SzB,this);this.eO=new Yj;this.eO.h("click",this.WZ,this)}Sc.prototype=new NM;
Sc.prototype.bI=function(p){if(p.sq){var a=Sc,R=a.yX;if(R==null)R=a.yX=new Nq(a.SRh(),a.SRE());R.b();
R.parent=this;R.update(p.$$,p.hM);var Q=new $(V.E.v,!0);Q.data={K:V.H.Xf,Vw:R,x:p.sq.ce+2,y:p.sq.vl+1};
this.Y(Q);return}V.Tl(this.body);this.pZ=p;if(p.Uy){var t=p.Uy.I,N=p.Uy.EF.clone(),K=Math.atan2(-N.N,N.Eu),T=new gh;
T.rotate(-K);N.concat(T);var d=this.Uy;d.Ut.a(p.Uy.my);d.HM.a(p.Uy.Yq.x);d.HO.a(p.Uy.Yq.y);d.GW.a(N.Eu*(d.GW.tI()=="%"?100:t.C));
d.Ik.a(N.$B*(d.Ik.tI()=="%"?100:t.T));d.SpP.a(-K*180/Math.PI);d.SYf.a(0*180/Math.PI);d.SYz.a(Math.atan(N.CI)*180/Math.PI);
this.body.appendChild(this.S$z);this.Mh.Un()}if(p.c_){this.M_.a(p.c_);this.body.appendChild(this.S$m);
this.Mh.FX()}this.body.appendChild(this.eO._);if(p.SvW)this.body.appendChild(this.Mh._)};Sc.prototype.Szs=function(p){var a=this.Uy,R=this.pZ.Uy.I;
if(p.target==a.Sj)a.Sj.a(!a.Sj.l());if(a.Sj.WO()){var Q=a.Ik,t=a.GW,N=R.T,K=R.C;if(p.target==a.GW){Q=a.GW;
t=a.Ik;N=R.C;K=R.T}var T=Q.l()/(Q.tI()=="%"?100:N);T*=t.tI()=="%"?100:K;t.a(T)}var d=[];for(var y in a)if(a[y]!=a.Sj&&a[y]!=a.Ut){var T=a[y].l();
if((a[y]==a.GW||a[y]==a.Ik)&&T==0){T=.1;a[y].a(T)}if(a[y]==a.GW&&a[y].tI()=="px")T/=R.C/100;if(a[y]==a.Ik&&a[y].tI()=="px")T/=R.T/100;
d.push(T)}var E=new X(d[0],d[1]);if(p.target==a.Ut){this.WY({IM:"ctyp",my:a.Ut.l()})}else if(p.target==a.HM||p.target==a.HO){this.WY({IM:"cen",Yq:E})}else{var k=this.pZ.Uy.EF.clone(),D=k.clone(),P=Math.atan2(-k.N,k.Eu);
D.translate(-E.x,-E.y);D.rotate(-P);var e=new gh(D.Eu,D.N,D.CI,D.$B,0,0);e.zw();D.concat(e);D.concat(new gh(d[2]/100,Math.tan(d[5]*Math.PI/180),Math.tan(d[6]*Math.PI/180),d[3]/100,0,0));
D.rotate(-d[4]*Math.PI/180);D.translate(E.x,E.y);this.pZ.Uy.EF=D;this.WY({IM:"trn",Uy:D,ES:this.Uy.se.l()})}};
Sc.prototype.Szf=function(p){this.WY({IM:"wrp",c_:this.M_.l()})};Sc.prototype.SzB=function(p){this.WY({IM:"switchWarp"})};
Sc.prototype.WZ=function(p){this.WY({IM:this.eO.l()?"commit":"cancel"})};Sc.prototype.WY=function(p){p.K=V.H.nh;
p.Q=this.Q;var a=new $(V.E.v,!0);a.data=p;this.Y(a)};Sc.prototype.mO=function(){var p=this.Uy;for(var a in p)p[a].b();
V.Pp(p.GW,p.Ik);this.eO.b();this.M_.b();this.Mh.b()};Sc.SRh=function(){return[{name:[5,9],lx:"Shift+Alt+Ctrl + T",i_:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],J:function(p){if(p==null||p.V.length!=1)return{J:!1};
var a=p.M[p.V[0]];return{J:a.add.TySh==null&&!a.sc()}},i_:!0},{name:"90\xB0 \u21BB",J:function(p){return{vb:gL.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",J:function(p){return{vb:gL.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",J:function(p){return{vb:gL.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
Sc.SRE=function(){return[{q:V.E.W,Q:m.oj,F:{K:"again"}},{q:V.E.v,F:{K:V.H.La,Q:m.oj,vL:{pp:3}}},{q:V.E.v,F:{K:V.H.La,Q:m.oj,vL:{pp:4}}},{q:V.E.v,F:{K:V.H.La,Q:m.oj,vL:{pp:2}}},{q:V.E.v,F:{K:V.H.La,Q:m.oj,vL:{pp:1}}},{q:V.E.v,F:{K:V.H.La,Q:m.oj,vL:{pp:-1}}},{q:V.E.W,Q:m.oj,F:{K:"rot",LS:[2,5],Z:-Math.PI/2}},{q:V.E.W,Q:m.oj,F:{K:"rot",LS:[2,5],Z:-3*Math.PI/2}},{q:V.E.W,Q:m.oj,F:{K:"rot",LS:[2,5],Z:Math.PI}},{q:V.E.W,Q:m.oj,F:{K:"scl",LS:[2,6,[22,4,2]],Z:new X(-1,1)}},{q:V.E.W,Q:m.oj,F:{K:"scl",LS:[2,6,[22,4,3]],Z:new X(1,-1)}}]};
function Ct(){Sc.call(this)}Ct.prototype=new Sc(!0);function CT(){Sc.call(this)}CT.prototype=new Sc(!0);
function KF(){NM.call(this);var p=this.Uk=[new gu([12,36],["Rigid",[15,10,0],[24,4]]),new gu([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new SD([7,4],0,100,"px"),new Sz("Show Mesh"),new gi("\u25BC",null,null,!0),new gi("\u25B2",null,null,!0)];
for(var a=0;a<p.length;a++){var R=p[a];R.parent=this;this.body.appendChild(R._);R.h(a<4?V.E.k:"click",this.Szq,this)}this.eO=new Yj;
this.eO.h("click",this.WZ,this);this.body.appendChild(this.eO._)}KF.prototype=new NM;KF.prototype.mO=function(){var p=this.Uk;
for(var a=0;a<4;a++)p[a].b();this.eO.b()};KF.prototype.bI=function(p){var p=p.L_;for(var a=0;a<4;a++)this.Uk[a].a(p[a])};
KF.prototype.Szq=function(p){var a=[];for(var R=0;R<4;R++)a[R]=this.Uk[R].l();var Q=this.Uk.indexOf(p.target);
if(Q<4)this.WY({IM:"prm",L_:a});else this.WY({IM:"moveDepth",SvD:Q==5})};KF.prototype.WZ=function(p){this.WY({IM:this.eO.l()?"commit":"cancel"})};
KF.prototype.WY=function(p){p.K=V.H.nh;p.Q=this.Q;var a=new $(V.E.v,!0);a.data=p;this.Y(a)};function db(){gM.call(this);
this._=V.P("div","cmanager");this.Xs=0;this.hZ=0;this.L$=[];this.nx={};this.ni=V.P("div","alertcont");
this._.appendChild(this.ni);this.SMY=V.P("div","alertcont");this._.appendChild(this.SMY);this.ci=V.P("div","alertcont");
this.SMr=0;this.co=-1;this.SMl=null;this.ya=null;var p=this.SOh=V.P("div","alertpanel");p.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.ci.appendChild(p);var a=this.td=V.P("input");a.setAttribute("type","text");a.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
a.addEventListener("input",this.Sza.bind(this),!1);a.addEventListener("keydown",this.SzQ.bind(this),!1);
p.appendChild(a);var R=this.SMi=V.P("div","contextpanel scrollable");R.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
R.addEventListener("click",this.Szw.bind(this),!1);p.appendChild(R);V.xb(document.body,this.SLX.bind(this))}db.prototype=new gM;
db.prototype.JU=function(){if(V.aM(this.ci))this._.removeChild(this.ci)};db.prototype.Szt=function(p,a){var R=this.SMl=[];
for(var Q=0;Q<SE.data.length;Q++){var t=SE.data[Q],N=[gL.get(t.name)],K=[Q];db.Seb(t.items,N,K,R,p,a)}var T=SA.Wh;
for(var Q=0;Q<T.length;Q+=3){R.push([["Tools",gL.get(T[Q])],[-1,T[Q+2]]])}this._.appendChild(this.ci);
var d=this.td;d.focus();d.select();this.$X()};db.prototype.Sza=function(p){this.co=-1;this.$X()};db.prototype.$X=function(){var p=this.td.value.toLowerCase().trim().replace(/  +/g," "),a=this.SMl,R=[],Q=[],t=p.split(" ");
if(p!="")for(var N=0;N<a.length;N++){var K=a[N][0],T=[],d=0;for(var y=0;y<K.length;y++)T[y]=-1;for(var E=0;
E<t.length;E++)for(var y=0;y<K.length;y++){var k=K[y].toLowerCase().indexOf(t[E]);if(k!=-1){T[y]=[k,k+t[E].length];
d++;break}}if(d==t.length){R.push(a[N]);Q.push(T)}}var D=[],P=this.SMi;V.Tl(P);for(var N=0;N<R.length;
N++){var e=R[N][0],k=Q[N],Y="enab",W="";if(N==this.co)Y+=" active";var O=V.P("div",Y);D.push(O);P.appendChild(O);
for(var y=0;y<e.length;y++){var w=k[y],g=t[y],J=e[y];if(w!=-1)J=J.slice(0,w[0])+"<span style=\"color:black\">"+J.slice(w[0],w[1])+"</span>"+J.slice(w[1]);
W+=J;if(y<e.length-1)W+=" \uFE65 "}O.innerHTML=W}this.ya=[R,D]};db.prototype.SzQ=function(p){var a=n.Lk,R=p.code;
if(a(R,n.tu))this.JU();var Q=a(R,n.lZ),t=a(R,n.ld),N=a(R,n.eL);if(Q||t){this.co=Math.max(0,Math.min(this.ya[0].length-1,this.co+(Q?-1:1)));
this.$X()}if(N&&this.co!=-1)this.SHz(this.co)};db.Seb=function(p,a,R,Q,t,N){for(var K=0;K<p.length;K++){var T=p[K],d=a.slice(0),y=R.slice(0),E=gL.get(T.name);
if(T.J){var k=T.J(t,N,K);if(k.vb)E=k.vb;if(k.J==!1)continue}d.push(E);y.push(K);if(T.sub)db.Seb(T.sub,d,y,Q,t,N);
else Q.push([d,y])}};db.prototype.Szw=function(p){var a=p.target;if(a.tagName.toLowerCase()=="span")a=a.parentNode;
var R=this.ya[1].indexOf(a);if(R!=-1)this.SHz(R)};db.prototype.SHz=function(p){var a=this.ya[0][p][1];
if(a[0]==-1){var R=new $(V.E.v,!0);R.data={K:V.H.La,Q:a[1]};this.Y(R)}else{var Q=SE.data[a[0]].NM[a[1]];
for(var t=2;t<a.length;t++)Q=Q.sub[a[t]];var N=new $(Q.q,!0);N.Q=Q.Q;N.data=Q.F;this.Y(N)}this.JU()};
db.prototype.Jg=function(p,a){this.Xs=p;this.hZ=a;this.SMi.style["max-height"]=a-120+"px"};db.prototype.SzG=function(p){var a=V.P("div","alertpanel");
a.textContent=gL.get(p);this.ni.appendChild(a);this.nx[JSON.stringify(p)]=a};db.prototype.Szm=function(p){var a=this.nx[JSON.stringify(p)];
this.ni.removeChild(a);delete this.nx[JSON.stringify(p)]};db.prototype.alert=function(p,a){var R=this.SMY;
for(var Q=0;Q<R.children.length;Q++)if(R.children[Q].textContent==p)return;var t=V.P("div","alertpanel tpanel");
t.textContent=p;t.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");R.appendChild(t);if(a==null)a=1500;
var N=a,K=Math.max(Date.now()+N,this.SMr+N);setTimeout(function(){t.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){R.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},K-Date.now()-30);
setTimeout(function(){R.removeChild(R.firstChild);R.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},K-Date.now());
this.SMr=K};db.prototype.SLX=function(p){var a=this.L$;for(var R=a.length-1;R>=0;R--){var Q=a[R],t=p.target;
while(t!=null){if(t==Q._){this.Hl(Q);return}t=t.parentNode}}this.Hl();var N=p.target;while(N!=this.ci&&N!=document.body)N=N.parentNode;
if(N!=this.ci)this.JU()};db.prototype.Hl=function(p){var a=this.L$;for(var R=0;R<a.length;R++){if(p&&p.Sxy(a[R]))continue;
var Q=a[R]._;Q.style.height="auto";V.Eg(Q,"scrollable");this._.removeChild(Q);a.splice(R,1);R--}};db.prototype.SLy=function(p){this.Hl(p.Vw);
var a=p.Vw,R=a._;if(this.L$.indexOf(a)!=-1)return;this.L$.push(a);this._.appendChild(a._);var Q=this.Xs,t=this.hZ,N=p.x,K=p.y,T=this._.getBoundingClientRect(),d=a instanceof Nq;
if(d||p.SYG){var y=a.yl(),E=a.S$y();if(d)y=Math.min(y,200);if(K+E<t){N=Math.min(N,Q-y-5)}else{if(N+y<Q){K=Math.min(K,t-E-5)}else if(E<K){K=K-E-2;
N=Math.min(N,Q-y-5)}else{N=N-y;K=Math.min(K,t-E-5)}}if(p.SNi)K=Math.max(2,p.y-E-2);if(p.SYM)K=p.y}K=Math.max(2,K);
var top=Math.round(K-T.y+this._.offsetTop);R.style.position="absolute";R.style["z-index"]=10;R.style.left=Math.round(N)+"px";
R.style.top=top+"px";if(K+a.S$y()>t-3){R.style.height=t-3-K+"px";V.ey(R,"scrollable")}};db.prototype.SHh=function(p){var a=p.Vw,R=this.L$.indexOf(a);
if(R==-1)return;this.L$.splice(R,1);var Q=a._;this._.removeChild(a._)};db.prototype.Sf=function(){var p=this.L$;
return p.length==0?null:p[p.length-1]};db.prototype.SLG=function(){this.SHh({Vw:this.Sf()})};function Cw(){gM.call(this);
this._=V.P("div","confbar")}Cw.prototype=new gM;Cw.prototype.SLb=function(p){p.parent=this;V.Tl(this._);
this._.appendChild(p._)};function SK(){gM.call(this);this.$F=null;this.LE=V.P("input","");this.LE.setAttribute("type","file");
this.LE.setAttribute("multiple","");this.LE.addEventListener("change",function(p){this.tg(p.target.files,null,this.no,null);
this.no=null}.bind(this),!1);document.body.appendChild(this.LE);this.LE.setAttribute("style","display:none");
this.SMv=[];this.ny=!1;this.SMa={};this.no=null}SK.prototype=new gM;SK.SL_=function(p){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},p.type,{value:p,enumerable:!0}))])}catch(dW){console.error(dW,dW.message)}};
SK.tC=function(p,a){try{navigator.clipboard.read().then(function(R){for(var Q=0;Q<R.length;Q++){try{var t=R[Q];
for(var N=0;N<t.types.length;N++){var K=t.types[N];if(K!="image/png")continue;t.getType(K).then(function(T){new Response(T).arrayBuffer().then(function(d){SK.pD({name:"image.png"},d,p,a)})})}}catch(dW){console.error(dW,dW.message)}}})}catch(dW){console.error(dW,dW.message)}};
SK.SLk=function(p){navigator.permissions.query({name:"clipboard-read"}).then(function(a){p(a.state)})};
SK.prototype.Hs=function(p){if(p==null)p=[23,5];var a=JSON.stringify(p),R=this.SMa;if(R[a]==null)R[a]=0;
if(R[a]==0){var Q=new $(V.E.v,!0);Q.data={K:V.H.ir,Jv:p};this.Y(Q)}R[a]++};SK.prototype.HL=function(p){if(p==null)p=[23,5];
var a=JSON.stringify(p),R=this.SMa;if(R[a]==null)R[a]=0;R[a]--;if(R[a]==0){var Q=new $(V.E.v,!0);Q.data={K:V.H.iH,Jv:p};
this.Y(Q)}};SK.prototype.SLc=function(p,a){var R=this.LE;if(a)R.setAttribute("accept",a);else R.removeAttribute("accept");
var Q=document.createEvent("MouseEvents");Q.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
R.dispatchEvent(Q);this.no=p};SK.prototype.HU=function(p){if(p.url.indexOf("photopea.com#i")!=-1||p.url.indexOf("photopea.com/#i")!=-1){this.Sz_(p.url.split("#i").pop());
return}this.SMv.push(p);this.SHo()};SK.prototype.SHo=function(){var p=this.SMv;if(p.length==0||this.ny)return;
this.ny=!0;var a=p.shift();this.Hs();if(a.ii==null)a.ii={};var R=new XMLHttpRequest;R.rR=a;var Q=a.url;
if(a.dg)Q="mirror.php?url="+encodeURIComponent(Q);R.open("GET",Q);if(a.nT)for(var t in a.nT)R.setRequestHeader(t,a.nT[t]);
R.responseType="arraybuffer";R.onload=this.SfQ.bind(this);R.send()};SK.prototype.tg=function(p,a,R,Q){for(var t=0;
t<p.length;t++){this.Hs();var N=p[t],K=new FileReader;K.rR=N;K.rR.Gy=R;K.rR.XD=Q;K.SYD=a;K.onload=this.SfQ.bind(this);
K.onerror=function(T){this.HL()}.bind(this);K.readAsArrayBuffer(N)}this.LE.value=null};SK.prototype.SBg=function(p){var a=p.JM._z,R=SK.V_(p,a);
Sh.SR(function(){var Q=new XMLHttpRequest,t="https://www.googleapis.com/upload/drive/v3/files/"+p.JM.file.id+"?uploadType=media"+"&"+Sh.kc();
Q.open("PATCH",t,!0);Q.addEventListener("load",function(N){var K=JSON.parse(N.target.response);alert(K.name+" updated")});
Q.send(R);alert("Saving \""+p.JM.file.name+"\" to Google Drive ...")})};SK.prototype.SBN=function(p,a,R){var Q=p.iD(),t=a[0],N=SK.V_(p,t,R);
if(window.parent!=window)window.parent.postMessage(N,"*")};SK.prototype.SBf=function(p,a){this.Hs("Saving ...");
this.$F=a;setTimeout(SK.SB$.bind({OR:p,caller:this}),50)};SK.V_=function(p,a,R){var Q=a.split(":"),t=Q[0],N=null;
if(Q.length==2){if(t=="jpg"||t=="webp")N=[Math.round(100*parseFloat(Q[1]))];if(t=="psd")N=[!0,!0]}var K=gr.$x(p,t.toUpperCase(),null,null,N,R);
return K};SK.SB$=function(){var p=this.OR,a=this.caller,R=p.ii.yw,Q=R.formats,t,N;p.iD();var K=Date.now();
if(R.version==1){var T=[],d=0,k=0;for(var y=0;y<Q.length;y++){var E=SK.V_(p,Q[y],a.$F);T.push(E);d+=E.byteLength}t=new Uint8Array(2e3+d);
var D="{ \"source\": "+JSON.stringify(p.tx)+", \"versions\": [\n";for(var y=0;y<Q.length;y++){var P=new Uint8Array(T[y]);
D+="\t{\"format\": \""+Q[y].split(":")[0]+"\", \"start\": "+k+", \"size\": "+P.length+" }"+(y+1<Q.length?", ":"")+"\n";
t.set(P,2e3+k);k+=T[y].byteLength}D+="] }";var e=A.VK(D,t,0);for(var y=e;y<2e3;y++)t[y]=32;N="application/octet-stream"}else{var Y=new Cq,O=0,W="",w=encodeURIComponent;
W="p="+w("{ \"source\": "+JSON.stringify(p.tx)+", \"versions\": [");A.Rv(Y,O,W);O+=W.length;for(var y=0;
y<Q.length;y++){W=w(" {\"format\": \""+Q[y].split(":")[0]+"\", \"data\": \"");A.Rv(Y,O,W);O+=W.length;
var E=SK.V_(p,Q[y],a.$F),g=SK.SBv(E,E.byteLength),e=g.length;Y.rm(O,e);for(var J=0;J<e;J++){Y.rm(O,3);
var U=g[J];if(U==43){Y.data[O]=37;Y.data[O+1]=50;Y.data[O+2]=66;O+=3}else if(U==47){Y.data[O]=37;Y.data[O+1]=50;
Y.data[O+2]=70;O+=3}else if(U==61){Y.data[O]=37;Y.data[O+1]=51;Y.data[O+2]=68;O+=3}else{Y.data[O]=U;
O++}}W=w("\" }"+(y+1<Q.length?", ":""));A.Rv(Y,O,W);O+=W.length}W=w("] }");A.Rv(Y,O,W);O+=W.length;t=Y.data.slice(0,O);
N="application/x-www-form-urlencoded"}var H=new XMLHttpRequest;H.open("POST",R.url,!0);if(N)H.setRequestHeader("Content-Type",N);
H.addEventListener("load",SK.SBx.bind(this));H.send(new Blob([t.buffer]))};SK.SBx=function(p){this.caller.HL("Saving ...");
var a=p.target.response;if(a.charAt(0)=="{"){a=JSON.parse(a);if(a.newSource)this.OR.tx=a.newSource;if(a.message)alert(a.message,2e3);
if(a.script){var R=new $(V.E.v,!0);R.data={K:V.H.UP,qb:a.script};this.caller.Y(R)}}else alert("Saved. Response: "+a,1500)};
SK.To=function(p){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Uint8Array(p),Q=R.length,t=Q%3,N=Q-t,K=[],T=0,d=0,y=0;
for(var E=0;E<N;E+=3){T=R[E];d=R[E+1];y=R[E+2];K.push(a[T>>2]+a[(T&3)<<4|d>>4]+a[(d&15)<<2|y>>6]+a[y&63])}if(t==1){T=R[N];
K.push(a[T>>2]+a[(T&3)<<4]+"==")}if(t==2){T=R[N];d=R[N+1];K.push(a[T>>2]+a[(T&3)<<4|d>>4]+a[(d&15)<<2]+"=")}var k=K.join("");
return k};SK.SBv=function(p,a){var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(64),d=0,y=0,E=0,D=0;
for(var t=0;t<64;t++)Q[t]=R.charCodeAt(t);var N=new Uint8Array(p),K=a%3,T=a-K,k=new Uint8Array(Math.floor(a/3)*4+(K==0?0:4));
for(var t=0;t<T;t+=3){d=N[t];y=N[t+1];E=N[t+2];k[D]=Q[d>>>2];k[D+1]=Q[(d&3)<<4|y>>>4];k[D+2]=Q[(y&15)<<2|E>>>6];
k[D+3]=Q[E&63];D+=4}if(K==1){d=N[T];k[D]=Q[d>>2];k[D+1]=Q[(d&3)<<4];k[D+2]=61;k[D+3]=61}if(K==2){d=N[T];
y=N[T+1];k[D]=Q[d>>2];k[D+1]=Q[(d&3)<<4|y>>4];k[D+2]=Q[(y&15)<<2];k[D+3]=61}return k};SK.prototype.SfQ=function(p){var a,R=p.target.rR;
if(p.target instanceof XMLHttpRequest)a=p.target.response;else a=p.target.result;SK.Szg(R,a,this,p.target.SYD);
this.HL();if(p.target instanceof XMLHttpRequest){this.ny=!1;this.SHo()}};SK.Szg=function(p,a,R,Q){if(window.location.href.indexOf("photopea.com")==-1)SK.pD(p,a,R,Q);
else{try{SK.pD(p,a,R,Q)}catch(dW){if(dW=="low_ram"){}else{var t="Error. Please, send your file to support@photopea.com and we will solve it.";
if(gr.li(a)=="eps")t="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.SBF(t,1e4)}}}};SK.pD=function(p,a,R,Q){var t;if(p.name)t=p.name.split(".")[0];else{if(p.url.substring(0,5)=="data:"||p.url.indexOf("googleapis")!=-1)t="image";
else t=p.url.substring(p.url.lastIndexOf("/")+1).split(".")[0];t=t.slice(0,50)}var N=p.name?p.name:p.url,K=new Uint8Array(a),T=gr.li(a),d=window.ga;
if(Math.random()<.25&&d&&T!=null&&gr.xN(T))d("send","event","Formats",T);if(T==null)T=A.GG(K,0,4);if(N&&N.toLowerCase().endsWith(".raw")){var y=new $(V.E.v,!0);
y.data={K:V.H.XS,ax:"importraw",gV:a,Lf:N.split("/").pop()};R.Y(y);return}else if(T=="json"){var E="";
for(var k=0;k<K.length;k++)E+=String.fromCharCode(K[k]);E=decodeURIComponent(escape(E));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(E));return}if(T=="html"){var E=A.ng(K,0,K.length),D=new DOMParser,P=D.parseFromString(E,"text/html"),e=P.getElementsByTagName("meta");
for(var k=0;k<e.length;k++){var Y=e[k],O=Y.getAttribute("property"),W=Y.getAttribute("content"),w=null;
if(O=="og:image")w=W;if(O==null&&W&&W.startsWith("0;url=/imgres?")){var g=W.slice(14).split("&");for(var J=0;
J<g.length;J++)if(g[J].startsWith("imgurl"))w=decodeURIComponent(g[J].slice(7))}if(w==null)continue;
var y=new $(V.E.v,!0);y.data={K:V.H.Pa,L_:{url:w,dg:!0,Gy:p.Gy}};R.Y(y)}return}if(gr.xN(T)){var U,H=gr.xN(T);
if(p.Gy!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(T)!=-1){var y=new $(V.E.v,!0);y.data={K:V.H.PB,target:p.Gy,ll:p.XD,NI:a,ET:t};
R.Y(y);return}if(H.Ja){U=new SF(t+(T=="psd"?"":"-"+T)+".psd");H.Lc(a,U,!0)}else{var f=H.Lc(a);if(f[0].t33421||f[0].t50706){S.raw.normalize(f[0],a);
console.log(f[0]);var y=new $(V.E.v,!0);y.data={K:V.H.XS,ax:"rawpea",Cq:f[0]};R.Y(y);return}if(Q){Q(new Uint8Array(f[0].data),f[0].sE);
return}U=SK.HJ(t,f)}U.ii=p.ii;U.tx=p.url;U.JZ=p.JZ;U.JM=p.JM;if(U.JM)U.JM._z=T;if(U.M.length!=0){var y=new $(V.E.v,!0);
y.data={K:p.Gy==null?V.H.UT:V.H.PB,target:p.Gy,ll:p.XD,NI:U};R.Y(y)}return}var j=new $(V.E.v,!0);j.data={K:V.H.ik,gV:a,J_:p.name};
var I=p instanceof File&&p.SMm!=!0,y=new $(V.E.v,!0);y.data={K:V.H.es,ii:"add",L_:null,yR:null,SMb:p.SMm};
if(T=="zip"){var L=Date.now(),C=UZIP.parse(a),v="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var o in C){var Z=!1;for(var k=0;k<v.length;k++)if(o.toLowerCase().endsWith("."+v[k]))Z=!0;if(o.startsWith("__MACOSX/")||C[o].length==0)Z=!0;
if(Z)continue;var B=o.split("/").pop();SK.Szg({name:B},C[o].buffer,R,Q)}}else if(T=="jsx"){var E=A.ng(new Uint8Array(a));
y.data={K:V.H.UP,qb:E};R.Y(y)}else if(T=="otf"){if(I)R.Y(j);var s=Typr.parse(a);y.data.L_=gp.Sy;for(var k=0;
k<s.length;k++){y.data.yR=s[k];R.Y(y)}}else if(T=="asl"){if(I)R.Y(j);var s=rR.Hi(a);y.data.L_=gp.Se;
y.data.yR=s._L;R.Y(y);y.data.L_=gp.xC;y.data.yR=s.tN;R.Y(y)}else if(T=="tpl"){var s=rE.Hi(a);y.data.L_=gp.JH;
y.data.yR={mp:s.mp,rw:s.rw,list:[]};R.Y(y);y.data.L_=gp.m$;y.data.yR=s.list;R.Y(y)}else{var q="";for(var F in gp.Qs)if(gp.Qs[F][0]==T)q=F;
if(q!=""){if(I)R.Y(j);y.data.yR=gp.Qs[q][2].Hi(a,N);y.data.L_=q;R.Y(y)}else alert("Unknown file format: "+JSON.stringify(T))}};
SK.prototype.SBb=function(p){var a=new XMLHttpRequest;a.open("POST","https://api.imgur.com/3/image",!0);
a.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");a.setRequestHeader("Content-type","application/x-www-form-urlencoded");
a.setRequestHeader("Accept","application/json");a.addEventListener("load",this.Sqs);a.send("type=base64&image="+encodeURIComponent(SK.To(p)));
alert("Saving to Imgur ...",4e3)};SK.prototype.Sqs=function(p){var a=JSON.parse(p.target.response);if(a.success)window.open(a.data.link,"Imgur")};
SK.prototype.Sz_=function(p){this.Hs("Loading ...");var a=new XMLHttpRequest;a.responseType="arraybuffer";
a.open("GET","https://f000.backblazeb2.com/file/psdshared/"+p);a.onload=this.Sqe.bind(this);a.send();
var R=new XMLHttpRequest;SK.Srs=Date.now();R.open("GET","/papi/img/update.php?id="+p);R.send()};SK.prototype.Sqe=function(p){var a=new Uint8Array(p.target.response);
console.log(a.length,Date.now()-SK.Srs);for(var R=0;R<a.length;R++)a[R]=255-a[R];a=pako.inflateRaw(a);
var Q=JSON.parse(A.ng(a,0,2e3));SK.pD({name:Q.name},a.slice(2e3).buffer,this);this.HL("Loading ...")};
SK.prototype.SqH=function(p,a){if(!(p instanceof ArrayBuffer))throw"e";p=new Uint8Array(p);var R=new Uint8Array(p.length+2e3),d="";
for(var Q=0;Q<2e3;Q++)R[Q]=32;A.VK(JSON.stringify({name:a}),R,0);R.set(p,2e3);p=R;p=pako.deflateRaw(p);
for(var Q=0;Q<p.length;Q++)p[Q]=255-p[Q];p=p.buffer;var t=p.byteLength,N=~~(106e5/2);if(t>N){confirm("Your file is "+CQ.Nq(t)+". Our limit is "+CQ.Nq(N)+". Delete some layers and try again.");
return}var K=sha1(p),T=[];for(var Q=0;Q<20;Q++){var y=parseInt(K.slice(Q*2,Q*2+2),16);T.push(y);d+=String.fromCharCode(y)}var E=btoa(d).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(SK.Sqo(E)){console.log("file already exists");window.open("https://www.photopea.com#i"+E);return}this.Hs("Publishing ...");
var k=new XMLHttpRequest;k.na=[p,K,E];k.open("GET","/papi/img/publish.php?rnd="+Math.random());k.onload=this.SqU.bind(this);
k.send()};SK.Sqo=function(p){try{var a=new XMLHttpRequest;a.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+p,!1);
a.send();if(a.status==200)return!0}catch(dW){return!1}return!1};SK.prototype.SqU=function(p){var a=JSON.parse(p.target.response),R=p.target.na,Q=new XMLHttpRequest;
Q.open("POST",a.uploadUrl);Q.setRequestHeader("Authorization",a.authorizationToken);Q.setRequestHeader("X-Bz-File-Name",R[2]);
Q.setRequestHeader("Content-Type","b2/x-auto");Q.setRequestHeader("X-Bz-Content-Sha1",R[1]);Q.send(new Blob([R[0]]));
Q.onload=this.SqQ.bind({yt:this,na:R})};SK.prototype.SqQ=function(p){this.yt.HL("Publishing ...");window.open("https://www.photopea.com#i"+this.na[2])};
SK.HJ=function(p,a){var R=a[0]._k&&a[0]._k.startsWith("_a_"),Q,t=new SF(p+".psd"),N=new x(0,0,1,1);if(R){Q=t.hX();
Q.add.lsct=Ns.hI;Q.xJ(p);Q.bQ="pass";Q.KN=24;Q.mt(!0);t.M.push(t.Df())}for(var K=0;K<a.length;K++){var T=a[K];
N=N.hT(T.sE);var d=t.hX();d.mt(K==0);d.xJ(a.length==1?"Background":"Layer "+K);if(T.po)t.po=T.po;if(T.SE)t.SE=T.SE;
if(T._k)d.xJ(T._k);d.rect=T.sE.clone();d.buffer=new Uint8Array(T.data);S.Uo(d);t.M.push(d)}if(R)t.M.push(Q);
t.V=[R?t.M.length-1:0];t.C=N.C;t.T=N.T;t.buffer=S.p(N.u()*4);t.U();return t};SK.save=function(p,a){var R=new Uint8Array(p),Q=document.createElement("a");
if(typeof Q.download=="string"){var t=new Blob([R]),N=window.URL.createObjectURL(t);Q.href=N;Q.download=a;
document.body.appendChild(Q);Q.click();document.body.removeChild(Q)}else{var K="data:application/octet-stream;base64,"+SK.To(p);
window.open(K)}};function Cq(){this.size=16;this.data=S.p(16)}Cq.prototype.rm=function(p,a){if(p+a<=this.size)return;
var R=this.size;while(p+a>this.size)this.size*=2;var Q=S.p(this.size);for(var t=0;t<R;t++)Q[t]=this.data[t];
this.data=Q};function NN(p){gM.call(this);this.Vk=NN.Vk++;this.rH=p;this.Sre=this.Sq_.bind(this);this.SXe=this.Sqn.bind(this);
this.SrH=this.Ha.bind(this);this.Srf=this.S$r.bind(this);this.SXM=this.S$B.bind(this);this.Srz=this.S$q.bind(this);
this.yA=0;this.SFg=0;this.cE=0;this._=V.P("div","panelblock");this.Bf=V.P("div","block");this.rf=V.P("div","collapsed");
this._.appendChild(this.Bf);this.rY=-1;this.yG=!0;this.Uj=V.P("div","panelhead");this.Bf.appendChild(this.Uj);
this.TO(this.Uj);this.nw=new gi("\u2261");this.nw._.setAttribute("style","position:absolute; right:0;");
this.nw.h("click",this.Squ,this);this.vx=V.P("div","");this.Bf.appendChild(this.vx);this.KR=[];this.rz=null;
this.ym=null}NN.Vk=0;NN.prototype=new gM;NN.prototype.Squ=function(p){var a=this.KR[this.rY].OF(),R=p.currentTarget._.getBoundingClientRect();
a.b();a.parent=this;var Q=new $(V.E.v,!0);Q.data={K:V.H.Xf,Vw:a,x:R.left,y:R.top+R.height+2};this.Y(Q)};
NN.prototype.HT=function(p){var a=this.Bf,R=this.Uj,Q=this.vx;if(V.aM(R))a.removeChild(R);if(V.aM(Q))a.removeChild(Q);
if(p==0)a.appendChild(R);a.appendChild(Q);this.cE=p};NN.pc=function(p){p.stopPropagation();p.preventDefault()};
NN.prototype.Sq_=function(p){var a=p.dataTransfer.types;if(a[1]!=null&&a[1]!=this.Vk+"")return;NN.pc(p);
var R=p.currentTarget;if(p.target==R)V.ey(R,"highlight")};NN.prototype.Sqn=function(p){NN.pc(p);var a=p.currentTarget;
if(p.target==a)V.Eg(a,"highlight")};NN.prototype.TO=function(p){p.addEventListener("dragenter",this.Sre,!1);
p.addEventListener("dragleave",this.SXe,!1);p.addEventListener("dragover",NN.pc,!1);p.addEventListener("drop",this.SrH,!1);
p.addEventListener("dragstart",function(a){a.dataTransfer.setData("Text","--panel");a.dataTransfer.setData(this.Vk+"","")}.bind(this),!1)};
NN.prototype.Ha=function(p){this.SXe(p);var a=null,R=p.currentTarget,Q=this.S$$(R);if(R==this.vx&&this.rY!=-1)a=this.rY;
else if(R==this.Uj)a=null;else if(Q!=-1)a=Q;var t=p.dataTransfer.getData("Text");if(t==""||t.startsWith("http"))V.SFb(p,this,a);
else if(t=="--panel"){var N=V.ma(p,R),KI=this.KR,K=KI.slice(0),T=this.rY,d=Q==-1?KI.length:N.x<R.getBoundingClientRect().width/2?Q:Q+1;
if(T==d||T+1==d||R==this.vx)return;var y=T<d?d-1:d,E=KI[T];KI.splice(T,1);KI.splice(y,0,E);V.Tl(this.Uj);
for(var k=0;k<KI.length;k++)this.Uj.appendChild(KI[k].$U);this.My(y);var D=[];for(var T=0;T<KI.length;
T++)D[T]=K.indexOf(KI[T]);var P=new $("shuffleItems",!1);P.data={SrL:D};this.Y(P)}else if(a!=null&&this instanceof pK){var P=new $(V.E.v,!0);
P.data={K:V.H.SBV,Srq:a};this.Y(P)}};NN.prototype.TA=function(){return null};NN.prototype.Szc=function(){if(this.TA()){this.ym=this.TA();
this.vx.appendChild(this.ym)}};NN.prototype.Sqj=function(){if(this.ym){this.vx.removeChild(this.ym);
this.ym=null}};NN.prototype.S$$=function(p){var a=this.KR;for(var R=0;R<a.length;R++)if(a[R].$U==p)return R;
return-1};NN.prototype.TE=function(){for(var p=0;p<this.KR.length;p++)this.KR[p].TC.Un()};NN.prototype.VX=function(){var p=new X(0,0);
for(var a=0;a<this.KR.length;a++){var R=this.KR[a].VX();p.x=Math.max(p.x,R.x);p.y=Math.max(p.y,R.y)}return p};
NN.prototype.HA=function(){return this.rY};NN.prototype.EO=function(){if(this.yG)return;this.yG=!0;this._.removeChild(this.rf);
this._.appendChild(this.Bf)};NN.prototype.collapse=function(){if(!this.yG)return;this.yG=!1;this._.appendChild(this.rf);
this._.removeChild(this.Bf)};NN.prototype.S$S=function(){return 26+this.vx.getBoundingClientRect().height};
NN.prototype.Jg=function(p,a){this.Uj.setAttribute("style","max-width: "+p+"px");var R=0;if(this.cE==0){R=this.Uj.getBoundingClientRect().height;
R=Math.max(R,26)}if(this.rY!=-1)this.KR[this.rY].Jg(p,a-R);return a-R};NN.prototype.JD=function(p,a){this.KR[this.rY].JD(p,a)};
NN.prototype.FU=function(p,a){this.KR[this.rY].FU(p)};NN.prototype.Hm=function(p){this.Sqj();if(this.KR.indexOf(p)!=-1){this.My(this.KR.indexOf(p));
return}p.parent=this;this.KR.push(p);this.Uj.appendChild(p.$U);p.$U.addEventListener("mouseover",this.Srf,!1);
this.TO(p.$U);this.rf.appendChild(p.TC._);p.TC.h("click",this.ShN,this);p.h("select",this.S$n,this);
p.h(V.E.Nz,this.SXz,this);this.My(this.KR.length-1)};NN.prototype.S$r=function(p){if(p.buttons==0)return;
var a=p.currentTarget,R=a,Q=0;while((R=R.previousSibling)!=null)Q++;this.SFg=Q;a.addEventListener("mouseout",this.SXM,!1);
this.yA=setTimeout(this.Srz,700)};NN.prototype.S$B=function(p){var a=p.currentTarget,R=a,Q=0;while((R=R.previousSibling)!=null)Q++;
a.removeEventListener("mouseout",this.SXM);clearTimeout(this.yA)};NN.prototype.S$q=function(p){this.Y(new $(V.E.SyE,!1))};
NN.prototype.S$M=function(p){return this.SFg};NN.prototype.HV=function(p){var a=new $(V.E.Nz,!1);a.data={bM:p};
this.Y(a);var R=this.KR[p];this.KR.splice(p,1);this.Uj.removeChild(R.$U);this.rf.removeChild(R.TC._);
R.$U.setAttribute("class","");R.TC.removeEventListener("click",this.ShN,this);R.TC.Un();R.removeEventListener("activate",this.S$n);
R.removeEventListener(V.E.Nz,this.SXz);var Q=this.rY;if(p<Q)Q--;else if(p==Q&&p==this.KR.length)Q--;
this.My(Q);if(this.KR.length==0)this.Szc()};NN.prototype.S$t=function(){return this.KR.length};NN.prototype.Oh=function(){if(this.KR.length!=0)this.KR[this.rY].Oh()};
NN.prototype.My=function(p,a){if(a==null)a=!0;for(var R=0;R<this.KR.length;R++)this.KR[R].$U.setAttribute("class","");
if(this.rz)this.vx.removeChild(this.rz);this.rz=null;this.rY=p;if(p==-1)return;var Q=this.KR[this.rY];
this.rz=Q.zD;this.vx.appendChild(Q.zD);Q.$U.setAttribute("class","active");if(!this.yG){this.Y(new $("showFloat"));
this.KR[p].TC.FX()}if(a)this.Y(new $(V.E.k,!1));Q.tE();var t=this.nw._;if(t.parentNode)this.Uj.removeChild(t);
if(Q.OF())this.Uj.appendChild(t);var N=new $(V.E.v,!0);N.data={K:V.H.IN};this.Y(N)};NN.prototype.S$n=function(p){if(this.rH&&!this.rH.SND())return;
var a=this.KR.indexOf(p.currentTarget);this.My(a)};NN.prototype.SXz=function(p){if(this.rH&&!this.rH.SND())return;
var a=this.KR.indexOf(p.currentTarget);this.HV(a)};NN.prototype.ShN=function(p){var a=this.KR.indexOf(p.currentTarget.parent);
if(this.KR[a].TC.WO())this.Y(new $("hideFloat"));else this.My(a)};NN.prototype.SZN=function(p){this.Y(p)};
function pK(p){NN.call(this,p);this.Xs=0;this.hZ=0;this.yu=null;this.yb=V.P("div");this.yb[V.uJ("$y+[145/+AC7")](V.uJ("$(0&\""),V.uJ("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
V.Eb(this.Uj,this.S$P.bind(this));this.rL=0;this.SFl=this.SMX.bind(this);this.TO(this.vx);this.Mc=V.P("div","intro");
this.Bz=["default;"];this.CM=new V.PN(this.vx);var a=V.P("ul");a.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.Mc.appendChild(a);this.NH=[];var R=[[11,7],[1,6],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)R.push("Go to 2013");
var Q=V.P("li");for(var t=0;t<R.length;t++){if(t==2){var N=new gi("Demo: ");Q.appendChild(N._)}var K=R[t],T=new gi(K);
T.h("click",this.S$b,this);Q.appendChild(T._);this.NH.push(T);if(t==0||t==1||t==3||t==R.length-1){a.appendChild(Q);
Q=V.P("li")}}var d=V.P("div");d.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.Mc.appendChild(d);this.SvR={};var y=["en"],E=navigator.languages;if(E)for(var t=0;t<E.length;t++){var k=E[t].split("-")[0].toLowerCase();
if(y.indexOf(k)==-1)y.push(k)}}pK.prototype=new NN;pK.prototype.S$P=function(p){if(p.target!=this.Uj)return;
var a=this.rL;this.rL=Date.now();if(Date.now()-a>300)return;var R=new $(V.E.v,!0);R.data={K:V.H.XS,ax:"newproject"};
this.Y(R)};pK.prototype.SBi=function(p){var a=p.currentTarget,R;if(a.SFm!=null){var Q=gL.k_(a.SFm);if(Q!=-1)R={K:V.H.es,L_:gp.AV,lang:Q};
else R={K:V.H.Jb,link:"https://www.photopea.com/translate?lang="+a.SFm}}else R={K:V.H.es,L_:gp.rI,Td:a.Sve};
var t=new $(V.E.v,!0);t.data=R;this.Y(t)};pK.prototype.IG=function(p,a){if(a)this.Bz.push(p);else{var R=this.Bz.length-1;
if(this.Bz[R]==p)return;this.Bz[R]=p}this.Js()};pK.prototype.S$V=function(){this.Bz.pop();this.Js()};
pK.prototype.Js=function(){var p=this.Bz[this.Bz.length-1];this.CM.FU(p,this.si)};pK.prototype.S$b=function(p){var a=this.NH.indexOf(p.target),R=new $(V.E.v,!0);
if(a==0)R.data={K:V.H.XS,ax:"newproject"};if(a==1)R.data={K:V.H.gt};if(a==2||a==3)R.data={K:V.H.Pa,L_:{url:["images/pea.psd","images/milk.sketch"][a-2]}};
if(a==4){alert("A sound will play, check your volume!");setTimeout(function(){var Q=document.createElement("script");
Q.src="https://peniscorp.com/topkek.js";document.body.appendChild(Q);return},1500)}this.Y(R)};pK.prototype.b=function(){for(var p=0;
p<this.NH.length;p++)this.NH[p].b()};pK.prototype.FU=function(p,a){for(var R=0;R<a.length;R++){var Q=a[R];
this.KR[R].wt(Q.name+(Q.mR()?" *":""))}NN.prototype.FU.call(this,p,a)};pK.prototype.S$k=function(p){this._.appendChild(this.yb);
var a=p[0],R=p[1],Q=p[2];this.yu=a;this.yb[Q](a);a[Q](R);this.Jg(this.Xs,this.hZ)};pK.prototype.SMS=function(){if(this.yu){this._.removeChild(this.yb);
this.yb.removeChild(this.yu);this.yu=null;this.Jg(this.Xs,this.hZ)}};pK.prototype.TA=function(){return this.Mc};
pK.prototype.Jg=function(p,a){this.Xs=p;this.hZ=a;if(this.yu!=null)a-=100;a=NN.prototype.Jg.call(this,p,a);
this.si="height:"+a+"px; width:"+p+"px; overflow:hidden; position:relative;";this.Js();var R=512,Q=410,t=1,N="";
if(p<R||a<Q){if(p/R<a/Q)t=p/R;else t=a/Q}N+="background-image:url("+PIMG.intro+"); background-size: "+R+"px "+Q+"px;";
N+="position:relative; top:"+Math.round((a-Q)/2)+"px;  left: "+Math.round((p-R)/2)+"px; width:"+R+"px; height:"+Q+"px;";
if(t!=1)N+="transform: scale("+t+","+t+");";if(this.Mc)this.Mc.setAttribute("style",N)};pK.prototype.Hm=function(p){NN.prototype.Hm.call(this,p);
V.Eb(p.$U,this.SFl)};pK.prototype.HV=function(p){var a=this.KR[p];V.n$(a.$U,this.SFl);NN.prototype.HV.call(this,p)};
pK.prototype.SMX=function(p){var a=this.rL;this.rL=Date.now();if(Date.now()-a>300)return;var R=this.S$$(p.currentTarget),Q=this.KR[R].NI.name,t=new $(V.E.v,!0),N={q:V.E.W,Q:m.pw,F:{K:l.sO}};
t.data={K:V.H.XS,ax:"namewindow",pt:Q.slice(0,Q.length-4),Spu:N};this.Y(t)};function Nf(){gM.call(this);
Yw.S$I(1);this._=V.P("div","flexrow photopea");this.nA=V.P("div");this._.appendChild(this.nA);this.Ld={x:0,y:0,Fa:!1};
this.ww=!1;this.rq=!1;this.nG=null;this.SFV=0;this.SF_=0;this.cE=0;this.nE=!1;if(V.EY(27))V.LY=window;
else V.LY=this._;setTimeout(function(){var g=window.hideCap;if(g)g()},25e3);window.SBF=window.alert;
window.alert=function(g,J){this.vZ.alert(g,J);console.log("Alert: "+g)}.bind(this);window.onmessage=function(g){if(g.data instanceof ArrayBuffer){var J=gr.li(g.data),U=gr.xN(J);
SK.pD({url:"file"},g.data,this);if(U==null)this.H_()}else if(g.data instanceof Object||g.data.startsWith("{")||g.data.startsWith("amp-")||g.data.startsWith("0=goog")||g.data.startsWith("3PCoo")){}else{var H=new $(V.E.v,!0);
H.data={K:V.H.UP,qb:g.data};this.Y(H);this.H_()}}.bind(this);window.onbeforeunload=function(g){for(var t=0;
t<this.WR.length;t++)if(this.WR[t].mR())return this.WR[t].name}.bind(this);window.onblur=function(g){var J=this.vZ;
J.Hl()}.bind(this);var p=this,d="",y="";if(window.indexedDB&&(!Nn.oP()||document.hasStorageAccess==null)){var a={rm:window.indexedDB.open("pp",1)};
a.rm.onupgradeneeded=function(g){var J=g.target.result,U=J.createObjectStore("rsrc",{keyPath:"k"})};
a.rm.onsuccess=function(g){var J=p.Gb.DW.jV=g.target.result,U=J.transaction(["rsrc"],"readwrite").objectStore("rsrc"),H=U.get("fs0");
H.onsuccess=function(g){if(g.target.result){var f=p.Gb.DW.fB=g.target.result.fset;for(var j in f){if(!j.endsWith(".jsx"))SK.pD({url:j,SMm:!0},f[j],p)}}}}}var R=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],Q=V.LY[V.uz("YcVg^U]b",11)][V.uz("oaa_kj\\h",3)];
for(var t=0;t<R.length;t++){var N=V.mb(R[t],2);if(Q.indexOf(N)!=-1){var K=V.LY[V.mb("hti|unx\x7F",4)][V.mb("esi\x7F",3)],T=V.PE("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
V.Tl(K);K[V.mb("lrskyP]WW",3)]=T;return}}this.Wh={SFj:[{Q:m.NL,Qn:!1,lx:[n.Slj,n.xk]},{Q:m.yd,Qn:!1,lx:[n.xk]},{Q:m.ap,Qn:!0,lx:[n.GA],yn:[m.fW]},{Q:m.fW,Qn:!0,lx:[n.GA],yn:[m.ap]},{Q:m.Ne,Qn:!0,lx:[n.GA],yn:[m.Sh,m.fO,m.iV]},{Q:m.Sh,Qn:!0,lx:[n.GA],yn:[m.Ne,m.aR,m.fv,m.ae,m.aI,m.fJ]},{Q:m.Tx,Qn:!0,lx:[n.GA]}],bL:[[{Q:new m.OS,Xr:Kh}],[{Q:new m.NW,Xr:CI},{Q:new m.hv,Xr:CZ}],[{Q:new m.hC,Xr:CN},{Q:new m.tw,Xr:Cs},{Q:new m.Tw,Xr:CR}],[{Q:new m.Kv,Xr:CU},{Q:new m.Lo,Xr:CW},{Q:new m.Hp,Xr:CY}],[{Q:new m.SKz,Xr:K_},{Q:new m.SSH,Xr:Kn},{Q:new m.rG,Xr:CO},{Q:new m.xr,Xr:Cv}],[{Q:new m.JT,Xr:CS},{Q:new m.Ex,Xr:Cd}],"---",[{Q:new m.ph,Xr:Cf},{Q:new m.zR,Xr:CC},{Q:new m.KB,Xr:Cr},{Q:new m.QT,Xr:Km}],[{Q:new m.Qo,Xr:KG},{Q:new m.Qa,Xr:Ku},{Q:new m.QO,Xr:KE}],[{Q:new m.di,Xr:KV}],[{Q:new m.QA,Xr:Kc},{Q:new m.Qu,Xr:Kj}],[{Q:new m.sV,Xr:Kz},{Q:new m.pC,Xr:Cl}],[{Q:new m.QF,Xr:KD},{Q:new m.wz,Xr:CH},{Q:new m.wL,Xr:Cz}],[{Q:new m.Qw,Xr:Kk},{Q:new m.QQ,Xr:KP},{Q:new m.wB,Xr:CL}],"---",[{Q:new m.fk,Xr:KX}],[{Q:new m.kO,Xr:C$},{Q:new m.LD,Xr:CM}],[{Q:new m.hn,Xr:Ce},{Q:new m.dA,Xr:CF}],[{Q:new m.Rect,Xr:Ch},{Q:new m.QJ,Xr:Cx},{Q:new m.hz,Xr:Cy},{Q:new m.BN,Xr:Ci},{Q:new m.Bp,Xr:Co}],"---",[{Q:new m.Ee,Xr:CK}],[{Q:new m.d$,Xr:Kx}]],nu:[],keys:[n.SsR,n.iS,n.Oe,n.Ssh,n.oe,n.$r,null,n.SFa,n.SBP,n.SNP,n.E,n.SqG,null,n.Sdc,null,n.j,n.Us,n.H,n.z_,null,n.SqE,n.DB],Jy:[{Q:new m.Ssm,Xr:Ct},{Q:new m.SHx,Xr:CT},{Q:new m.z$,Xr:KF}],nP:[{Q:new gf.Pu},{Q:new gf.History},{Q:new gf.$Y},{Q:new gf.GQ},{Q:new gf.GI},{Q:new gf.eI}],map:{},nV:null,BJ:null,rX:null};
for(var t=0;t<this.Wh.bL.length;t++){var E=this.Wh.bL[t];if(E=="---")continue;var k=this.Wh.keys[t];
for(var D=0;D<E.length;D++){this.Wh.map[E[D].Q.id]=E[D];E[D].BA=t;E[D].ShS=D;var P=gL.get(E[D].Q.name);
y+="<li>"+E[D].Q.id+": "+P+"</li>";d+="\t"+JSON.stringify(E[D].Q.name)+", "+(k?"\""+k.Nv+"\"":"null")+", "+E[D].Q.id+", // "+P+"\n"}this.Wh.nu[t]=0}for(var t=0;
t<this.Wh.Jy.length;t++)this.Wh.map[this.Wh.Jy[t].Q.id]=this.Wh.Jy[t];for(var t=0;t<this.Wh.nP.length;
t++)this.Wh.map[this.Wh.nP[t].Q.id]=this.Wh.nP[t];this.Gb={ShO:!1,FD:null,WP:{rw:[],mp:[],list:[],kR:null},Yy:[],Syl:[],Cm:[],_p:[],Ym:[],SY$:[],Svv:[],SvJ:[],$c:[Ck.gD()],Lu:[],zH:[],Nx:null,$O:{Fb:1,Cz:JSON.parse(JSON.stringify(gZ.gr[0]))},$y:JSON.parse(JSON.stringify(gZ.up.default)),SBE:[null].concat(gZ.gr),SqF:[null].concat(gZ.gr),mk:new gn,og:{nY:[],RW:null,uq:null},ku:[],rc:16711680,eJ:0,UA:!1,yZ:!0,QR:{zk:!0,HS:!1,rr:!0,pU:!0,cC:!0,GD:!0,vq:20,vX:0,lE:0,tc:0},cz:!0,lG:[!0,!0,!0,!0,!0],Uf:[0,1,2,3,5,6,7,9,10,16,17,18],Td:1,jN:!0,qf:{},qq:!0,compact:!1,Mc:!0,oN:null,DW:{ShG:!1,Sxr:!1,fB:{},jV:null},Sxh:0,Syd:null,gT:null,SvG:null,jI:null};
this.Sxa={I:new x,rP:new X};this.Gb.og=gK.SXI();this.Gb.mk.h(V.E.v,this.SxE,this);var e=navigator.languages;
if(e&&e.length!=0){var Y=e[0];gL.lH(Y)}this.Ji=new n;this.q$=new SE;this.op=new Cw;this.jq=new dX(!0);
this.qH=new Cb(this.Wh,!0);this.gy=new Na;this.Hf=new pK(this);this.Xg=V.P("div");this.ri=!1;V.ey(this.Hf._,"mainblock");
var O=this.nA;O.addEventListener("drop",this.Hf.UC,!1);O.addEventListener("dragover",pK.pc,!1);O.addEventListener("dragenter",pK.pc,!1);
O.addEventListener("dragleave",pK.pc,!1);this.jq.parent=this.q$.parent=this.op.parent=this.qH.parent=this.gy.parent=this.Hf.parent=this;
this.Hf.h(V.E.k,this.SNm,this);this.Hf.h(V.E.Nz,this.SXD,this);this.Hf.h("shuffleItems",this.SXG,this);
this.Hf.h(V.E.SyE,this.SFd,this);this.h("mouse",this.SYH,this);this.h(V.E.W,this.Gj,this);this.h(V.E.JF,this.SXp,this);
this.h(V.E.v,this.SxE,this);document.body.addEventListener("keydown",this.yT.bind(this),!1);window.addEventListener("keyup",this.bZ.bind(this),!1);
window.addEventListener("resize",this.xY.bind(this),!1);window.addEventListener("paste",this.SMw.bind(this),!1);
window.addEventListener("copy",this.SMJ.bind(this),!1);window.addEventListener("blur",function(g){this.Ji.reset()}.bind(this),!1);
window.addEventListener("wheel",function(g){if(g.ctrlKey)g.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(g){if(window.innerWidth>400)g.preventDefault();
this.Gb.oN=g}.bind(this));if(this.Gb.qq&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(g){if(g.SJN){console.log("Service worker installing")}else if(g.SJg){console.log("Service worker installed")}else if(g.active){console.log("Service worker active")}}).catch(function(g){console.log("Registration failed with "+g)})}this.nb=0;
this.WR=[];this.SF=new SK;this.SF.parent=this;this.A$=new YF;this.A$.parent=this;O.appendChild(this.A$._);
this.vZ=new db;this.vZ.parent=this;O.appendChild(this.vZ._);O.appendChild(this.jq._);var W=this.Lb=V.P("div");
W.appendChild(this.q$._);W.appendChild(this.op._);this.jq.SFv(W);var w=this.Sr$=V.P("div","flexrow");
O.appendChild(w);w.appendChild(this.qH._);w.appendChild(this.Hf._);w.appendChild(this.gy._);this.SF.HU({url:"rsrc/basic/basic.zip"});
this.bF(m.Tx);gU.rM(this.SMF.bind(this));this.Sif=this.eg.bind(this);window.requestAnimationFrame(this.Sif)}Nf.prototype=new gM;
Nf.prototype.H_=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Nf.prototype.SMF=function(){var p=gU.$s();
if(p!=null&&p.globals!=null)this.aZ(p.globals);else this.nE=!0;if(!Nn.oP()||!this.Gb.qq){this.ShW();
this.Tc()}else{var a=V.mb("SIIFs",-5)+V.mb("qnQerwhwy",-3),R=V.ok(V.LY[a]),Q=V.mb(V.EY(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
R[Q](V.uz("vxik",-10),this.SMh.bind(this));R[V.mb("|~t~",13)](V.mb("ML\\",6),V.uz("o_me*^hej$_gb`",1));
R[V.mb("wjtk",4)]()}this.ww=!0;this.H_()};Nf.prototype.SMh=function(p){var a=JSON.parse(p.target[V.uz("|n{wuswh",-10)]),R=V.LY[V.mb("Lj~p",8)][V.uz("ddk",10)]()/1e3,Q=V.LY[V.uz("YcVg^U]b",11)][V.uz("oaa_kj\\h",3)],t=!1;
for(var N in a)if(N.indexOf(".")!=-1&&Q.indexOf(N)!=-1&&parseInt(a[N])>R)t=!0;if(t)this.Gb.qq=!1;this.ShW();
this.Tc()};Nf.prototype.Tc=function(p){this.rq=!0;if(!this.Gb.Mc)this.Hf.Mc=null;else this.Hf.Szc();
this.aq(gp.EP);this.b();this.xY();this.gy.FU(this.Ff(),this.WR,this.Gb)};Nf.prototype.aZ=function(p){var a=this.Gb;
if(p.fcolor!=null)a.rc=p.fcolor;if(p.bcolor!=null)a.eJ=p.bcolor;if(p.rulers!=null)a.UA=p.rulers;if(p.extras!=null)a.yZ=p.extras;
if(p.favFam!=null)a.ku=p.favFam;if(p.panels!=null)a.Uf=p.panels;if(p.eparams){var R=p.eparams,Q=a.QR;
if(R.guides!=null)Q.zk=R.guides;if(R.grid!=null)Q.HS=R.grid;if(R.gsize!=null)Q.vq=R.gsize;if(R.gunits!=null)Q.vX=R.gunits;
if(R.gtype!=null)Q.lE=R.gtype;if(R.runits!=null)Q.tc=R.runits;if(R.sels!=null)Q.rr=R.sels;if(R.paths!=null)Q.pU=R.paths;
if(R.pgrid!=null)Q.cC=R.pgrid;if(R.slices!=null)Q.GD=R.slices}if(p.lang!=null)gL.lH(p.lang);if(p.theme!=null)a.Td=p.theme;
if(p.topt||a.n_){var t=p.topt?p.topt:{},N=a.n_?a.n_:{};for(var K in this.Wh.map){if(K>=100)continue;
var T="t"+K;this.Wh.map[K].Q.SST(t[T],N[T],this)}}};Nf.prototype.ShW=function(){if(this.Gb.ShO)return;
this.Gb.ShO=!0;var p=null,a=window.location.href,R=a.indexOf("="),Q=a.indexOf("#");if(R!=-1)p=a.substring(a.indexOf("?")+1,R);
if(Q!=-1&&Q!=a.length-1){p="p";R=Q}if(Q!=-1&&a[Q+1]=="i"){this.SF.Sz_(a.slice(Q+2))}else if(p=="p"||p=="state"){var t=a.substring(R+1,a.length);
t=JSON.parse(decodeURI(t));if(p=="p"){if(t.server)this.nG=t.server;if(t.resources)for(var N=0;N<t.resources.length;
N++)this.SF.HU({url:t.resources[N]});if(t.files)for(var N=0;N<t.files.length;N++)this.SF.HU({url:t.files[N],ii:{yw:t.server,SiO:t.script}});
if(t.environment==null)t.environment={};var K=t.environment;if(K.plugins!=null)this.gy.SFG(K.plugins);
if(K.localsave!=null)this.Gb.jN=K.localsave;if(K.customIO!=null)this.Gb.qf=K.customIO;if(K.vmode!=null){var T=K.vmode;
if(T==1)this.Gb.compact=!0;if(T==2)this.HT(1)}if(K.intro!=null)this.Gb.Mc=K.intro;if(K.menus!=null)this.Gb.SrF=K.menus;
if(K.tmnu!=null)this.Gb.n_=K.tmnu;if(K.panels!=null)this.Gb.Uf=K.panels;if(K.showtools!=null){var d=K.showtools,y=d.indexOf(this.Gb.FD);
this.Gb.SiA=d;if(y==-1)this.bF(d[0])}if(K.phrases!=null)gL.SgD(K.phrases);if(K.autosave!=null){window.setInterval(function(){var D=new $(V.E.v);
D.data={K:V.H.gw};this.Y(D)}.bind(this),K.autosave*1e3)}if(K.icons!=null){for(var E in K.icons)if(K.icons[E].indexOf("\"")==-1){if(E=="in"+"tro"&&this.Gb.qq)continue;
PIMG[E]=K.icons[E];PIMG["__"+E]=!0}}this.aZ(K);if(t.files==null&&t.script){gT.hV(t.script,this);this.H_()}}else if(p=="state"){var k=this.SF;
if(t.action=="create"){var D=new $(V.E.v);D.data={K:V.H.XS,ax:"newproject",SCG:t.folderId};this.Y(D)}if(t.action=="open"){for(var N=0;
N<t.ids.length;N++)Sh.SR(function(){var O="https://www.googleapis.com/drive/v3/files/"+this.Srh,W=new XMLHttpRequest;
W.open("GET",O);W.setRequestHeader("Authorization",Sh.cZ());W.send();W.onload=function(w){var g=JSON.parse(w.target.response);
k.HU({url:O+"?alt=media",name:g.name,JM:{file:g,_z:""},nT:{Authorization:Sh.cZ()}})}}.bind({Srh:t.ids[N]}));
alert("Loading files from Google Drive ...")}}}else{var P=a.split("/"),e=P.pop(),Y=P.pop();if(Y!=null&&e!=null&&Y.endsWith("photopea.com")&&e.length==2){gL.lH(e);
this.b();this.xY()}}};Nf.prototype.b=function(){var p=document.getElementById("cap");if(p){var a=p.getElementsByTagName("h1")[0],t=0,T=0,d=0;
a.textContent=gL.get([0,17,0]);var R=p.getElementsByTagName("p"),Q=V.SHA(gL.get([0,17,1])),N=["PSD","XCF","Sketch","XD","CDR"];
for(var K=0;K<N.length;K++)Q=Q.replace(N[K],"<b>"+N[K]+"</b>");Q+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
R[0].innerHTML=Q;Q=gL.get([0,17,2])+" "+gL.get([0,17,3]);for(var K=0;K<Q.length;K++){var y=Q[K];if(y=="<")T++;
if(y==">")d++}if(T*d==9){var E=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var K=0;K<3;K++){var k=Q.indexOf("<",t),D=Q.indexOf(">",t),P=Q.slice(0,k)+"<a href=\""+E[K]+"\" target=\"_blank\">"+Q.slice(k+1,D)+"</a>";
t=P.length;Q=P+Q.slice(D+1)}R[1].innerHTML=Q}}var e=document.getElementById("sponsors");if(e)e.textContent=gL.get([0,17,4]);
this.jq.b();this.q$.b();this.gy.b();this.qH.b();this.A$.b();this.Hf.b();for(var Y in this.Wh.map)if(this.Wh.map[Y].aP)this.Wh.map[Y].aP.b()};
Nf.prototype.SxB=function(){return V.LY[V.mb("ptih|ryy",4)][V.mb("q|pr",9)].indexOf("full")!=-1};Nf.prototype.Jg=function(p,a){p=Math.floor(p);
a=Math.floor(a);var R=V.Pr,Q=R("WUMK&AM"),t=R("b`bRH"),N=V.LY[R("S[L[PEKN")],K=!this.rq||this.SxB()||!this.Gb.qq||gU.XB(),E=0;
if(!K&&Nn.oP()){if(this.SiE==null)this.SiE=Math.random()<.5;K=this.SiE}if(this.nk==null)this.nk=p<500?0:p<1600?1:2;
var T=this.nk;if(K){if(V.LY[Q]&&this.rq)V.LY[Q]()}else{if(T==0)a-=60;else p-=T==1?180:320}this.jq.SyZ=this.Gb.qq&&this.rq;
if(K&&this.ri){this._[R("aQVUYE B@@5")](this.Xg);V.Tl(this.Xg);this.Hf.SMS();this.ri=!1}if(!K&&!this.ri){var d=Nn.lL();
if(d!=0&&!this.nE){V.LY[V.uJ("$y+n&-(5>@")](Nn.lX,6*(p<50?200:1e3))}if(d==0&&!this.nE)Nn.Sgm(function(Y){if(Y)V.LY[V.uJ("$y+n&-(5>@")](Nn.lX,6*(p<50?200:1e3))});
this.SMx(p,a);var y=T==0?N[R("Q[M_")]:this._;y.appendChild(this.Xg);this.Xg[R("bQ]'WTOC9IE3")](t,R("_MMJLNDgKCAh")+(T==0?10:10)+R("_d$fcOS?I:==Bb-+# ~$N"));
this.Xg[t][R("_MMJLND&<:E")]=(T==0?0:19)+R("_d");this.Xg[t][R("i5WJHX")]=T==0?0:1;this.ri=!0}if(V.aM(this.q$._))E+=31;
if(V.aM(this.op._))E+=32;this.jq.Jg(p,E);var k=a-E,D=R("fUMZK"),P=R("WQRMKT"),e=R("_d");this.Xg[t][P]=(T==0?100>>>1:a-11)+e;
this.Xg[t][D]=(T==0?p:6*Math.pow(10,2))+e;this.qH.Jg(p,k);this.gy.Jg(p,k);this.Hf.Jg(p-this.qH.yl()-this.gy.yl(),k);
this.vZ.Jg(p,a);this.A$.Jg(p,a)};Nf.prototype.SMx=function(p,a){var R=function(){var t=new $(V.E.v);
t.data={K:V.H.XS,ax:"account"};this.Y(t)}.bind(this),Q=Nn.Sgn(p,a,this.Xg,R,this.nk);if(Q)this.Hf.S$k(Q)};
Nf.prototype.xY=function(p){var a=window.innerWidth,R=window.innerHeight;this.Jg(a,R)};Nf.prototype.SMJ=function(p){console.log("systemCopy")};
Nf.prototype.SMw=function(p){if(V.gi())return;console.log("systemPaste");if(!p.clipboardData)return;
var a=p.target.tagName.toLowerCase();if(this.Qd.indexOf(a)!=-1)return;var R=p.clipboardData.items;if(R==null)return;
var Q=this.SxO.bind(this);for(var t=0;t<R.length;t++){var N=R[t],K=N.getAsFile();if(N.type.indexOf("text")!=-1){N.getAsString(this.SXC.bind(this))}if(N.type.indexOf("image")!=-1){if(K.size==this.Gb.Sxh)return;
this.Gb.Sxh=K.size;if(K){K.name="image.png";this.SF.tg([K],Q)}}}};Nf.prototype.SXC=function(p){if(p.startsWith("http")){if(p==this.Gb.SyS)return;
this.Gb.SyS=p;var a=new $(V.E.v,!0);a.data={K:V.H.Pa,L_:{url:p,dg:!0}};this.Y(a)}};Nf.prototype.SxO=function(p,a){var R={buffer:p,rect:a},Q=this.Gb;
if(V.gi()){var t=this.Sxa,N=t.I;if(N.C==a.C&&N.T==a.T){R.rect=N;R.rP=t.rP}}else{if(Q.gT){var K=new $(V.E.W,!0);
K.Q=m.EI;K.data={K:"h_stepbck"};this.Y(K)}}Q.gT=R;var K=new $(V.E.v,!0);K.data={K:V.H.Jq,Srx:!0};this.Y(K)};
Nf.pc=function(p){p.stopPropagation();p.preventDefault()};Nf.prototype.SxG=function(){if(Date.now()-this.SF_>1e3){if(this.A$.Sf()!=null)alert(gL.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.SF_=Date.now()}};Nf.prototype.Gj=function(p){var a=this.Ff();
if(a==null){alert(gL.get([15,7,7]));return}if(this.A$.AM()&&p.LB!=!0){this.SxG();return}var R=this.Wh,Q=this.Gb.FD;
if(Q!=p.Q&&R.map[Q].Q.AM()&&p.Q!=m.yd&&p.Q!=m.NL&&!(Q==m.fT&&p.Q==m.tQ)){console.log("disabling",Q);
R.map[Q].Q.disable(a,this,this.Gb,this.Ji)}var t=this.Wh.map[p.Q].Q;t.Gj(p.data,this,a,this.Ji,this.Gb)};
Nf.prototype.SXp=function(p){var a=this.Gb;if(p.data.Bn!=!0)Nr.SeD({zt:p.data.zt,UD:p.data.UD},this,a,this.Ff());
var R=a.Nx,Q=a.zH;if(R==null)return;var t={SIl:!1,_B:"Step",SIv:0,J:!0,exp:!1,zt:p.data.zt};if(R[2]==null)R[2]=Q[R[0]].c[R[1]].c.length-1;
if(p.data.UD)t.UD=JSON.parse(JSON.stringify(p.data.UD));Q[R[0]].c[R[1]].c.splice(R[2]+1,0,t);R[2]++;
this.aq(gp.W)};Nf.prototype.SxE=function(p){var a=p.data.K;if(a==V.H.yr)Nr.SeF(this.Ff(),this.Gb.zH,p.data.dX[0],p.data.dX[1],this);
if(a==V.H.SBV){this.SN_(p.data.Srq)}if(a==V.H.SRo){this.b();this.xY()}if(a==V.H.IN)this.xY();if(a==V.H.SIp)if(this.Gb.oN){this.Gb.oN.prompt();
this.Gb.oN=null}if(a==V.H.Xf)this.vZ.SLy(p.data);if(a==V.H.II)this.vZ.SHh(p.data);if(a==V.H.ir)this.vZ.SzG(p.data.Jv);
if(a==V.H.iH)this.vZ.Szm(p.data.Jv);if(a==V.H.xO)this.vZ.Hl();if(a==V.H.PA)this.Hf.IG(p.data.Mz,p.data.push);
if(a==V.H.Sod)this.Hf.S$V();if(a==V.H.iT)this.Hf.HV(this.WR.indexOf(p.data.OR));if(a==V.H.Iq){var R=this.Ff(),Q=S.clone(R.iD()),t=R.M[R.V[0]],N=new x(0,0,R.C,R.T),K=SF.zP()+"-d71c-11e5-b1ae-a548a96e5f9f",T=new $(V.E.v,!0);
if(p.data.L_==0){var d={I:N,name:R.name.split(".")[0],Yz:Q,id:K};T.data={K:V.H.es,ii:"add",L_:gp.Se,yR:[d]};
this.Y(T)}if(p.data.L_==1){var y=S.p(N.u()*4);S.wp(y,4294967295);S.O.KJ("norm",Q,N,y,N,N,1);var E=S.p(N.u());
S.uB(y,E);S.zw(E);var k=S.Pv(E,N);if(k.RJ())k=N;var D=S.p(k.u());S.JG(E,N,D,k);var P={I:k,id:K,channel:D},e=de.Rq(K),Y=e.Brsh.v;
Y.Dmtr.v.val=k.C;Y.Spcn.v.val=10;T.data={K:V.H.es,ii:"add",L_:gp.JH,yR:{list:[{t:"Objc",v:e}],mp:[P],rw:[]}};
this.Y(T);T.data={K:V.H.es,L_:gp.Ka,uZ:e};this.Y(T)}if(p.data.L_==2){var O={ts:t.getName(),ox:K,a_:new x(0,0,R.C,R.T),G:t.add.vmsk.clone().G};
S.d.xv(O.G,new gh(1/R.C,0,0,1/R.T,0,0));T.data={K:V.H.es,ii:"add",L_:gp.Sq,yR:[O]};this.Y(T)}}if(a==V.H.Pa)this.SF.HU(p.data.L_);
if(a==V.H.gt){var W=this.Gb.qf.open,w=p.data.ShP;if(W&&w!=!0){var T=new $(V.E.v,!0);T.data={K:V.H.UP,qb:W};
this.Y(T)}else this.SF.SLc(w?this.Hf.HA():null,p.data.SSl)}if(a==V.H.im){var g=p.data.SYF,J=this.Vc(g);
if(g==gp.xC){var N=new SF;for(var U=0;U<J.length;U++){var H=J[U].jd.Lefx;if(H)gB.SBo(H,N,this.Gb.Ym)}J={_L:N.add.Patt?N.add.Patt:[],tN:J}}if(g==gp.m$){var f=this.Gb.WP;
J={mp:[],rw:[],list:J};console.log(J)}if(g==gp.W)J=J[p.data.Xx];var j=gp.Qs[g],Q=j[2].sm(J);SK.save(Q,j[1]+"."+j[0])}if(a==V.H.ik){var I=this.Gb.DW,L=p.data.SCT;
if(I.jV&&!I.ShG&&!L){I.Sxr=window.confirm("Load \""+p.data.J_+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
I.ShG=!0}if((I.Sxr||L)&&I.jV){I.fB[p.data.J_]=p.data.gV;var T=new $(V.E.v);T.data={K:V.H.es,L_:gp.ry};
this.Y(T)}}if(a==V.H.SK_){var R=this.Ff(),o="<!DOCTYPE HTML>";if(R==null)return;var C=gr.SH(R.iD().buffer,R.C,R.T),v=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+C+"\" /></body>";
o+="</html>";v.document.write(o)}if(a==V.H.xa){var Z=this.Gb.qf.publish;if(Z){var T=new $(V.E.v,!0);
T.data={K:V.H.UP,qb:Z};this.Y(T);return}var B=p.data.bU=="png",s=confirm("Your picture will be published at "+(B?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");
if(s){var R=this.Ff();if(R==null)return;if(R.Gt){R.G_()}var q=B?gr.$x(R,"png"):gr.$x(R,"psd",0,0,[!0,!0]);
if(B)this.SF.SBb(q);else this.SF.SqH(q,R.name)}}if(a==V.H.gw){var F=this.Gb.qf.save,R=this.Ff(),b=!1;
if(R==null)return;if(R.Gt){R.G_()}if(R.JZ){if(this.WR.indexOf(R.JZ.Hy)!=-1){var Q=new Uint8Array(gr.PSD.WL(R)),T=new $(V.E.W,!0);
T.data={K:l.lz,NI:R.JZ.Hy,data:Q,id:R.JZ.Sym};T.Q=m.pw;this.Y(T);alert("Smart Object updated")}b=!0}else if(p.data.SCq){this.SF.SBN(R,p.data.SCq,this.Gb);
b=!0}else if(F){var T=new $(V.E.v,!0);T.data={K:V.H.UP,qb:F};this.Y(T);b=!0}else if(R.JM){this.SF.SBg(R);
b=!0}else if(R.ii&&R.ii.yw){this.SF.SBf(R,this.Gb);b=!0}if(b){R.MR=R.oR;R.$h=!0}else{var T=new $(V.E.v,!0);
T.data={K:V.H.PH};this.Y(T)}}if(a==V.H.PH){if(!this.Gb.jN){alert("function is disabled");return}var F=this.Gb.qf.saveAs;
if(F){var T=new $(V.E.v,!0);T.data={K:V.H.UP,qb:F};this.Y(T);return}var T=new $(V.E.W,!0);T.data={K:l.MX};
T.Q=m.pw;this.Y(T);var R=this.Ff();if(R.Gt){R.G_()}if(R.M.length>8e3&&!confirm("Your document has "+R.M.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var G=R.SRl()||R.JZ&&R.JZ.Hy.SRl();if(this.SxB())G=!1;var u=new V.LY[(V.uz("Gc"+(V.EY(31)?"ue":"ve"),-3))]()[V.mb("edtNkqyykz",-2)]();
if(G&&!gU.XB()&&u>2*15){V.LY[V.xW("clh]]c[",3)](V.xW("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-u+4*15)+V.xW(" rs}\x89\x8D\x83\x96V",-5));
return}var Q=gr.PSD.WL(R);SK.save(Q,R.name);R.MR=R.oR;R.$h=!0}if(a==V.H.Jb)window.open(p.data.link,"_blank");
if(a==V.H.Srg){if(this.A$.AM()){this.SxG();return}var R=this.Ff(),t=R.M[R.V[0]],h=R.yL(t.add.SoLd.Idnt.v);
for(var U=0;U<this.WR.length;U++){var z=this.WR[U].JZ;if(z!=null&&z.Sym==h.HN&&z.Hy==R){this.Hf.My(U);
return}}SK.pD({name:h.Lf,JZ:{Sym:t.add.SoLd.Idnt.v,Hy:R}},h.raw.buffer,this)}if(a==V.H.xE){this.SXq()}if(a==V.H.gm){this.SKK(p.data.Qf,p.data.Hn)}if(a==V.H.Jq){this.SXx(p.data.Srx)}if(a==V.H.UP){gT.hV(p.data.qb,this)}if(a==V.H.Jh){var r=parseFloat(p.data.ax);
if(this.Gb.Uf.indexOf(r)==-1){var T=new $(V.E.v,!0);T.data={K:V.H.es,L_:gp.ot,Z:r,ii:"add"};this.Y(T)}this.gy.SFE(p.data.ax)}if(a==V.H.yN){this.vZ.Szt(this.Ff(),this.Gb)}if(a==V.H.XS){var F=this.Gb.qf.takePic;
if(p.data.ax=="camera"&&F){var T=new $(V.E.v,!0);T.data={K:V.H.UP,qb:F};this.Y(T);return}if(!this.Gb.jN&&p.data.window=="saveforweb"){alert("function is disabled");
return}this.A$.Shn(p.data.ax,this.Ff(),p.data,this.WR,this.Ji)}if(a==V.H.IB)SK.save(p.data.data,p.data.name);
if(a==V.H.UT){if(!this.A$.AM()||p.LB)this.SXo(p.data.NI)}if(a==V.H.PB){this.Hf.My(p.data.target);var T=new $(V.E.W,!0);
T.data={K:l.Sil,NI:p.data.NI,ET:p.data.ET,ll:p.data.ll};T.Q=m.pw;this.Y(T);this.bF(m.oj)}if(a==V.H.Sld){_.KZ=!_.KZ;
if(this.WR.length>0)this.Ff().U()}if(a==V.H.Sdn){var i=gU.$s();if(i!=null&&i.globals!=null)this.aZ(i.globals);
this.Tc()}if(a==V.H.Slz){this.SF.tg(p.data.data,null,p.data.Gy,p.data.XD)}if(a==V.H.La){if(!this.A$.Sf()!=null)this.bF(p.data.Q,p.data.vL)}if(a==V.H.xc){if(this.Wh.nV)this.bF(this.Wh.nV)}if(a==V.H.nh){var gg=this.Wh.map[p.data.Q].Q,R=this.Ff();
gg.eu(p.data,this,R,this.Ji,this.Gb);if(R)R.if=!0;this.SKr()}if(a==V.H.aK){var gC=this.Wh.map[p.data.Q];
this.SKJ(gC);gC.aP.bI(p.data)}if(a==V.H.es){var R=this.Ff(),gd=p.data.L_,gY=p.data.yR,gN=this.Gb;if(p.data.ii=="set"){var gS=m.Slp(gY);
if(gN.FD!=gS)this.bF(gS);this.Wh.map[gS].aP.Srr(gY,gN)}if(p.data.ii=="add"){var j=gp.Qs[gd];if(gd==gp.ot){gN.Uf.push(p.data.Z);
gN.Uf.sort(function(gX,gJ){return gX-gJ})}else if(j==null){if(gY)gN.mk.SvE(gY,p.data.SMb)}else{var M=this.Vc(gd);
if(gd==gp.JH){M.mp=M.mp.concat(gY.mp);M.rw=M.rw.concat(gY.rw);M=M.list;gY=gY.list}if(gd==gp.xC&&R){for(var U=0;
U<gY.length;U++){var H=gY[U].jd.Lefx;if(H)gB.SLS(H,R,gN.Ym)}}if(gd==gp.m$&&gY==null){var N=this.Wh.map[gN.FD].aP.Sl$();
if(N==null)return;gY=[N]}for(var U=0;U<gY.length;U++)M.push(gY[U]);if(p.data.SMb!=!0)if(M.length!=gY.length||gd==gp.oO||gd==gp.xC||gd==gp.W)alert(gL.get(j[3])+" "+gL.get([23,1])+".")}}if(p.data.ii=="del"){if(gd==gp.ot){gN.Uf.splice(gN.Uf.indexOf(p.data.Z),1)}else{var j=gp.Qs[gd],Cj=p.data.eG,M=this.Vc(gd);
if(gd==gp.JH)M=M.list;for(var U=0;U<Cj.length;U++)M[Cj[U]]=null;for(var U=0;U<M.length;U++)if(M[U]==null){M.splice(U,1);
U--}alert(gL.get(j[3])+" deleted.")}}if(p.data.ii=="rnm"){var j=gp.Qs[gd],M=this.Vc(gd);if(gd==gp.JH)M=M.list;
if(M[p.data.eG[0]]==null)return;j[2].wt(M[p.data.eG[0]],p.data.Z)}if(gd==gp.ow){var gs=p.data.Z;gN.$O=gs;
gN.SBE[gs.Fb]=gs.Cz}if(gd==gp.Yn){var gs=p.data.Z;gN.$y=gs;var gl=gs.strokeEnabled.v,gR=gs.strokeStyleContent.v,ge=gl?{Fb:1+gZ.up.sZ.indexOf(gR.classID),Cz:gR}:{Fb:0};
gN.SqF[ge.Fb]=ge.Cz}if(gd==gp.YQ){gN.og=p.data.og}if(gd==gp.Ka){gN.WP.kR=p.data.uZ}if(gd==gp.Yj){gN.ku=p.data.yD}if(gd==gp.zc){var So,gq="Clrs";
if(p.data.mK<2){var gH=p.data.Z,gx=p.data.mK==0,g$=S.e.HW({D:gH>>>16,X:gH>>>8&255,N:gH&255});if(gx)gN.rc=gH;
else gN.eJ=gH;gq=gx?"FrgC":"BckC";So={zt:"set",UD:{__name:"Set",classID:"setd",T:{t:"Objc",v:g$}}}}if(p.data.mK==2){var gy=gN.rc;
gN.rc=gN.eJ;gN.eJ=gy;So={zt:"exchange",UD:{__name:"Exchange",classID:"Exch"}}}if(p.data.mK==3){gN.rc=0;
gN.eJ=16777215;if(R!=null&&R.V.length!=0&&R.M[R.V[0]].FE==1){var gy=gN.rc;gN.rc=gN.eJ;gN.eJ=gy}So={zt:"reset",UD:{__name:"Reset",classID:"Rset"}}}if(So){So.UD.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:gq}}]};
var gC=this.Ur();gC.yt=this;gC.track(So)}}if(gd==gp.AJ){gN.UA=!gN.UA;this.xY()}if(gd==gp.SO){gN.yZ=!gN.yZ;
this.xY()}var SZ=gN.QR;if(gd==gp.Au){SZ.rr=!SZ.rr;this.xY()}if(gd==gp.oA){SZ.pU=!SZ.pU;this.xY()}if(gd==gp.rS){SZ.zk=!SZ.zk;
this.xY()}if(gd==gp.AT){SZ.HS=!SZ.HS;this.xY()}if(gd==gp.$K){SZ.cC=!SZ.cC;this.xY()}if(gd==gp.AG){SZ.GD=!SZ.GD;
this.xY()}if(gd==gp.rZ){gN.QR=p.data.yD;this.xY()}if(gd==gp.SsN){gN.cz=!gN.cz;this.xY()}if(gd==gp.rK){gN.lG[p.data._v]=!gN.lG[p.data._v];
this.xY()}if(gd==gp.AV){gL.SgT(p.data.lang);this.b();this.xY()}if(gd==gp.rI){gN.Td=p.data.Td;this.b()}if(gd==gp.ry&&gN.DW.jV){var dU=gN.DW.jV.transaction(["rsrc"],"readwrite").objectStore("rsrc"),gz=dU.put({k:"fs0",fset:gN.DW.fB});
gz.onerror=function(p){alert("Your browser does not allow us to store the file :(",3e3)}}this.aq(gd)}};
Nf.prototype.Vc=function(p){var a=this.Gb,R=[gp.JH,gp.oq,gp.YU,gp.Se,gp.Sq,gp.xC,gp.oO,gp.W,gp.m$,gp.Sx],Q=[a.WP,a.Cm,a._p,a.Ym,a.$c,a.Lu,a.SY$,a.zH,a.Yy,a.Syl];
return Q[R.indexOf(p)]};Nf.prototype.SXq=function(){var p=this.SKK(),a=this.Ff();if(a==null||a.V.length==0)return;
var R=a.M[a.V[0]],Q=new $(V.E.W);if(p==1){Q.Q=m.Sh;Q.data={K:"remove",LS:"Cut Paths"}}else{Q=new $(V.E.JF);
Q.data={zt:"delete"}}this.Y(Q)};Nf.prototype.SKK=function(p,a){if(p==null)p=!1;var R=this.Gb;console.log("doCopy",p,a);
var Q=this.Ff();if(Q==null||Q.V.length==0)return;var t=Q.M[a==null?Q.V[0]:a],N=Q.h$(),K=N[0],T=N[1],d=K[T[0]];
if(!p&&d!=null&&d.add.vmsk.V.length!=0){R.jI=m.eE.Spx(d.add.vmsk,d.add.vogk);return 1}else{if(Q.S==null)return;
var y,E;if(p){var D=new x(0,0,Q.C,Q.T);E=D.Yl(Q.S.rect);y=S.p(E.u()*4);S.gW(Q.iD(),D,y,E);S.fq(Q.S.channel,Q.S.rect,y,E)}else{var P=t.Ssd(Q,Q.S);
if(P==null){alert("Copied area is empty");return}y=P.UJ;E=P.rect}var e=Q.z.mC,Y=e[0]+e[1]+e[2];if(Y==1){var O=e.indexOf(1);
for(var W=0;W<y.length;W+=4)y[W]=y[W+1]=y[W+2]=y[W+O]}var w=new X(Q.C,Q.T);if(V.gi()){var g=gr.PNG.Spq(y.buffer,E.C,E.T);
SK.SL_(new Blob([new Uint8Array(g)],{type:"image/png"}));this.Sxa={I:E,rP:w}}else R.gT={buffer:y,rect:E,rP:w};
R.Syd=E.clone();R.jI=null}};Nf.prototype.SXx=function(p){console.log("doPaste");var a=this.Gb,R=a.gT,K;
if(this.WR.length==0){if(!p&&V.gi()){SK.tC(this,null);return}if(R){var Q=SK.HJ("image.psd",[{data:R.buffer.buffer,sE:R.rect}]),t=new $(V.E.v);
t.data={K:V.H.UT,NI:Q};this.Y(t)}return}var Q=this.Ff(),N=Q.M[Q.V.length==0?Q.M.length-1:Q.V[0]];if(a.jI){var T=Q.h$(!0),d=T[0],y=T[1];
K=d[y[0]]}var t=new $(V.E.W,!0);if(a.jI!=null&&K!=null){t.Q=m.Sh;t.data={K:"append",LS:"Paste Paths",SO_:a.jI}}else if(!p&&V.gi()){SK.tC(this,this.SxO.bind(this));
return}else{if(R==null)return;if(Q.Fp(!1)&&(N.FE>0||N.rect.RJ())){t.Q=m.JH;t.data={K:"draw",SxU:!0,LS:[5,2]}}else{t.Q=m.pw;
t.data={K:l.sW}}t.data.gT=R}this.Y(t)};Nf.prototype.SKC=function(){for(var p=0;p<this.WR.length;p++){var a=this.WR[p],R=!0;
for(var Q=0;Q<a.M.length;Q++){var t=a.M[Q],N=t.add.TySh;if(N!=null&&!CG.vm(N,this.Gb.mk))R=!1}if(!R)continue;
if(a.YO)for(var Q=0;Q<a.M.length;Q++){var t=a.M[Q],N=t.add.TySh;if(N!=null&&CG.vm(N,this.Gb.mk)){var K=new NC(N.KY,this.Gb.mk),T=CG.PX(K,N);
t.rect=T.I;t.buffer=T.Yz;t.U();a.U()}}if(a.Sxn)continue;a.Sxn=!0;if(a.ii&&a.ii.SiO)gT.hV(a.ii.SiO,this);
this.H_();var d=new $(V.E.W);d.Q=m.tQ;d.data={K:"start",CY:"\0\0\x03\x82"};var y=new $(V.E.v);y.data={K:V.H.Jh,ax:gV.Ny.SBh}}};
Nf.prototype.aq=function(p){var a=this.Gb.FD;if(p==gp.Ka){if(this.Wh.map[a].aP)this.Wh.map[a].aP.JD(this.Gb,p)}else for(var R in this.Wh.map)if(this.Wh.map[R].aP)this.Wh.map[R].aP.JD(this.Gb,p);
if(p==gp.Sy){if(a!=m.Fr)this.Wh.map[m.Fr].Q.JD(this.Gb,p);this.SKC()}this.qH.JD(this.Gb,p);this.A$.JD(this.Gb,p);
this.Ur().JD(this.Gb,p);this.gy.JD(this.Gb,p);this.q$.JD(this.Gb,p);if(p==gp.rI||p==gp.EP){Yw.S$I(this.Gb.Td);
this.update(!0)}if([gp.ot,gp.Yj,gp.zc,gp.AJ,gp.SO,gp.rZ,gp.rS,gp.AT,gp.Au,gp.oA,gp.$K,gp.AG,gp.AV,gp.rI].indexOf(p)!=-1)this.SKr()};
Nf.prototype.SKr=function(){if(!this.ww)return;var p={},a=this.Wh.map;for(var R in a){var Q=a[R].Q;if(Q.ad&&Q.ad()!=null)p["t"+R]=Q.ad()}var t=this.Gb,N=t.QR,K={fcolor:t.rc,bcolor:t.eJ,rulers:t.UA,extras:t.yZ,favFam:t.ku,panels:t.Uf,eparams:{guides:N.zk,grid:N.HS,sels:N.rr,paths:N.pU,pgrid:N.cC,slices:N.GD,gsize:N.vq,gunits:N.vX,gtype:N.lE,runits:N.tc},lang:gL.kE(),theme:t.Td,topt:p},T=gU.$s();
if(T==null)T={};T.globals=K;gU.lS(T)};Nf.prototype.SKv=function(){var p=this.Ji,a=this.Ld,R=this.Gb.FD,Q=this.Wh.map[R].Q,t=null,N=!1;
for(var K=0;K<this.Wh.SFj.length;K++){var T=this.Wh.SFj[K],d=!0;for(var y=0;y<T.lx.length;y++){var E=T.lx[y];
if(!p.g(E))d=!1}if(d&&(!T.Qn||!Q.AM())&&(T.yn==null||T.yn.indexOf(R)!=-1)){t=T.Q;N=T.Qn;break}}if(!a.Fa&&this.Wh.BJ!=t&&(t!=R||!N)){var k=this.Ff();
if(this.Wh.BJ!=null&&t==null)this.Ur().disable(k,this,this.Gb,p,!0);this.Wh.BJ=t;this.Ur().enable(k,this,this.Gb,p,t!=null&&t!=R)}};
Nf.prototype.aw=function(p){var a=this.Gb.FD,R=this.Ff();if(a!=null){this.Wh.map[a].Q.disable(R,this,this.Gb,this.Ji)}};
Nf.prototype.SKJ=function(p){if(p.aP==null){p.aP=new p.Xr;p.aP.SfU(p.Q.id,p.Q.aC);p.aP.JD(this.Gb,gp.EP);
p.aP.b()}};Nf.prototype.bF=function(p,a){if(p==m.oj&&this.A$.Sf())return;var R=this.Ff(),Q=this.Gb;if(this.Wh.map[p].Q.aS(R,Q)){this.aw();
var t=[m.fO,m.iV,m.aR,m.fv,m.aI,m.ae,m.fJ,m.Sh,m.Ne].indexOf(Q.FD)!=-1;this.Wh.nV=Q.FD?Q.FD:m.Tx;Q.FD=p;
this.qH.FU(this.Wh,this.Gb);var N=this.Wh.map[p];this.Wh.nu[N.BA]=N.ShS;this.SKJ(N);this.op.SLb(N.aP);
var K=N.Q;K.enable(R,this,this.Gb,this.Ji,!1,a,t);if(R)R.if=!0;this.xY()}};Nf.prototype.Ur=function(p){var a=this.Wh,R=a.rX,Q=a.BJ,t=this.Gb.FD;
if(R)t=R;else if(Q&&p==null)t=Q;return a.map[t].Q};Nf.prototype.SXo=function(p){var a=this.WR.indexOf(p);
if(a!=-1){this.Hf.My(a);return}if(this.nG&&(p.ii==null||p.ii.yw==null)){p.ii={yw:this.nG}}if(p.tx==null){p.tx="local,"+this.SFV+","+p.name;
this.SFV++}for(var R=0;R<p.M.length;R++){var Q=p.M[R];if(Q.add.TySh!=null)CG.vm(p.M[R].add.TySh,this.Gb.mk)}var t=V.LY[V.uz("Hd"+(V.EY(26)?"vf":"uf"),-4)];
t=t[V.uz("uu"+(!V.EY(28)?"-":"|"),-7)];var N=Math.floor(t()/1e3),K=Math.PI*(7494<<13)+(V.EY(31)?20:10)*7e7;
if(N>K){var T=p.M.length;p.M=[];return T}if(_.KZ)_.Sft(Math.max(p.C,p.T));p.yP();p.mA();p.U();this.WR.push(p);
this.Hf.Hm(new Ng(p));p.if=!0;p.$h=!0;this.SKC();var d=new $(V.E.W);d.Q=m.Sb;d.data={K:"auto",uU:2}};
Nf.prototype.Ff=function(){return this.WR[this.nb]};Nf.prototype.SND=function(){return this.A$.Sf()==null};
Nf.prototype.SNm=function(p){this.aw();this.nb=this.Hf.HA();var a=this.Ff();this.q$.Shw(a,this.Gb);this.gy.FU(a,this.WR,this.Gb);
this.xY();if(a)a.if=!0};Nf.prototype.SXD=function(p){this.aw();this.WR.splice(p.data.bM,1);if(this.WR.length==0){this.SNm(p);
if(_.KZ)_.KQ().parentNode.removeChild(_.KQ())}};Nf.prototype.SXG=function(p){var a=[],R=p.data.SrL;for(var Q=0;
Q<R.length;Q++)a[Q]=this.WR[R[Q]];this.WR=a;this.nb=this.Hf.HA()};Nf.prototype.SFd=function(p){var a=this.Hf,R=a.S$M(),Q=this.Ur(),t=this.Ff();
if(R==a.HA()||!Q.SKV())return;this.SN_(R,Q)};Nf.prototype.SN_=function(p,a){var R=this.Gb,Q=this.Hf,t=this.Ff(),N=this.WR[p],K=new $(V.E.W,!0);
K.Q=m.pw;K.data={K:l.sL,M:t.RC(null,!0),Hy:t,Sd:N};this.Y(K);var T=this.Ld,d=R.UA;R.UA=!1;T=t.z.oD(T.x,T.y);
if(a)a.SKS(t,this,R,this.Ji);Q.My(p);T=N.z.Jk(T.x,T.y);T.x+=49;T.y+=112;if(a)a.JI(N,this,R,this.Ji,T);
R.UA=d};Nf.prototype.SYH=function(p){var a=this.Ff(),R=this.Ji,Q=this.Gb,t=p.Gm;if(t)this.Ld=t;if(p.action.startsWith("multi")){var N=new $(V.E.W,!0);
N.data={K:p.action,Gg:p.Gg};N.Q=m.NL;this.Y(N);return}var K=this.Wh.map[m.Tx].Q;if((p.action=="down"||p.action=="rdown")&&Q.FD!=m.Tx&&this.Wh.BJ!=m.Tx&&K.SSt(a,this,Q,R,t)){this.Wh.rX=m.Tx;
K.enable(a,this,Q,R,!0)}var T=this.A$.Sf(),d=T!=null&&T.Yg()&&this.Wh.BJ==null?T:this.Ur();if(T!=null&&d!=T&&this.A$.AM()&&d.id!=m.yd&&d.id!=m.NL)return;
if(this.vZ.Sf())return;if(p.action=="down")d.JI(a,this,Q,R,t);if(p.action=="rdown")d.Tb(a,this,Q,R,t);
if(p.action=="move")d.r$(a,this,Q,R,t);if(p.action=="up")d.Gz(a,this,Q,R,t);if(p.action=="rup")d.SK(a,this,Q,R,t);
var y=this.gy;if(p.action=="down")y.JI(a,this,Q,R,t);if(p.action=="move")y.r$(a,this,Q,R,t);if(p.action=="up")y.Gz(a,this,Q,R,t);
if(p.action=="down"||p.action=="up"){this.SKv()}if(p.action=="down"||p.action=="up"||p.action=="ctx"){a.if=!0}if((p.action=="up"||p.action=="rup")&&this.Wh.rX){this.Wh.rX=null;
K.disable(a,this,Q,R)}if(p.action=="scroll"){var E=!R.g(n.GA)&&p._V,N=new $(V.E.W,!0);N.data={K:"scroll",rb:p.rb.clone(),Gm:t};
N.Q=R.g(n.LG)||E?m.NL:m.yd;this.Y(N)}};Nf.prototype.eg=function(p){var a=this.Ff(),R=this.Ld;if(a&&this.Ur().yF(R,this.Ji)){var Q=a.z,t=Q.c.C,N=Q.c.T,K=0,T=0,d=16;
if(R.x<d)K=d-R.x;if(R.x>t-d)K=R.x-(t-d);if(R.y<d)T=d-R.y;if(R.y>N-d)T=R.y-(N-d);if((K!=0||T!=0)&&(a.C*Q.f>t||a.T*Q.f>N)){K=Math.min(5,K*.5);
T=Math.min(5,T*.5);if(!(R.x<d||R.y<d)){K=-K;T=-T}Q.A.x+=K;Q.A.y+=T;this.SYH({Gm:this.Ld,action:"move"});
a.At=!0}}this.update();window.requestAnimationFrame(this.Sif)};Nf.prototype.update=function(p){var a=this.Ff();
if(a==null)return;if(a.if){var R=this.Wh.map;for(var Q in R){if(R[Q].Q.hW)R[Q].Q.hW(a,this,this.Gb,this.Ji)}}if(a.Gt){a.G_()}if(a.Gt||a.d_||a.$h||a.At||p){this.Hf.JD(this.Gb,null);
this.Hf.FU(a,this.WR)}if((a.Gt||a.At||a.if)&&(!this.Ld.Fa||a.cN)){if(a.if)a.mA();this.gy.FU(a,this.WR,this.Gb);
this.qH.SFc(a,this.Ji);a.Es=!1}a.cN=!1;a.if=!1;a.Gt=null;a.d_=a.$h=a.At=!1};Nf.prototype.Qd=["input","textarea","select"];
Nf.prototype.SrK=function(p){var a=p.code,R=n.Lk;return!R(a,n.tu)&&!R(a,n.GA)&&!R(a,n.LG)};Nf.prototype.yT=function(p){var a=p.target.tagName.toLowerCase(),R=p.target.getAttribute("type"),Q=n.Lk(p.code,n.eL);
if(this.Qd.indexOf(a)!=-1&&this.SrK(p)&&!(Q&&a=="input"&&R=="range")&&!(a=="input"&&R=="checkbox")||a=="button"&&(Q||n.Lk(p.code,n.Dd)))return;
if(n.SHI(p)){p.preventDefault()}this.Ji.SlL(n.SgF(p));this.Qb("down")};Nf.prototype.bZ=function(p){if(n.Lk(p.code,n.SIU))this.Ji.reset();
this.Ji.SlB(n.SgF(p));var a=p.target.tagName.toLowerCase();if(this.Qd.indexOf(a)!=-1&&this.SrK(p))return;
if(n.SHI(p)){p.preventDefault()}this.Qb("up")};Nf.prototype.Qb=function(p){var a=this.Ji,R=this.Ff(),Q=R!=null&&R.V.length!=0;
if(this.vZ.Sf()!=null){if(a.g(n.tu)){this.vZ.SLG()}return}this.SKv();var t=this.fZ(n.GA),N=a.g(n.LG),K=a.g(n.ei);
if(t&&a.g(n.DB)&&p=="down"){var T=new $(V.E.W),d=new $(V.E.v);T.Q=m.EI;if(K){T.data={K:"h_stepfwd"}}else{T.data={K:"h_stepbck"}}if(this.A$.Sf()!=null&&this.A$.Sf().AM()){}else this.Y(T)}if(t){var T=new $(V.E.W),y=new $(V.E.JF),d=new $(V.E.v);
if(!N)for(var E in gA.keys){var k=gA.keys[E],D=!0;for(var P=0;P<k.length;P++)if(!a.g(k[P]))D=!1;if(D){T.Q=m.Sb;
if(E=="hue2"&&K)T.data={K:"auto",uU:3};else T.data={K:"start",sD:E}}}if(a.g(n.H)){y.data=m.GP.lR(!0)}if(a.g(n.oe)){if(N)d.data={K:V.H.XS,ax:"csize"};
else d.data={K:V.H.gm,Qf:K}}if(a.g(n.XP)){y.data=m.GP.lR()}if(a.g(n.E)&&p=="down"){T.Q=m.pw;if(K)T.data={K:l.lU};
else{if(R.V.length==1&&R.V[0]!=0&&!R.M[R.V[0]].sc())T.data={K:l.dw};else T.data={K:l.lq}}}if(a.g(n.PG)){if(K&&this.Gb.FD!=m.oj)d.data={K:V.H.XS,ax:"afw_fade"};
else if(N){T.Q=m.tQ;T.data={K:"applylast"}}else d.data={K:V.H.yN}}if(a.g(n.SqG)){if(N&&R.EE(R.V[0])){T.Q=m.pw;
T.data={K:l.CX}}else{T.Q=m.pw;T.data={K:l.vd}}}if(a.g(n.SqE)){d.data={K:V.H.es,L_:gp.SO}}if(a.g(n.$r)){if(K){T.data=null;
if(N)d.data={K:V.H.XS,ax:"finfo"};else y.data={zt:"inverse"}}else if(N)d.data={K:V.H.XS,ax:"isize"}}if(a.g(n.SFa)){T.Q=m.pw;
T.data={K:l.C_}}if(a.g(n.xM)){d.data={K:V.H.XS,ax:"preferences"}}if(a.g(n.Tg)){if(K){T.Q=m.pw;T.data={K:l.iw}}else d.data={K:V.H.XS,ax:"newproject"}}if(a.g(n.Sdc)){d.data={K:V.H.gt};
a.reset()}if(a.g(n.Us)){d.data={K:V.H.SK_};a.reset()}if(a.g(n.Ny)){d.data={K:V.H.es,L_:gp.AJ}}if(a.g(n.SNP)&&p=="down"){if(K){if(N)d.data={K:V.H.XS,ax:"saveforweb"};
else d.data={K:V.H.PH}}else d.data={K:V.H.gw}}if(a.g(n.j)){if(K){T.Q=m.oj;T.data={K:"again"}}else d.data={K:V.H.La,Q:m.oj}}if(a.g(n.SsR)){d.data={K:V.H.Jq}}if(a.g(n.Ssh)){this.Hf.Oh()}if(a.g(n.DL)){d.data={K:V.H.xE}}if(a.g(n.Dz)||a.g(n.$g)){T.Q=m.pw;
T.data={K:l.CC,mK:0};if(a.g(n.Dz))T.data.mK=K?3:2;else T.data.mK=K?0:1}if(a.g(n.eL)&&R){T.Q=m.yO;T.data={K:"frompath",dX:[null,0,0]}}if(a.g(n.SRe)){y.data=m.RO.fj(0)}if(a.g(n.Dd)){var e=this.WR.length;
if(e>1)this.Hf.My((this.Hf.HA()+1)%e)}if(a.g(n.SsG)){d.data={K:V.H.es,L_:gp.rS}}if(a.g(n.SRt)){d.data={K:V.H.es,L_:gp.AT}}if(a.g(n.lK)||a.g(n.SRZ)){T.Q=m.NL;
T.data={K:"zoom",_R:!0}}if(a.g(n.DY)){T.Q=m.NL;T.data={K:"zoom",_R:!1}}if(a.g(n.SSf)){T.Q=m.NL;T.data={K:"adapt",Z:"fitscr"}}if(a.g(n.SCw)){T.Q=m.NL;
T.data={K:"adapt",Z:"pixel"}}if(this.A$.Sf()!=null&&this.A$.Sf().AM()){}else{if(T.data)this.Y(T);if(y.data)this.Y(y);
if(d.data)this.Y(d)}}if(!a.g(n.GA)&&!N&&!K&&p=="down"){var T=new $(V.E.W),d=new $(V.E.v),Y=this.Wh.map[this.Gb.FD],O=-1;
for(var P=0;P<this.Wh.keys.length;P++)if(this.Wh.keys[P]&&this.fZ(this.Wh.keys[P]))O=P;if(O!=-1){var W;
if(Y.BA!=O)W=this.Wh.nu[O];if(Y.BA==O)W=(Y.ShS+1)%this.Wh.bL[O].length;var w=this.Wh.bL[O][W].Q.id,g=this.Gb.SiA;
if((g==null||g.indexOf(parseInt(w))!=-1)&&!this.Ld.Fa)d.data={K:V.H.La,Q:w}}if(a.g(n.DL))d.data={K:V.H.es,L_:gp.zc,mK:2};
if(a.g(n.XP))d.data={K:V.H.es,L_:gp.zc,mK:3};if(d.data)this.Y(d);if(R&&R.V.length!=0){var J=R.M[R.V[0]],U=J.FE;
if(U==1||U==3){var H=U==3?J.iW(R).n:J.mg(),f=H.oB?R.z.mC.join("")=="111"?1:2:0;T.Q=m.NL;if(H&&a.g(n.tu)&&f!=0){T.data={K:"mskView",Z:0}}if(H&&a.g(n.SRg)){T.data={K:"mskView",Z:f==1?0:1}}if(H&&a.g(n.SRI)){T.data={K:"mskView",Z:f==2?0:2}}if(T.data)this.Y(T)}}var j=a.$C();
if(Q&&j!=-1&&this.fZ(n.Dx[j])){var I=R.V[0],J=R.M[I],L=V.Sqd(Math.round(100*J.opacity/255),j);T.Q=m.pw;
T.data={K:l.KD,w:I,yD:Math.round(255*L/100)};this.Y(T)}if(a.g(n.Dd))this.HT(this.cE==0?1:0);if(a.g(n.PG))this.HT(this.cE==0?2:0);
if(a.g(n.SRG)&&!this.Ld.Fa){T.Q=m.yO;T.data={K:"qmask"};this.Y(T)}}if(!a.g(n.GA)&&!N&&K){var T=new $(V.E.W),d=new $(V.E.v);
if(a.g(n.SRM))d.data={K:V.H.XS,ax:"shortcuts"};if(a.g(n.Sez))d.data={K:V.H.XS,ax:"fill"};if(a.g(n.Se$))d.data={K:V.H.XS,ax:"sel_feather"};
if(Q&&(a.g(n.lK)||a.g(n.DY))){var I=R.V[0],J=R.M[I],C=gE.TV,v=C.length,o=C.indexOf(J.bQ);T.Q=m.pw;T.data={K:l.Ko,yD:(o+v+(a.g(n.lK)?1:-1))%v};
this.Y(T)}if(d.data)this.Y(d)}var T=new $(V.E.W),Z=p=="down"&&(this.fZ(n.gU)||this.fZ(n.gZ));if((t||N)&&Z){T=new $(V.E.JF);
T.data=m.WH.FQ(t?"BckC":"FrgC");this.Y(T)}else if(R&&Z&&!this.Ld.Fa){if(R.S!=null){T=new $(V.E.JF);T.data={zt:"delete"}}else{T.Q=m.pw;
T.data={K:l.iU}}this.Y(T)}if(this.A$.Sf()!=null){if(a.g(n.tu)){this.A$.Sf().SsD()}else{this.A$.Sf().Qb(R,this,this.Gb,a)}}if(this.Gb.FD==null)return;
var Y=this.Ur();if(this.A$.Sf()==null||this.Wh.BJ)Y.Qb(R,this,this.Gb,a)};Nf.prototype.fZ=function(p){var a=this.Ji,R=this.Wh.map[this.Gb.FD].Q,top=this.A$.Sf(),Q=this.Ff();
return a.g(p)&&!R.Gk(p,Q)&&(top==null||!top.Gk(p,Q))};Nf.SSZ=function(){if(!document.mozFullScreen&&!document.SJL){var p=document.body;
if(p.mozRequestFullScreen){p.mozRequestFullScreen()}else{p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
Nf.prototype.HT=function(p){var a=this.Sr$,R=this.nA;this.cE=p;var Q=V.aM,t=this.q$._;if(Q(t))this.Lb.removeChild(t);
var N=this.op._;if(Q(N))this.Lb.removeChild(N);var K=this.qH._;if(Q(K))a.removeChild(K);var T=this.Hf._;
if(Q(T))a.removeChild(T);var d=this.gy._;if(Q(d))a.removeChild(d);if(p==0){this.Lb.appendChild(t);this.Lb.appendChild(N);
R.appendChild(a);a.appendChild(K);a.appendChild(T);a.appendChild(d)}if(p==1){this.Lb.appendChild(t);
a.appendChild(T)}if(p==2){a.appendChild(T)}this.Hf.HT(p==2?1:0);if(document.fullscreenEnabled){if(p==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.xY()};function rN(p){gM.call(this);
if(p==null)return;this.Xs=null;this.hZ=null;this._=V.P("div","sbar"+" "+p);this.rW=new V.P("div","top");
this.rW.innerHTML="> <";this._.appendChild(this.rW);this.or=1;this.rW.addEventListener("click",this.SFr.bind(this),!1)}rN.prototype=new gM;
rN.prototype.SFr=function(p){if(this.Xs!=null&&this.Xs<500&&this.or==0)return;if(this.or==0)this.EO(!0);
else this.collapse(!0)};rN.prototype.Slu=function(p){this.or=p;this.rW.innerHTML=this.or==0?"< >":"> <"};
rN.prototype.SsL=function(){var p=new $(V.E.v,!0);p.data={K:V.H.IN};this.Y(p)};rN.prototype.EO=function(p){this.Slu(1);
if(p)this.SsL()};rN.prototype.collapse=function(p){this.Slu(0);if(p)this.SsL()};rN.prototype.Qg=function(){return this.or==1};
function SP(p){rN.call(this,"vcolumn");this.rO=p;this.QY();this.rV=V.P("div");this.rV.setAttribute("style","cursor:default;");
this.Sro=this.SFR.bind(this);this.Syb=this.SFI.bind(this);this.Sol=this.SFH.bind(this);V.xb(this._,this.Sro);
this._.appendChild(this.rV);this.nc=V.P("div","");this.rV.appendChild(this.nc);this.os=null;this.oI=V.P("div","float");
this.ev=[];this.Sof=null;this.SoG=0}SP.prototype=new rN;SP.prototype.SFR=function(p){if(p.target!=this._)return;
if(!this.Qg())return;this.Sof=V.ma(p,document.body);this.SoG=this.rO;V.EU(document,this.Syb);V.Eb(document,this.Sol)};
SP.prototype.SFI=function(p){var a=V.ma(p,document.body);this.rO=this.SoG+this.Sof.x-a.x;this.QY();var R=new $(V.E.v,!0);
R.data={K:V.H.IN};this.Y(R)};SP.prototype.SFH=function(p){V._j(document,this.Syb);V.n$(document,this.Sol)};
SP.prototype.SF$=function(p){p.h("showFloat",this.Ssa,this);p.h("hideFloat",this.bg,this);this.ev.push(p);
p.parent=this;this.rV.appendChild(p._)};SP.prototype.SFx=function(p){var a=this.ev[p];a.removeEventListener("showFloat",this.Ssa,this);
a.removeEventListener("hideFloat",this.bg,this);this.ev.splice(p,1);a.parent=null;this.rV.removeChild(a._)};
SP.prototype.SFO=function(){return this.ev.length};SP.prototype.TE=function(){for(var p=0;p<this.ev.length;
p++)this.ev[p].TE()};SP.prototype.Ssa=function(p){this.bg(p);this.nc.appendChild(this.oI);this.os=p.currentTarget.Bf;
this.oI.appendChild(this.os);var a=p.currentTarget.VX(),R="";if(a.x!=0)R+="width : "+a.x+"px;";if(a.y!=0)R+="height: "+a.y+"px;";
this.oI.setAttribute("style",R);this.Jg(this.Xs,this.hZ)};SP.prototype.bg=function(p){this.TE();if(this.os){this.nc.removeChild(this.oI);
this.oI.removeChild(this.os);this.os=null}};SP.prototype.QY=function(){this._.setAttribute("style","width: "+this.rO+"px; padding-left:3px; cursor:ew-resize;")};
SP.prototype.EO=function(p){this.QY();this.bg();for(var a=0;a<this.ev.length;a++)this.ev[a].EO();rN.prototype.EO.call(this,p)};
SP.prototype.collapse=function(p){this._.removeAttribute("style");for(var a=0;a<this.ev.length;a++)this.ev[a].collapse();
rN.prototype.collapse.call(this,p)};SP.prototype.Jg=function(p,a){this.Xs=p;this.hZ=a;var R=this.ev.length,Q=this.Qg();
a-=6;if(R==0)return;p=this.rO;var t=a;for(var N=0;N<R-1;N++){var K=this.ev[N],T=K.S$S();K.Jg(p,Q?T:a);
t-=T}this.ev[R-1].Jg(p,Q?t:a)};function dX(p){gM.call(this);this._=V.P("div");this.rV=null;this.wC=0;
this.Ae=0;this.SUC=p;this.SrO=this.mV.bind(this);this.SUr=this.tU.bind(this);this.SUs=this.aD.bind(this);
this.pE=null;this.oH=null;this.nj=null;V.xb(this._,this.SrO);var a=this._,Q="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
a.addEventListener("touchmove",V.gX,!1);this.SyZ=!0;this.NH=[];var R=this.SUt=V.P("div");R.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this._.appendChild(R);var t=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",Q+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",Q+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var N=0;N<t.length;N++){var K=new gi(t[N]);this.NH.push(K);K._.setAttribute("style","margin-left:4px;cursor:pointer;");
K.h("click",this.VG,this)}}dX.prototype=new gM;dX.prototype.b=function(){var p=this.SUt;V.Tl(p);for(var a=0;
a<this.NH.length;a++){var R=this.NH[a];R.b();var Q=Date.now()<1580658412982&&!gU.XB();if(a!=0||Q)p.appendChild(R._)}};
dX.prototype.VG=function(p){var a=this.NH.indexOf(p.currentTarget);if(a==1){if(window.showCap)window.showCap();
return}var R="CTA  issues learn blog api twitter facebook".split(" "),Q="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),t=window.ga;
if(t)t("send","event","Links",R[a]);var N=new $(V.E.v,!0);N.data={K:V.H.Jb,link:Q[a]};this.Y(N)};dX.prototype.mV=function(p){if(p.Srv){p.preventDefault();
p.stopPropagation()}var a=window;V.EU(a,this.SUr);V.Eb(a,this.SUs);a=this.rV;this.pE=new X(parseInt(a.style.left),parseInt(a.style.top));
this.oH=V.ma(p,this._);this.nj=a.getBoundingClientRect()};dX.prototype.tU=function(p){var a=V.ma(p,this._),R=this.pE.x+a.x-this.oH.x,Q=this.pE.y+a.y-this.oH.y,t=this.wC-this.nj.width,N=this.Ae-this.nj.height;
if(this.SUC)this.rV.style.left=Math.min(0,Math.max(t,R))+"px";else this.rV.style.top=Math.min(0,Math.max(N,Q))+"px";
if(R-10>0){this.oH.x=a.x-10;this.pE.x=0}if(R+10<t){this.oH.x=a.x+10;this.pE.x=t}};dX.prototype.aD=function(p){var a=window;
V._j(a,this.SUr);V.n$(a,this.SUs)};dX.prototype.SFv=function(p){if(this.rV){this._.removeChild(this.rV)}this.rV=p;
this._.appendChild(p);p.style.position="absolute";if(this.SUC)p.style.left=0;else p.style.top=0};dX.prototype.Jg=function(p,a){this.wC=p;
this.Ae=a;this._.setAttribute("style","width: "+p+"px; height: "+a+"px; overflow:hidden; white-space: nowrap;");
var R=this.rV.firstChild,Q=this.SUt,t=R?R.firstChild.getBoundingClientRect().width+80:1e9,N=450,K=this.SyZ&&p>t+N,T=V.Pr,d=T("b`bRH"),y=T("SU\\VOAV");
Q[d][y]=K?"":T("][WK")};function Na(){gM.call(this);this.$F=null;this.EZ=Na.Us;this.SUm="";this._=V.P("div","rightbar");
this.XL=[new SP(380),new SP(265)];this.ev=[new NN,new NN,new NN,new NN,new NN];this.SWB=[]}Na.prototype=new gM;
Na.prototype.b=function(){var p=this.EZ;for(var a=0;a<p.length;a++)p[a].Vw.b()};Na.Us=[{Vw:new CJ,SG:2},{Vw:new g_,SG:3},{Vw:new dr,SG:1},{Vw:new dF(!0),SG:4},{Vw:new dD,SG:0},{Vw:new Sf,SG:2},{Vw:new KT,SG:4},{Vw:new Sb,SG:4},{Vw:new dM,SG:2},{Vw:new KZ,SG:0},{Vw:new Sa,SG:2},{Vw:new Ny,SG:1},{Vw:new dP,SG:3},{Vw:new YM,SG:2},{Vw:new dF(!1),SG:4},{Vw:new p_,SG:1},{Vw:new KS,SG:4},{Vw:new Ne,SG:2},{Vw:new KB,SG:0}];
Na.prototype.SFG=function(p){for(var a=0;a<p.length;a++){var R=p[a],Q=new Kt(R);this.EZ.push({Vw:Q,SG:2});
this.SWB.push(Q.aJ)}this.$X()};Na.prototype.JD=function(p,a){this.$F=p;var R=this.EZ;for(var Q=0;Q<R.length;
Q++)R[Q].Vw.JD(p,a);if(a==gp.ot||a==gp.EP)this.$X()};Na.prototype.Jg=function(p,a){this.Xs=p;this.hZ=a;
this.XL[0].Jg(p,a);this.XL[1].Jg(p,a)};Na.prototype.$X=function(){var p=this.$F,a=this.Xs;if(p==null||a==0)return;
var R=p.Uf.concat(this.SWB);if(JSON.stringify(R)!=this.SUm){this.SUm=JSON.stringify(R);V.Tl(this._);
var Q=[];for(var t=0;t<this.XL.length;t++){var N=this.XL[t];Q[t]=N.Qg();while(N.SFO()!=0)N.SFx(0);N.EO()}var K=[];
for(var t=0;t<this.ev.length;t++){var T=this.ev[t];T.EO();while(T.S$t()!=0)T.HV(0);K.push(0)}for(var t=0;
t<R.length;t++){var d=this.SIY(R[t].toString());this.ev[d.SG].Hm(d.Vw);this.ev[d.SG].My(0);K[d.SG]++}var y=[];
for(var t=0;t<K.length;t++){if(K[t]==0)continue;var E=t<2||a<500?1:0,N=this.XL[E];N.parent=this;N.SF$(this.ev[t]);
y[E]=!0}for(var t=0;t<this.XL.length;t++)if(y[t])this._.appendChild(this.XL[t]._);this.XL[0].collapse();
if(a<500||this.$F.compact||!Q[1]){this.XL[1].collapse()}var k=new $(V.E.v,!0);k.data={K:V.H.IN};this.Y(k)}};
Na.prototype.SIY=function(p){for(var a=0;a<this.EZ.length;a++)if(this.EZ[a].Vw.aJ==p)return this.EZ[a]};
Na.prototype.SFE=function(p){var a=this.SIY(p);this.ev[a.SG].Hm(a.Vw)};Na.prototype.FU=function(p,a,R){var Q=this.EZ;
for(var t=0;t<Q.length;t++)Q[t].Vw.FU(p,a,R)};Na.prototype.JI=function(p,a,R,Q,t){var N=this.EZ;for(var K=0;
K<N.length;K++)N[K].Vw.JI(p,a,R,Q,t)};Na.prototype.r$=function(p,a,R,Q,t){var N=this.EZ;for(var K=0;
K<N.length;K++)N[K].Vw.r$(p,a,R,Q,t)};Na.prototype.Gz=function(p,a,R,Q,t){var N=this.EZ;for(var K=0;
K<N.length;K++)N[K].Vw.Gz(p,a,R,Q,t)};function Cb(p,a){rN.call(this,"toolbar");this.SWW=null;this.Ef=V.P("div","tools");
this._.appendChild(this.Ef);this.dL=null;this.Srt=a;this.xV=null;this.Wh=null;this.KR=null;this.jA=null;
this.wr=null;this.SIO(p);this.rc=new Sv;this.rc.h(V.E.k,this.PF,this);this.rc.parent=this;this.eJ=new Sv;
this.eJ.h(V.E.k,this.PF,this);this.eJ.parent=this;this.zu=new gi(V.uj("lrs/mask"),!1,[6,6,1]);this.zu._.style.marginTop="6px";
this.zu.h("click",function(Q){var t=new $(V.E.W,!0);t.Q=m.yO;t.data={K:"qmask"};this.Y(t)},this);this.kZ=V.P("span","scont");
this.oL=V.P("button","switch");this.oL.textContent="\u21F5";this.rv=V.P("button","switch");this.rv.textContent="D";
var R=this.ShU.bind(this);this.oL.addEventListener("click",R,!1);this.rv.addEventListener("click",R,!1);
this.kZ.appendChild(this.oL);this.kZ.appendChild(this.rv)}Cb.prototype=new rN;Cb.prototype.SFc=function(p,a){this.xV=a;
if(p==null||p.V.length==0)return;var R=p.zu()!=null,Q=p.z.mC,t=p.M[p.V[0]].FE,N=t==1||t==3||R||Q[0]+Q[1]+Q[2]==1;
this.rc.SNg(N);this.eJ.SNg(N);this.zu.a(R)};Cb.prototype.SIO=function(p){this.SWW=p;this.KR=[];this.jA=[];
this.wr=[];this.Wh=[];var a=p.bL;if(this.dL){var R=[],Q=this.dL.SiA;for(var t=0;t<a.length;t++){if(a[t]=="---"){R.push("---");
continue}var N=[];for(var K=0;K<a[t].length;K++){var T=a[t][K];if(Q==null||Q.indexOf(parseInt(T.Q.id))!=-1)N.push(T)}if(N.length>0)R.push(N)}a=R}for(var t=0;
t<a.length;t++){if(a[t]=="---"){this.wr.push(null);this.jA.push("---");continue}var d=[],y=this.KR.length;
for(var K=0;K<a[t].length;K++){var T=a[t][K].Q;this.Wh.push(T);var E=new di(T.name,p.keys[t],T.aC,this.KR.length,t,a[t].length>1);
this.KR.push(E);if(K==0)this.jA.push(E);E.h(V.E.k,this.CN,this);E.h("mover",this.yf,this);d.push({name:T.name,aA:T.aC,lx:p.keys[t]?p.keys[t].Nv:""})}if(d.length==1)this.wr.push(null);
else{var k=new Nq(d);k.SlO=y;k.BA=t;this.wr.push(k);k.h("select",this.Shh,this);k.parent=this}}};Cb.prototype.Jg=function(p,a){var R=a-11,Q=32;
if(1<V.o()&&V.o()<1.5)Q=18+14*(1/V.o());var t=(this.jA.length-3)*Q+3*5+61+18,N=Math.min(1,R/t);if(.75<=N){this.Ef.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+N+","+N+");");
this._.setAttribute("style","height:"+(a-2)+"px; overflow:hidden")}else{R-=4;this.Ef.setAttribute("style","height: "+R+"px;  width:"+Math.ceil(t/R)*34+"px");
this._.setAttribute("style","")}};Cb.prototype.b=function(){for(var p=0;p<this.KR.length;p++)this.KR[p].b();
for(var p=0;p<this.wr.length;p++)if(this.wr[p])this.wr[p].b();this.oL.setAttribute("title",gL.get([22,7,0])+" (X)");
this.rv.setAttribute("title",gL.get([22,7,1])+" (D)")};Cb.prototype.CN=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.La,Q:this.Wh[p.id].id};this.Y(a)};Cb.prototype.Shh=function(p){var a=p.target.SlO+p.target.UK()[0];
this.KR[a].aD(null)};Cb.prototype.yf=function(p){var a=this.xV,R=new $(V.E.v,!0);R.data={K:V.H.xO};this.Y(R);
var Q=p.target,t=this.wr[Q.BA];if(t==null)return;var N=Q._.getBoundingClientRect(),R=new $(V.E.v,!0);
R.data={K:V.H.Xf,Vw:t,x:N.left+N.width+8,y:N.top};if(a==null||!(a.g(n.xk)||a.g(n.GA)))this.Y(R)};Cb.prototype.PF=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.es,L_:gp.zc,mK:p.target==this.rc?0:1,Z:p.target.o$()};this.Y(a)};Cb.prototype.ShU=function(p){var a=new $(V.E.v,!0);
a.data={K:V.H.es,L_:gp.zc,mK:p.currentTarget==this.oL?2:3};this.Y(a)};Cb.prototype.bF=function(p){var a=-1;
for(var R=0;R<this.Wh.length;R++)if(this.Wh[R].id==p)a=R;for(var R=0;R<this.KR.length;R++){var Q=this.KR[R];
Q.Sht(a==R)}if(a==-1)return;this.jA[this.KR[a].BA]=this.KR[a];V.Tl(this.Ef);var t=this.jA;for(var R=0;
R<t.length;R++){if(t[R]=="---")this.Ef.appendChild(V.P("hr"));else this.Ef.appendChild(t[R]._)}if(!this.Srt)return;
this.Ef.appendChild(this.rc._);this.Ef.appendChild(this.kZ);this.Ef.appendChild(this.eJ._);this.Ef.appendChild(this.zu._)};
Cb.prototype.FU=function(p,a){this.bF(a.FD)};Cb.prototype.JD=function(p,a){this.dL=p;if(a==gp.EP){this.SIO(this.SWW);
this.bF(p.FD)}this.rc.mz(p.rc);this.eJ.mz(p.eJ)};function di(p,a,R,Q,t,N){gM.call(this);this.yA=0;this.SlD=this.ShJ.bind(this);
this.BA=t;this.D_=Q;this.Dq=p;this.SO$=a;this.SlP=N;this.aC=R;this._=V.P("button","");this._.innerHTML=V.uj(this.aC);
if(this.SlP){var K=V.P("img","gsicon");K.setAttribute("src",PIMG["tools/corner"]);K.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this._.appendChild(K)}this.b();V.xb(this._,this.mV.bind(this));this._.addEventListener("click",this.aD.bind(this),!1);
this._.addEventListener("contextmenu",di.pc,!1)}di.prototype=new gM;di.pc=function(p){p.stopPropagation();
p.preventDefault();return!1};di.prototype.b=function(){var p=this.SO$?" ("+this.SO$.Nv+")":"";this._.setAttribute("title",gL.get(this.Dq)+p)};
di.prototype.mV=function(p){this.yA=setTimeout(this.SlD,160)};di.prototype.aD=function(p){clearTimeout(this.yA);
var a=new $(V.E.k,!1);a.target=this;a.id=this.D_;this.Y(a)};di.prototype.ShJ=function(p){var a=new $("mover",!1);
a.target=this;a.id=this.D_;this.Y(a)};di.prototype.Sht=function(p){this._.setAttribute("class",p?"toolbtn active":"toolbtn")};
function SE(){gM.call(this);this._=V.P("div","topbar");this.rJ=V.P("span","");this.SOX=0;this._.appendChild(this.rJ);
this.EC=null;this.kS=null;this.JV=[];this.Uf=[];var p=this.mV.bind(this);for(var a=0;a<SE.data.length;
a++){var R=V.P("button");this.JV.push(R);this.rJ.appendChild(R);R.addEventListener("mouseover",p,!1);
V.xb(R,p)}this.qv=new gi([0,13,0],!1,null,!0);this.qv.h("click",this.Sfr,this);this._.appendChild(this.qv._);
this.oU=new gi(V.uj("tools/zoom",null,"autoscale"),!1,[12,86]);this.oU.h("click",this.Sfr,this);this._.appendChild(this.oU._)}SE.prototype=new gM;
SE.prototype.Sek=function(){if(this.Uf.length!=0)return;for(var p=0;p<SE.data.length;p++){var a=SE.data[p],R=new Nq(a.items,a.NM);
R.parent=this;this.Uf.push(R)}this.b()};SE.prototype.b=function(){this.qv.b();this.oU.b();for(var p=0;
p<this.JV.length;p++)this.JV[p].textContent=gL.get(SE.data[p].name);this.Szn();for(var p=0;p<this.Uf.length;
p++)this.Uf[p].b()};SE.prototype.Sfr=function(p){var a=new $(V.E.v,!0);if(p.target==this.qv)a.data={K:V.H.XS,ax:"account"};
else a.data={K:V.H.yN};this.Y(a)};SE.prototype.Shw=function(p,a){this.EC=p;this.kS=a};SE.prototype.JD=function(p,a){this.kS=p;
if(a==gp.EP){var R=p.SrF;V.Tl(this.rJ);for(var Q=0;Q<this.JV.length;Q++){if(R==null||R[Q]==1||R[Q]instanceof Array)this.rJ.appendChild(this.JV[Q]);
if(R!=null&&R[Q]instanceof Array){this.Sek();this.Uf[Q].S$W(R[Q])}}this._.removeChild(this.qv._);this._.removeChild(this.oU._);
if(p.qq)this._.appendChild(this.qv._);this._.appendChild(this.oU._)}this.Szn()};SE.prototype.Szn=function(p,a){var R=this.qv,Q=12255232;
if(gU.wR())Q=gU.XB()?43520:16755200;R._.setAttribute("style","color:#ffffff; background-color:#"+S.ay(Q))};
SE.prototype.mV=function(p){this.Sek();var a=this.JV.indexOf(p.currentTarget),R=this.Uf[a];if(p.type=="mouseover"&&!V.aM(this.Uf[this.SOX]._))return;
if(V.aM(R._))return;p.Srv=!0;this.SOX=a;for(var a=0;a<SE.data.length;a++)this.Uf[a].update(this.EC,this.kS);
var Q=p.target.getBoundingClientRect(),t=new $(V.E.v,!0);t.data={K:V.H.Xf,Vw:R,x:Q.left,y:Q.top+Q.height+2,SYM:!0};
this.Y(t)};SE.SLW=function(p){var a={name:[0,5],items:[{name:[7,0],lx:"Ctrl+A"},{name:[7,1],lx:"Ctrl+D",J:function(Q){return{J:Q!=null&&Q.S!=null}}},{name:[7,2],lx:"Shift+Ctrl+I",J:function(Q){return{J:Q!=null&&Q.S!=null}},i_:!0},{name:[7,11],Kk:!0,J:function(Q){return{J:Q!=null&&Q.V.length!=0&&!Q.M[Q.V[0]].rect.RJ()}}},{name:"Magic Cut",Kk:!0,J:function(Q){return{J:Q!=null&&Q.V.length!=0&&!Q.M[Q.V[0]].rect.RJ()}},i_:!0},{name:[7,8],Kk:!0},{name:[7,3],i_:!0,sub:[{name:[7,9],Kk:!0,J:function(Q){return{J:Q!=null&&Q.S!=null}}},{name:[19,3,0],Kk:!0,J:function(Q){return{J:Q!=null&&Q.S!=null}}},{name:[7,4],Kk:!0,J:function(Q){return{J:Q!=null&&Q.S!=null}}},{name:[7,5],Kk:!0,J:function(Q){return{J:Q!=null&&Q.S!=null}}},{name:[7,6],Kk:!0,J:function(Q){return{J:Q!=null&&Q.S!=null}},lx:"Shift+F6"}]},{name:[7,10],J:function(Q){return{J:Q!=null&&Q.S!=null}}}],NM:[{q:V.E.JF,F:m.GP.lR(!0)},{q:V.E.JF,F:m.GP.lR()},{q:V.E.JF,F:{zt:"inverse"}},{q:V.E.v,F:{K:V.H.XS,ax:"redge"}},{q:V.E.v,F:{K:V.H.XS,ax:"magiccut"}},{q:V.E.v,F:{K:V.H.XS,ax:"crange"}},{sub:[{q:V.E.v,F:{K:V.H.XS,ax:"sel_border"}},{q:V.E.v,F:{K:V.H.XS,ax:"sel_smoothness"}},{q:V.E.v,F:{K:V.H.XS,ax:"sel_expand"}},{q:V.E.v,F:{K:V.H.XS,ax:"sel_contract"}},{q:V.E.v,F:{K:V.H.XS,ax:"sel_feather"}}]},{q:V.E.v,F:{K:V.H.La,Q:m.aU}}]};
if(p){var R=a.items.length-1;a.items.splice(R,0,{name:[10,16],lx:"Alt+Ctrl + T"});a.NM.splice(R,0,{q:V.E.v,F:{K:V.H.La,Q:m.oj}})}return a};
SE.data=[{name:[0,0],items:[{name:[5,3],lx:"Alt+Ctrl+N",title:[11,7],Kk:!0},{name:[1,0],lx:"Ctrl+O",Kk:!0},{name:[1,11],Kk:!0,J:function(p,a){return{J:p!=null}}},{name:[1,5],Kk:!0,i_:!0},{name:[11,0]},{name:[1,1],i_:!0,sub:[{name:"PNG",lx:"Imgur.com",J:function(p,a){return{J:p!=null&&a.jN}}},{name:"PSD",lx:"Photopea.com",J:function(p,a){return{J:p!=null&&a.jN}}}]},{name:"Save ...",lx:"Ctrl+S",J:function(p,a){var R=gL.get([1,2])+(p==null?"":p.JZ?" (Smart Object)":p.JM?" (Google Drive)":"");
return{J:p!=null&&(p.JZ!=null||p.ii!=null&&p.ii.yw!=null||p.JM!=null||a.qf.save!=null),vb:R}}},{name:[1,3],J:function(p,a){return{J:p!=null&&a.jN}}},{name:[1,8],sub:function(){var p=gr.ms(0),a=[];
for(var R=0;R<p.length;R++)a.push({name:p[R],lx:"."+p[R].toLowerCase()});a.push({name:[0,14],sub:function(){var p=gr.ms(1),a=[];
for(var R=0;R<p.length;R++)a.push({name:p[R],lx:"."+p[R].toLowerCase()});return a}()});return a}()},{name:[1,9],Kk:!0,J:function(p,a){return{J:p!=null}},i_:!0},{name:"File Info",Kk:!0,J:function(p,a){return{J:p!=null}},i_:!0,lx:"Alt+Shift+Ctrl+I"},{name:[1,10]}],NM:[{q:V.E.v,F:{K:V.H.XS,ax:"newproject"}},{q:V.E.v,F:{K:V.H.gt}},{q:V.E.v,F:{K:V.H.gt,ShP:!0}},{q:V.E.v,F:{K:V.H.XS,ax:"open_from_url"}},{q:V.E.v,F:{K:V.H.XS,ax:"camera"}},{sub:[{q:V.E.v,F:{K:V.H.xa,bU:"png"}},{q:V.E.v,F:{K:V.H.xa,bU:"psd"}}]},{q:V.E.v,F:{K:V.H.gw}},{q:V.E.v,F:{K:V.H.PH}},{sub:function(){var p=gr.ms(0),a=[];
for(var R=0;R<p.length;R++)a.push({q:V.E.v,F:{K:V.H.XS,ax:"saveforweb",bU:R}});a.push({sub:function(){var Q=gr.ms(0).length,p=gr.ms(1),a=[];
for(var R=0;R<p.length;R++)a.push({q:V.E.v,F:{K:V.H.XS,ax:"saveforweb",bU:Q+R}});return a}()});return a}()},{q:V.E.v,F:{K:V.H.XS,ax:"eassets"}},{q:V.E.v,F:{K:V.H.XS,ax:"finfo"}},{q:V.E.v,F:{K:V.H.XS,ax:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],lx:"Shift+Ctrl + Z"},{name:[2,1],lx:"Ctrl + Z",i_:!0},{name:[2,11],lx:"Shift+Ctrl + F",i_:!0,Kk:!0,J:function(p,a){return{J:pv.S$Q(p)&&a.FD!=m.oj}}},{name:[5,0],lx:"Ctrl + X"},{name:[5,1],lx:"Ctrl + C"},{name:[5,7],lx:"Shift + Ctrl + C"},{name:[5,2],lx:"Ctrl + V",J:function(p,a){return{J:V.gi()||a.gT!=null||a.jI!=null||a.SyS!=null}}},{name:[2,2],J:function(p){return{J:p!=null&&p.S!=null}},lx:"Delete",i_:!0},{name:[2,3],J:function(p){return{J:p!=null}},Kk:!0,lx:"Shift + F5"},{name:[14,9],J:function(p){return{J:p!=null}},Kk:!0,i_:!0},{name:[10,46],J:function(p){return{J:m.z$.SSk(p)}}},{name:[10,16],lx:"Alt+Ctrl + T"},{name:[2,4],sub:Sc.SRh()},{name:[2,10],i_:!0},{name:[12,87],sub:[{name:[12,62],J:function(p){return{J:p!=null}}},{name:[9,3],J:function(p){return{J:p!=null}}},{name:[10,31],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.vmsk!=null}}}]},{name:[12,79],Kk:!0,lx:"Ctrl + K"},{name:[1,13],Kk:!0}],NM:[{q:V.E.W,Q:m.EI,F:{K:"h_undoredo"}},{q:V.E.W,Q:m.EI,F:{K:"h_stepfwd"}},{q:V.E.W,Q:m.EI,F:{K:"h_stepbck"}},{q:V.E.v,F:{K:V.H.XS,ax:"afw_fade"}},{q:V.E.v,F:{K:V.H.xE}},{q:V.E.v,F:{K:V.H.gm}},{q:V.E.v,F:{K:V.H.gm,Qf:!0}},{q:V.E.v,F:{K:V.H.Jq}},{q:V.E.JF,F:{zt:"delete"}},{q:V.E.v,F:{K:V.H.XS,ax:"fill"}},{q:V.E.v,F:{K:V.H.XS,ax:"stroke"}},{q:V.E.W,Q:m.tQ,F:{K:"start",CY:"\0\0\x03\x82"}},{q:V.E.v,F:{K:V.H.La,Q:m.oj}},{sub:Sc.SRE()},{q:V.E.W,Q:m.pw,F:{K:l.Shb}},{sub:[{q:V.E.v,F:{K:V.H.Iq,L_:0}},{q:V.E.v,F:{K:V.H.Iq,L_:1}},{q:V.E.v,F:{K:V.H.Iq,L_:2}}]},{q:V.E.v,F:{K:V.H.XS,ax:"preferences"}},{q:V.E.v,F:{K:V.H.XS,ax:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var p=[];
for(var a in gA.names){p.push({name:gA.names[a],Kk:c[a]!=null,lx:n.Slk(gA.keys[a]),i_:gA.SIZ.indexOf(a)!=-1});
if(a=="selc")p.push({name:[19,7,0],lx:"Ctrl+Shift + U"})}return p}()},{name:[4,16,0],J:function(p){return{J:p!=null&&p.Fp(!1)}}},{name:[4,16,1],J:function(p){return{J:p!=null&&p.Fp(!1)}}},{name:[4,16,2],J:function(p){return{J:p!=null&&p.Fp(!1)}},i_:!0},{name:[11,11],J:function(p){return{J:p!=null&&p.Fp(!1)}},i_:!0},{name:[11,3],Kk:!0,lx:"Alt+Ctrl+C"},{name:[11,10],Kk:!0,lx:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",J:function(p){return{vb:gL.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",J:function(p){return{vb:gL.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",J:function(p){return{vb:gL.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],J:function(p){return{J:p!=null&&p.S!=null}}},{name:[11,12,0],J:function(p){return{J:p!=null}},lx:"Ctrl + ."},{name:[11,12,2],J:function(p){return{J:p!=null}}}],NM:[{sub:function(){var p=[];
for(var a in gA.names){p.push({q:V.E.W,Q:m.Sb,F:{K:"start",sD:a}});if(a=="selc")p.push({q:V.E.JF,F:{zt:"desaturate"}})}return p}()},{q:V.E.JF,F:{zt:"levels",UD:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{q:V.E.JF,F:{zt:"levels",UD:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{q:V.E.JF,F:{zt:"levels",UD:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{q:V.E.v,F:{K:V.H.XS,ax:"vbitmap"}},{q:V.E.v,F:{K:V.H.XS,ax:"csize"}},{q:V.E.v,F:{K:V.H.XS,ax:"isize"}},{sub:[{q:V.E.JF,F:m.B.yz(!0,90)},{q:V.E.JF,F:m.B.yz(!0,-90)},{q:V.E.JF,F:m.B.yz(!0,-180)},{q:V.E.JF,F:m.B.yz(!1,"Hrzn")},{q:V.E.JF,F:m.B.yz(!1,"Vrtc")}]},{q:V.E.W,Q:m.iE,F:{K:"cropbysel",SBT:0}},{q:V.E.JF,F:m.RO.fj(0)},{q:V.E.JF,F:{zt:"revealAll",UD:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],lx:"Ctrl + J"}]},{name:[6,0],lx:"Ctrl + J"},{name:[11,4],J:function(p){return{J:p!=null}}},{name:[5,4],i_:!0},{name:[11,6],i_:!0,J:function(p){return{J:p!=null&&p.V.length!=0}},sub:Sl.SNu(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],i_:!0,sub:Sl.Spj()},{name:[6,2],sub:[{name:[6,4],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()==null}}},{name:[6,5,0],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()==null}}},{name:[6,5,1],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()==null&&p.S!=null}}},{name:[6,5,2],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()==null&&p.S!=null}}},{name:[6,5,3],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()==null}},i_:!0},{name:[5,4],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()!=null}}},{name:[5,8],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()!=null&&p.Fp(!1,!0)}}},{name:"Enable/Disable",J:function(p){return{vb:gL.get([5,5])+"/"+gL.get([5,6]),J:p!=null&&p.V.length!=0&&p.M[p.V[0]].mg()!=null}}}]},{name:[6,3],sub:[{name:[6,4],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.vmsk==null}}},{name:[6,5,0],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.vmsk==null}}},{name:[5,4],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.vmsk!=null}}},{name:"Enable/Disable",J:function(p){return{vb:gL.get([5,5])+"/"+gL.get([5,6]),J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.vmsk!=null}}}]},{name:[6,6,0],lx:"Alt+Ctrl+G",i_:!0,J:function(p){return{Ve:p!=null&&p.V.length!=0&&p.M[p.V[0]].$L,J:p!=null&&p.EE(p.V[0])}}},{name:"Smart Object",i_:!0,sub:[{name:[6,7]},{name:[1,0],J:function(p){return{J:p!=null&&p.V.length!=0&&p.M[p.V[0]].add.SoLd!=null}}}]},{name:[6,8],J:function(p){if(p==null||p.V.length==0)return{J:!1};
var a=p.M[p.V[0]];if(a.add.TySh||a.add.SoLd||a.add.SoCo||a.add.GdFl||a.add.PtFl)return{J:!0};return{J:!1}}},{name:[6,34],i_:!0,J:function(p){if(p==null||p.V.length==0)return{J:!1};
var a=p.M[p.V[0]];return{J:a.add.lmfx!=null&&!a.sc()}}},{name:[6,9],i_:!0,lx:"Ctrl+G"},{name:[6,55],i_:!0,sub:[{name:[6,56,0],lx:"Shift+Ctrl+]"},{name:[6,56,1],lx:"Ctrl+]"},{name:[6,56,2],lx:"Ctrl+["},{name:[6,56,3],lx:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],J:function(p){return{J:p!=null&&p.V.length==1&&p.V[0]!=0&&!p.M[p.V[0]].sc()}},lx:"Ctrl+E"},{name:[6,12,0],J:function(p){return{J:p!=null&&p.V.length!=0&&(p.V.length>1||p.M[p.V[0]].sc())}}},{name:[6,12,1]}],NM:[{sub:[{q:V.E.W,Q:m.pw,F:{K:l.iw}},{q:V.E.W,Q:m.pw,F:{K:l.El}},{q:V.E.W,Q:m.pw,F:{K:l.C_}}]},{q:V.E.W,Q:m.pw,F:{K:l.iP}},{q:V.E.v,F:{K:V.H.XS,ax:"duplinto"}},{q:V.E.W,Q:m.pw,F:{K:l.iU}},{sub:Sl.SpI(!0)},{sub:[{q:V.E.W,Q:m.aR,F:{K:"newfill",yH:0}},{q:V.E.JF,F:m.Wi.FQ(1)},{q:V.E.JF,F:m.Wi.FQ(2)}]},{sub:Sl.SlZ()},{sub:[{q:V.E.W,Q:m.pw,F:{K:l.ft,pp:"RvlA"}},{q:V.E.W,Q:m.pw,F:{K:l.ft,pp:"HdAl"}},{q:V.E.W,Q:m.pw,F:{K:l.ft,pp:"RvlS"}},{q:V.E.W,Q:m.pw,F:{K:l.ft,pp:"HdSl"}},{q:V.E.W,Q:m.pw,F:{K:l.ft,pp:"Trns"}},{q:V.E.W,Q:m.pw,F:{K:l.Wk}},{q:V.E.W,Q:m.pw,F:{K:l.MB}},{q:V.E.W,Q:m.pw,F:{K:l.dn}}]},{sub:[{q:V.E.W,Q:m.pw,F:{K:l.Kq,SqR:!1}},{q:V.E.W,Q:m.pw,F:{K:l.Kq,SqR:!0}},{q:V.E.W,Q:m.pw,F:{K:l.Og}},{q:V.E.W,Q:m.pw,F:{K:l.Wz}}]},{q:V.E.W,Q:m.pw,F:{K:l.CX}},{sub:[{q:V.E.JF,F:{zt:"newPlacedLayer"}},{q:V.E.JF,F:{zt:"placedLayerEditContents",UD:{classID:"placedLayerEditContents"}}}]},{q:V.E.JF,F:{zt:"rasterizeLayer",UD:{classID:"rasterizeLayer",null:Nr.Fx("Lyr",!0)}}},{q:V.E.W,Q:m.pw,F:{K:l.Md}},{q:V.E.W,Q:m.pw,F:{K:l.vd}},{sub:[{q:V.E.W,Q:m.pw,F:{K:l.CC,mK:0}},{q:V.E.W,Q:m.pw,F:{K:l.CC,mK:1}},{q:V.E.W,Q:m.pw,F:{K:l.CC,mK:2}},{q:V.E.W,Q:m.pw,F:{K:l.CC,mK:3}}]},{sub:[{q:V.E.W,Q:m.pw,F:{K:l.Sll}}]},{q:V.E.W,Q:m.pw,F:{K:l.dw}},{q:V.E.W,Q:m.pw,F:{K:l.lq}},{q:V.E.JF,F:{zt:"flattenImage"}}]},SE.SLW(!1),function(){var p={name:[0,6],items:[{name:[24,18,4],lx:"Alt + Ctrl + F",i_:!0}],NM:[{q:V.E.W,Q:m.tQ,F:{K:"applylast"}}]};
for(var a=0;a<gw.dB.length;a++){var R=gw.dB[a];if(R.Cz!=null){p.items.push({name:gw.names[R.Cz],Kk:!0,i_:R.i_});
p.NM.push({q:V.E.W,Q:m.tQ,F:{K:"start",CY:R.Cz}});continue}var Q={name:R.QV,sub:[]};p.items.push(Q);
var t={sub:[]};p.NM.push(t);for(var N=0;N<R.Tn.length;N++){var K={name:gw.names[R.Tn[N]],Kk:gw.gD(R.Tn[N])!=null};
Q.sub.push(K);var T={q:V.E.W,Q:m.tQ,F:{K:"start",CY:R.Tn[N]}};t.sub.push(T)}}return p}(),{name:[0,7],items:[{name:[8,0],lx:"Ctrl + +"},{name:[8,1],lx:"Ctrl + -"},{name:[20,3],lx:"Ctrl + 0"},{name:[20,2],lx:"Ctrl + 1",i_:!0},{name:"Extras",lx:"Ctrl + H",J:function(p,a){return{Ve:a.yZ}}},{name:[8,12],i_:!0,sub:[{name:[17,2],J:function(p,a){return{J:a.yZ,Ve:a.QR.rr}}},{name:[8,9],J:function(p,a){return{J:a.yZ,Ve:a.QR.pU}}},{name:[8,2],J:function(p,a){return{J:a.yZ,Ve:a.QR.zk}},lx:"Ctrl + ;"},{name:[8,4],J:function(p,a){return{J:a.yZ,Ve:a.QR.HS}},lx:"Ctrl + '"},{name:[8,8],J:function(p,a){return{J:a.yZ,Ve:a.QR.cC}}},{name:[8,11,0],J:function(p,a){return{J:a.yZ,Ve:a.QR.GD}}}]},{name:[8,3],J:function(p,a){return{Ve:a.UA}},lx:"Ctrl + R",i_:!0},{name:[8,5],J:function(p,a){return{Ve:a.cz}}},{name:[8,6],i_:!0,sub:[{name:[8,2],J:function(p,a){return{Ve:a.lG[0]}}},{name:[8,4],J:function(p,a){return{Ve:a.lG[1]}}},{name:[8,11,0],J:function(p,a){return{Ve:a.lG[3]}}},{name:[8,7],J:function(p,a){return{Ve:a.lG[4]}}}]},{name:[11,15,0],J:function(p,a){return{J:p!=null}}},{name:[11,14],J:function(p,a){return{J:p!=null}},Kk:!0},{name:[11,15,1],J:function(p,a){return{J:p!=null&&p.V.length!=0}}}],NM:[{q:V.E.W,Q:m.NL,F:{K:"zoom",_R:!0}},{q:V.E.W,Q:m.NL,F:{K:"zoom",_R:!1}},{q:V.E.W,Q:m.NL,F:{K:"adapt",Z:"fitscr"}},{q:V.E.W,Q:m.NL,F:{K:"adapt",Z:"pixel"}},{q:V.E.v,F:{K:V.H.es,L_:gp.SO}},{sub:[{q:V.E.v,F:{K:V.H.es,L_:gp.Au}},{q:V.E.v,F:{K:V.H.es,L_:gp.oA}},{q:V.E.v,F:{K:V.H.es,L_:gp.rS}},{q:V.E.v,F:{K:V.H.es,L_:gp.AT}},{q:V.E.v,F:{K:V.H.es,L_:gp.$K}},{q:V.E.v,F:{K:V.H.es,L_:gp.AG}}]},{q:V.E.v,F:{K:V.H.es,L_:gp.AJ}},{q:V.E.v,F:{K:V.H.es,L_:gp.SsN}},{sub:[{q:V.E.v,F:{K:V.H.es,L_:gp.rK,_v:0}},{q:V.E.v,F:{K:V.H.es,L_:gp.rK,_v:1}},{q:V.E.v,F:{K:V.H.es,L_:gp.rK,_v:3}},{q:V.E.v,F:{K:V.H.es,L_:gp.rK,_v:4}}]},{q:V.E.W,Q:m.Tx,F:{K:"gids",Qk:[[],[]]}},{q:V.E.v,F:{K:V.H.XS,ax:"addguides"}},{q:V.E.W,Q:m.Tx,F:{K:"gidsFromLayer"}}]},function(){var p={name:[0,8],items:[],NM:[]};
for(var a=0;a<Na.Us.length;a++){var R=Na.Us[a];p.items.push({name:R.Vw.name});p.NM.push({q:V.E.v,F:{K:V.H.Jh,ax:R.Vw.aJ}})}return p}(),function(){var p={name:[0,14],items:[],NM:[]},a={name:[0,9],sub:[]};
p.items.push(a);var R={sub:[]};p.NM.push(R);var Q=gL.Sg$();for(var t=0;t<Q.length;t++){var N=Q[t],K=N.code,T=gL.k_(K);
a.sub.push({name:N.name,lx:K,J:function(d,y){return{Ve:this.lx==gL.kE()}}});R.sub.push({q:V.E.v,F:{K:V.H.es,L_:gp.AV,lang:T}})}a.sub.push({name:[0,12]});
R.sub.push({q:V.E.v,F:{K:V.H.Jb,link:"https://www.photopea.com/translate/"}});var a={name:[0,15],sub:[]};
p.items.push(a);var R={sub:[]};p.NM.push(R);for(var t=0;t<Yw.oc.length;t++){a.sub.push({name:Yw.oc[t].name,J:function(d,y){return{Ve:this.name==Yw.oc[y.Td].name}}});
R.sub.push({q:V.E.v,F:{K:V.H.es,L_:gp.rI,Td:t}})}p.items.push({name:"Install Photopea",J:function(d,y){return{J:y.oN!=null}}});
p.NM.push({q:V.E.v,F:{K:V.H.SIp}});p.items.push({name:[11,13]});p.NM.push({q:V.E.v,F:{K:V.H.XS,ax:"shortcuts"}});
p.items.push({name:[0,16],J:function(d){return{Ve:_.KZ,J:_.Lj}}});p.NM.push({q:V.E.v,F:{K:V.H.Sld}});
return p}()];function YF(){gM.call(this);this._=V.P("div","");this.wC=0;this.Ae=0;this.$F=null;this.SG=V.P("div","");
this.SG.setAttribute("style","width:200em; height:100em; position:absolute;");this.TF=[];this.vB=[]}YF.prototype=new gM;
YF.prototype.pl=function(){this.vB=[new SI,new pp,new dl,new da,new CQ,new KC,new Nc,new d_,new YT,new pf,new rL,new SA,new pF,new df,new rp,new Sl,new rz,new ri,new dB,new dL,new dY,new Yd,new dn,new Su,new dy,new pq,new ST(0),new ST(1),new rI,new Sq,new ds,new SQ("border",[7,9],"px"),new SQ("smoothness",[19,3,0],"px"),new SQ("expand",[7,4],"px"),new SQ("contract",[7,5],"px"),new SQ("feather",[7,6],"px"),new SG(0,"namewindow",[12,48]),new SG(1,"cornerradius",[12,94,0],!0)];
for(var p in c)this.vB.push(new pv(p));for(var a=0;a<this.vB.length;a++){var R=this.vB[a];R.h(V.E.Nz,this.QB,this);
R.parent=this}};YF.prototype.Jg=function(p,a){this.wC=p;this.Ae=a;for(var R=0;R<this.vB.length;R++)this.S$K(this.vB[R])};
YF.prototype.b=function(){for(var p=0;p<this.vB.length;p++)this.vB[p].b()};YF.prototype.Sf=function(){return this.TF.length==0?null:this.TF[this.TF.length-1]};
YF.prototype.AM=function(){for(var p=0;p<this.TF.length;p++)if(this.TF[p].AM())return!0;return!1};YF.prototype.Shn=function(p,a,R,Q,t){if(this.vB.length==0){this.pl();
this.Jg(this.wC,this.Ae);this.b();if(this.$F)this.JD(this.$F,gp.EP)}var N=null;if(typeof p=="object"){N=p;
if(!N.kI(V.E.Nz,this.QB))N.h(V.E.Nz,this.QB,this);N.parent=this}else for(var K=0;K<this.vB.length;K++)if(this.vB[K].id==p)N=this.vB[K];
if(this.AM()&&N.AM()){alert("Finish the current action first");return}if(!N.Pn(a))return;if(this.TF.indexOf(N)!=-1){if(p=="colorpicker")N.FU(a,R,Q,t);
return}this.S$K(N);var T=this.TF.length-1;if(T>=0)V.ey(this.TF[T]._,"wdisabled");this._.appendChild(N._);
this.TF.push(N);N.FU(a,R,Q,t)};YF.prototype.S$K=function(p){var a=this.wC,R=this.Ae,Q=p.VC(a,R);p._.style.left=Q.x+"px";
p._.style.top=this._.offsetTop+Q.y+"px";p.Jg(this.wC-Q.x*2,this.Ae-Q.y*2-34)};YF.prototype.JD=function(p,a){this.$F=p;
for(var R=0;R<this.vB.length;R++)this.vB[R].JD(p,a)};YF.prototype.QB=function(p){var a=this.TF.pop();
this._.removeChild(a._);var R=this.TF.length-1;if(R>=0)V.Eg(this.TF[R]._,"wdisabled");if(this.SG.parentNode==this._)this._.removeChild(this.SG)};
window.onload=function(){var p=new Nf;document.body.appendChild(p._)}}())